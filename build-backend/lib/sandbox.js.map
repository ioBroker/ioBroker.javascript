{"version":3,"file":"sandbox.js","sourceRoot":"","sources":["../../src/lib/sandbox.ts"],"names":[],"mappings":"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","sourcesContent":["import type { ChildProcess, ExecOptions } from 'node:child_process';\nimport * as jsonataMod from 'jsonata';\nimport type { SendMailOptions } from 'nodemailer';\nimport type { AxiosError, AxiosHeaderValue, AxiosResponse, ResponseType } from 'axios';\n\nimport { commonTools } from '@iobroker/adapter-core';\n\nimport { isObject, isArray, promisify, getHttpRequestConfig } from './tools';\nimport type {\n    JavaScriptAdapterConfig,\n    AstroRule,\n    ChangeType,\n    CommonAlias,\n    FileSubscriptionResult,\n    IobSchedule,\n    JavascriptContext,\n    JsScript,\n    LogMessage,\n    Pattern,\n    PushoverOptions,\n    SandboxType,\n    Selector,\n    SubscribeObject,\n    SubscriptionResult,\n    TimeRule,\n} from '../types';\nimport * as constsMod from './consts';\nimport * as wordsMod from './words';\nimport * as eventObjMod from './eventObj';\nimport { patternCompareFunctions as patternCompareFunctionsMod } from './patternCompareFunctions';\nimport type { PatternEventCompareFunction } from './patternCompareFunctions';\nimport type { ScheduleName, SchedulerRule } from './scheduler';\nimport type { EventObj } from './eventObj';\nimport type { AstroEvent } from './consts';\n\nconst SCRIPT_CODE_MARKER = 'script.js.';\n\nconst pattern2RegEx = commonTools.pattern2RegEx;\n\nexport function sandBox(\n    script: JsScript,\n    name: string,\n    verbose: boolean | undefined,\n    debug: boolean | undefined,\n    context: JavascriptContext,\n): SandboxType {\n    const consts = constsMod;\n    const words = wordsMod;\n    const eventObj = eventObjMod;\n    const patternCompareFunctions = patternCompareFunctionsMod;\n    const jsonata = jsonataMod.default;\n\n    const adapter: ioBroker.Adapter = context.adapter;\n    const mods = context.mods;\n    const states = context.states;\n    const objects = context.objects;\n    const timers = context.timers;\n    const enums = context.enums;\n    const debugMode = context.debugMode;\n\n    // eslint-disable-next-line prefer-const\n    let sandbox: SandboxType;\n\n    function errorInCallback(e: Error): void {\n        void adapter.setState(`scriptProblem.${name.substring(SCRIPT_CODE_MARKER.length)}`, {\n            val: true,\n            ack: true,\n            c: 'errorInCallback',\n        });\n        context.logError(name, 'Error in callback:', e);\n        context.debugMode && console.log(`error$$${name}$$Exception in callback: ${e}`, Date.now());\n    }\n\n    function subscribePattern(script: JsScript, pattern: string): void {\n        if ((adapter.config as JavaScriptAdapterConfig).subscribe) {\n            if (!script.subscribes[pattern]) {\n                script.subscribes[pattern] = 1;\n            } else {\n                script.subscribes[pattern]++;\n            }\n\n            if (!context.subscribedPatterns[pattern]) {\n                context.subscribedPatterns[pattern] = 1;\n\n                if (sandbox.verbose) {\n                    sandbox.log(`subscribePattern(pattern=${pattern})`, 'info');\n                }\n                adapter.subscribeForeignStates(pattern);\n\n                // request current value to deliver old value on change.\n                if (typeof pattern === 'string' && !pattern.includes('*')) {\n                    adapter.getForeignState(pattern, (_err, state) => {\n                        if (state) {\n                            states[pattern] = state;\n                        }\n                    });\n                } else {\n                    adapter.getForeignStates(\n                        pattern,\n                        (_err, _states) => _states && Object.keys(_states).forEach(id => (states[id] = _states[id])),\n                    );\n                }\n            } else {\n                context.subscribedPatterns[pattern]++;\n            }\n        }\n    }\n\n    function unsubscribePattern(script: JsScript, pattern: string): void {\n        if ((adapter.config as JavaScriptAdapterConfig).subscribe) {\n            if (script.subscribes[pattern]) {\n                script.subscribes[pattern]--;\n                if (!script.subscribes[pattern]) {\n                    delete script.subscribes[pattern];\n                }\n            }\n\n            if (context.subscribedPatterns[pattern]) {\n                context.subscribedPatterns[pattern]--;\n                if (!context.subscribedPatterns[pattern]) {\n                    adapter.unsubscribeForeignStates(pattern);\n                    delete context.subscribedPatterns[pattern];\n\n                    // if the pattern was regex or with * some states will stay in RAM, but it is OK.\n                    if (states[pattern]) {\n                        delete states[pattern];\n                    }\n                }\n            }\n        }\n    }\n\n    function subscribeFile(script: JsScript, id: string, fileNamePattern: string): void {\n        const key = `${id}$%$${fileNamePattern}`;\n        if (!script.subscribesFile[key]) {\n            script.subscribesFile[key] = 1;\n        } else {\n            script.subscribesFile[key]++;\n        }\n\n        if (!context.subscribedPatternsFile[key]) {\n            context.subscribedPatternsFile[key] = 1;\n            adapter.subscribeForeignFiles(id, fileNamePattern);\n        } else {\n            context.subscribedPatternsFile[key]++;\n        }\n    }\n\n    function unsubscribeFile(script: JsScript, id: string, fileNamePattern: string): void {\n        const key = `${id}$%$${fileNamePattern}`;\n        if (script.subscribesFile[key]) {\n            script.subscribesFile[key]--;\n            if (!script.subscribesFile[key]) {\n                delete script.subscribesFile[key];\n            }\n        }\n\n        if (context.subscribedPatternsFile[key]) {\n            context.subscribedPatternsFile[key]--;\n            if (!context.subscribedPatternsFile[key]) {\n                adapter.unsubscribeForeignFiles(id, fileNamePattern);\n                delete context.subscribedPatternsFile[key];\n            }\n        }\n    }\n\n    function getPatternCompareFunctions(pattern: Pattern): PatternEventCompareFunction[] & { logic?: 'and' | 'or' } {\n        let func: PatternEventCompareFunction;\n        const functions: PatternEventCompareFunction[] & { logic?: 'and' | 'or' } = [];\n        functions.logic = pattern.logic || 'and';\n\n        for (const key in pattern) {\n            if (!Object.prototype.hasOwnProperty.call(pattern, key)) {\n                continue;\n            }\n            if (key === 'logic') {\n                continue;\n            }\n            if (key === 'change' && pattern.change === 'any') {\n                continue;\n            }\n            const _func: (pattern: Pattern) => PatternEventCompareFunction = (\n                patternCompareFunctions as unknown as Record<string, (pattern: Pattern) => PatternEventCompareFunction>\n            )[key];\n            if (!_func) {\n                continue;\n            }\n            func = _func(pattern);\n            if (typeof func !== 'function') {\n                continue;\n            }\n            functions.push(func);\n        }\n        return functions;\n    }\n\n    /**\n     * Splits a selector string into attribute and value\n     *\n     * @param selector The selector string to split\n     */\n    function splitSelectorString(selector: string): Selector {\n        const parts = selector.split('=', 2);\n        if (parts[1] && parts[1][0] === '\"') {\n            parts[1] = parts[1].substring(1);\n            const len = parts[1].length;\n            if (parts[1] && parts[1][len - 1] === '\"') {\n                parts[1] = parts[1].substring(0, len - 1);\n            }\n        }\n        if (parts[1] && parts[1][0] === \"'\") {\n            parts[1] = parts[1].substring(1);\n            const len = parts[1].length;\n            if (parts[1] && parts[1][len - 1] === \"'\") {\n                parts[1] = parts[1].substring(0, len - 1);\n            }\n        }\n\n        if (parts[1]) {\n            parts[1] = parts[1].trim();\n        }\n        parts[0] = parts[0].trim();\n\n        return { attr: parts[0], value: parts[1] };\n    }\n\n    /**\n     * Transforms a selector string with wildcards into a regular expression\n     *\n     * @param str The selector string to transform into a regular expression\n     */\n    function selectorStringToRegExp(str: string): RegExp {\n        const startsWithWildcard = str[0] === '*';\n        const endsWithWildcard = str[str.length - 1] === '*';\n\n        // Sanitize the selector, so it is safe to use in a RegEx\n        // Taken from https://stackoverflow.com/a/3561711/10179833 but modified\n        // since * has a special meaning in our selector and should not be escaped\n        // eslint-disable-next-line no-useless-escape\n        str = str.replace(/[-\\/\\\\^$+?.()|[\\]{}]/g, '\\\\$&').replace(/\\*/g, '.*');\n\n        return new RegExp((startsWithWildcard ? '' : '^') + str + (endsWithWildcard ? '' : '$'));\n    }\n\n    /**\n     * Adds a regular expression for selectors targeting the state ID\n     *\n     * @param selector The selector to apply the transform to\n     */\n    function addRegExpToIdAttrSelectors(selector: Selector): Selector {\n        if ((selector.attr === 'id' || selector.attr === 'state.id') && !selector.idRegExp && selector.value) {\n            return {\n                attr: selector.attr,\n                value: selector.value,\n                idRegExp: selectorStringToRegExp(selector.value),\n            };\n        }\n        return selector;\n    }\n\n    /**\n     * Tests if a value loosely equals (==) the reference string.\n     * In contrast to the equality operator, this treats true == \"true\" as well\n     * so we can test common and native attributes for boolean values\n     *\n     * @param value The value to compare with the reference\n     * @param reference The reference to compare the value to\n     */\n    function looselyEqualsString(value: string | number | boolean | undefined, reference: string): boolean {\n        // For booleans, compare the string representation\n        // For other types do a loose comparison\n        return typeof value === 'boolean'\n            ? (value && reference === 'true') || (!value && reference === 'false')\n            : value == reference;\n    }\n\n    /**\n     * Returns the `common.type` for a given variable\n     */\n    function getCommonTypeOf(value: any): ioBroker.CommonType {\n        return isArray(value) ? 'array' : isObject(value) ? 'object' : (typeof value as ioBroker.CommonType);\n    }\n\n    /**\n     * Returns if an id is in an allowed namespace for automatic object creations\n     *\n     * @param id id to check\n     */\n    function validIdForAutomaticFolderCreation(id: string): boolean {\n        return id.startsWith('javascript.') || id.startsWith('0_userdata.0.') || id.startsWith('alias.0.');\n    }\n\n    /**\n     * Iterate through object structure to create missing folder objects\n     */\n    async function ensureObjectStructure(id: string): Promise<void> {\n        if (!validIdForAutomaticFolderCreation(id)) {\n            return;\n        }\n        if (context.folderCreationVerifiedObjects[id] === true) {\n            return;\n        }\n        const idArr = id.split('.');\n        idArr.pop(); // the last is created as an object in any way\n        if (idArr.length < 3) {\n            return; // Nothing to do\n        }\n        // We just create sublevel projects\n        let idToCheck = idArr.splice(0, 2).join('.');\n\n        context.folderCreationVerifiedObjects[id] = true;\n        for (const part of idArr) {\n            idToCheck += `.${part}`;\n            if (context.folderCreationVerifiedObjects[idToCheck] === true || objects[idToCheck]) {\n                continue;\n            }\n            context.folderCreationVerifiedObjects[idToCheck] = true;\n            let obj: ioBroker.Object | null | undefined;\n            try {\n                obj = await adapter.getForeignObjectAsync(idToCheck);\n            } catch {\n                // ignore\n            }\n            if (!obj?.common) {\n                sandbox.log(`Create folder object for ${idToCheck}`, 'debug');\n                try {\n                    await adapter.setForeignObjectAsync(idToCheck, {\n                        _id: idToCheck,\n                        type: 'folder',\n                        common: {\n                            name: part,\n                        },\n                        native: {\n                            autocreated: 'by automatic ensure logic',\n                        },\n                    } as ioBroker.FolderObject);\n                } catch (err: any) {\n                    sandbox.log(`Could not automatically create folder object ${idToCheck}: ${err.message}`, 'info');\n                }\n            } else {\n                //sandbox.log(`    already existing \"${idToCheck}\": ${JSON.stringify(obj)}`, 'debug');\n            }\n        }\n    }\n\n    function setStateHelper(\n        sandbox: SandboxType,\n        isCreate: boolean,\n        isChanged: boolean,\n        id: string,\n        state: null | ioBroker.SettableState | ioBroker.StateValue,\n        isAck: boolean | 'true' | 'false' | undefined | ((error?: Error | null) => void),\n        callback?: (error?: Error | null) => void,\n    ): void {\n        if (typeof isAck === 'function') {\n            callback = isAck;\n            isAck = undefined;\n        }\n\n        let stateNotNull: ioBroker.SettableState | ioBroker.StateValue;\n\n        if (isAck === true || isAck === false || isAck === 'true' || isAck === 'false') {\n            if (state && typeof state === 'object' && state.val !== undefined) {\n                stateNotNull = state;\n                // we assume that we were given a state object if\n                // state is an object that contains a `val` property\n                if (!Object.prototype.hasOwnProperty.call(state, 'ack')) {\n                    stateNotNull.ack = isAck === true || isAck === 'true';\n                }\n            } else if (state === null) {\n                stateNotNull = { val: null, ack: isAck === true || isAck === 'true' };\n            } else {\n                // otherwise, assume that the given state is the value to be set\n                stateNotNull = { val: state as ioBroker.StateValue, ack: isAck === true || isAck === 'true' };\n            }\n        } else if (state === null) {\n            stateNotNull = { val: null };\n        } else {\n            stateNotNull = state;\n        }\n\n        // Check a type of state\n        if (!objects[id] && objects[`${adapter.namespace}.${id}`]) {\n            id = `${adapter.namespace}.${id}`;\n        }\n\n        if (isCreate) {\n            if (id.match(/^javascript\\.\\d+\\.scriptEnabled/)) {\n                sandbox.log(\n                    `Own states (${id}) should not be used in javascript.X.scriptEnabled.*! Please move the states to 0_userdata.0.*`,\n                    'info',\n                );\n            } else if (id.match(/^javascript\\.\\d+\\.scriptProblem/)) {\n                sandbox.log(\n                    `Own states (${id}) should not be used in javascript.X.scriptProblem.*! Please move the states to 0_userdata.0.*`,\n                    'info',\n                );\n            }\n        }\n\n        const common = objects[id] ? objects[id].common : null;\n        if (common?.type && common.type !== 'mixed' && common.type !== 'json') {\n            // Find out which type the value has\n            let actualCommonType: ioBroker.CommonType | undefined;\n            if (typeof stateNotNull === 'object') {\n                if (stateNotNull && stateNotNull.val !== undefined && stateNotNull.val !== null) {\n                    actualCommonType = getCommonTypeOf(stateNotNull.val);\n                }\n            } else if (stateNotNull !== null && stateNotNull !== undefined) {\n                actualCommonType = getCommonTypeOf(stateNotNull);\n            }\n            // If this is not the expected one, issue a warning\n            if (actualCommonType && actualCommonType !== common.type) {\n                context.logWithLineInfo(\n                    `You are assigning a ${actualCommonType} to the state \"${id}\" which expects a ${common.type}. ` +\n                        `Please fix your code to use a ${common.type} or change the state type to ${actualCommonType}. ` +\n                        `This warning might become an error in future versions.`,\n                );\n            }\n\n            if (actualCommonType === 'array' || actualCommonType === 'object') {\n                try {\n                    if (typeof stateNotNull === 'object' && typeof stateNotNull.val !== 'undefined') {\n                        stateNotNull.val = JSON.stringify(stateNotNull.val);\n                    } else {\n                        stateNotNull = JSON.stringify(stateNotNull);\n                    }\n                } catch (err: any) {\n                    context.logWithLineInfo(\n                        `Could not stringify value for type ${actualCommonType} and id ${id}: ${err.message}`,\n                    );\n                    if (typeof callback === 'function') {\n                        try {\n                            callback.call(\n                                sandbox,\n                                new Error(\n                                    `Could not stringify value for type ${actualCommonType} and id ${id}: ${err.message}`,\n                                ),\n                            );\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }\n                }\n            }\n        }\n        // Check min and max of value\n        if (typeof stateNotNull === 'object') {\n            if (common && typeof stateNotNull.val === 'number') {\n                const num: number = stateNotNull.val;\n                if (common.min !== undefined && num < common.min) {\n                    stateNotNull.val = common.min;\n                } else if (common.max !== undefined && num > common.max) {\n                    stateNotNull.val = common.max;\n                }\n            }\n        } else if (common && typeof stateNotNull === 'number') {\n            const num: number = stateNotNull;\n            if (common.min !== undefined && num < common.min) {\n                stateNotNull = common.min;\n            }\n            if (common.max !== undefined && num > common.max) {\n                stateNotNull = common.max;\n            }\n        }\n\n        let stateAsObject: ioBroker.State;\n        // modify state here, to make it available in callback\n        if (\n            stateNotNull === null ||\n            typeof stateNotNull !== 'object' ||\n            (stateNotNull as ioBroker.SettableState).val === undefined\n        ) {\n            stateAsObject = context.prepareStateObject(id, {\n                val: stateNotNull as ioBroker.StateValue,\n                ack: isAck === true || isAck === 'true',\n            });\n        } else {\n            stateAsObject = context.prepareStateObject(id, stateNotNull as ioBroker.SettableState);\n        }\n\n        // set as comment: from which script this state was set.\n        stateAsObject.c = sandbox.scriptName;\n\n        if (objects[id]) {\n            script.setStatePerMinuteCounter++;\n            if (sandbox.verbose) {\n                sandbox.log(`setForeignState(id=${id}, state=${JSON.stringify(stateAsObject)})`, 'info');\n            }\n\n            if (debug) {\n                sandbox.log(\n                    `setForeignState(id=${id}, state=${JSON.stringify(stateAsObject)}) - ${words._('was not executed, while debug mode is active')}`,\n                    'warn',\n                );\n\n                if (typeof callback === 'function') {\n                    setImmediate(() => {\n                        try {\n                            callback.call(sandbox);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    });\n                }\n            } else {\n                if (!(adapter.config as JavaScriptAdapterConfig).subscribe) {\n                    // store actual state to make possible to process value in callback\n                    // risk that there will be an error on setState is very low,\n                    // but we will not store new state if the setStateChanged is called\n                    if (!isChanged) {\n                        context.interimStateValues[id] = stateAsObject;\n                    }\n                }\n                const errHandler = (err: Error | null | undefined, funcId: string): void => {\n                    err && sandbox.log(`${funcId}: ${err}`, 'error');\n                    // If adapter holds all states\n                    if (err && !(adapter.config as JavaScriptAdapterConfig).subscribe) {\n                        delete context.interimStateValues[id];\n                    }\n\n                    if (typeof callback === 'function') {\n                        setImmediate(() => {\n                            try {\n                                callback.call(sandbox);\n                            } catch (err: unknown) {\n                                errorInCallback(err as Error);\n                            }\n                        });\n                    }\n                };\n                if (isChanged) {\n                    if (!(adapter.config as JavaScriptAdapterConfig).subscribe && context.interimStateValues[id]) {\n                        // if the state is changed, we will compare it with interimStateValues\n                        const oldState = context.interimStateValues[id];\n                        const attrs: string[] = Object.keys(stateAsObject).filter(\n                            attr => attr !== 'ts' && (stateAsObject as Record<string, any>)[attr] !== undefined,\n                        );\n                        if (\n                            !attrs.every(\n                                attr =>\n                                    (stateAsObject as Record<string, any>)[attr] ===\n                                    (oldState as Record<string, any>)[attr],\n                            )\n                        ) {\n                            // state is changed for sure, and we will call setForeignState\n                            // and store new state to interimStateValues\n                            context.interimStateValues[id] = stateAsObject;\n                            adapter.setForeignState(id, stateAsObject, err => errHandler(err, 'setForeignState'));\n                        } else {\n                            // otherwise - do nothing as we have cached state, except callback\n                            errHandler(null, 'setForeignStateCached');\n                        }\n                    } else {\n                        // adapter doesn't hold all states, or it has not cached then we will simply call setForeignStateChanged\n                        adapter.setForeignStateChanged(id, { ...stateAsObject, ts: undefined }, err =>\n                            errHandler(err, 'setForeignStateChanged'),\n                        );\n                    }\n                } else {\n                    adapter.setForeignState(id, stateAsObject, err => errHandler(err, 'setForeignState'));\n                }\n            }\n        } else {\n            context.logWithLineInfo(`State \"${id}\" not found`);\n            if (typeof callback === 'function') {\n                setImmediate(() => {\n                    try {\n                        callback.call(sandbox, new Error(`State \"${id}\" not found`));\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                });\n            }\n        }\n    }\n\n    sandbox = {\n        mods,\n        _id: script._id,\n        // @deprecated use scriptName\n        name,\n        scriptName: name,\n        instance: adapter.instance || 0,\n        defaultDataDir: context.getAbsoluteDefaultDataDir(),\n        verbose,\n        exports: {}, // Polyfill for the export object in TypeScript modules\n        require: function (md: string): any {\n            if (typeof md === 'string' && md.startsWith('node:')) {\n                md = md.replace(/^node:/, '');\n            }\n\n            if (md === 'request') {\n                if (!sandbox.__engine.__deprecatedWarnings.includes(md)) {\n                    sandbox.log(\n                        `request package is deprecated - please use httpGet (or a stable lib like axios) instead!`,\n                        'warn',\n                    );\n                    sandbox.__engine.__deprecatedWarnings.push(md);\n                }\n            }\n\n            if (mods[md]) {\n                return mods[md];\n            }\n\n            let error: Error | undefined;\n\n            try {\n                mods[md] = require(\n                    adapter.getAdapterScopedPackageIdentifier ? adapter.getAdapterScopedPackageIdentifier(md) : md,\n                );\n                return mods[md];\n            } catch (e: any) {\n                error = e as Error;\n            }\n\n            try {\n                // the user requires a module which is not specified in the additional node modules\n                // for backward compatibility we check if the module can simply be required directly before we fail (e.g., direct dependencies of JavaScript adapter)\n                adapter.log.debug(`Try direct require of \"${md}\" as not specified in the additional dependencies`);\n                mods[md] = require(md);\n\n                return mods[md];\n            } catch (e: any) {\n                context.logError(name, `Error by loading module \"${md}\":`, error || e, 6);\n\n                void adapter.setState(`scriptProblem.${name.substring(SCRIPT_CODE_MARKER.length)}`, {\n                    val: true,\n                    ack: true,\n                    c: 'require',\n                });\n            }\n        },\n        Buffer: Buffer,\n        __engine: {\n            __deprecatedWarnings: [],\n            __subscriptionsObject: 0,\n            __subscriptions: 0,\n            __subscriptionsMessage: 0,\n            __subscriptionsFile: 0,\n            __subscriptionsLog: 0,\n            __schedules: 0,\n        },\n\n        $: function (selector: string): iobJS.QueryResult {\n            // following is supported\n            // 'type[commonAttr=something]', 'id[commonAttr=something]', id(enumName=\"something\")', id{nativeName=\"something\"}\n            // Type can be state, channel or device\n            // Attr can be any of the common attributes and can have wildcards *\n            // E.g. \"state[id='hm-rpc.0.*]\" or \"hm-rpc.0.*\" returns all states of adapter instance hm-rpc.0\n            // channel(room=\"Living room\") => all states in room \"Living room\"\n            // channel{TYPE=BLIND}[state.id=*.LEVEL]\n            // Switch all states with .STATE of channels with role \"switch\" in \"Wohnzimmer\" to false\n            // $('channel[role=switch][state.id=*.STATE](rooms=Wohnzimmer)').setState(false);\n            //\n            // Following functions are possible, setValue, getValue (only from first), on, each\n\n            // Todo CACHE!!!\n\n            const result: iobJS.QueryResult = {} as iobJS.QueryResult;\n\n            let name = '';\n            const commonStrings: string[] = [];\n            const enumStrings: string[] = [];\n            const nativeStrings: string[] = [];\n            let isInsideName = true;\n            let isInsideCommonString = false;\n            let isInsideEnumString = false;\n            let isInsideNativeString = false;\n            let currentCommonString = '';\n            let currentNativeString = '';\n            let currentEnumString = '';\n\n            // parse string\n            let selectorHasInvalidType = false;\n            if (typeof selector === 'string') {\n                for (let i = 0; i < selector.length; i++) {\n                    if (selector[i] === '{') {\n                        isInsideName = false;\n                        if (isInsideCommonString || isInsideEnumString || isInsideNativeString) {\n                            // Error\n                            break;\n                        }\n                        isInsideNativeString = true;\n                    } else if (selector[i] === '}') {\n                        isInsideNativeString = false;\n                        nativeStrings.push(currentNativeString);\n                        currentNativeString = '';\n                    } else if (selector[i] === '[') {\n                        isInsideName = false;\n                        if (isInsideCommonString || isInsideEnumString || isInsideNativeString) {\n                            // Error\n                            break;\n                        }\n                        isInsideCommonString = true;\n                    } else if (selector[i] === ']') {\n                        isInsideCommonString = false;\n                        commonStrings.push(currentCommonString);\n                        currentCommonString = '';\n                    } else if (selector[i] === '(') {\n                        isInsideName = false;\n                        if (isInsideCommonString || isInsideEnumString || isInsideNativeString) {\n                            // Error\n                            break;\n                        }\n                        isInsideEnumString = true;\n                    } else if (selector[i] === ')') {\n                        isInsideEnumString = false;\n                        enumStrings.push(currentEnumString);\n                        currentEnumString = '';\n                    } else if (isInsideName) {\n                        name += selector[i];\n                    } else if (isInsideCommonString) {\n                        currentCommonString += selector[i];\n                    } else if (isInsideEnumString) {\n                        currentEnumString += selector[i];\n                    } else if (isInsideNativeString) {\n                        currentNativeString += selector[i];\n                    } //else {\n                    // some error\n                    //}\n                }\n            } else {\n                selectorHasInvalidType = true;\n            }\n\n            // If some error in the selector\n            if (selectorHasInvalidType || isInsideEnumString || isInsideCommonString || isInsideNativeString) {\n                result.length = 0;\n                result.toArray = function () {\n                    return [];\n                };\n                result.each = function () {\n                    return this;\n                };\n                result.getState = function () {\n                    return null;\n                };\n                result.setState = function () {\n                    return this;\n                };\n                result.on = function () {\n                    return this;\n                };\n            }\n\n            if (isInsideEnumString) {\n                sandbox.log(`Invalid selector: enum close bracket \")\" cannot be found in \"${selector}\"`, 'warn');\n                result.error = 'Invalid selector: enum close bracket \")\" cannot be found';\n                return result;\n            } else if (isInsideCommonString) {\n                sandbox.log(`Invalid selector: common close bracket \"]\" cannot be found in \"${selector}\"`, 'warn');\n                result.error = 'Invalid selector: common close bracket \"]\" cannot be found';\n                return result;\n            } else if (isInsideNativeString) {\n                sandbox.log(`Invalid selector: native close bracket \"}\" cannot be found in \"${selector}\"`, 'warn');\n                result.error = 'Invalid selector: native close bracket \"}\" cannot be found';\n                return result;\n            } else if (selectorHasInvalidType) {\n                const message = `Invalid selector: selector must be a string but is of type ${typeof selector}`;\n                sandbox.log(message, 'warn');\n                result.error = message;\n                return result;\n            }\n\n            let commonSelectors: Selector[] = commonStrings.map(selector => splitSelectorString(selector));\n            let nativeSelectors: Selector[] = nativeStrings.map(selector => splitSelectorString(selector));\n            const enumSelectorObjects: Selector[] = enumStrings.map(_enum => splitSelectorString(_enum));\n            const allSelectors: Selector[] = commonSelectors.concat(nativeSelectors, enumSelectorObjects);\n\n            // These selectors match the state or object ID and don't belong in the common/native selectors\n            // Also use RegExp for the ID matching\n            const stateIdSelectors: Selector[] = allSelectors\n                .filter(selector => selector.attr === 'state.id')\n                .map(selector => addRegExpToIdAttrSelectors(selector));\n            const objectIdSelectors: Selector[] = allSelectors\n                .filter(selector => selector.attr === 'id')\n                .map(selector => addRegExpToIdAttrSelectors(selector));\n            commonSelectors = commonSelectors.filter(\n                selector => selector.attr !== 'state.id' && selector.attr !== 'id',\n            );\n            nativeSelectors = nativeSelectors.filter(\n                selector => selector.attr !== 'state.id' && selector.attr !== 'id',\n            );\n            const enumSelectors: string[] = enumSelectorObjects\n                .filter(selector => selector.attr !== 'state.id' && selector.attr !== 'id')\n                // enums are filtered by their enum id, so transform the selector into that\n                .map(selector => `enum.${selector.attr}.${selector.value}`);\n\n            name = name.trim();\n\n            if (name === 'channel' || name === 'device') {\n                // Fill the channels and devices objects with the IDs of all their states,\n                // so we can loop over them afterward\n                if (!context.channels || !context.devices) {\n                    context.channels = {};\n                    context.devices = {};\n                    for (const _id in objects) {\n                        if (Object.prototype.hasOwnProperty.call(objects, _id) && objects[_id].type === 'state') {\n                            const parts = _id.split('.');\n                            parts.pop();\n                            const chn = parts.join('.');\n\n                            parts.pop();\n                            const dev = parts.join('.');\n\n                            context.devices[dev] = context.devices[dev] || [];\n                            context.devices[dev].push(_id);\n\n                            context.channels[chn] = context.channels[chn] || [];\n                            context.channels[chn].push(_id);\n                        }\n                    }\n                }\n            }\n\n            if (name === 'schedule') {\n                if (!context.schedules) {\n                    context.schedules = [];\n                    for (const _id in objects) {\n                        if (Object.prototype.hasOwnProperty.call(objects, _id) && objects[_id].type === 'schedule') {\n                            context.schedules.push(_id);\n                        }\n                    }\n                }\n            }\n\n            /**\n             * applies all selectors targeting an object or state ID\n             */\n            function applyIDSelectors(objId: string, selectors: Selector[]): boolean {\n                // Only keep the ID if it matches every ID selector\n                return selectors.every(selector => !selector.idRegExp || selector.idRegExp.test(objId));\n            }\n\n            /**\n             * Applies all selectors targeting the Object common properties\n             *\n             * @param objId - The ID of the object in question\n             */\n            function applyCommonSelectors(objId: string): boolean {\n                const obj = objects[objId];\n                if (!obj?.common) {\n                    return false;\n                }\n                const objCommon = obj.common;\n\n                // make sure this object satisfies all selectors\n                return commonSelectors.every(\n                    selector =>\n                        // ensure a property exists\n                        (selector.value === undefined && objCommon[selector.attr] !== undefined) ||\n                        // or match exact values\n                        looselyEqualsString(objCommon[selector.attr], selector.value),\n                );\n            }\n\n            /**\n             * Applies all selectors targeting the Object native properties\n             *\n             * @param objId - The ID of the object in question\n             */\n            function applyNativeSelectors(objId: string): boolean {\n                const obj = objects[objId];\n                if (!obj || !obj.native) {\n                    return false;\n                }\n                const objNative = obj.native;\n                // make sure this object satisfies all selectors\n                return nativeSelectors.every(\n                    selector =>\n                        // ensure a property exists\n                        (selector.value === undefined && objNative[selector.attr] !== undefined) ||\n                        // or match exact values\n                        looselyEqualsString(objNative[selector.attr], selector.value),\n                );\n            }\n\n            /**\n             * Applies all selectors targeting the Objects enums\n             *\n             * @param objId - The ID of the object in question\n             */\n            function applyEnumSelectors(objId: string): boolean {\n                const enumIds: string[] = [];\n                eventObj.getObjectEnumsSync(context, objId, enumIds);\n                // make sure this object satisfies all selectors\n                return enumSelectors.every(_enum => enumIds.includes(_enum));\n            }\n\n            let res: string[];\n\n            if (name === 'schedule') {\n                res = context.schedules || [];\n                if (objectIdSelectors.length) {\n                    res = res.filter(channelId => applyIDSelectors(channelId, objectIdSelectors));\n                }\n\n                // filter out those that don't match every common selector\n                if (commonSelectors.length) {\n                    res = res.filter(id => applyCommonSelectors(id));\n                }\n\n                // filter out those that don't match every native selector\n                if (nativeSelectors.length) {\n                    res = res.filter(id => applyNativeSelectors(id));\n                }\n\n                // filter out those that don't match every enum selector\n                if (enumSelectors.length) {\n                    res = res.filter(channelId => applyEnumSelectors(channelId));\n                }\n            } else if (name === 'channel') {\n                if (!context.channels) {\n                    // TODO: fill the channels and maintain them on all places where context.stateIds will be changed\n                }\n                const channels = context.channels || {};\n\n                // go through all channels\n                res = Object.keys(channels);\n                // filter out those that don't match every ID selector for the channel ID\n                if (objectIdSelectors.length) {\n                    res = res.filter(channelId => applyIDSelectors(channelId, objectIdSelectors));\n                }\n                // filter out those that don't match every common selector\n                if (commonSelectors.length) {\n                    res = res.filter(channelId => applyCommonSelectors(channelId));\n                }\n                // filter out those that don't match every native selector\n                if (nativeSelectors.length) {\n                    res = res.filter(channelId => applyNativeSelectors(channelId));\n                }\n                // filter out those that don't match every enum selector\n                if (enumSelectors.length) {\n                    res = res.filter(channelId => applyEnumSelectors(channelId));\n                }\n\n                // retrieve the state ID collection for all remaining channels\n                res = res\n                    .map(id => channels[id])\n                    // and flatten the array to get only the state IDs\n                    .reduce((acc, next) => acc.concat(next), []);\n\n                // now filter out those that don't match every ID selector for the state ID\n                if (stateIdSelectors.length) {\n                    res = res.filter(stateId => applyIDSelectors(stateId, stateIdSelectors));\n                }\n            } else if (name === 'device') {\n                if (!context.devices) {\n                    // TODO: fill the devices and maintain them on all places where context.stateIds will be changed\n                }\n\n                const devices = context.devices || {};\n\n                // go through all devices\n                res = Object.keys(devices);\n                // filter out those that don't match every ID selector for the channel ID\n                if (objectIdSelectors.length) {\n                    res = res.filter(deviceId => applyIDSelectors(deviceId, objectIdSelectors));\n                }\n\n                // filter out those that don't match every common selector\n                if (commonSelectors.length) {\n                    res = res.filter(deviceId => applyCommonSelectors(deviceId));\n                }\n\n                // filter out those that don't match every native selector\n                if (nativeSelectors.length) {\n                    res = res.filter(deviceId => applyNativeSelectors(deviceId));\n                }\n\n                // filter out those that don't match every enum selector\n                if (enumSelectors.length) {\n                    res = res.filter(deviceId => applyEnumSelectors(deviceId));\n                }\n\n                // retrieve the state ID collection for all remaining devices\n                res = res\n                    .map(id => devices[id])\n                    // and flatten the array to get only the state IDs\n                    .reduce((acc, next) => acc.concat(next), []);\n\n                // now filter out those that don't match every ID selector for the state ID\n                if (stateIdSelectors.length) {\n                    res = res.filter(stateId => applyIDSelectors(stateId, stateIdSelectors));\n                }\n            } else {\n                // go through all states\n                res = context.stateIds;\n                // if the \"name\" is not state, then we filter for the ID as well\n                if (name && name !== 'state') {\n                    const r = new RegExp(`^${name.replace(/\\./g, '\\\\.').replace(/\\*/g, '.*')}$`);\n                    res = res.filter(id => r.test(id));\n                }\n\n                // filter out those that don't match every ID selector for the object ID or the state ID\n                if (objectIdSelectors.length) {\n                    res = res.filter(id => applyIDSelectors(id, objectIdSelectors));\n                }\n\n                // filter out those that don't match every ID selector for the state ID\n                if (stateIdSelectors.length) {\n                    res = res.filter(id => applyIDSelectors(id, stateIdSelectors));\n                }\n\n                // filter out those that don't match every common selector\n                if (commonSelectors.length) {\n                    res = res.filter(id => applyCommonSelectors(id));\n                }\n\n                // filter out those that don't match every native selector\n                if (nativeSelectors.length) {\n                    res = res.filter(id => applyNativeSelectors(id));\n                }\n\n                // filter out those that don't match every enum selector\n                if (enumSelectors.length) {\n                    res = res.filter(id => applyEnumSelectors(id));\n                }\n            }\n\n            const resUnique: string[] = [];\n            for (let i = 0; i < res.length; i++) {\n                if (!resUnique.includes(res[i])) {\n                    resUnique.push(res[i]);\n                }\n            }\n\n            for (let i = 0; i < resUnique.length; i++) {\n                result[i] = resUnique[i];\n            }\n            result.length = resUnique.length;\n\n            // Implementing the Symbol.iterator contract makes the query result iterable\n            result[Symbol.iterator] = function* () {\n                for (let i = 0; i < result.length; i++) {\n                    yield result[i];\n                }\n            };\n            result.toArray = function (): string[] {\n                return [...resUnique];\n            };\n            result.each = function (callback: (id: string, index: number) => void | false): iobJS.QueryResult {\n                if (typeof callback === 'function') {\n                    let r: boolean | void;\n                    for (let i = 0; i < this.length; i++) {\n                        r = callback(result[i], i);\n                        if (r === false) {\n                            break;\n                        }\n                    }\n                }\n                return this;\n            };\n            // @ts-expect-error fix later\n            result.getState = function <T extends ioBroker.StateValue = any>(\n                callback?: iobJS.GetStateCallback<T>,\n            ): void | null | undefined | iobJS.TypedState<T> | iobJS.AbsentState {\n                if ((adapter.config as JavaScriptAdapterConfig).subscribe) {\n                    if (typeof callback !== 'function') {\n                        sandbox.log('You cannot use this function synchronous', 'error');\n                    } else {\n                        adapter.getForeignState(\n                            this[0],\n                            (err: Error | null | undefined, state?: ioBroker.State | null): void => {\n                                callback(\n                                    err,\n                                    context.convertBackStringifiedValues(this[0], state) as\n                                        | iobJS.TypedState<T>\n                                        | iobJS.AbsentState,\n                                );\n                            },\n                        );\n                    }\n                } else {\n                    if (!this[0]) {\n                        return null;\n                    }\n                    if (context.interimStateValues[this[0]] !== undefined) {\n                        return context.convertBackStringifiedValues(this[0], context.interimStateValues[this[0]]) as\n                            | iobJS.TypedState<T>\n                            | iobJS.AbsentState;\n                    }\n                    return context.convertBackStringifiedValues(this[0], states[this[0]]) as\n                        | iobJS.TypedState<T>\n                        | iobJS.AbsentState;\n                }\n            };\n            result.getStateAsync = async function <T extends ioBroker.StateValue = any>(): Promise<\n                iobJS.TypedState<T> | iobJS.AbsentState | null | undefined\n            > {\n                if ((adapter.config as JavaScriptAdapterConfig).subscribe) {\n                    const state = await adapter.getForeignStateAsync(this[0]);\n                    return context.convertBackStringifiedValues(this[0], state) as\n                        | iobJS.TypedState<T>\n                        | iobJS.AbsentState\n                        | null;\n                }\n                if (!this[0]) {\n                    return null;\n                }\n                if (context.interimStateValues[this[0]] !== undefined) {\n                    return context.convertBackStringifiedValues(this[0], context.interimStateValues[this[0]]) as\n                        | iobJS.TypedState<T>\n                        | iobJS.AbsentState\n                        | null;\n                }\n                return context.convertBackStringifiedValues(this[0], states[this[0]]) as\n                    | iobJS.TypedState<T>\n                    | iobJS.AbsentState\n                    | null;\n            };\n            result.setState = function (\n                state: ioBroker.SettableState | ioBroker.StateValue,\n                isAck?: boolean | 'false' | 'true' | null | iobJS.SetStateCallback,\n                callback?: iobJS.SetStateCallback,\n            ) {\n                if (typeof isAck === 'function') {\n                    callback = isAck;\n                    isAck = undefined;\n                }\n                result\n                    .setStateAsync(state, isAck as boolean | 'false' | 'true')\n                    .then(() => typeof callback === 'function' && callback());\n                return this;\n            };\n            result.setStateAsync = async function (\n                state: ioBroker.SettableState | ioBroker.StateValue,\n                isAck?: boolean,\n            ): Promise<void> {\n                for (let i = 0; i < this.length; i++) {\n                    await sandbox.setStateAsync(this[i], state, isAck);\n                }\n            };\n            result.setStateChanged = function (\n                state: ioBroker.SettableState | ioBroker.StateValue,\n                isAck?: boolean,\n                callback?: () => void,\n            ) {\n                if (typeof isAck === 'function') {\n                    callback = isAck;\n                    isAck = undefined;\n                }\n                result.setStateChangedAsync(state, isAck).then(() => typeof callback === 'function' && callback());\n                return this;\n            };\n            result.setStateChangedAsync = async function (\n                state: ioBroker.SettableState | ioBroker.StateValue,\n                isAck?: boolean,\n            ): Promise<void> {\n                for (let i = 0; i < this.length; i++) {\n                    await sandbox.setStateChangedAsync(this[i], state, isAck);\n                }\n            };\n            result.setStateDelayed = function (\n                state: ioBroker.SettableState | ioBroker.StateValue,\n                isAck: boolean | number | undefined,\n                delay?: number | boolean,\n                clearRunning?: boolean | (() => void),\n                callback?: () => void,\n            ) {\n                if (typeof isAck !== 'boolean') {\n                    callback = clearRunning as () => void;\n                    clearRunning = delay as boolean;\n                    delay = isAck as number;\n                    isAck = undefined;\n                }\n                if (typeof delay !== 'number') {\n                    callback = clearRunning as () => void;\n                    clearRunning = delay;\n                    delay = 0;\n                }\n                if (typeof clearRunning !== 'boolean') {\n                    callback = clearRunning;\n                    clearRunning = true;\n                }\n                let count = this.length;\n                for (let i = 0; i < this.length; i++) {\n                    sandbox.setStateDelayed(this[i], state, isAck as boolean, delay, clearRunning, () => {\n                        if (!--count && typeof callback === 'function') {\n                            callback();\n                        }\n                    });\n                }\n                return this;\n            };\n            result.on = function (callbackOrId: string | ((data: any) => void), value?: any) {\n                for (let i = 0; i < this.length; i++) {\n                    sandbox.subscribe(this[i], callbackOrId, value);\n                }\n                return this;\n            };\n            return result;\n        },\n        log: function (msg: string, severity?: ioBroker.LogLevel): void {\n            severity = severity || 'info';\n\n            // disable log in log handler (prevent endless loops)\n            if (sandbox.logHandler && (sandbox.logHandler === severity || sandbox.logHandler === '*')) {\n                return;\n            }\n\n            if (!adapter.log[severity]) {\n                msg = `Unknown severity level \"${severity}\" by log of [${msg}]`;\n                severity = 'warn';\n            }\n\n            if (msg && typeof msg !== 'string') {\n                msg = mods.util.format(msg);\n            }\n\n            if (debugMode) {\n                console.log(`${severity}$$${name}$$${msg}`, Date.now());\n            } else {\n                adapter.log[severity](`${name}: ${msg}`);\n            }\n        },\n        onLog: function (severity: ioBroker.LogLevel, callback: (info: LogMessage) => void): number {\n            if (!['info', 'error', 'debug', 'silly', 'warn', '*'].includes(severity)) {\n                sandbox.log(`Unknown severity \"${severity}\"`, 'warn');\n                return 0;\n            }\n            if (typeof callback !== 'function') {\n                sandbox.log(`Invalid callback for onLog`, 'warn');\n                return 0;\n            }\n\n            const handler = { id: Date.now() + Math.floor(Math.random() * 10000), cb: callback, sandbox, severity };\n            context.logSubscriptions[sandbox.scriptName] = context.logSubscriptions[sandbox.scriptName] || [];\n            context.logSubscriptions[sandbox.scriptName].push(handler);\n            context.updateLogSubscriptions();\n\n            sandbox.__engine.__subscriptionsLog += 1;\n\n            sandbox.verbose &&\n                sandbox.log(\n                    `onLog(severity=${severity}, id=${handler.id}) - logSubscriptions=${sandbox.__engine.__subscriptionsLog}`,\n                    'info',\n                );\n\n            if (\n                sandbox.__engine.__subscriptionsLog %\n                    (adapter.config as JavaScriptAdapterConfig).maxTriggersPerScript ===\n                0\n            ) {\n                sandbox.log(\n                    `More than ${sandbox.__engine.__subscriptionsLog} log subscriptions registered. Check your script!`,\n                    'warn',\n                );\n            }\n\n            return handler.id;\n        },\n        onLogUnregister: function (\n            idOrCallbackOrSeverity: number | ioBroker.LogLevel | ((info: LogMessage) => void),\n        ): boolean {\n            let found = false;\n\n            if (context.logSubscriptions?.[sandbox.scriptName]) {\n                sandbox.verbose &&\n                    sandbox.log(\n                        `onLogUnregister(idOrCallbackOrSeverity=${JSON.stringify(idOrCallbackOrSeverity)}) - logSubscriptions=${sandbox.__engine.__subscriptionsLog}`,\n                        'info',\n                    );\n\n                for (let i = 0; i < context.logSubscriptions[sandbox.scriptName].length; i++) {\n                    if (\n                        context.logSubscriptions[sandbox.scriptName][i].cb === idOrCallbackOrSeverity ||\n                        context.logSubscriptions[sandbox.scriptName][i].id === idOrCallbackOrSeverity ||\n                        context.logSubscriptions[sandbox.scriptName][i].severity === idOrCallbackOrSeverity\n                    ) {\n                        sandbox.verbose &&\n                            sandbox.log(\n                                `onLogUnregister(idOrCallbackOrSeverity=${JSON.stringify(idOrCallbackOrSeverity)}, removing id=${context.logSubscriptions[sandbox.scriptName][i].id})`,\n                                'info',\n                            );\n\n                        context.logSubscriptions[sandbox.scriptName].splice(i, 1);\n                        i--;\n                        sandbox.__engine.__subscriptionsLog--;\n\n                        found = true;\n\n                        // if deletion via ID\n                        if (typeof idOrCallbackOrSeverity === 'number') {\n                            break;\n                        }\n                    } else {\n                        sandbox.verbose &&\n                            sandbox.log(\n                                `onLogUnregister(idOrCallbackOrSeverity=${JSON.stringify(idOrCallbackOrSeverity)}) NOT = ${JSON.stringify(context.logSubscriptions[sandbox.scriptName][i])}`,\n                                'info',\n                            );\n                    }\n                }\n            }\n\n            context.updateLogSubscriptions();\n\n            return found;\n        },\n        exec: function (\n            cmd: string,\n            options?: ExecOptions | ((error: Error | null | string, stdout?: string, stderr?: string) => void),\n            callback?: (error: Error | null | string, stdout?: string, stderr?: string) => void,\n        ): undefined | ChildProcess {\n            if (typeof options === 'function') {\n                callback = options as (error: Error | null | string, stdout?: string, stderr?: string) => void;\n                options = {};\n            }\n            if (!(adapter.config as JavaScriptAdapterConfig).enableExec) {\n                const error = 'exec is not available. Please enable \"Enable Exec\" option in instance settings';\n                sandbox.log(error, 'error');\n\n                if (typeof callback === 'function') {\n                    setImmediate(callback, error, undefined, undefined);\n                }\n            } else {\n                if (sandbox.verbose) {\n                    sandbox.log(`exec(cmd=${cmd})`, 'info');\n                }\n\n                if (debug) {\n                    sandbox.log(words._('Command %s was not executed, while debug mode is active', cmd), 'warn');\n                    if (typeof callback === 'function') {\n                        setImmediate(function () {\n                            callback(null, '', '');\n                        });\n                    }\n                } else {\n                    return mods.child_process.exec(\n                        cmd,\n                        options,\n                        (error: Error | null, stdout: string, stderr: string): void => {\n                            if (typeof callback === 'function') {\n                                try {\n                                    callback.call(sandbox, error, stdout, stderr);\n                                } catch (err: unknown) {\n                                    errorInCallback(err as Error);\n                                }\n                            }\n                        },\n                    );\n                }\n            }\n        },\n        email: function (msg: string | SendMailOptions): void {\n            if (sandbox.verbose) {\n                sandbox.log(`email(msg=${JSON.stringify(msg)})`, 'info');\n            }\n            sandbox.log(`email(msg=${JSON.stringify(msg)}) is deprecated. Please use sendTo instead!`, 'warn');\n            adapter.sendTo('email', msg);\n        },\n        pushover: function (msg: string | PushoverOptions): void {\n            if (sandbox.verbose) {\n                sandbox.log(`pushover(msg=${JSON.stringify(msg)})`, 'info');\n            }\n            sandbox.log(`pushover(msg=${JSON.stringify(msg)}) is deprecated. Please use sendTo instead!`, 'warn');\n            adapter.sendTo('pushover', msg);\n        },\n        httpGet: function (\n            url: string,\n            options:\n                | {\n                      timeout?: number;\n                      responseType?: ResponseType;\n                      headers?: Record<string, string>;\n                      basicAuth?: { user: string; password: string } | null;\n                      bearerAuth?: string;\n                      validateCertificate?: boolean;\n                  }\n                | ((\n                      error: Error | null,\n                      result: {\n                          statusCode: number | null;\n                          data: any;\n                          headers: Record<string, string>;\n                          responseTime: number;\n                      },\n                  ) => void),\n            callback?: (\n                error: Error | null,\n                result: {\n                    statusCode: number | null;\n                    data: any;\n                    headers: Record<string, string>;\n                    responseTime: number;\n                },\n            ) => void,\n        ): void {\n            if (typeof options === 'function') {\n                callback = options as (\n                    error: Error | null,\n                    result: {\n                        statusCode: number | null;\n                        data: any;\n                        headers: Record<string, string>;\n                        responseTime: number;\n                    },\n                ) => void;\n                options = {};\n            }\n\n            const config = {\n                ...getHttpRequestConfig(url, options),\n                method: 'get',\n            };\n\n            if (sandbox.verbose) {\n                sandbox.log(`httpGet(config=${JSON.stringify(config)})`, 'info');\n            }\n\n            const startTime = Date.now();\n\n            mods.axios\n                .default(config)\n                .then((response: AxiosResponse) => {\n                    const responseTime = Date.now() - startTime;\n\n                    if (sandbox.verbose) {\n                        sandbox.log(`httpGet(url=${url}, responseTime=${responseTime}ms)`, 'info');\n                    }\n\n                    if (typeof callback === 'function') {\n                        try {\n                            callback.call(sandbox, null, {\n                                statusCode: response.status,\n                                data: response.data,\n                                headers: response.headers as Record<string, string>,\n                                responseTime,\n                            });\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }\n                })\n                .catch((error: any) => {\n                    const responseTime = Date.now() - startTime;\n\n                    sandbox.log(`httpGet(url=${url}, error=${error.message})`, 'error');\n\n                    if (typeof callback === 'function') {\n                        let result: {\n                            statusCode: number | null;\n                            data: any;\n                            headers: Record<string, string>;\n                            responseTime: number;\n                        } = {\n                            statusCode: null,\n                            data: null,\n                            headers: {},\n                            responseTime,\n                        };\n\n                        if (error.response) {\n                            result = {\n                                statusCode: error.response.status,\n                                data: error.response.data,\n                                headers: error.response.headers,\n                                responseTime,\n                            };\n                        }\n\n                        try {\n                            callback.call(sandbox, error.message, result);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }\n                });\n        },\n        httpPost: function (\n            url: string,\n            data: any,\n            options:\n                | {\n                      timeout?: number;\n                      responseType?: ResponseType;\n                      headers?: Record<string, string>;\n                      basicAuth?: { user: string; password: string } | null;\n                      bearerAuth?: string;\n                      validateCertificate?: boolean;\n                  }\n                | ((\n                      error: Error | null,\n                      result: {\n                          statusCode: number | null;\n                          data: any;\n                          headers: Record<string, AxiosHeaderValue | undefined>;\n                          responseTime: number;\n                      },\n                  ) => void),\n            callback?: (\n                error: Error | null,\n                result: {\n                    statusCode: number | null;\n                    data: any;\n                    headers: Record<string, AxiosHeaderValue | undefined>;\n                    responseTime: number;\n                },\n            ) => void,\n        ): void {\n            if (typeof options === 'function') {\n                callback = options;\n                options = {};\n            }\n\n            const config = {\n                ...getHttpRequestConfig(\n                    url,\n                    options as {\n                        timeout?: number;\n                        responseType?: ResponseType;\n                        headers?: Record<string, string>;\n                        basicAuth?: { user: string; password: string } | null;\n                        bearerAuth?: string;\n                        validateCertificate?: boolean;\n                    },\n                ),\n                method: 'post',\n                data,\n            };\n\n            if (sandbox.verbose) {\n                sandbox.log(`httpPost(config=${JSON.stringify(config)}, data=${data})`, 'info');\n            }\n\n            const startTime = Date.now();\n\n            mods.axios\n                .default(config)\n                .then((response: AxiosResponse) => {\n                    const responseTime = Date.now() - startTime;\n\n                    if (sandbox.verbose) {\n                        sandbox.log(`httpPost(url=${url}, responseTime=${responseTime}ms)`, 'info');\n                    }\n\n                    if (typeof callback === 'function') {\n                        try {\n                            callback.call(sandbox, null, {\n                                statusCode: response.status,\n                                data: response.data,\n                                headers: response.headers,\n                                responseTime,\n                            });\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }\n                })\n                .catch((error: unknown) => {\n                    const responseTime = Date.now() - startTime;\n\n                    sandbox.log(`httpPost(url=${url}, error=${(error as Error).message})`, 'error');\n\n                    if (typeof callback === 'function') {\n                        let result: {\n                            statusCode: number | null;\n                            data: any;\n                            headers: Record<string, AxiosHeaderValue | undefined>;\n                            responseTime: number;\n                        } = {\n                            statusCode: null,\n                            data: null,\n                            headers: {},\n                            responseTime,\n                        };\n                        const response: AxiosResponse<unknown, any> | undefined = (error as AxiosError).response;\n\n                        if (response) {\n                            result = {\n                                statusCode: response.status,\n                                data: response.data,\n                                headers: response.headers,\n                                responseTime,\n                            };\n                        }\n\n                        try {\n                            callback.call(sandbox, new Error((error as AxiosError).message), result);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }\n                });\n        },\n        createTempFile: function (fileName: string, data: Buffer | string): undefined | string {\n            const os = mods.os;\n            const path = mods.path;\n            const fs = mods.fs;\n\n            let tempDirPath = context.tempDirectories?.[sandbox.scriptName];\n\n            if (!tempDirPath) {\n                // create temp directory\n                tempDirPath = fs.mkdtempSync(\n                    path.join(os.tmpdir(), `${sandbox.scriptName.substring(SCRIPT_CODE_MARKER.length)}-`),\n                );\n                context.tempDirectories[sandbox.scriptName] = tempDirPath;\n\n                sandbox.verbose &&\n                    sandbox.log(\n                        `createTempFile(fileName=${fileName}, tempDirPath=${tempDirPath}) created temp directory in ${os.tmpdir()}`,\n                        'info',\n                    );\n            }\n\n            const filePath = path.join(tempDirPath, fileName);\n\n            // is sub dir?\n            const fileDir = path.dirname(filePath);\n            if (!fs.existsSync(fileDir)) {\n                fs.mkdirSync(fileDir, { recursive: true });\n            }\n\n            if (typeof data === 'undefined') {\n                sandbox.log(\n                    `createTempFile(fileName=${fileName}, fileDir=${fileDir}, filePath=${filePath}) data is undefined, file not created!`,\n                    'error',\n                );\n\n                return undefined;\n            }\n\n            fs.writeFileSync(filePath, data);\n            sandbox.verbose &&\n                sandbox.log(`createTempFile(fileName=${fileName}, fileDir=${fileDir}, filePath=${filePath})`, 'info');\n\n            return filePath;\n        },\n        subscribe: function (\n            pattern:\n                | TimeRule\n                | AstroRule\n                | Pattern\n                | SchedulerRule\n                | string\n                | (TimeRule | AstroRule | Pattern | SchedulerRule | string)[],\n            // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n            callbackOrChangeTypeOrId: string | ChangeType | ((event?: EventObj) => void),\n            value?: any,\n        ):\n            | SubscriptionResult\n            | IobSchedule\n            | string\n            | null\n            | undefined\n            | (SubscriptionResult | IobSchedule | string | null | undefined)[] {\n            // If a schedule object is given\n            if (\n                (typeof pattern === 'string' && pattern[0] === '{') ||\n                (typeof pattern === 'object' && (pattern as SchedulerRule).period)\n            ) {\n                return sandbox.schedule(pattern as SchedulerRule, callbackOrChangeTypeOrId as () => void);\n            }\n            // If an array of schedules is given\n            if (pattern && Array.isArray(pattern)) {\n                const result: (IobSchedule | string | null | undefined)[] = [];\n                for (const p of pattern) {\n                    result.push(\n                        sandbox.subscribe(p as SchedulerRule | string, callbackOrChangeTypeOrId, value) as\n                            | IobSchedule\n                            | string\n                            | null\n                            | undefined,\n                    );\n                }\n                return result;\n            }\n\n            // detect subscribe('id', 'any', (obj) => {})\n            let oPattern: Pattern;\n            if (\n                (typeof pattern === 'string' || pattern instanceof RegExp) &&\n                typeof callbackOrChangeTypeOrId === 'string' &&\n                typeof value === 'function'\n            ) {\n                oPattern = { id: pattern, change: callbackOrChangeTypeOrId as ChangeType };\n                callbackOrChangeTypeOrId = value;\n                value = undefined;\n            } else {\n                oPattern = pattern as Pattern;\n            }\n\n            if (oPattern?.id && Array.isArray(oPattern.id)) {\n                const result: (IobSchedule | string | null | undefined)[] = [];\n                for (let t = 0; t < oPattern.id.length; t++) {\n                    const pa: Pattern = JSON.parse(JSON.stringify(oPattern));\n                    pa.id = oPattern.id[t];\n                    result.push(\n                        sandbox.subscribe(pa, callbackOrChangeTypeOrId, value) as\n                            | IobSchedule\n                            | string\n                            | null\n                            | undefined,\n                    );\n                }\n                return result;\n            }\n\n            // try to detect astro or cron (by spaces)\n            if (isObject(pattern) || (typeof pattern === 'string' && pattern.match(/[,/\\d*]+\\s[,/\\d*]+\\s[,/\\d*]+/))) {\n                if ((pattern as AstroRule).astro) {\n                    return sandbox.schedule(pattern as AstroRule, callbackOrChangeTypeOrId as () => void);\n                } else if ((pattern as TimeRule).time) {\n                    return sandbox.schedule(\n                        (pattern as TimeRule).time as string,\n                        callbackOrChangeTypeOrId as () => void,\n                    );\n                }\n            }\n\n            let callback: undefined | ((obj: EventObj) => void);\n\n            // source is set by regexp if defined as /regexp/\n            if (!isObject(pattern) || pattern instanceof RegExp || (pattern as RegExp).source) {\n                oPattern = { id: pattern as string | RegExp, change: 'ne' };\n            }\n\n            if (oPattern.id !== undefined && !oPattern.id) {\n                sandbox.log(`Error by subscription (trigger): empty ID defined. All states matched.`, 'error');\n                return;\n            } else if (typeof oPattern.id === 'boolean' || typeof oPattern.id === 'number') {\n                sandbox.log(`Error by subscription (trigger): Wrong ID of type boolean or number.`, 'error');\n                return;\n            }\n\n            sandbox.__engine.__subscriptions += 1;\n\n            if (\n                sandbox.__engine.__subscriptions % (adapter.config as JavaScriptAdapterConfig).maxTriggersPerScript ===\n                0\n            ) {\n                sandbox.log(\n                    `More than ${sandbox.__engine.__subscriptions} subscriptions registered. Check your script!`,\n                    'warn',\n                );\n            }\n\n            if (oPattern.q === undefined) {\n                oPattern.q = 0;\n            }\n\n            // add adapter namespace if nothing given\n            if (oPattern.id && typeof oPattern.id === 'string' && !oPattern.id.includes('.')) {\n                oPattern.id = `${adapter.namespace}.${oPattern.id}`;\n            }\n\n            if (typeof callbackOrChangeTypeOrId === 'function') {\n                callback = callbackOrChangeTypeOrId;\n            } else {\n                if (typeof value === 'undefined') {\n                    callback = function (obj: EventObj) {\n                        sandbox.setState(callbackOrChangeTypeOrId, obj.newState.val);\n                    };\n                } else {\n                    callback = function (/* obj */) {\n                        sandbox.setState(callbackOrChangeTypeOrId, value);\n                    };\n                }\n            }\n\n            const subs: SubscriptionResult = {\n                pattern: oPattern,\n                callback: (obj: EventObj) => {\n                    if (typeof callback === 'function') {\n                        try {\n                            callback.call(sandbox, obj);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }\n                },\n                name,\n            };\n\n            // try to extract adapter\n            if (oPattern.id && typeof oPattern.id === 'string') {\n                const parts = oPattern.id.split('.');\n                const a = `${parts[0]}.${parts[1]}`;\n                const _adapter = `system.adapter.${a}`;\n\n                if (objects[_adapter] && objects[_adapter].common && objects[_adapter].common.subscribable) {\n                    const alive = `system.adapter.${a}.alive`;\n                    context.adapterSubs[alive] = context.adapterSubs[alive] || [];\n\n                    const subExists = context.adapterSubs[alive].filter(sub => sub === oPattern.id).length > 0;\n\n                    if (!subExists) {\n                        context.adapterSubs[alive].push(oPattern.id);\n                        adapter.sendTo(a, 'subscribe', oPattern.id);\n                    }\n                }\n            }\n            if (sandbox.verbose) {\n                sandbox.log(`subscribe: ${JSON.stringify(subs)}`, 'info');\n            }\n\n            subscribePattern(script, oPattern.id as string);\n\n            subs.patternCompareFunctions = getPatternCompareFunctions(oPattern);\n            context.subscriptions.push(subs);\n\n            if (oPattern.enumName || oPattern.enumId) {\n                context.isEnums = true;\n            }\n            return subs;\n        },\n        getSubscriptions: function (): Record<string, { name: string; pattern: Pattern }[]> {\n            const result: Record<string, { name: string; pattern: Pattern }[]> = {};\n            for (let s = 0; s < context.subscriptions.length; s++) {\n                result[context.subscriptions[s].pattern.id as string] =\n                    result[context.subscriptions[s].pattern.id as string] || [];\n                result[context.subscriptions[s].pattern.id as string].push({\n                    name: context.subscriptions[s].name,\n                    pattern: context.subscriptions[s].pattern,\n                });\n            }\n            if (sandbox.verbose) {\n                sandbox.log(`getSubscriptions() => ${JSON.stringify(result)}`, 'info');\n            }\n            return result;\n        },\n        getFileSubscriptions: function (): Record<string, { name: string; id: string; fileNamePattern: string }[]> {\n            const result: Record<string, { name: string; id: string; fileNamePattern: string }[]> = {};\n            for (let s = 0; s < context.subscriptionsFile.length; s++) {\n                const key = `${context.subscriptionsFile[s].id}$%$${context.subscriptionsFile[s].fileNamePattern}`;\n                result[key] = result[key] || [];\n                result[key].push({\n                    name: context.subscriptionsFile[s].name,\n                    id: context.subscriptionsFile[s].id,\n                    fileNamePattern: context.subscriptionsFile[s].fileNamePattern,\n                });\n            }\n            if (sandbox.verbose) {\n                sandbox.log(`getFileSubscriptions() => ${JSON.stringify(result)}`, 'info');\n            }\n            return result;\n        },\n        adapterSubscribe: function (id: string): void {\n            if (typeof id !== 'string') {\n                sandbox.log(`adapterSubscribe: invalid type of id ${typeof id}`, 'error');\n                return;\n            }\n            const parts = id.split('.');\n            const _adapter = `system.adapter.${parts[0]}.${parts[1]}`;\n            if (objects[_adapter]?.common?.subscribable) {\n                const a = `${parts[0]}.${parts[1]}`;\n                const alive = `system.adapter.${a}.alive`;\n                context.adapterSubs[alive] = context.adapterSubs[alive] || [];\n                context.adapterSubs[alive].push(id);\n                if (sandbox.verbose) {\n                    sandbox.log(`adapterSubscribe: ${a} - ${id}`, 'info');\n                }\n                adapter.sendTo(a, 'subscribe', id);\n            }\n        },\n        adapterUnsubscribe: function (\n            idOrObject: string | SubscriptionResult | (string | SubscriptionResult)[],\n        ): boolean | boolean[] {\n            // todo: BF - it could be an error\n            return sandbox.unsubscribe(idOrObject);\n        },\n        unsubscribe: function (\n            idOrObject: string | SubscriptionResult | (string | SubscriptionResult)[],\n        ): boolean | boolean[] {\n            if (idOrObject && Array.isArray(idOrObject)) {\n                const result: boolean[] = [];\n                for (let t = 0; t < idOrObject.length; t++) {\n                    result.push(sandbox.unsubscribe(idOrObject[t]) as boolean);\n                }\n                return result;\n            }\n\n            if (sandbox.verbose) {\n                sandbox.log(`adapterUnsubscribe(id=${JSON.stringify(idOrObject)})`, 'info');\n            }\n\n            if (isObject(idOrObject)) {\n                for (let i = context.subscriptions.length - 1; i >= 0; i--) {\n                    if (context.subscriptions[i] === idOrObject) {\n                        unsubscribePattern(script, context.subscriptions[i].pattern.id as string);\n                        context.subscriptions.splice(i, 1);\n                        sandbox.__engine.__subscriptions--;\n                        return true;\n                    }\n                }\n                return false;\n            }\n            let deleted = 0;\n            for (let i = context.subscriptions.length - 1; i >= 0; i--) {\n                if (context.subscriptions[i].name === name && context.subscriptions[i].pattern.id === idOrObject) {\n                    deleted++;\n                    unsubscribePattern(script, context.subscriptions[i].pattern.id as string);\n                    context.subscriptions.splice(i, 1);\n                    sandbox.__engine.__subscriptions--;\n                }\n            }\n            return !!deleted;\n        },\n        on: function (\n            pattern:\n                | TimeRule\n                | AstroRule\n                | Pattern\n                | SchedulerRule\n                | string\n                | (TimeRule | AstroRule | Pattern | SchedulerRule | string)[],\n            // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n            callbackOrChangeTypeOrId: string | ChangeType | ((event?: EventObj) => void),\n            value?: any,\n        ):\n            | SubscriptionResult\n            | IobSchedule\n            | string\n            | null\n            | undefined\n            | (SubscriptionResult | IobSchedule | string | null | undefined)[] {\n            return sandbox.subscribe(pattern, callbackOrChangeTypeOrId, value);\n        },\n        onEnumMembers: function (enumId: string, callback: (event?: EventObj) => void): void {\n            if (enums.includes(enumId)) {\n                const subscriptions: Record<string, string | SubscriptionResult> = {};\n\n                const init = (): void => {\n                    const obj: ioBroker.EnumObject = objects[enumId] as ioBroker.EnumObject;\n                    const common: ioBroker.EnumCommon = obj?.common ?? {};\n                    const members: string[] = common?.members ?? [];\n\n                    // Remove old subscriptions\n                    for (const [objId, subscription] of Object.entries(subscriptions)) {\n                        if (!members.includes(objId)) {\n                            sandbox.unsubscribe(subscription);\n                            delete subscriptions[objId];\n                        }\n                    }\n\n                    // Subscribe to all members of enum\n                    for (const objId of members) {\n                        if (!Object.keys(subscriptions).includes(objId)) {\n                            if (objects?.[objId]?.type === 'state') {\n                                // Just subscribe to states\n                                subscriptions[objId] = sandbox.subscribe(objId, callback) as\n                                    | string\n                                    | SubscriptionResult; // TODO: more features\n                            }\n                        }\n                    }\n\n                    sandbox.verbose &&\n                        sandbox.log(\n                            `onEnumMembers(id=${enumId}, members=${JSON.stringify(Object.keys(subscriptions))})`,\n                            'info',\n                        );\n                };\n\n                init();\n\n                sandbox.subscribeObject(enumId, obj => obj && init());\n            } else {\n                sandbox.log(`onEnumMembers: enum with id \"${enumId}\" doesn't exists`, 'error');\n            }\n        },\n        onFile: function (\n            id: string,\n            fileNamePattern: string | string[],\n            withFileOrCallback:\n                | boolean\n                | ((id: string, fileName: string, size: number, file?: string | Buffer, mimeType?: string) => void),\n            callback?: (\n                id: string,\n                fileName: string,\n                size: number | null,\n                file?: string | Buffer,\n                mimeType?: string,\n            ) => void,\n        ): undefined | FileSubscriptionResult | (undefined | FileSubscriptionResult)[] {\n            if (typeof withFileOrCallback === 'function') {\n                callback = withFileOrCallback as (\n                    id: string,\n                    fileName: string,\n                    size: number | null,\n                    file?: string | Buffer,\n                    mimeType?: string,\n                ) => void;\n                withFileOrCallback = false;\n            }\n\n            if (!adapter.subscribeForeignFiles) {\n                sandbox.log(\n                    'onFile: your js-controller does not support yet onFile subscribes. Please update to js-controller@4.1.x or newer',\n                    'warn',\n                );\n                return;\n            }\n            if (!id || !fileNamePattern) {\n                sandbox.log(\n                    'onFile: invalid parameters. Usage: onFile(\"vis.0\", \"main/*\", true, (id, fileName, size, file, mimeType) => {});',\n                    'error',\n                );\n                return;\n            }\n            if (typeof callback !== 'function') {\n                sandbox.offFile(id, fileNamePattern);\n                return;\n            }\n\n            if (Array.isArray(fileNamePattern)) {\n                return fileNamePattern.map(\n                    filePattern =>\n                        sandbox.onFile(id, filePattern, withFileOrCallback, callback) as\n                            | undefined\n                            | FileSubscriptionResult,\n                );\n            }\n\n            sandbox.__engine.__subscriptionsFile += 1;\n\n            sandbox.verbose &&\n                sandbox.log(\n                    `onFile(id=${id}, fileNamePattern=${fileNamePattern}) - fileSubscriptions=${sandbox.__engine.__subscriptionsFile}`,\n                    'info',\n                );\n\n            if (\n                sandbox.__engine.__subscriptionsFile %\n                    (adapter.config as JavaScriptAdapterConfig).maxTriggersPerScript ===\n                0\n            ) {\n                sandbox.log(\n                    `More than ${sandbox.__engine.__subscriptionsFile} file subscriptions registered. Check your script!`,\n                    'warn',\n                );\n            }\n\n            let idRegEx: RegExp | undefined;\n            let fileRegEx: RegExp | undefined;\n            if (id.includes('*')) {\n                idRegEx = new RegExp(pattern2RegEx(id));\n            }\n            if (fileNamePattern.includes('*')) {\n                fileRegEx = new RegExp(pattern2RegEx(fileNamePattern));\n            }\n\n            const subs: FileSubscriptionResult = {\n                id,\n                fileNamePattern,\n                withFile: withFileOrCallback,\n                idRegEx,\n                fileRegEx,\n                callback: (id: string, fileName: string, size: number | null, withFile: boolean): void => {\n                    try {\n                        sandbox.verbose &&\n                            sandbox.log(`onFile changed(id=${id}, fileName=${fileName}, size=${size})`, 'info');\n\n                        if (withFile && (size || 0) > 0) {\n                            adapter\n                                .readFileAsync(id, fileName)\n                                .then(data => {\n                                    try {\n                                        callback.call(sandbox, id, fileName, size, data.file, data.mimeType);\n                                    } catch (err: unknown) {\n                                        errorInCallback(err as Error);\n                                    }\n                                })\n                                .catch(error => errorInCallback(error));\n                        } else {\n                            callback.call(sandbox, id, fileName, size);\n                        }\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                },\n                name,\n            };\n\n            context.subscriptionsFile.push(subs);\n            subscribeFile(script, id, fileNamePattern);\n            return subs;\n        },\n        offFile: function (\n            idOrObject: FileSubscriptionResult | string | (FileSubscriptionResult | string)[],\n            fileNamePattern?: string | string[],\n        ): boolean | boolean[] {\n            if (!adapter.unsubscribeForeignFiles) {\n                sandbox.log(\n                    'offFile: your js-controller does not support yet file unsubscribes. Please update to js-controller@4.1.x or newer',\n                    'warn',\n                );\n                return false;\n            }\n\n            sandbox.verbose &&\n                sandbox.log(\n                    `offFile(idOrObject=${JSON.stringify(idOrObject)}, fileNamePattern=${JSON.stringify(fileNamePattern)}) - fileSubscriptions=${sandbox.__engine.__subscriptionsFile}`,\n                    'info',\n                );\n\n            if (idOrObject && typeof idOrObject === 'object') {\n                if (Array.isArray(idOrObject)) {\n                    const result: boolean[] = [];\n                    for (let t = 0; t < idOrObject.length; t++) {\n                        result.push(sandbox.offFile(idOrObject[t]) as boolean);\n                    }\n                    return result;\n                }\n                for (let i = context.subscriptionsFile.length - 1; i >= 0; i--) {\n                    if (context.subscriptionsFile[i] === idOrObject) {\n                        unsubscribeFile(\n                            script,\n                            context.subscriptionsFile[i].id,\n                            context.subscriptionsFile[i].fileNamePattern,\n                        );\n\n                        sandbox.verbose &&\n                            sandbox.log(\n                                `offFile(type=object, fileNamePattern=${JSON.stringify(fileNamePattern)}, removing id=${context.subscriptionsFile[i].id})`,\n                                'info',\n                            );\n\n                        context.subscriptionsFile.splice(i, 1);\n                        sandbox.__engine.__subscriptionsFile--;\n                        return true;\n                    }\n                }\n                return false;\n            }\n\n            if (fileNamePattern && Array.isArray(fileNamePattern)) {\n                const result: boolean[] = [];\n                for (let t = 0; t < fileNamePattern.length; t++) {\n                    result.push(sandbox.offFile(idOrObject, fileNamePattern[t]) as boolean);\n                }\n                return result;\n            }\n\n            let deleted = 0;\n            for (let i = context.subscriptionsFile.length - 1; i >= 0; i--) {\n                if (\n                    context.subscriptionsFile[i].id === idOrObject &&\n                    context.subscriptionsFile[i].fileNamePattern === fileNamePattern\n                ) {\n                    deleted++;\n                    unsubscribeFile(\n                        script,\n                        context.subscriptionsFile[i].id,\n                        context.subscriptionsFile[i].fileNamePattern,\n                    );\n\n                    sandbox.verbose &&\n                        sandbox.log(\n                            `offFile(type=string, fileNamePattern=${fileNamePattern}, removing id=${context.subscriptionsFile[i].id})`,\n                            'info',\n                        );\n\n                    context.subscriptionsFile.splice(i, 1);\n                    sandbox.__engine.__subscriptionsFile--;\n                }\n            }\n            return !!deleted;\n        },\n        /** Registers a one-time subscription which automatically unsubscribes after the first invocation */\n        once: function (\n            pattern:\n                | TimeRule\n                | AstroRule\n                | Pattern\n                | SchedulerRule\n                | string\n                | (TimeRule | AstroRule | Pattern | SchedulerRule | string)[],\n            callback?: (event?: EventObj) => void,\n        ): string | SubscriptionResult | Promise<EventObj | undefined> {\n            function _once(cb: (obj?: EventObj) => void): string | SubscriptionResult {\n                // eslint-disable-next-line prefer-const\n                let subscription: string | SubscriptionResult;\n                const handler = (obj?: EventObj): void => {\n                    subscription && sandbox.unsubscribe(subscription);\n                    typeof cb === 'function' && cb(obj);\n                };\n                subscription = sandbox.subscribe(pattern, handler) as string | SubscriptionResult;\n                return subscription;\n            }\n            if (typeof callback === 'function') {\n                // Callback-style: once(\"id\", (obj) => { ... })\n                return _once(callback);\n            }\n\n            // Promise-style: once(\"id\").then(obj => { ... })\n            return new Promise(resolve => _once(resolve));\n        },\n        schedule: function (\n            pattern: SchedulerRule | AstroRule | Date | string,\n            callback: () => void,\n        ): IobSchedule | string | null | undefined {\n            if (typeof callback !== 'function') {\n                sandbox.log(`schedule callback missing`, 'error');\n                return null;\n            }\n\n            if (\n                (typeof pattern === 'string' && pattern[0] === '{') ||\n                (typeof pattern === 'object' && (pattern as SchedulerRule).period)\n            ) {\n                sandbox.verbose &&\n                    sandbox.log(\n                        `schedule(wizard=${typeof pattern === 'object' ? JSON.stringify(pattern) : pattern})`,\n                        'info',\n                    );\n\n                if (!context.scheduler) {\n                    sandbox.log(\n                        `Cannot schedule \"${typeof pattern === 'object' ? JSON.stringify(pattern) : pattern}\" because scheduler is not available`,\n                        'error',\n                    );\n                    return null;\n                }\n\n                const schedule: string | null = context.scheduler.add(\n                    pattern as SchedulerRule | string,\n                    sandbox.scriptName,\n                    callback,\n                );\n                if (schedule) {\n                    script.wizards.push(schedule);\n                    sandbox.__engine.__schedules += 1;\n\n                    if (\n                        sandbox.__engine.__schedules %\n                            (adapter.config as JavaScriptAdapterConfig).maxTriggersPerScript ===\n                        0\n                    ) {\n                        sandbox.log(\n                            `More than ${sandbox.__engine.__schedules} schedules registered. Check your script!`,\n                            'warn',\n                        );\n                    }\n                }\n\n                return schedule;\n            }\n\n            const adapterConfig: JavaScriptAdapterConfig = adapter.config as JavaScriptAdapterConfig;\n\n            if (typeof pattern === 'object' && (pattern as AstroRule).astro) {\n                const astroPattern = pattern as AstroRule;\n                const nowDate = new Date();\n\n                if (\n                    adapterConfig.latitude === undefined ||\n                    adapterConfig.longitude === undefined ||\n                    adapterConfig.latitude === null ||\n                    adapterConfig.longitude === null\n                ) {\n                    sandbox.log('Longitude or latitude does not set. Cannot use astro.', 'error');\n                    return null;\n                }\n\n                // ensure events are calculated independent of current time\n                // TODO: use getAstroStartOfDay of adapter?\n                const todayNoon = new Date(nowDate);\n                todayNoon.setHours(12, 0, 0, 0);\n                let ts = mods.suncalc.getTimes(todayNoon, adapterConfig.latitude, adapterConfig.longitude)[\n                    astroPattern.astro\n                ];\n\n                // event on the next day, correct or force recalculation at midnight\n                if (todayNoon.getDate() !== ts.getDate()) {\n                    todayNoon.setDate(todayNoon.getDate() - 1);\n                    ts = mods.suncalc.getTimes(todayNoon, adapterConfig.latitude, adapterConfig.longitude)[\n                        astroPattern.astro\n                    ];\n                }\n\n                if (ts.getTime().toString() === 'NaN') {\n                    sandbox.log(\n                        `Cannot calculate \"${astroPattern.astro}\" for ${adapterConfig.latitude}, ${adapterConfig.longitude}`,\n                        'warn',\n                    );\n                    ts = new Date(nowDate.getTime());\n\n                    if (\n                        astroPattern.astro === 'sunriseEnd' ||\n                        astroPattern.astro === 'goldenHourEnd' ||\n                        astroPattern.astro === 'sunset' ||\n                        astroPattern.astro === 'nightEnd' ||\n                        astroPattern.astro === 'nauticalDusk'\n                    ) {\n                        ts.setHours(23);\n                        ts.setMinutes(59);\n                        ts.setSeconds(59);\n                    } else {\n                        ts.setHours(23);\n                        ts.setMinutes(59);\n                        ts.setSeconds(58);\n                    }\n                }\n\n                if (ts && astroPattern.shift) {\n                    ts = new Date(ts.getTime() + astroPattern.shift * 60000);\n                }\n\n                if (!ts || ts < nowDate) {\n                    const date = new Date(nowDate);\n                    // Event doesn't occur today - try again tomorrow\n                    // Calculate time till 24:00 (local, NOT UTC) and set timeout\n                    date.setDate(date.getDate() + 1);\n                    date.setMinutes(0); // Sometimes timer fires at 23:59:59\n                    date.setHours(0);\n                    date.setSeconds(1);\n                    date.setMilliseconds(0);\n\n                    sandbox.__engine.__schedules += 1;\n\n                    if (sandbox.__engine.__schedules % adapterConfig.maxTriggersPerScript === 0) {\n                        sandbox.log(\n                            `More than ${sandbox.__engine.__schedules} schedules registered. Check your script!`,\n                            'warn',\n                        );\n                    }\n\n                    sandbox.verbose &&\n                        sandbox.log(\n                            `schedule(astro=${astroPattern.astro}, offset=${astroPattern.shift}) is tomorrow, waiting until ${date.toISOString()}`,\n                            'info',\n                        );\n\n                    // Calculate new schedule in the next day\n                    sandbox.setTimeout(() => {\n                        if (sandbox.__engine.__schedules > 0) {\n                            sandbox.__engine.__schedules--;\n                        }\n                        sandbox.schedule(astroPattern, callback);\n                    }, date.getTime() - Date.now());\n\n                    return;\n                }\n\n                sandbox.__engine.__schedules += 1;\n\n                if (sandbox.__engine.__schedules % adapterConfig.maxTriggersPerScript === 0) {\n                    sandbox.log(\n                        `More than ${sandbox.__engine.__schedules} schedules registered. Check your script!`,\n                        'warn',\n                    );\n                }\n\n                sandbox.setTimeout(() => {\n                    try {\n                        callback.call(sandbox);\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                    // Reschedule in 2 seconds\n                    sandbox.setTimeout(() => {\n                        if (sandbox.__engine.__schedules > 0) {\n                            sandbox.__engine.__schedules--;\n                        }\n                        sandbox.schedule(astroPattern, callback);\n                    }, 2000);\n                }, ts.getTime() - Date.now());\n\n                sandbox.verbose &&\n                    sandbox.log(\n                        `schedule(astro=${astroPattern.astro}, offset=${astroPattern.shift}) is today, waiting until ${ts.toISOString()}`,\n                        'info',\n                    );\n            } else {\n                // fix a problem with sunday and 7\n                if (typeof pattern === 'string') {\n                    // this could be a CRON\n                    const parts = pattern.replace(/\\s+/g, ' ').split(' ');\n                    if (parts.length >= 5 && parseInt(parts[5], 10) >= 7) {\n                        parts[5] = '0';\n                    }\n                    pattern = parts.join(' ');\n                }\n                // created in VM the date object: pattern instanceof Date => false\n                // so fix it\n                if (typeof pattern === 'object' && (pattern as Date).getDate) {\n                    pattern = new Date(pattern as Date);\n                }\n\n                const schedule: IobSchedule = mods.nodeSchedule.scheduleJob(pattern, (): void => {\n                    try {\n                        callback.call(sandbox);\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                });\n                if (schedule) {\n                    sandbox.__engine.__schedules += 1;\n\n                    if (\n                        sandbox.__engine.__schedules %\n                            (adapter.config as JavaScriptAdapterConfig).maxTriggersPerScript ===\n                        0\n                    ) {\n                        sandbox.log(\n                            `More than ${sandbox.__engine.__schedules} schedules registered. Check your script!`,\n                            'warn',\n                        );\n                    }\n\n                    schedule._ioBroker = {\n                        type: 'cron',\n                        pattern: pattern as string | Date,\n                        scriptName: sandbox.scriptName,\n                        id: `cron_${Date.now()}_${Math.round(Math.random() * 100000)}`,\n                    };\n\n                    script.schedules.push(schedule);\n                } else {\n                    sandbox.log(`schedule(cron=${JSON.stringify(pattern)}): cannot create schedule`, 'error');\n                }\n\n                if (sandbox.verbose) {\n                    sandbox.log(`schedule(cron=${JSON.stringify(pattern)})`, 'info');\n                }\n\n                return schedule;\n            }\n        },\n        scheduleById: function (id: string, ack: boolean | (() => void) | undefined, callback?: () => void): void {\n            let scheduleId: IobSchedule | string | null | undefined = null;\n            let currentExp: string | null = null; // current cron expression\n\n            if (typeof ack === 'function') {\n                callback = ack;\n                ack = undefined;\n            }\n\n            const rhms = /^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/; // hh:mm:ss\n            const rhm = /^(2[0-3]|[01]?[0-9]):([0-5]?[0-9])$/; // hh:mm\n\n            const init = (time: string): void => {\n                if (typeof time === 'string') {\n                    let h: number | undefined = undefined;\n                    let m: number | undefined = undefined;\n                    let s: number | undefined = undefined;\n\n                    let isValid = false;\n\n                    let result = time.match(rhms);\n                    if (result) {\n                        [, h, m, s] = result.map(v => parseInt(v));\n                        isValid = true;\n                    } else {\n                        result = time.match(rhm);\n                        if (result) {\n                            [, h, m] = result.map(v => parseInt(v));\n                            isValid = true;\n                        }\n                    }\n\n                    if (isValid) {\n                        const cronExp = `${s ?? '0'} ${m ?? '0'} ${h ?? '0'} * * *`;\n\n                        if (cronExp !== currentExp) {\n                            sandbox.verbose &&\n                                sandbox.log(\n                                    `scheduleById(id=${id}): Init with expression ${cronExp} from ${time}`,\n                                    'info',\n                                );\n                            currentExp = cronExp;\n\n                            if (scheduleId) {\n                                sandbox.clearSchedule(scheduleId);\n                                scheduleId = null;\n                            }\n\n                            scheduleId = sandbox.schedule(cronExp, () => {\n                                if (typeof callback === 'function') {\n                                    try {\n                                        callback.call(sandbox);\n                                    } catch (err: unknown) {\n                                        errorInCallback(err as Error);\n                                    }\n                                }\n                            });\n                        }\n                    } else {\n                        sandbox.log(\n                            `scheduleById(id=${id},time=${time}): cannot create schedule - invalid format (HH:MM:SS or H:M:S required)`,\n                            'error',\n                        );\n                    }\n                } else {\n                    sandbox.log(\n                        `scheduleById(id=${id}): cannot create schedule - invalid var type (no string)`,\n                        'error',\n                    );\n                }\n            };\n\n            sandbox.getState(id, (err, state) => {\n                if (!err && state?.val) {\n                    if (sandbox.verbose) {\n                        sandbox.log(`scheduleById(id=${id}): Init with value ${state.val}`, 'info');\n                    }\n                    init(state.val.toString());\n                }\n            });\n\n            const triggerDef: Pattern = { id, change: 'any' };\n            if (ack !== undefined) {\n                triggerDef.ack = ack;\n            }\n\n            sandbox.on(triggerDef, obj => {\n                if (obj?.state?.val) {\n                    sandbox.verbose &&\n                        sandbox.log(`scheduleById(id=${id}): Update with value ${obj.state.val}`, 'info');\n                    init(obj.state.val.toString());\n                }\n            });\n        },\n        getAstroDate: function (pattern: AstroEvent, date?: Date | number, offsetMinutes?: number): Date | undefined {\n            if (date === undefined) {\n                date = new Date();\n            }\n            if (typeof date === 'number') {\n                date = new Date(date);\n            } else {\n                date = new Date(date.getTime());\n            }\n\n            if (!consts.astroList.includes(pattern)) {\n                const pos = consts.astroListLow.indexOf(pattern.toLowerCase());\n                if (pos !== -1) {\n                    pattern = consts.astroList[pos];\n                }\n            }\n\n            if (\n                (!(adapter.config as JavaScriptAdapterConfig).latitude &&\n                    ((adapter.config as JavaScriptAdapterConfig).latitude as unknown as number) !== 0) ||\n                (!(adapter.config as JavaScriptAdapterConfig).longitude &&\n                    ((adapter.config as JavaScriptAdapterConfig).longitude as unknown as number) !== 0)\n            ) {\n                sandbox.log('Longitude or latitude does not set. Cannot use astro.', 'error');\n                return;\n            }\n\n            // ensure events are calculated independent of current time\n            date.setHours(12, 0, 0, 0);\n            let ts = mods.suncalc.getTimes(\n                date,\n                (adapter.config as JavaScriptAdapterConfig).latitude,\n                (adapter.config as JavaScriptAdapterConfig).longitude,\n            )[pattern];\n\n            if (ts === undefined || ts.getTime().toString() === 'NaN') {\n                sandbox.log(\n                    `Cannot calculate astro date \"${pattern}\" for ${(adapter.config as JavaScriptAdapterConfig).latitude}, ${(adapter.config as JavaScriptAdapterConfig).longitude}`,\n                    'warn',\n                );\n            }\n\n            if (sandbox.verbose) {\n                sandbox.log(`getAstroDate(pattern=${pattern}, date=${date.toString()}) => ${ts}`, 'info');\n            }\n\n            if (offsetMinutes !== undefined) {\n                ts = new Date(ts.getTime() + offsetMinutes * 60000);\n            }\n            return ts;\n        },\n        isAstroDay: function (): boolean | undefined {\n            const nowDate = new Date();\n            const dayBegin = sandbox.getAstroDate('sunrise');\n            const dayEnd = sandbox.getAstroDate('sunset');\n\n            if (dayBegin === undefined || dayEnd === undefined) {\n                return;\n            }\n\n            if (sandbox.verbose) {\n                sandbox.log(`isAstroDay() => ${nowDate >= dayBegin && nowDate <= dayEnd}`, 'info');\n            }\n\n            return nowDate >= dayBegin && nowDate <= dayEnd;\n        },\n        clearSchedule: function (schedule: IobSchedule | ScheduleName | string): boolean {\n            if (context.scheduler?.get(schedule as string | ScheduleName)) {\n                if (sandbox.verbose) {\n                    sandbox.log('clearSchedule() => wizard cleared', 'info');\n                }\n                const pos = script.wizards.indexOf(schedule as string);\n                if (pos !== -1) {\n                    script.wizards.splice(pos, 1);\n                    if (sandbox.__engine.__schedules > 0) {\n                        sandbox.__engine.__schedules--;\n                    }\n                }\n                context.scheduler.remove(schedule as string | ScheduleName);\n                return true;\n            }\n            for (let i = 0; i < script.schedules.length; i++) {\n                if (schedule && typeof schedule === 'object' && (schedule as IobSchedule)._ioBroker?.type === 'cron') {\n                    if (script.schedules[i]._ioBroker.id === (schedule as IobSchedule)._ioBroker.id) {\n                        if (!mods.nodeSchedule.cancelJob(script.schedules[i])) {\n                            sandbox.log('Error by canceling scheduled job', 'error');\n                        }\n                        script.schedules.splice(i, 1);\n                        if (sandbox.__engine.__schedules > 0) {\n                            sandbox.__engine.__schedules--;\n                        }\n\n                        if (sandbox.verbose) {\n                            sandbox.log('clearSchedule() => cleared', 'info');\n                        }\n                        return true;\n                    }\n                } else if (script.schedules[i] === schedule) {\n                    if (!mods.nodeSchedule.cancelJob(script.schedules[i])) {\n                        sandbox.log('Error by canceling scheduled job', 'error');\n                    }\n                    script.schedules.splice(i, 1);\n                    if (sandbox.__engine.__schedules > 0) {\n                        sandbox.__engine.__schedules--;\n                    }\n\n                    if (sandbox.verbose) {\n                        sandbox.log('clearSchedule() => cleared', 'info');\n                    }\n                    return true;\n                }\n            }\n\n            if (sandbox.verbose) {\n                sandbox.log('clearSchedule() => invalid handler', 'warn');\n            }\n            return false;\n        },\n        getSchedules: function (allScripts?: boolean): ScheduleName[] {\n            const schedules = context.scheduler?.getList() || [];\n            if (allScripts) {\n                Object.keys(context.scripts).forEach(\n                    name =>\n                        context.scripts[name].schedules &&\n                        context.scripts[name].schedules.forEach(s =>\n                            schedules.push(JSON.parse(JSON.stringify(s._ioBroker))),\n                        ),\n                );\n            } else {\n                script.schedules &&\n                    script.schedules.forEach(s => schedules.push(JSON.parse(JSON.stringify(s._ioBroker))));\n            }\n            return schedules;\n        },\n        setState: function (\n            id: string,\n            state: ioBroker.SettableState | ioBroker.StateValue,\n            isAck?: boolean | 'true' | 'false' | ((err?: Error | null) => void),\n            callback?: (err?: Error | null) => void,\n        ): void {\n            return setStateHelper(sandbox, false, false, id, state, isAck, callback);\n        },\n        setStateChanged: function (\n            id: string,\n            state: ioBroker.SettableState | ioBroker.StateValue,\n            isAck?: boolean | ((err?: Error | null) => void),\n            callback?: (err?: Error | null) => void,\n        ): void {\n            return setStateHelper(sandbox, false, true, id, state, isAck, callback);\n        },\n        setStateDelayed: function (\n            id: string,\n            state: ioBroker.SettableState | ioBroker.StateValue,\n            isAck: boolean | number | undefined,\n            delay?: number | boolean,\n            clearRunning?: boolean | ((err?: Error | null) => void),\n            callback?: (err?: Error | null) => void,\n        ): number | null {\n            // find arguments\n            if (typeof isAck !== 'boolean') {\n                callback = clearRunning as (err?: Error | null) => void;\n                clearRunning = delay as boolean;\n                delay = isAck as number;\n                isAck = undefined;\n            }\n            if (typeof delay !== 'number') {\n                callback = clearRunning as (err?: Error | null) => void;\n                clearRunning = delay as boolean;\n                delay = 0;\n            }\n            if (typeof clearRunning !== 'boolean') {\n                callback = clearRunning;\n                clearRunning = true;\n            }\n\n            // Check a type of state\n            if (!objects[id] && objects[`${adapter.namespace}.${id}`]) {\n                id = `${adapter.namespace}.${id}`;\n            }\n\n            sandbox.verbose &&\n                sandbox.log(\n                    `setStateDelayed(id=${id}, state=${JSON.stringify(state)}, isAck=${isAck}, delay=${delay}, clearRunning=${clearRunning})`,\n                    'info',\n                );\n\n            if (clearRunning) {\n                if (timers[id]) {\n                    sandbox.verbose &&\n                        sandbox.log(`setStateDelayed: clear ${timers[id].length} running timers`, 'info');\n\n                    for (let i = 0; i < timers[id].length; i++) {\n                        clearTimeout(timers[id][i].t);\n                    }\n                    delete timers[id];\n                } else {\n                    if (sandbox.verbose) {\n                        sandbox.log('setStateDelayed: no running timers', 'info');\n                    }\n                }\n            }\n            // If no delay => starts immediately\n            if (!delay) {\n                sandbox.setState(id, state, isAck, callback);\n                return null;\n            }\n            // If delay\n            timers[id] = timers[id] || [];\n\n            // calculate timerId\n            context.timerId++;\n            if (context.timerId > 0xfffffffe) {\n                context.timerId = 0;\n            }\n\n            // Start timeout\n            const timer = setTimeout(\n                function (_timerId, _id, _state, _isAck) {\n                    sandbox.setState(_id, _state, _isAck, callback);\n                    // delete timer handler\n                    if (timers[_id]) {\n                        // optimisation\n                        if (timers[_id].length === 1) {\n                            delete timers[_id];\n                        } else {\n                            for (let t = 0; t < timers[_id].length; t++) {\n                                if (timers[_id][t].id === _timerId) {\n                                    timers[_id].splice(t, 1);\n                                    break;\n                                }\n                            }\n                            if (!timers[_id].length) {\n                                delete timers[_id];\n                            }\n                        }\n                    }\n                },\n                delay,\n                context.timerId,\n                id,\n                state,\n                isAck,\n            );\n\n            // add timer handler\n            timers[id].push({\n                t: timer,\n                id: context.timerId,\n                ts: Date.now(),\n                delay: delay,\n                val:\n                    isObject(state) && (state as ioBroker.SettableState).val !== undefined\n                        ? ((state as ioBroker.SettableState).val as ioBroker.StateValue)\n                        : (state as ioBroker.StateValue),\n                ack:\n                    isObject(state) &&\n                    (state as ioBroker.SettableState).val !== undefined &&\n                    (state as ioBroker.SettableState).ack !== undefined\n                        ? (state as ioBroker.SettableState).ack\n                        : isAck,\n            });\n\n            return context.timerId;\n        },\n        clearStateDelayed: function (id: string, timerId: number): boolean {\n            // Check a type of state\n            if (!objects[id] && objects[`${adapter.namespace}.${id}`]) {\n                id = `${adapter.namespace}.${id}`;\n            }\n\n            if (sandbox.verbose) {\n                sandbox.log(`clearStateDelayed(id=${id}, timerId=${timerId})`, 'info');\n            }\n\n            if (timers[id]) {\n                for (let i = timers[id].length - 1; i >= 0; i--) {\n                    if (timerId === undefined || timers[id][i].id === timerId) {\n                        clearTimeout(timers[id][i].t);\n                        if (timerId !== undefined) {\n                            timers[id].splice(i, 1);\n                        }\n                        if (sandbox.verbose) {\n                            sandbox.log(`clearStateDelayed: clear timer ${timers[id][i].id}`, 'info');\n                        }\n                    }\n                }\n                if (timerId === undefined) {\n                    delete timers[id];\n                } else {\n                    if (!timers[id].length) {\n                        delete timers[id];\n                    }\n                }\n                return true;\n            }\n            return false;\n        },\n        getStateDelayed: function (\n            id: string | number,\n        ):\n            | null\n            | { timerId: number; left: number; delay: number; val: ioBroker.StateValue; ack?: boolean }\n            | { timerId: number; left: number; delay: number; val: ioBroker.StateValue; ack?: boolean }[]\n            | Record<\n                  string,\n                  { timerId: number; left: number; delay: number; val: ioBroker.StateValue; ack?: boolean }[]\n              > {\n            const now = Date.now();\n            if (id) {\n                // Check a type of state\n                if (!objects[id] && objects[`${adapter.namespace}.${id}`]) {\n                    id = `${adapter.namespace}.${id}`;\n                }\n                // If timerId given\n                if (typeof id === 'number') {\n                    for (const _id_ in timers) {\n                        if (Object.prototype.hasOwnProperty.call(timers, _id_)) {\n                            for (let ttt = 0; ttt < timers[_id_].length; ttt++) {\n                                if (timers[_id_][ttt].id === id) {\n                                    return {\n                                        timerId: id,\n                                        left: timers[_id_][ttt].delay - (now - timers[id][ttt].ts),\n                                        delay: timers[_id_][ttt].delay,\n                                        val: timers[_id_][ttt].val,\n                                        ack: timers[_id_][ttt].ack,\n                                    };\n                                }\n                            }\n                        }\n                    }\n                    return null;\n                }\n\n                const result: {\n                    timerId: number;\n                    left: number;\n                    delay: number;\n                    val: ioBroker.StateValue;\n                    ack?: boolean;\n                }[] = [];\n                if (Object.prototype.hasOwnProperty.call(timers, id) && timers[id] && timers[id].length) {\n                    for (let tt = 0; tt < timers[id].length; tt++) {\n                        result.push({\n                            timerId: timers[id][tt].id,\n                            left: timers[id][tt].delay - (now - timers[id][tt].ts),\n                            delay: timers[id][tt].delay,\n                            val: timers[id][tt].val,\n                            ack: timers[id][tt].ack,\n                        });\n                    }\n                }\n                return result;\n            }\n            const result: Record<\n                string,\n                { timerId: number; left: number; delay: number; val: ioBroker.StateValue; ack?: boolean }[]\n            > = {};\n            for (const _id in timers) {\n                if (Object.prototype.hasOwnProperty.call(timers, _id) && timers[_id] && timers[_id].length) {\n                    result[_id] = [];\n                    for (let t = 0; t < timers[_id].length; t++) {\n                        result[_id].push({\n                            timerId: timers[_id][t].id,\n                            left: timers[_id][t].delay - (now - timers[_id][t].ts),\n                            delay: timers[_id][t].delay,\n                            val: timers[_id][t].val,\n                            ack: timers[_id][t].ack,\n                        });\n                    }\n                }\n            }\n            return result;\n        },\n        getStateAsync: async function (id: string): Promise<ioBroker.State | null | undefined> {\n            let state: ioBroker.State | null | undefined;\n            if (id.includes('.')) {\n                state = await adapter.getForeignStateAsync(id);\n            } else {\n                state = await adapter.getStateAsync(id);\n            }\n            return context.convertBackStringifiedValues(id, state);\n        },\n        setStateAsync: function (\n            id: string,\n            state: ioBroker.SettableState | ioBroker.StateValue,\n            isAck?: boolean,\n        ): Promise<void> {\n            return new Promise((resolve, reject) =>\n                setStateHelper(sandbox, false, false, id, state, isAck, err => (err ? reject(err) : resolve())),\n            );\n        },\n        setStateChangedAsync: function (\n            id: string,\n            state: ioBroker.SettableState | ioBroker.StateValue,\n            isAck?: boolean,\n        ): Promise<void> {\n            return new Promise((resolve, reject) =>\n                setStateHelper(sandbox, false, true, id, state, isAck, err => (err ? reject(err) : resolve())),\n            );\n        },\n        getState: function (\n            id: string,\n            callback?: (err: Error | null | undefined, state?: ioBroker.State | null) => void,\n        ): undefined | void | (ioBroker.State & { notExist?: true }) | null {\n            if (typeof id !== 'string') {\n                sandbox.log(`getState has been called with id of type \"${typeof id}\" but expects a string`, 'error');\n                return undefined;\n            }\n\n            if (typeof callback === 'function') {\n                if (!id.includes('.')) {\n                    adapter.getState(id, (err, state) =>\n                        callback(err, context.convertBackStringifiedValues(id, state)),\n                    );\n                } else {\n                    adapter.getForeignState(id, (err, state) =>\n                        callback(err, context.convertBackStringifiedValues(id, state)),\n                    );\n                }\n            } else {\n                if ((adapter.config as JavaScriptAdapterConfig).subscribe) {\n                    sandbox.log(\n                        'The \"getState\" method cannot be used synchronously, because the adapter setting \"Do not subscribe to all states on start\" is enabled.',\n                        'error',\n                    );\n                    sandbox.log(\n                        `Please disable that setting or use \"getState\" with a callback, e.g.: getState('${id}', (err, state) => { ... });`,\n                        'error',\n                    );\n                } else {\n                    if (states[id]) {\n                        sandbox.verbose &&\n                            sandbox.log(\n                                `getState(id=${id}, timerId=${JSON.stringify(timers[id])}) => ${JSON.stringify(states[id])}`,\n                                'info',\n                            );\n                        if (context.interimStateValues[id] !== undefined) {\n                            return context.convertBackStringifiedValues(id, context.interimStateValues[id]);\n                        }\n                        return context.convertBackStringifiedValues(id, states[id]);\n                    } else if (states[`${adapter.namespace}.${id}`]) {\n                        sandbox.verbose &&\n                            sandbox.log(\n                                `getState(id=${id}, timerId=${JSON.stringify(timers[id])}) => ${JSON.stringify(states[`${adapter.namespace}.${id}`])}`,\n                                'info',\n                            );\n                        if (context.interimStateValues[`${adapter.namespace}.${id}`] !== undefined) {\n                            return context.convertBackStringifiedValues(\n                                id,\n                                context.interimStateValues[`${adapter.namespace}.${id}`],\n                            );\n                        }\n                        return context.convertBackStringifiedValues(id, states[`${adapter.namespace}.${id}`]);\n                    }\n\n                    if (sandbox.verbose) {\n                        sandbox.log(`getState(id=${id}, timerId=${JSON.stringify(timers[id])}) => not found`, 'info');\n                    }\n\n                    context.logWithLineInfo(\n                        `getState \"${id}\" not found (3)${states[id] !== undefined ? ` states[id]=${JSON.stringify(states[id])}` : ''}`,\n                    ); ///xxx\n                    return { val: null, notExist: true } as ioBroker.State & { notExist?: true };\n                }\n            }\n        },\n        existsState: function (\n            id: string,\n            callback?: (err: Error | null | undefined, stateExists?: boolean) => void,\n        ): void | boolean {\n            if (typeof id !== 'string') {\n                sandbox.log(`existsState has been called with id of type \"${typeof id}\" but expects a string`, 'error');\n                return false;\n            }\n\n            if (typeof callback === 'function') {\n                adapter.getForeignObject(id, (err, obj) => {\n                    if (!obj || obj.type !== 'state') {\n                        callback(err, false);\n                        return;\n                    }\n\n                    if ((adapter.config as JavaScriptAdapterConfig).subscribe) {\n                        adapter.getForeignState(id, (err, state) => {\n                            callback(err, !!state);\n                        });\n                    } else {\n                        callback(err, !!states[id]);\n                    }\n                });\n            } else {\n                if ((adapter.config as JavaScriptAdapterConfig).subscribe) {\n                    sandbox.log(\n                        'The \"existsState\" method cannot be used synchronously, because the adapter setting \"Do not subscribe to all states on start\" is enabled.',\n                        'error',\n                    );\n                    sandbox.log(\n                        `Please disable that setting or use \"existsState\" with a callback, e.g.: existsState('${id}', (err, stateExists) => { ... });`,\n                        'error',\n                    );\n                } else {\n                    return !!states[id];\n                }\n            }\n        },\n        existsObject: function (\n            id: string,\n            callback?: (err: Error | null | undefined, objectExists?: boolean) => void,\n        ): void | boolean {\n            if (typeof id !== 'string') {\n                sandbox.log(\n                    `existsObject has been called with id of type \"${typeof id}\" but expects a string`,\n                    'error',\n                );\n                return false;\n            }\n\n            if (typeof callback === 'function') {\n                adapter.getForeignObject(id, (err, obj) => callback(err, !!obj));\n            } else {\n                return !!objects[id];\n            }\n        },\n        getIdByName: function (name: string, alwaysArray?: boolean): string | string[] | null {\n            sandbox.verbose &&\n                sandbox.log(\n                    `getIdByName(name=${name}, alwaysArray=${alwaysArray}) => ${JSON.stringify(context.names[name])}`,\n                    'info',\n                );\n            if (Object.prototype.hasOwnProperty.call(context.names, name)) {\n                if (alwaysArray) {\n                    return !Array.isArray(context.names[name]) ? [context.names[name]] : context.names[name];\n                }\n                return context.names[name];\n            }\n            if (alwaysArray) {\n                return [];\n            }\n            return null;\n        },\n        getObject: function (\n            id: string,\n            enumName: null | string | ((err: Error | null | undefined, obj?: ioBroker.Object | null) => void),\n            cb?: (err: Error | null | undefined, obj?: ioBroker.Object | null) => void,\n        ): void | ioBroker.Object | null {\n            if (typeof id !== 'string') {\n                sandbox.log(`getObject has been called with id of type \"${typeof id}\" but expects a string`, 'error');\n                return null;\n            }\n\n            if (typeof enumName === 'function') {\n                cb = enumName;\n                enumName = null;\n            }\n            // with callback\n            if (typeof cb === 'function') {\n                adapter.getForeignObject(id, (err, obj) => {\n                    if (obj) {\n                        objects[id] = obj;\n                    } else if (objects[id]) {\n                        delete objects[id];\n                    }\n                    let result: ioBroker.Object | null | undefined;\n                    try {\n                        result = JSON.parse(JSON.stringify(objects[id]));\n                    } catch (err: unknown) {\n                        adapter.setState(`scriptProblem.${name.substring(SCRIPT_CODE_MARKER.length)}`, {\n                            val: true,\n                            ack: true,\n                            c: 'getObject',\n                        });\n                        sandbox.log(`Object \"${id}\" can't be copied: ${JSON.stringify(err)}`, 'error');\n                        return cb(null, null);\n                    }\n                    sandbox.verbose &&\n                        sandbox.log(`getObject(id=${id}, enumName=${enumName}) => ${JSON.stringify(result)}`, 'info');\n                    cb(err, result);\n                });\n            } else {\n                if (!objects[id]) {\n                    sandbox.verbose &&\n                        sandbox.log(`getObject(id=${id}, enumName=${enumName}) => does not exist`, 'info');\n                    sandbox.log(`Object \"${id}\" does not exist`, 'warn');\n                    return null;\n                }\n                if (enumName) {\n                    const e = eventObj.getObjectEnumsSync(context, id);\n                    const obj = JSON.parse(JSON.stringify(objects[id]));\n                    obj.enumIds = JSON.parse(JSON.stringify(e.enumIds));\n                    obj.enumNames = JSON.parse(JSON.stringify(e.enumNames));\n                    if (typeof enumName === 'string') {\n                        const r = new RegExp(`^enum\\\\.${enumName}\\\\.`);\n                        for (let i = obj.enumIds.length - 1; i >= 0; i--) {\n                            if (!r.test(obj.enumIds[i])) {\n                                obj.enumIds.splice(i, 1);\n                                obj.enumNames.splice(i, 1);\n                            }\n                        }\n                    }\n                    sandbox.verbose &&\n                        sandbox.log(`getObject(id=${id}, enumName=${enumName}) => ${JSON.stringify(obj)}`, 'info');\n\n                    return obj;\n                }\n                let result: ioBroker.Object | null | undefined;\n                try {\n                    result = JSON.parse(JSON.stringify(objects[id]));\n                } catch (err: unknown) {\n                    adapter.setState(`scriptProblem.${name.substring(SCRIPT_CODE_MARKER.length)}`, {\n                        val: true,\n                        ack: true,\n                        c: 'getObject',\n                    });\n                    sandbox.log(`Object \"${id}\" can't be copied: ${JSON.stringify(err)}`, 'error');\n                    return null;\n                }\n                sandbox.verbose &&\n                    sandbox.log(`getObject(id=${id}, enumName=${enumName}) => ${JSON.stringify(result)}`, 'info');\n                return result;\n            }\n        },\n        // This function will be overloaded later if the modification of objects is allowed\n        setObject: function (\n            _id: string,\n            _obj: ioBroker.Object,\n            callback?: (err?: Error | null, res?: { id: string }) => void,\n        ): void {\n            sandbox.log('Function \"setObject\" is not allowed. Use adapter settings to allow it.', 'error');\n            if (typeof callback === 'function') {\n                try {\n                    callback.call(\n                        sandbox,\n                        new Error('Function \"setObject\" is not allowed. Use adapter settings to allow it.'),\n                    );\n                } catch (err: unknown) {\n                    errorInCallback(err as Error);\n                }\n            }\n        },\n        // This function will be overloaded later if the modification of objects is allowed\n        extendObject: function (\n            _id: string,\n            _obj: Partial<ioBroker.Object>,\n            callback?: (err?: Error | null, res?: { id: string }) => void,\n        ): void {\n            sandbox.log('Function \"extendObject\" is not allowed. Use adapter settings to allow it.', 'error');\n            if (typeof callback === 'function') {\n                try {\n                    callback.call(\n                        sandbox,\n                        new Error('Function \"extendObject\" is not allowed. Use adapter settings to allow it.'),\n                    );\n                } catch (err: unknown) {\n                    errorInCallback(err as Error);\n                }\n            }\n        },\n        // This function will be overloaded later if the modification of objects is allowed\n        deleteObject: function (\n            _id: string,\n            _isRecursive?: boolean | ioBroker.ErrorCallback,\n            callback?: ioBroker.ErrorCallback,\n        ): void {\n            if (typeof _isRecursive === 'function') {\n                callback = _isRecursive;\n            }\n            sandbox.log('Function \"deleteObject\" is not allowed. Use adapter settings to allow it.', 'error');\n            if (typeof callback === 'function') {\n                try {\n                    callback.call(\n                        sandbox,\n                        new Error('Function \"deleteObject\" is not allowed. Use adapter settings to allow it.'),\n                    );\n                } catch (err: unknown) {\n                    errorInCallback(err as Error);\n                }\n            }\n        },\n        getEnums: function (enumName?: string): { id: string; members: string[]; name: ioBroker.StringOrTranslated }[] {\n            const result: { id: string; members: string[]; name: ioBroker.StringOrTranslated }[] = [];\n            const r = enumName ? new RegExp(`^enum\\\\.${enumName}\\\\.`) : false;\n            for (let i = 0; i < enums.length; i++) {\n                if (!r || r.test(enums[i])) {\n                    const common: ioBroker.EnumCommon =\n                        (objects[enums[i]] as ioBroker.EnumObject).common || ({} as ioBroker.EnumCommon);\n                    result.push({\n                        id: enums[i],\n                        members: common.members || [],\n                        name: common.name || '',\n                    });\n                }\n            }\n            if (sandbox.verbose) {\n                sandbox.log(`getEnums(enumName=${enumName}) => ${JSON.stringify(result)}`, 'info');\n            }\n            return JSON.parse(JSON.stringify(result));\n        },\n        createAlias: function (\n            name: string,\n            alias: string | CommonAlias,\n            forceCreation: boolean | Partial<ioBroker.StateCommon> | ((err: Error | null) => void) | undefined,\n            common?: Partial<ioBroker.StateCommon> | Record<string, any> | ((err: Error | null) => void),\n            native?: Record<string, any> | ((err: Error | null) => void),\n            callback?: (err: Error | null) => void,\n        ) {\n            if (typeof native === 'function') {\n                callback = native as (err: Error | null) => void;\n                native = {};\n            }\n            if (typeof common === 'function') {\n                callback = common as (err: Error | null) => void;\n                common = undefined;\n            }\n            if (typeof forceCreation === 'function') {\n                callback = forceCreation as (err: Error | null) => void;\n                forceCreation = undefined;\n            }\n            if (isObject(forceCreation)) {\n                native = common;\n                common = forceCreation as Partial<ioBroker.ObjectCommon>;\n                forceCreation = undefined;\n            }\n\n            if (typeof name !== 'string') {\n                const err = `Wrong type of name \"${typeof name}\". Expected \"string\".`;\n                sandbox.log(err, 'error');\n                if (typeof callback === 'function') {\n                    try {\n                        callback.call(sandbox, new Error(err));\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                }\n                return;\n            }\n\n            if (!name) {\n                const err = 'Empty ID is not allowed.';\n                sandbox.log(err, 'error');\n                if (typeof callback === 'function') {\n                    try {\n                        callback.call(sandbox, new Error(err));\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                }\n                return;\n            }\n\n            if (!name.startsWith('alias.0.')) {\n                name = `alias.0.${name}`;\n            }\n\n            const _common: Partial<ioBroker.StateCommon> = (common as Partial<ioBroker.StateCommon>) || {};\n            if (isObject(_common.alias)) {\n                // alias already in common, use this\n            } else if (\n                isObject(alias) &&\n                (typeof (alias as CommonAlias).id === 'string' || isObject((alias as CommonAlias).id))\n            ) {\n                _common.alias = alias as CommonAlias;\n            } else if (typeof alias === 'string') {\n                _common.alias = { id: alias };\n            } else {\n                const err = 'Source ID needs to be provided as string or object with id property.';\n                sandbox.log(err, 'error');\n                if (typeof callback === 'function') {\n                    try {\n                        callback.call(sandbox, new Error(err));\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                }\n                return;\n            }\n\n            let aliasSourceId = '';\n            if (_common.alias) {\n                aliasSourceId = isObject(_common.alias.id)\n                    ? (_common.alias.id as { read: string; write: string }).read\n                    : (_common.alias.id as string);\n                if (!objects[aliasSourceId] && objects[`${adapter.namespace}.${aliasSourceId}`]) {\n                    aliasSourceId = `${adapter.namespace}.${aliasSourceId}`;\n                    if (isObject(_common.alias.id)) {\n                        (_common.alias.id as { read: string; write: string }).read = aliasSourceId;\n                    } else {\n                        _common.alias.id = aliasSourceId;\n                    }\n                }\n                if (\n                    isObject(_common.alias.id) &&\n                    (_common.alias.id as { read: string; write: string }).write &&\n                    !objects[(_common.alias.id as { read: string; write: string }).write] &&\n                    objects[`${adapter.namespace}.${(_common.alias.id as { read: string; write: string }).write}`]\n                ) {\n                    (_common.alias.id as { read: string; write: string }).write =\n                        `${adapter.namespace}.${(_common.alias.id as { read: string; write: string }).write}`;\n                }\n            }\n            const obj = objects[aliasSourceId];\n            if (!obj) {\n                const err = `Alias source object \"${aliasSourceId}\" does not exist.`;\n                sandbox.log(err, 'error');\n                if (typeof callback === 'function') {\n                    try {\n                        callback.call(sandbox, new Error(err));\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                }\n                return;\n            }\n            if (obj.type !== 'state') {\n                const err = `Alias source object \"${aliasSourceId}\" must be a state object.`;\n                sandbox.log(err, 'error');\n                if (typeof callback === 'function') {\n                    try {\n                        callback.call(sandbox, new Error(err));\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                }\n                return;\n            }\n            if (_common.name === undefined) {\n                _common.name = obj.common.name || name;\n            }\n            if (_common.type === undefined && obj.common.type !== undefined) {\n                _common.type = obj.common.type;\n            }\n            if (_common.role === undefined && obj.common.role !== undefined) {\n                _common.role = obj.common.role;\n            }\n            if (_common.min === undefined && obj.common.min !== undefined) {\n                _common.min = obj.common.min;\n            }\n            if (_common.max === undefined && obj.common.max !== undefined) {\n                _common.max = obj.common.max;\n            }\n            if (_common.step === undefined && obj.common.step !== undefined) {\n                _common.step = obj.common.step;\n            }\n            if (_common.unit === undefined && obj.common.unit !== undefined) {\n                _common.unit = obj.common.unit;\n            }\n            if (_common.desc === undefined && obj.common.desc !== undefined) {\n                _common.desc = obj.common.desc;\n            }\n\n            return sandbox.createState(\n                name,\n                undefined,\n                forceCreation as boolean,\n                _common,\n                native,\n                callback as (err?: Error | null) => void,\n            );\n        },\n        createState: async function (\n            name: string,\n            initValue: undefined | ioBroker.StateValue | ioBroker.State,\n            forceCreation:\n                | boolean\n                | undefined\n                | Record<string, any>\n                | Partial<ioBroker.StateCommon>\n                | ((err: Error | null) => void),\n            common?: Partial<ioBroker.StateCommon> | ((err: Error | null) => void),\n            native?: Record<string, any> | ((err: Error | null) => void),\n            callback?: (error: Error | null | undefined, id?: string) => void,\n        ) {\n            if (typeof native === 'function') {\n                callback = native as (err?: Error | null) => void;\n                native = {};\n            }\n            if (typeof common === 'function') {\n                callback = common as (err?: Error | null) => void;\n                common = undefined;\n            }\n            if (typeof initValue === 'function') {\n                callback = initValue as (err?: Error | null) => void;\n                initValue = undefined;\n            }\n            if (typeof forceCreation === 'function') {\n                callback = forceCreation as (err?: Error | null) => void;\n                forceCreation = undefined;\n            }\n            if (isObject(initValue)) {\n                common = initValue as Partial<ioBroker.StateCommon>;\n                native = forceCreation as Record<string, any>;\n                forceCreation = undefined;\n                initValue = undefined;\n            }\n            if (isObject(forceCreation)) {\n                native = common as Record<string, any>;\n                common = forceCreation as Partial<ioBroker.StateCommon>;\n                forceCreation = undefined;\n            }\n\n            if (typeof name !== 'string') {\n                const err = `Wrong type of name \"${typeof name}\". Expected \"string\".`;\n                sandbox.log(err, 'error');\n                if (typeof callback === 'function') {\n                    try {\n                        callback.call(sandbox, new Error(err));\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                }\n                return;\n            }\n\n            if (!name) {\n                const err = 'Empty ID is not allowed.';\n                sandbox.log(err, 'error');\n                if (typeof callback === 'function') {\n                    try {\n                        callback.call(sandbox, new Error(err));\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                }\n                return;\n            }\n\n            const isAlias = name.startsWith('alias.0.');\n\n            const _common: ioBroker.StateCommon = (common || {}) as ioBroker.StateCommon;\n            _common.name = _common.name || name;\n            _common.role = _common.role || 'state';\n            _common.type = _common.type || 'mixed';\n            if (!isAlias && initValue === undefined) {\n                initValue = _common.def;\n            }\n\n            native = native || {};\n\n            // Check min, max and def values for number\n            if (_common.type !== undefined && _common.type === 'number') {\n                let min = 0;\n                let max = 0;\n                let def = 0;\n                let err: string | undefined;\n                if (_common.min !== undefined) {\n                    min = _common.min;\n                    if (typeof min !== 'number') {\n                        min = parseFloat(min);\n                        if (isNaN(min)) {\n                            err = `Wrong type of ${name}.common.min`;\n                            sandbox.log(err, 'error');\n                            if (typeof callback === 'function') {\n                                try {\n                                    callback.call(sandbox, new Error(err));\n                                } catch (err: unknown) {\n                                    errorInCallback(err as Error);\n                                }\n                            }\n                            return;\n                        }\n                        _common.min = min;\n                    }\n                }\n                if (_common.max !== undefined) {\n                    max = _common.max;\n                    if (typeof max !== 'number') {\n                        max = parseFloat(max);\n                        if (isNaN(max)) {\n                            err = `Wrong type of ${name}.common.max`;\n                            sandbox.log(err, 'error');\n                            if (typeof callback === 'function') {\n                                try {\n                                    callback.call(sandbox, new Error(err));\n                                } catch (err: unknown) {\n                                    errorInCallback(err as Error);\n                                }\n                            }\n                            return;\n                        }\n                        _common.max = max;\n                    }\n                }\n\n                if (_common.def !== undefined) {\n                    if (isAlias) {\n                        delete _common.def;\n                    } else {\n                        def = _common.def;\n                        if (typeof def !== 'number') {\n                            def = parseFloat(def);\n                            if (isNaN(def)) {\n                                err = `Wrong type of ${name}.common.def`;\n                                sandbox.log(err, 'error');\n                                if (typeof callback === 'function') {\n                                    try {\n                                        callback.call(sandbox, new Error(err));\n                                    } catch (err: unknown) {\n                                        errorInCallback(err as Error);\n                                    }\n                                }\n                                return;\n                            }\n                            _common.def = def;\n                        }\n                    }\n                }\n\n                if (_common.min !== undefined && _common.max !== undefined && min > max) {\n                    _common.max = min;\n                    _common.min = max;\n                }\n                if (_common.def !== undefined && _common.min !== undefined && def < min) {\n                    _common.def = min;\n                }\n                if (_common.def !== undefined && _common.max !== undefined && def > max) {\n                    _common.def = max;\n                }\n            }\n\n            if (sandbox.verbose) {\n                sandbox.log(\n                    `createState(name=${name}, initValue=${JSON.stringify(initValue)}, forceCreation=${JSON.stringify(forceCreation)}, common=${JSON.stringify(common)}, native=${JSON.stringify(native)}, isAlias=${isAlias})`,\n                    'debug',\n                );\n            }\n\n            let id = `${adapter.namespace}.${name}`;\n            if (name.match(/^javascript\\.\\d+\\./) || name.startsWith('0_userdata.0.') || isAlias) {\n                id = name;\n            }\n            if (id.match(/^javascript\\.\\d+\\.scriptEnabled/)) {\n                sandbox.log(\n                    `Own states (${id}) should not be created in javascript.X.scriptEnabled.*! Please move the states to 0_userdata.0.*`,\n                    'info',\n                );\n            } else if (id.match(/^javascript\\.\\d+\\.scriptProblem/)) {\n                sandbox.log(\n                    `Own states (${id}) should not be created in javascript.X.scriptProblem.*! Please move the states to 0_userdata.0.*`,\n                    'info',\n                );\n            }\n\n            // User can create aliases by two ways:\n            // - id is starting with \"alias.0.\" and common.alias.id is set, so the state defined in common.alias.id will be created automatically if not exists\n            // - id is not starting with \"alias.0.\", but common.alias is set, so the state defined in common.alias will be created automatically if not exists\n            if (!isAlias && _common.alias) {\n                // check and create if not exists the alias\n                let alias: CommonAlias;\n                if (typeof _common.alias === 'string') {\n                    alias = {\n                        id: _common.alias,\n                    };\n                } else if (typeof _common.alias === 'boolean') {\n                    const parts = id.split('.');\n                    parts[0] = 'alias';\n                    parts[1] = '0';\n\n                    alias = {\n                        id: parts.join('.'),\n                    };\n                } else {\n                    alias = _common.alias;\n                }\n                delete _common.alias;\n\n                if (!(alias.id as string).startsWith('alias.0.')) {\n                    alias.id = `alias.0.${alias.id as string}`;\n                }\n\n                let aObj: ioBroker.StateObject | null | undefined;\n                try {\n                    aObj = (await adapter.getForeignObjectAsync(alias.id as string)) as\n                        | ioBroker.StateObject\n                        | null\n                        | undefined;\n                } catch {\n                    // ignore\n                }\n                if (!aObj) {\n                    try {\n                        const _obj: ioBroker.StateObject = {\n                            _id: alias.id as string,\n                            type: 'state',\n                            common: {\n                                name: `Alias to ${id}`,\n                                role: 'state',\n                                type: _common.type,\n                                read: _common.read,\n                                write: _common.write,\n                                unit: _common.unit,\n                                alias: {\n                                    id,\n                                    read: alias.read,\n                                    write: alias.write,\n                                },\n                            },\n                            native: {},\n                        };\n\n                        await adapter.setForeignObjectAsync(alias.id as string, _obj);\n                    } catch (err: unknown) {\n                        sandbox.log(`Cannot create alias \"${alias.id as string}\": ${err as Error}`, 'error');\n                    }\n                }\n            } else if (isAlias && _common.alias) {\n                if (typeof _common.alias === 'string') {\n                    _common.alias = {\n                        id: _common.alias,\n                    };\n                }\n                const readId = typeof _common.alias.id === 'string' ? _common.alias.id : _common.alias.id.read;\n                let writeId: string | undefined =\n                    typeof _common.alias.id === 'string' ? _common.alias.id : _common.alias.id.write;\n                if (writeId === readId) {\n                    writeId = undefined;\n                }\n                // try to create the linked states\n                let aObj: ioBroker.StateObject | null | undefined;\n                try {\n                    aObj = (await adapter.getForeignObjectAsync(readId)) as ioBroker.StateObject | null | undefined;\n                } catch {\n                    // ignore\n                }\n                if (!aObj) {\n                    try {\n                        await adapter.setForeignObjectAsync(readId, {\n                            type: 'state',\n                            common: {\n                                name: `State for ${id}`,\n                                role: 'state',\n                                type: _common.type,\n                                read: _common.read,\n                                write: _common.write,\n                                unit: _common.unit,\n                            },\n                            native: {},\n                        });\n                    } catch (err: unknown) {\n                        sandbox.log(`Cannot create alias \"${readId}\": ${err as Error}`, 'error');\n                    }\n                }\n                if (writeId && _common.write !== false) {\n                    try {\n                        aObj = (await adapter.getForeignObjectAsync(writeId)) as\n                            | ioBroker.StateObject\n                            | null\n                            | undefined;\n                    } catch {\n                        // ignore\n                    }\n                    if (!aObj) {\n                        try {\n                            await adapter.setForeignObjectAsync(writeId, {\n                                type: 'state',\n                                common: {\n                                    name: `Write state for ${id}`,\n                                    role: 'state',\n                                    type: _common.type,\n                                    read: _common.read,\n                                    write: _common.write,\n                                    unit: _common.unit,\n                                },\n                                native: {},\n                            });\n                        } catch (err: unknown) {\n                            sandbox.log(`Cannot create alias \"${writeId}\": ${err as Error}`, 'error');\n                        }\n                    }\n                }\n            }\n\n            let obj: ioBroker.Object | null | undefined;\n            try {\n                obj = await adapter.getForeignObjectAsync(id);\n            } catch {\n                // ignore\n            }\n\n            if (\n                obj?._id &&\n                validIdForAutomaticFolderCreation(obj._id) &&\n                obj.type === 'folder' &&\n                obj.native &&\n                obj.native.autocreated === 'by automatic ensure logic'\n            ) {\n                // ignore a default created object because we now have a better defined one\n                obj = null;\n            }\n\n            if (!obj || forceCreation) {\n                // create new one\n                const newObj: ioBroker.StateObject = {\n                    _id: id,\n                    common: _common,\n                    native,\n                    type: 'state',\n                };\n                try {\n                    await adapter.setForeignObjectAsync(id, newObj);\n                } catch (err: unknown) {\n                    sandbox.log(`Cannot set object \"${id}\": ${err as Error}`, 'warn');\n                    if (typeof callback === 'function') {\n                        try {\n                            callback.call(sandbox, err as Error);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }\n                    return;\n                }\n\n                // Update meta objects\n                context.updateObjectContext(id, newObj);\n\n                if (!isAlias && initValue !== undefined) {\n                    if (isObject(initValue) && (initValue as ioBroker.State).ack !== undefined) {\n                        setStateHelper(sandbox, true, false, id, initValue, callback);\n                    } else {\n                        setStateHelper(sandbox, true, false, id, initValue, true, callback);\n                    }\n                } else if (!isAlias && !forceCreation) {\n                    setStateHelper(sandbox, true, false, id, null, callback);\n                } else if (isAlias) {\n                    try {\n                        const state = await adapter.getForeignStateAsync(id);\n                        if (state) {\n                            states[id] = state;\n                        }\n                    } catch {\n                        // ignore\n                    }\n                    if (typeof callback === 'function') {\n                        try {\n                            callback.call(sandbox, null, id);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }\n                } else if (typeof callback === 'function') {\n                    try {\n                        callback.call(sandbox, null, id);\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                }\n                await ensureObjectStructure(id);\n            } else {\n                // state yet exists\n                if (\n                    !(adapter.config as JavaScriptAdapterConfig).subscribe &&\n                    !states[id] &&\n                    states[`${adapter.namespace}.${id}`] === undefined\n                ) {\n                    states[id] = {\n                        val: null,\n                        ack: true,\n                        lc: Date.now(),\n                        ts: Date.now(),\n                        q: 0,\n                        from: `system.adapter.${adapter.namespace}`,\n                    };\n                }\n                if (typeof callback === 'function') {\n                    try {\n                        callback.call(sandbox, null, id);\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                }\n\n                await ensureObjectStructure(id);\n            }\n        },\n        deleteState: function (id: string, callback?: (err: Error | null | undefined, found?: boolean) => void): void {\n            // todo: check rights\n            // todo: also remove from \"names\"\n\n            if (sandbox.verbose) {\n                sandbox.log(`deleteState(id=${id})`, 'debug');\n            }\n\n            let found = false;\n            if ((id.startsWith('0_userdata.0.') || id.startsWith(adapter.namespace)) && objects[id]) {\n                found = true;\n                delete objects[id];\n                if (states[id]) {\n                    delete states[id];\n                }\n\n                adapter.delForeignObject(id, function (err) {\n                    err && sandbox.log(`Object for state \"${id}\" does not exist: ${err}`, 'warn');\n\n                    adapter.delForeignState(id, function (err) {\n                        err && sandbox.log(`Cannot delete state \"${id}\": ${err}`, 'error');\n                        if (typeof callback === 'function') {\n                            try {\n                                callback.call(sandbox, err, found);\n                            } catch (err: unknown) {\n                                errorInCallback(err as Error);\n                            }\n                        }\n                    });\n                });\n            } else if (objects[`${adapter.namespace}.${id}`]) {\n                delete objects[`${adapter.namespace}.${id}`];\n                found = true;\n                if (states[`${adapter.namespace}.${id}`]) {\n                    delete states[`${adapter.namespace}.${id}`];\n                }\n\n                adapter.delObject(id, function (err) {\n                    err && sandbox.log(`Object for state \"${id}\" does not exist: ${err}`, 'warn');\n\n                    adapter.delState(id, function (err) {\n                        err && sandbox.log(`Cannot delete state \"${id}\": ${err}`, 'error');\n                        if (typeof callback === 'function') {\n                            try {\n                                callback.call(sandbox, err, found);\n                            } catch (err: unknown) {\n                                errorInCallback(err as Error);\n                            }\n                        }\n                    });\n                });\n            } else {\n                const err = 'Not found';\n                sandbox.log(`Cannot delete state \"${id}\": ${err}`, 'error');\n                if (typeof callback === 'function') {\n                    try {\n                        callback.call(sandbox, new Error(err), found);\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                }\n            }\n        },\n        sendTo: function (\n            _adapter: string,\n            cmd: string,\n            msg?: any,\n            options?: Record<string, any> | ((result: any, options: Record<string, any>, _adapter: string) => void),\n            callback?: (result: any, options: Record<string, any>, _adapter: string) => void,\n        ): void {\n            const defaultTimeout = 20000;\n\n            if (typeof options === 'function') {\n                callback = options as (result: any, options: Record<string, any>, _adapter: string) => void;\n                options = { timeout: defaultTimeout };\n            }\n\n            let timeout: NodeJS.Timeout | null = null;\n            if (typeof callback === 'function') {\n                const timeoutDuration = parseInt(options?.timeout, 10) || defaultTimeout;\n\n                timeout = setTimeout(() => {\n                    timeout = null;\n\n                    if (sandbox.verbose) {\n                        sandbox.log(`sendTo => timeout: ${timeoutDuration}`, 'debug');\n                    }\n\n                    if (typeof callback === 'function') {\n                        try {\n                            callback.call(sandbox, { error: 'timeout' }, options as Record<string, any>, _adapter);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                        callback = undefined;\n                    }\n                }, timeoutDuration);\n            }\n\n            let cbFunc: undefined | ((result: any) => void);\n            if (timeout) {\n                cbFunc = function (result: any): void {\n                    if (timeout) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                    }\n\n                    if (sandbox.verbose && result) {\n                        sandbox.log(`sendTo => ${JSON.stringify(result)}`, 'debug');\n                    }\n\n                    if (typeof callback === 'function') {\n                        try {\n                            callback.call(sandbox, result, options as Record<string, any>, _adapter);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                        callback = undefined;\n                    }\n                };\n            }\n\n            // If specific instance\n            if (_adapter.match(/\\.[0-9]+$/)) {\n                sandbox.verbose &&\n                    sandbox.log(\n                        `sendTo(instance=${_adapter}, cmd=${cmd}, msg=${JSON.stringify(msg)}, hasCallback=${typeof callback === 'function'})`,\n                        'info',\n                    );\n\n                adapter.sendTo(_adapter, cmd, msg, cbFunc, options);\n            } else {\n                // Send it to all instances\n                context.adapter.getObjectView(\n                    'system',\n                    'instance',\n                    { startkey: `system.adapter.${_adapter}.`, endkey: `system.adapter.${_adapter}.\\u9999` },\n                    options,\n                    (err, res) => {\n                        if (err || !res) {\n                            sandbox.log(`sendTo failed: ${err?.message}`, 'error');\n                            return;\n                        }\n\n                        const instances = res.rows.map(item => item.id.substring('system.adapter.'.length));\n\n                        instances.forEach(instance => {\n                            sandbox.verbose &&\n                                sandbox.log(\n                                    `sendTo(instance=${instance}, cmd=${cmd}, msg=${JSON.stringify(msg)}, hasCallback=${typeof callback === 'function'})`,\n                                    'info',\n                                );\n                            adapter.sendTo(instance, cmd, msg, cbFunc, options);\n                        });\n                    },\n                );\n            }\n        },\n        sendto: function (\n            _adapter: string,\n            cmd: string,\n            msg: any,\n            callback?: (result: any, options: Record<string, any>, _adapter: string) => void,\n        ): void {\n            return sandbox.sendTo(_adapter, cmd, msg, callback);\n        },\n        sendToAsync: function (_adapter: string, cmd: string, msg?: any, options?: Record<string, any>): Promise<any> {\n            return new Promise((resolve, reject) => {\n                sandbox.sendTo(_adapter, cmd, msg, options, res => {\n                    if (!res || res.error) {\n                        reject(res ? new Error(res.error) : new Error('Unknown error'));\n                    } else {\n                        resolve(res);\n                    }\n                });\n            });\n        },\n        sendToHost: function (host: string, cmd: string, msg?: any, callback?: (result: any) => void): void {\n            if (!(adapter.config as JavaScriptAdapterConfig).enableSendToHost) {\n                const error =\n                    'sendToHost is not available. Please enable \"Enable SendToHost\" option in instance settings';\n                sandbox.log(error, 'error');\n\n                if (typeof callback === 'function') {\n                    // leave it as a normal function and not as a lambda, to hide the \"this\" object\n                    setImmediate(function () {\n                        callback(error);\n                    });\n                }\n            } else {\n                sandbox.verbose &&\n                    sandbox.log(`sendToHost(adapter=${host}, cmd=${cmd}, msg=${JSON.stringify(msg)})`, 'info');\n                adapter.sendToHost(host, cmd, msg, callback);\n            }\n        },\n        sendToHostAsync: function (host: string, cmd: string, msg?: any): Promise<any> {\n            return new Promise((resolve, reject) => {\n                sandbox.sendToHost(host, cmd, msg, res => {\n                    if (!res || res.error) {\n                        reject(res ? new Error(res.error) : new Error('Unknown error'));\n                    } else {\n                        resolve(res);\n                    }\n                });\n            });\n        },\n        registerNotification: function (msg: string, isAlert?: boolean): void {\n            const category = !isAlert ? 'scriptMessage' : 'scriptAlert';\n\n            if (sandbox.verbose) {\n                sandbox.log(`registerNotification(msg=${msg}, category=${category})`, 'info');\n            }\n\n            adapter.registerNotification('javascript', category, msg);\n        },\n        setInterval: function (callback: (...args: any[]) => void, ms: number, ...args: any[]): NodeJS.Timeout | null {\n            if (typeof callback === 'function') {\n                const int: NodeJS.Timeout = setInterval(() => {\n                    try {\n                        callback.call(sandbox, ...args);\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                }, ms);\n                script.intervals.push(int);\n\n                if (sandbox.verbose) {\n                    sandbox.log(`setInterval(ms=${ms})`, 'info');\n                }\n                return int;\n            }\n            sandbox.log(`Invalid callback for setInterval! - ${typeof callback}`, 'error');\n            return null;\n        },\n        clearInterval: function (id: NodeJS.Timeout): void {\n            const pos = script.intervals.indexOf(id);\n            if (pos !== -1) {\n                if (sandbox.verbose) {\n                    sandbox.log('clearInterval() => cleared', 'info');\n                }\n                clearInterval(id);\n                script.intervals.splice(pos, 1);\n            } else {\n                if (sandbox.verbose) {\n                    sandbox.log('clearInterval() => not found', 'warn');\n                }\n            }\n        },\n        setTimeout: function (callback: (args?: any[]) => void, ms: number, ...args: any[]): NodeJS.Timeout | null {\n            if (typeof callback === 'function') {\n                const to = setTimeout(() => {\n                    // Remove timeout from the list\n                    const pos = script.timeouts.indexOf(to);\n                    if (pos !== -1) {\n                        script.timeouts.splice(pos, 1);\n                    }\n\n                    try {\n                        callback.call(sandbox, ...args);\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                }, ms);\n                if (sandbox.verbose) {\n                    sandbox.log(`setTimeout(ms=${ms})`, 'info');\n                }\n\n                script.timeouts.push(to);\n                return to;\n            }\n            sandbox.log(`Invalid callback for setTimeout! - ${typeof callback}`, 'error');\n            return null;\n        },\n        clearTimeout: function (id: NodeJS.Timeout): void {\n            const pos = script.timeouts.indexOf(id);\n            if (pos !== -1) {\n                if (sandbox.verbose) {\n                    sandbox.log('clearTimeout() => cleared', 'info');\n                }\n                clearTimeout(id);\n                script.timeouts.splice(pos, 1);\n            } else {\n                if (sandbox.verbose) {\n                    sandbox.log('clearTimeout() => not found', 'warn');\n                }\n            }\n        },\n        setImmediate: function (callback: (..._args: any[]) => void, ...args: any[]): void {\n            if (typeof callback === 'function') {\n                setImmediate(() => {\n                    try {\n                        callback.apply(sandbox, args);\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                });\n                if (sandbox.verbose) {\n                    sandbox.log('setImmediate()', 'info');\n                }\n            } else {\n                sandbox.log(`Invalid callback for setImmediate! - ${typeof callback}`, 'error');\n            }\n        },\n        cb: function (callback: (..._args: any[]) => void): (...args: any[]) => void {\n            return function (args: any[]) {\n                if (context.scripts[name]?._id === sandbox._id) {\n                    if (typeof callback === 'function') {\n                        try {\n                            callback.apply(sandbox, args);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }\n                } else {\n                    sandbox.log(`Callback for old version of script: ${name}`, 'warn');\n                }\n            };\n        },\n        compareTime: function (\n            startTime: iobJS.AstroDate | string | Date | number,\n            endTime: iobJS.AstroDate | string | Date | number | null,\n            operation: 'between' | 'not between' | '<' | '<=' | '>' | '>=' | '==' | '<>' | '!=',\n            time?: iobJS.AstroDate | string | Date | number,\n        ): boolean {\n            if (startTime && typeof startTime === 'string') {\n                const pos = consts.astroListLow.indexOf(startTime.toLowerCase());\n                if (pos !== -1) {\n                    const aTime = sandbox.getAstroDate(consts.astroList[pos]);\n                    if (aTime) {\n                        startTime = aTime.toLocaleTimeString([], {\n                            hour: '2-digit',\n                            minute: '2-digit',\n                            hour12: false,\n                        });\n                    } else {\n                        startTime = 0;\n                    }\n                }\n            } else if (startTime && isObject(startTime) && (startTime as iobJS.AstroDate).astro) {\n                const aTime = sandbox.getAstroDate(\n                    (startTime as iobJS.AstroDate).astro,\n                    (startTime as iobJS.AstroDate).date || new Date(),\n                    (startTime as iobJS.AstroDate).offset || 0,\n                );\n                if (aTime) {\n                    startTime = aTime.toLocaleTimeString([], {\n                        hour: '2-digit',\n                        minute: '2-digit',\n                        hour12: false,\n                    });\n                } else {\n                    startTime = 0;\n                }\n            }\n\n            if (endTime && typeof endTime === 'string') {\n                const pos = consts.astroListLow.indexOf(endTime.toLowerCase());\n                if (pos !== -1) {\n                    const aTime = sandbox.getAstroDate(consts.astroList[pos]);\n                    endTime =\n                        aTime?.toLocaleTimeString([], {\n                            hour: '2-digit',\n                            minute: '2-digit',\n                            hour12: false,\n                        }) || 0;\n                }\n            } else if (endTime && isObject(endTime) && (endTime as iobJS.AstroDate).astro) {\n                const aTime = sandbox.getAstroDate(\n                    (endTime as iobJS.AstroDate).astro,\n                    (endTime as iobJS.AstroDate).date || new Date(),\n                    (endTime as iobJS.AstroDate).offset || 0,\n                );\n                endTime =\n                    aTime?.toLocaleTimeString([], {\n                        hour: '2-digit',\n                        minute: '2-digit',\n                        hour12: false,\n                    }) || 0;\n            }\n\n            // --- Convert \"time\" to number\n            let nTime: number | undefined;\n            // maybe it is astro date like 'sunrise' or 'sunset'\n            if (time && typeof time === 'string') {\n                const pos = consts.astroListLow.indexOf(time.toLowerCase());\n                if (pos !== -1) {\n                    nTime = sandbox.getAstroDate(consts.astroList[pos])?.getTime() || 0;\n                }\n            } else if (time && isObject(time) && (time as iobJS.AstroDate).astro) {\n                nTime =\n                    sandbox\n                        .getAstroDate(\n                            (time as iobJS.AstroDate).astro,\n                            (time as iobJS.AstroDate).date || new Date(),\n                            (time as iobJS.AstroDate).offset || 0,\n                        )\n                        ?.getTime() || 0;\n            }\n\n            let daily = true;\n            if (time) {\n                daily = false;\n            }\n            // if not astro date\n            if (!nTime) {\n                if (time && !isObject(time)) {\n                    if (typeof time === 'string' && !time.includes(' ') && !time.includes('T')) {\n                        const parts = time.split(':');\n                        const oTime = new Date();\n                        oTime.setHours(parseInt(parts[0], 10));\n                        oTime.setMinutes(parseInt(parts[1], 10));\n                        oTime.setMilliseconds(0);\n\n                        if (parts.length === 3) {\n                            oTime.setSeconds(parseInt(parts[2], 10));\n                        } else {\n                            oTime.setSeconds(0);\n                        }\n                        nTime = oTime.getTime();\n                    } else {\n                        nTime = new Date(time as string | number).getTime();\n                    }\n                } else if (!time) {\n                    const oTime = new Date();\n                    oTime.setMilliseconds(0);\n                    nTime = oTime.getTime();\n                } else {\n                    // If Date\n                    nTime = (time as Date).getTime();\n                }\n            }\n            // --- End of conversion \"time\" to number\n            if (typeof startTime === 'string') {\n                if (!startTime.includes(' ') && !startTime.includes('T')) {\n                    const parts = startTime.split(':');\n                    startTime = new Date();\n                    startTime.setHours(parseInt(parts[0], 10));\n                    startTime.setMinutes(parseInt(parts[1], 10));\n                    startTime.setMilliseconds(0);\n\n                    if (parts.length === 3) {\n                        startTime.setSeconds(parseInt(parts[2], 10));\n                    } else {\n                        startTime.setSeconds(0);\n                    }\n                } else {\n                    daily = false;\n                    startTime = new Date(startTime);\n                }\n            } else {\n                daily = false;\n                startTime = new Date(startTime as number | Date);\n            }\n            const nStartTime = startTime.getTime();\n\n            let nEndTime: number | null;\n            if (endTime && typeof endTime === 'string') {\n                if (!endTime.includes(' ') && !endTime.includes('T')) {\n                    const parts = endTime.split(':');\n                    endTime = new Date();\n                    endTime.setHours(parseInt(parts[0], 10));\n                    endTime.setMinutes(parseInt(parts[1], 10));\n                    endTime.setMilliseconds(0);\n\n                    if (parts.length === 3) {\n                        endTime.setSeconds(parseInt(parts[2], 10));\n                    } else {\n                        endTime.setSeconds(0);\n                    }\n                } else {\n                    daily = false;\n                    endTime = new Date(endTime);\n                }\n            } else if (endTime) {\n                daily = false;\n                endTime = new Date(endTime as number | Date);\n            } else {\n                endTime = null;\n            }\n\n            if (endTime) {\n                nEndTime = endTime.getTime();\n            } else {\n                nEndTime = null;\n            }\n\n            if (operation === 'between') {\n                if (nEndTime) {\n                    if (nStartTime > nEndTime && daily) {\n                        return !(nTime >= nEndTime && nTime < nStartTime);\n                    }\n                    return nTime >= nStartTime && nTime < nEndTime;\n                }\n                sandbox.log(`missing or unrecognized endTime expression: ${JSON.stringify(endTime)}`, 'warn');\n                return false;\n            }\n\n            if (operation === 'not between') {\n                if (nEndTime) {\n                    if (nStartTime > nEndTime && daily) {\n                        return nTime >= nEndTime && nTime < nStartTime;\n                    }\n                    return !(nTime >= nStartTime && nTime < nEndTime);\n                }\n                sandbox.log(`missing or unrecognized endTime expression: ${JSON.stringify(endTime)}`, 'warn');\n                return false;\n            }\n\n            if (operation === '>') {\n                return nTime > nStartTime;\n            }\n            if (operation === '>=') {\n                return nTime >= nStartTime;\n            }\n            if (operation === '<') {\n                return nTime < nStartTime;\n            }\n            if (operation === '<=') {\n                return nTime <= nStartTime;\n            }\n            if (operation === '==') {\n                return nTime === nStartTime;\n            }\n            if (operation === '<>' || operation === '!=') {\n                return nTime !== nStartTime;\n            }\n            sandbox.log(`Invalid operator: ${operation as string}`, 'warn');\n            return false;\n        },\n        onStop: function (cb: () => void, timeout?: number): void {\n            if (sandbox.verbose) {\n                sandbox.log(`onStop(timeout=${timeout})`, 'info');\n            }\n\n            script.onStopCb = cb;\n            script.onStopTimeout = timeout || 1000;\n        },\n        formatValue: function (value: number | string, decimals: number | string, format?: string): string {\n            if (typeof decimals === 'string') {\n                format = decimals;\n                decimals = 0;\n            }\n            if (!format) {\n                if (adapter.isFloatComma !== undefined) {\n                    format = adapter.isFloatComma ? '.,' : ',.';\n                } else if (objects['system.config'] && objects['system.config'].common) {\n                    format = objects['system.config'].common.isFloatComma ? '.,' : ',.';\n                }\n            }\n            return adapter.formatValue(value, decimals, format);\n        },\n        formatDate: function (\n            date: Date | string | number | iobJS.AstroDate,\n            format?: string,\n            language?: ioBroker.Languages,\n        ): string {\n            if (!format) {\n                if (adapter.dateFormat) {\n                    format = adapter.dateFormat;\n                } else {\n                    format =\n                        objects['system.config'] && objects['system.config'].common\n                            ? objects['system.config'].common.dateFormat || 'DD.MM.YYYY'\n                            : 'DD.MM.YYYY';\n                }\n                format = format || 'DD.MM.YYYY';\n            }\n            // maybe it is astro date like 'sunrise' or 'sunset'\n            if (date && typeof date === 'string') {\n                const pos = consts.astroListLow.indexOf(date.toLowerCase());\n                if (pos !== -1) {\n                    date = sandbox.getAstroDate(consts.astroList[pos])?.getTime() || 0;\n                }\n            } else if (date && isObject(date) && (date as iobJS.AstroDate).astro) {\n                date =\n                    sandbox\n                        .getAstroDate(\n                            (date as iobJS.AstroDate).astro,\n                            (date as iobJS.AstroDate).date || new Date(),\n                            (date as iobJS.AstroDate).offset || 0,\n                        )\n                        ?.getTime() || 0;\n            }\n\n            if (format.match(/[WНOО]+/)) {\n                let text: string = adapter.formatDate(date as Date | string | number, format);\n                if (!language || !consts.dayOfWeeksFull[language]) {\n                    language =\n                        adapter.language ||\n                        (objects['system.config'] &&\n                            objects['system.config'].common &&\n                            objects['system.config'].common.language) ||\n                        'en';\n                    if (!consts.dayOfWeeksFull[language as ioBroker.Languages]) {\n                        language = 'en';\n                    }\n                }\n                if (typeof date === 'number' || typeof date === 'string') {\n                    date = new Date(date);\n                } else if (typeof (date as Date).getMonth !== 'function') {\n                    sandbox.log(`Invalid date object provided: ${JSON.stringify(date)}`, 'error');\n                    return 'Invalid date';\n                }\n                const d: number = (date as Date).getDay();\n                text = text.replace('НН', consts.dayOfWeeksFull[language as ioBroker.Languages][d]);\n                let initialText = text;\n                text = text.replace('WW', consts.dayOfWeeksFull[language as ioBroker.Languages][d]);\n\n                if (initialText === text) {\n                    text = text.replace('W', consts.dayOfWeeksShort[language as ioBroker.Languages][d]);\n                }\n\n                text = text.replace('Н', consts.dayOfWeeksShort[language as ioBroker.Languages][d]);\n                text = text.replace('Н', consts.dayOfWeeksShort[language as ioBroker.Languages][d]);\n                const m: number = (date as Date).getMonth();\n                initialText = text;\n                text = text.replace('OOO', consts.monthFullGen[language as ioBroker.Languages][m]);\n                text = text.replace('ООО', consts.monthFullGen[language as ioBroker.Languages][m]);\n                text = text.replace('OO', consts.monthFull[language as ioBroker.Languages][m]);\n                text = text.replace('ОО', consts.monthFull[language as ioBroker.Languages][m]);\n\n                if (initialText === text) {\n                    text = text.replace('O', consts.monthShort[language as ioBroker.Languages][m]);\n                }\n                return text;\n            }\n            return adapter.formatDate(date as string | number | Date, format);\n        },\n        formatTimeDiff: function (diff: number, format?: string): string {\n            if (!format) {\n                format = 'hh:mm:ss';\n            }\n\n            let text = format;\n\n            if (sandbox.verbose) {\n                sandbox.log(`formatTimeDiff(format=${format}, diff=${diff})`, 'debug');\n            }\n\n            const second = 1000;\n            const minute = 60 * second;\n            const hour = 60 * minute;\n            const day = 24 * hour;\n            const neg = diff < 0;\n            diff = Math.abs(diff);\n\n            if (/DD|TT|ДД|D|T|Д/.test(text)) {\n                const days = Math.floor(diff / day);\n\n                text = text.replace(/DD|TT|ДД/, days < 10 ? `0${days}` : days.toString());\n                text = text.replace(/[DTД]/, days.toString());\n\n                if (sandbox.verbose) {\n                    sandbox.log(`formatTimeDiff(format=${format}, text=${text}, days=${days})`, 'debug');\n                }\n\n                diff -= days * day;\n            }\n\n            if (/hh|SS|чч|h|S|ч/.test(text)) {\n                const hours = Math.floor(diff / hour);\n\n                text = text.replace(/hh|SS|чч/, hours < 10 ? `0${hours}` : hours.toString());\n                text = text.replace(/[hSч]/, hours.toString());\n\n                sandbox.verbose &&\n                    sandbox.log(`formatTimeDiff(format=${format}, text=${text}, hours=${hours})`, 'debug');\n\n                diff -= hours * hour;\n            }\n\n            if (/mm|мм|m|м/.test(text)) {\n                const minutes = Math.floor(diff / minute);\n\n                text = text.replace(/mm|мм/, minutes < 10 ? `0${minutes}` : minutes.toString());\n                text = text.replace(/[mм]/, minutes.toString());\n\n                sandbox.verbose &&\n                    sandbox.log(`formatTimeDiff(format=${format}, text=${text}, minutes=${minutes})`, 'debug');\n\n                diff -= minutes * minute;\n            }\n\n            if (/ss|сс|мм|s|с/.test(text)) {\n                const seconds = Math.floor(diff / second);\n\n                text = text.replace(/ss|сс/, seconds < 10 ? `0${seconds}` : seconds.toString());\n                text = text.replace(/[sс]/, seconds.toString());\n\n                sandbox.verbose &&\n                    sandbox.log(`formatTimeDiff(format=${format}, text=${text}, seconds=${seconds})`, 'debug');\n                // diff -= seconds * second; // no milliseconds\n            }\n\n            if (sandbox.verbose) {\n                sandbox.log(`formatTimeDiff(format=${format}, text=${text})`, 'debug');\n            }\n\n            return neg ? `-${text}` : text;\n        },\n        getDateObject: function (date: Date | number | string): Date {\n            if (isObject(date)) {\n                return date as Date;\n            }\n            if (typeof date === 'undefined') {\n                return new Date();\n            }\n            if (typeof date !== 'string') {\n                return new Date(date);\n            }\n\n            // If only hours: 20, 2\n            if (date.match(/^\\d?\\d$/)) {\n                const _now = new Date();\n                date = `${_now.getFullYear()}-${_now.getMonth() + 1}-${_now.getDate()} ${date}:00`;\n            } else if (date.match(/^\\d?\\d:\\d\\d(:\\d\\d)?$/)) {\n                // 20:00, 2:00, 20:00:00, 2:00:00\n                const now = new Date();\n                date = `${now.getFullYear()}-${now.getMonth() + 1}-${now.getDate()} ${date}`;\n            }\n\n            return new Date(date);\n        },\n        writeFile: function (\n            _adapter: string,\n            fileName: string,\n            data: string | Buffer | ((err: Error) => void),\n            callback?: (err?: Error | null) => void,\n        ): void {\n            if (typeof data === 'function' || !data) {\n                callback = data as (err?: Error | null) => void;\n                data = fileName;\n                fileName = _adapter;\n                _adapter = '0_userdata.0';\n            }\n            _adapter = _adapter || '0_userdata.0';\n\n            if (debug) {\n                sandbox.log(\n                    `writeFile(adapter=${_adapter}, fileName=${fileName}) - ${words._('was not executed, while debug mode is active')}`,\n                    'warn',\n                );\n                if (typeof callback === 'function') {\n                    setTimeout(function (): void {\n                        try {\n                            callback.call(sandbox);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }, 0);\n                }\n            } else {\n                if (sandbox.verbose) {\n                    sandbox.log(`writeFile(adapter=${_adapter}, fileName=${fileName})`, 'info');\n                }\n                if (callback) {\n                    adapter.writeFile(_adapter, fileName, data, callback);\n                } else {\n                    // @ts-expect-error should be fixed in js-controller\n                    adapter.writeFile(_adapter, fileName, data);\n                }\n            }\n        },\n        readFile: function (\n            _adapter: string,\n            fileName: string | ((err: Error | null | undefined, data?: Buffer | string, mimeType?: string) => void),\n            callback?: (err: Error | null | undefined, data?: Buffer | string, mimeType?: string) => void,\n        ): void {\n            if (typeof fileName === 'function') {\n                callback = fileName as (\n                    err: Error | null | undefined,\n                    data?: Buffer | string,\n                    mimeType?: string,\n                ) => void;\n                fileName = _adapter;\n                _adapter = '0_userdata.0';\n            }\n            if (typeof callback !== 'function') {\n                sandbox.log(`readFile(adapter=${_adapter}, fileName=${fileName}): no callback`, 'error');\n                return;\n            }\n            _adapter = _adapter || '0_userdata.0';\n            if (sandbox.verbose) {\n                sandbox.log(`readFile(adapter=${_adapter}, fileName=${fileName})`, 'info');\n            }\n\n            adapter.fileExists(_adapter, fileName, (error: Error | null | undefined, result?: boolean): void => {\n                if (error) {\n                    callback(error);\n                } else if (!result) {\n                    callback(new Error('Not exists'));\n                } else {\n                    adapter.readFile(_adapter, fileName, callback);\n                }\n            });\n        },\n        unlink: function (\n            _adapter: string,\n            fileName: string | ((err?: Error | null) => void),\n            callback?: (err?: Error | null) => void,\n        ): void {\n            if (typeof fileName === 'function') {\n                callback = fileName;\n                fileName = _adapter;\n                _adapter = '0_userdata.0';\n            }\n            _adapter = _adapter || '0_userdata.0';\n\n            if (debug) {\n                sandbox.log(\n                    `unlink(adapter=${_adapter}, fileName=${fileName}) - ${words._('was not executed, while debug mode is active')}`,\n                    'warn',\n                );\n                if (typeof callback === 'function') {\n                    setTimeout(function (): void {\n                        try {\n                            callback.call(sandbox);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }, 0);\n                }\n            } else {\n                if (sandbox.verbose) {\n                    sandbox.log(`unlink(adapter=${_adapter}, fileName=${fileName})`, 'info');\n                }\n                if (callback) {\n                    adapter.unlink(_adapter, fileName, callback);\n                } else {\n                    // @ts-expect-error should be fixed in js-controller\n                    adapter.unlink(_adapter, fileName);\n                }\n            }\n        },\n        delFile: function (\n            _adapter: string,\n            fileName: string | ((err?: Error | null) => void),\n            callback?: (err?: Error | null) => void,\n        ): void {\n            return sandbox.unlink(_adapter, fileName as string, callback);\n        },\n        rename: function (\n            _adapter: string,\n            oldName: string,\n            newName: string,\n            callback?: (err?: Error | null) => void,\n        ): void {\n            _adapter = _adapter || '0_userdata.0';\n\n            if (debug) {\n                sandbox.log(\n                    `rename(adapter=${_adapter}, oldName=${oldName}, newName=${newName}) - ${words._('was not executed, while debug mode is active')}`,\n                    'warn',\n                );\n                if (typeof callback === 'function') {\n                    setTimeout(function () {\n                        try {\n                            callback.call(sandbox);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }, 0);\n                }\n            } else {\n                sandbox.verbose &&\n                    sandbox.log(`rename(adapter=${_adapter}, oldName=${oldName}, newName=${newName})`, 'info');\n                if (callback) {\n                    adapter.rename(_adapter, oldName, newName, callback);\n                } else {\n                    // @ts-expect-error should be fixed in js-controller\n                    adapter.rename(_adapter, oldName, newName);\n                }\n            }\n        },\n        renameFile: function (\n            _adapter: string,\n            oldName: string,\n            newName: string,\n            callback?: (err?: Error | null) => void,\n        ): void {\n            return sandbox.rename(_adapter, oldName, newName, callback);\n        },\n        getHistory: function (\n            instance: string | (ioBroker.GetHistoryOptions & { id: string; timeout?: number | string }),\n            options:\n                | (ioBroker.GetHistoryOptions & { id?: string; timeout?: number | string })\n                | ((\n                      error: Error | null,\n                      result?: ioBroker.GetHistoryResult | null,\n                      options?: ioBroker.GetHistoryOptions & { id: string; timeout?: number | string },\n                      instance?: string,\n                  ) => void),\n            callback?: (\n                error: Error | null,\n                result?: ioBroker.GetHistoryResult | null,\n                options?: ioBroker.GetHistoryOptions & { id: string; timeout?: number | string },\n                instance?: string,\n            ) => void,\n        ): void {\n            if (isObject(instance)) {\n                callback = options as (\n                    error: Error | null,\n                    result?: ioBroker.GetHistoryResult | null,\n                    options?: ioBroker.GetHistoryOptions & { id: string; timeout?: number | string },\n                    instance?: string,\n                ) => void;\n                options = instance as ioBroker.GetHistoryOptions & { id?: string; timeout?: number | string };\n                instance = '';\n            }\n\n            if (typeof callback !== 'function') {\n                return sandbox.log('No callback found!', 'error');\n            }\n            if (!isObject(options)) {\n                return sandbox.log('No options found!', 'error');\n            }\n            if (!(options as ioBroker.GetHistoryOptions & { id?: string; timeout?: number | string }).id) {\n                return sandbox.log('No ID found!', 'error');\n            }\n            const timeoutMs =\n                parseInt(\n                    (options as ioBroker.GetHistoryOptions & { id?: string; timeout?: number })\n                        ?.timeout as unknown as string,\n                    10,\n                ) || 20000;\n\n            if (!instance) {\n                // @ts-expect-error defaultHistory is private attribute of adapter. Fix later\n                if (adapter.defaultHistory) {\n                    // @ts-expect-error defaultHistory is private attribute of adapter. Fix later\n                    instance = adapter.defaultHistory;\n                } else {\n                    instance = objects['system.config']?.common?.defaultHistory || null;\n                }\n            }\n\n            if (sandbox.verbose) {\n                sandbox.log(`getHistory(instance=${instance as string}, options=${JSON.stringify(options)})`, 'info');\n            }\n\n            if (!instance) {\n                sandbox.log('No default history instance found!', 'error');\n                try {\n                    callback.call(sandbox, new Error('No default history instance found!'));\n                } catch (err: unknown) {\n                    errorInCallback(err as Error);\n                }\n                return;\n            }\n            if ((instance as string).startsWith('system.adapter.')) {\n                instance = (instance as string).substring('system.adapter.'.length);\n            }\n\n            if (!objects[`system.adapter.${instance as string}`]) {\n                sandbox.log(`Instance \"${instance as string}\" not found!`, 'error');\n                try {\n                    callback.call(sandbox, new Error(`Instance \"${instance as string}\" not found!`));\n                } catch (err: unknown) {\n                    errorInCallback(err as Error);\n                }\n                return;\n            }\n\n            let _timeout: NodeJS.Timeout | null = setTimeout(() => {\n                _timeout = null;\n                if (sandbox.verbose) {\n                    sandbox.log('getHistory => timeout', 'debug');\n                }\n\n                if (typeof callback === 'function') {\n                    try {\n                        callback.call(\n                            sandbox,\n                            new Error('Timeout'),\n                            null,\n                            options as ioBroker.GetHistoryOptions & { id: string; timeout?: number | string },\n                            instance as string,\n                        );\n                    } catch (err: unknown) {\n                        errorInCallback(err as Error);\n                    }\n                    callback = undefined;\n                }\n            }, timeoutMs);\n\n            adapter.sendTo(\n                instance as string,\n                'getHistory',\n                {\n                    id: (options as ioBroker.GetHistoryOptions & { id: string; timeout?: number | string }).id,\n                    options,\n                },\n                (res: any): void => {\n                    if (_timeout) {\n                        clearTimeout(_timeout);\n                        _timeout = null;\n                    }\n                    const result: {\n                        error?: string;\n                        result?: ioBroker.GetHistoryResult;\n                        step?: number;\n                        sessionId?: string;\n                    } = res;\n\n                    if (sandbox.verbose && result?.error) {\n                        sandbox.log(`getHistory => ${result.error}`, 'error');\n                    }\n                    if (sandbox.verbose && result?.result) {\n                        sandbox.log(`getHistory => ${result.result.length} items`, 'debug');\n                    }\n\n                    if (typeof callback === 'function') {\n                        try {\n                            callback.call(\n                                sandbox,\n                                result.error ? new Error(result.error) : null,\n                                result.result,\n                                options as ioBroker.GetHistoryOptions & { id: string; timeout?: number | string },\n                                instance as string,\n                            );\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                        callback = undefined;\n                    }\n                },\n            );\n        },\n        runScript: function (scriptName: string, callback?: (err?: Error | null) => void): boolean {\n            scriptName = scriptName || name;\n            if (!scriptName.match(/^script\\.js\\./)) {\n                scriptName = `script.js.${scriptName}`;\n            }\n            // start another script\n            if (!objects[scriptName] || !objects[scriptName].common) {\n                sandbox.log(`Cannot start \"${scriptName}\", because not found`, 'error');\n                return false;\n            }\n            if (debug) {\n                sandbox.log(\n                    `runScript(scriptName=${scriptName}) - ${words._('was not executed, while debug mode is active')}`,\n                    'warn',\n                );\n                typeof callback === 'function' && callback();\n                return true;\n            }\n            if (objects[scriptName].common.enabled) {\n                objects[scriptName].common.enabled = false;\n                adapter.extendForeignObject(scriptName, { common: { enabled: false } }, (/* err, obj */) => {\n                    adapter.extendForeignObject(\n                        scriptName,\n                        { common: { enabled: true } },\n                        err => typeof callback === 'function' && callback(err),\n                    );\n                });\n                return true;\n            }\n            adapter.extendForeignObject(\n                scriptName,\n                { common: { enabled: true } },\n                err => typeof callback === 'function' && callback(err),\n            );\n            return true;\n        },\n        runScriptAsync: function (scriptName: string): Promise<void> {\n            let done = false;\n            return new Promise((resolve, reject) => {\n                const result = sandbox.runScript(scriptName, err => {\n                    if (err) {\n                        reject(err);\n                        done = true;\n                    } else {\n                        resolve();\n                    }\n                });\n                if (result === false && !done) {\n                    reject(new Error(`Script ${scriptName} was not found!`));\n                }\n            });\n        },\n        startScript: function (\n            scriptName: string,\n            ignoreIfStarted?: boolean | ((err: Error | null | undefined, started: boolean) => void),\n            callback?: (err: Error | null | undefined, started: boolean) => void,\n        ): boolean {\n            if (typeof ignoreIfStarted === 'function') {\n                callback = ignoreIfStarted as (err: Error | null | undefined, started: boolean) => void;\n                ignoreIfStarted = false;\n            }\n            scriptName = scriptName || name;\n            if (!scriptName.match(/^script\\.js\\./)) {\n                scriptName = `script.js.${scriptName}`;\n            }\n            // start another script\n            if (!objects[scriptName] || !objects[scriptName].common) {\n                sandbox.log(`Cannot start \"${scriptName}\", because not found`, 'error');\n                return false;\n            }\n            if (debug) {\n                sandbox.log(\n                    `startScript(scriptName=${scriptName}) - ${words._('was not executed, while debug mode is active')}`,\n                    'warn',\n                );\n                typeof callback === 'function' && callback(null, false);\n                return true;\n            }\n            if (objects[scriptName].common.enabled) {\n                if (!ignoreIfStarted) {\n                    objects[scriptName].common.enabled = false;\n                    adapter.extendForeignObject(scriptName, { common: { enabled: false } }, () => {\n                        adapter.extendForeignObject(\n                            scriptName,\n                            { common: { enabled: true } },\n                            err => typeof callback === 'function' && callback(err, true),\n                        );\n                    });\n                } else if (typeof callback === 'function') {\n                    callback(null, false);\n                }\n                return true;\n            }\n            adapter.extendForeignObject(scriptName, { common: { enabled: true } }, err => {\n                typeof callback === 'function' && callback(err, true);\n            });\n            return true;\n        },\n        startScriptAsync: function (scriptName: string, ignoreIfStarted?: boolean): Promise<boolean> {\n            return new Promise((resolve, reject) => {\n                const result = sandbox.startScript(\n                    scriptName,\n                    !!ignoreIfStarted,\n                    (err: Error | null | undefined, started: boolean): void => {\n                        if (err) {\n                            reject(err);\n                        } else {\n                            resolve(started);\n                        }\n                    },\n                );\n                if (result === false) {\n                    reject(new Error(`Script ${scriptName} was not found!`));\n                }\n            });\n        },\n        stopScript: function (\n            scriptName: string,\n            callback?: (err: Error | null | undefined, stopped: boolean) => void,\n        ): boolean {\n            scriptName = scriptName || name;\n\n            if (!scriptName.match(/^script\\.js\\./)) {\n                scriptName = `script.js.${scriptName}`;\n            }\n\n            // stop another script\n            if (!objects[scriptName] || !objects[scriptName].common) {\n                sandbox.log(`Cannot stop \"${scriptName}\", because not found`, 'error');\n                return false;\n            }\n            if (debug) {\n                sandbox.log(\n                    `stopScript(scriptName=${scriptName}) - ${words._('was not executed, while debug mode is active')}`,\n                    'warn',\n                );\n                if (typeof callback === 'function') {\n                    callback(null, false);\n                }\n                return true;\n            }\n            if (objects[scriptName].common.enabled) {\n                objects[scriptName].common.enabled = false;\n                adapter.extendForeignObject(scriptName, { common: { enabled: false } }, err => {\n                    if (typeof callback === 'function') {\n                        callback(err, true);\n                    }\n                });\n            } else if (typeof callback === 'function') {\n                callback(null, false);\n            }\n            return true;\n        },\n        stopScriptAsync: function (scriptName: string): Promise<boolean> {\n            return new Promise((resolve, reject) => {\n                const result = sandbox.stopScript(\n                    scriptName,\n                    (err: Error | null | undefined, stopped: boolean): void => {\n                        if (err) {\n                            reject(err);\n                        } else {\n                            resolve(stopped);\n                        }\n                    },\n                );\n                if (result === false) {\n                    reject(new Error(`Script ${scriptName} was not found!`));\n                }\n            });\n        },\n        isScriptActive: function (scriptName: string): boolean {\n            if (!scriptName.match(/^script\\.js\\./)) {\n                scriptName = `script.js.${scriptName}`;\n            }\n            if (!objects[scriptName] || !objects[scriptName].common) {\n                sandbox.log('Script does not exist', 'error');\n                return false;\n            }\n            return objects[scriptName].common.enabled;\n        },\n        startInstanceAsync: async function (instanceName: string): Promise<boolean> {\n            const objInstanceId = `system.adapter.${instanceName}`;\n            const exists = await adapter.foreignObjectExists(objInstanceId);\n\n            if (exists) {\n                const instanceObj = await adapter.getForeignObjectAsync(objInstanceId);\n\n                if (instanceObj?.type === 'instance' && !instanceObj.common.enabled) {\n                    await adapter.extendForeignObjectAsync(objInstanceId, { common: { enabled: true } });\n\n                    if (sandbox.verbose) {\n                        sandbox.log(`startInstanceAsync (instanceName=${instanceName})`, 'info');\n                    }\n\n                    return true;\n                }\n                sandbox.log(`Cannot start instance \"${instanceName}\", because already running`, 'warn');\n            } else {\n                sandbox.log(`Cannot start instance \"${instanceName}\", because not found`, 'error');\n            }\n\n            return false;\n        },\n        restartInstanceAsync: async function (instanceName: string): Promise<boolean> {\n            const objInstanceId = `system.adapter.${instanceName}`;\n            const exists = await adapter.foreignObjectExists(objInstanceId);\n\n            if (exists) {\n                const instanceObj = await adapter.getForeignObjectAsync(objInstanceId);\n\n                if (instanceObj?.type === 'instance' && instanceObj.common.enabled) {\n                    await adapter.extendForeignObjectAsync(objInstanceId, {});\n\n                    if (sandbox.verbose) {\n                        sandbox.log(`restartInstanceAsync (instanceName=${instanceName})`, 'info');\n                    }\n\n                    return true;\n                }\n                sandbox.log(`Cannot restart instance \"${instanceName}\", because not running`, 'warn');\n            } else {\n                sandbox.log(`Cannot restart instance \"${instanceName}\", because not found`, 'error');\n            }\n\n            return false;\n        },\n        stopInstanceAsync: async function (instanceName: string): Promise<boolean> {\n            const objInstanceId = `system.adapter.${instanceName}`;\n            const exists = await adapter.foreignObjectExists(objInstanceId);\n\n            if (exists) {\n                const instanceObj = await adapter.getForeignObjectAsync(objInstanceId);\n\n                if (instanceObj?.type === 'instance' && instanceObj.common.enabled) {\n                    await adapter.extendForeignObjectAsync(objInstanceId, { common: { enabled: false } });\n\n                    if (sandbox.verbose) {\n                        sandbox.log(`stopInstanceAsync (instanceName=${instanceName})`, 'info');\n                    }\n\n                    return true;\n                }\n                sandbox.log(`Cannot stop instance \"${instanceName}\", because not running`, 'warn');\n            } else {\n                sandbox.log(`Cannot stop instance \"${instanceName}\", because not found`, 'error');\n            }\n\n            return false;\n        },\n        // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n        toInt: function (val: boolean | string | number | 'true' | 'false'): number {\n            if (val === true || val === 'true') {\n                val = 1;\n            }\n            if (val === false || val === 'false') {\n                val = 0;\n            }\n            val = parseInt(val as unknown as string) || 0;\n            return val;\n        },\n        // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n        toFloat: function (val: boolean | string | number | 'true' | 'false'): number {\n            if (val === true || val === 'true') {\n                val = 1;\n            }\n            if (val === false || val === 'false') {\n                val = 0;\n            }\n            val = parseFloat(val as unknown as string) || 0;\n            return val;\n        },\n        // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n        toBoolean: function (val: boolean | string | number | 'true' | 'false'): boolean {\n            if (val === '1' || val === 'true') {\n                val = true;\n            }\n            if (val === '0' || val === 'false') {\n                val = false;\n            }\n            return !!val;\n        },\n        getAttr: function (obj: string | Record<string, any>, path: string | string[]): any {\n            if (typeof path === 'string') {\n                path = path.split('.');\n            }\n            if (typeof obj === 'string') {\n                try {\n                    obj = JSON.parse(obj);\n                } catch (err: unknown) {\n                    adapter.setState(`scriptProblem.${name.substring(SCRIPT_CODE_MARKER.length)}`, {\n                        val: true,\n                        ack: true,\n                        c: 'getAttr',\n                    });\n                    sandbox.log(`Cannot parse \"${obj.substring(0, 30)}\": ${err as Error}`, 'error');\n\n                    return null;\n                }\n            }\n\n            const attr: string = path.shift() || '';\n            try {\n                obj = (obj as Record<string, any>)[attr];\n            } catch (err: unknown) {\n                void adapter.setState(`scriptProblem.${name.substring(SCRIPT_CODE_MARKER.length)}`, {\n                    val: true,\n                    ack: true,\n                    c: 'getAttr',\n                });\n                sandbox.log(`Cannot get ${attr} of \"${JSON.stringify(obj)}\": ${err as Error}`, 'error');\n\n                return null;\n            }\n\n            if (!path.length) {\n                return obj;\n            }\n            const type = typeof obj;\n            if (obj === null || obj === undefined || type === 'boolean' || type === 'number') {\n                return null;\n            }\n            return sandbox.getAttr(obj, path);\n        },\n        messageTo: function (\n            target: string | { instance: string | null | number; script: string | null; message: string },\n            data: any,\n            options: { timeout?: number | string } | ((result: any, options: { timeout?: number | string }) => void),\n            callback?: (result: any, options: { timeout?: number | string }, instance: string | number | null) => void,\n        ) {\n            const defaultTimeout = 5000;\n\n            if (typeof target !== 'object') {\n                target = { instance: null, script: null, message: target };\n            }\n            if (typeof options === 'function') {\n                callback = options;\n                options = { timeout: defaultTimeout };\n            }\n\n            let timeout: NodeJS.Timeout | null = null;\n            if (typeof callback === 'function') {\n                const timeoutDuration = parseInt(options?.timeout as unknown as string, 10) || defaultTimeout;\n\n                timeout = setTimeout(() => {\n                    timeout = null;\n\n                    if (sandbox.verbose) {\n                        sandbox.log(`messageTo => timeout: ${timeoutDuration}`, 'debug');\n                    }\n\n                    if (typeof callback === 'function') {\n                        try {\n                            callback.call(sandbox, { error: 'timeout' }, options, target.instance);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                        callback = undefined;\n                    }\n                }, timeoutDuration);\n            }\n            let cbFunc: undefined | ((result: any) => void);\n            if (timeout) {\n                cbFunc = function (res: any) {\n                    timeout && clearTimeout(timeout);\n                    const result: { result?: any; error?: string | null } = res;\n\n                    if (sandbox.verbose && result?.result) {\n                        sandbox.log(`messageTo => ${JSON.stringify(result)}`, 'debug');\n                    }\n                    if (sandbox.verbose && result?.error) {\n                        sandbox.log(`messageTo => ${result.error}`, 'error');\n                    }\n\n                    if (typeof callback === 'function') {\n                        try {\n                            callback.call(sandbox, result, options, target.instance);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                        callback = undefined;\n                    }\n                };\n            }\n\n            if (target.instance || target.instance === 0) {\n                if (\n                    typeof target.instance === 'string' &&\n                    target.instance &&\n                    target.instance.startsWith('system.adapter.')\n                ) {\n                    target.instance = target.instance.substring('system.adapter.'.length);\n                } else if (typeof target.instance === 'number') {\n                    target.instance = `javascript.${target.instance}`;\n                }\n\n                adapter.sendTo(\n                    target.instance,\n                    'jsMessageBus',\n                    { message: target.message, script: target.script, data },\n                    cbFunc,\n                );\n            } else {\n                // Send it to all instances\n                context.adapter.getObjectView(\n                    'system',\n                    'instance',\n                    { startkey: 'system.adapter.javascript.', endkey: 'system.adapter.javascript.\\u9999' },\n                    options,\n                    (err: Error | null | undefined, res): void => {\n                        if (err || !res) {\n                            sandbox.log(`messageTo failed: ${err?.message}`, 'error');\n                            return;\n                        }\n                        const len = 'system.adapter.'.length;\n                        const instances = res.rows.map(item => item.id.substring(len));\n\n                        instances.forEach(instance => {\n                            adapter.sendTo(\n                                instance,\n                                'jsMessageBus',\n                                { message: target.message, script: target.script, data },\n                                cbFunc,\n                            );\n                        });\n                    },\n                );\n            }\n        },\n        messageToAsync: function (\n            target: string | { instance: string | null | number; script: string | null; message: string },\n            data: any,\n            options?: { timeout?: number | string },\n        ): Promise<any> {\n            return new Promise((resolve, reject) => {\n                sandbox.messageTo(target, data, options, (res: any): void => {\n                    const result: { error?: string } = res;\n                    if (sandbox.verbose) {\n                        sandbox.log(`messageTo result => ${JSON.stringify(res)}`, 'debug');\n                    }\n                    if (!res || result.error) {\n                        reject(result ? new Error(result.error) : new Error('Unknown error'));\n                    } else {\n                        resolve(result);\n                    }\n                });\n            });\n        },\n        onMessage: function (\n            messageName: string,\n            callback: (data: any, cb: (result: any) => void) => void,\n        ): null | number {\n            if (typeof callback !== 'function') {\n                sandbox.log('onMessage callback is not a function', 'error');\n\n                return null;\n            }\n            context.messageBusHandlers[sandbox.scriptName] = context.messageBusHandlers[sandbox.scriptName] || {};\n            context.messageBusHandlers[sandbox.scriptName][messageName] =\n                context.messageBusHandlers[sandbox.scriptName][messageName] || [];\n\n            const handler = { id: Date.now() + Math.floor(Math.random() * 10000), cb: callback, sandbox };\n            context.messageBusHandlers[sandbox.scriptName][messageName].push(handler);\n\n            sandbox.__engine.__subscriptionsMessage += 1;\n\n            if (\n                sandbox.__engine.__subscriptionsMessage %\n                    (adapter.config as JavaScriptAdapterConfig).maxTriggersPerScript ===\n                0\n            ) {\n                sandbox.log(\n                    `More than ${sandbox.__engine.__subscriptionsMessage} message subscriptions registered. Check your script!`,\n                    'warn',\n                );\n            }\n\n            return handler.id;\n        },\n        onMessageUnregister: function (idOrName: number | string): boolean {\n            const ctx = context.messageBusHandlers[sandbox.scriptName];\n            let found = false;\n            if (ctx) {\n                if (typeof idOrName === 'number') {\n                    for (const messageName in ctx) {\n                        if (Object.prototype.hasOwnProperty.call(ctx, messageName)) {\n                            for (let i = 0; i < ctx[messageName].length; i++) {\n                                if (ctx[messageName][i].id === idOrName) {\n                                    ctx[messageName].splice(i, 1);\n                                    if (!ctx[messageName].length) {\n                                        delete ctx[messageName];\n                                        sandbox.__engine.__subscriptionsMessage--;\n                                    }\n                                    found = true;\n                                    break;\n                                }\n                            }\n                        }\n                        if (found) {\n                            break;\n                        }\n                    }\n                } else if (idOrName && ctx[idOrName]) {\n                    delete ctx[idOrName];\n                    sandbox.__engine.__subscriptionsMessage--;\n                    found = true;\n                }\n            }\n            return found;\n        },\n        console: {\n            log: function (msg: string): void {\n                sandbox.log(msg, 'info');\n            },\n            error: function (msg: string): void {\n                sandbox.log(msg, 'error');\n            },\n            warn: function (msg: string): void {\n                sandbox.log(msg, 'warn');\n            },\n            info: function (msg: string): void {\n                sandbox.log(msg, 'info');\n            },\n            debug: function (msg: string): void {\n                sandbox.log(msg, 'debug');\n            },\n        },\n        jsonataExpression: function (data: any, expression: string): Promise<any> {\n            return jsonata(expression).evaluate(data);\n        },\n        wait: function (ms: number): Promise<void> {\n            return new Promise((resolve: () => void): void => {\n                sandbox.setTimeout(resolve, ms);\n            });\n        },\n        sleep: function (ms: number): Promise<void> {\n            return sandbox.wait(ms);\n        },\n        onObject: function (\n            pattern: string | string[],\n            callback: (id: string, obj?: ioBroker.Object | null) => void,\n        ): SubscribeObject | SubscribeObject[] | null {\n            return sandbox.subscribeObject(pattern, callback);\n        },\n        subscribeObject: function (\n            pattern: string | string[],\n            callback: (id: string, obj?: ioBroker.Object | null) => void,\n        ): SubscribeObject | SubscribeObject[] | null {\n            if (Array.isArray(pattern)) {\n                const result: {\n                    name: string;\n                    pattern: string;\n                    callback: (id: string, obj?: ioBroker.Object | null) => void;\n                }[] = [];\n                for (let p = 0; p < pattern.length; p++) {\n                    result.push(\n                        sandbox.subscribeObject(pattern[p], callback) as {\n                            name: string;\n                            pattern: string;\n                            callback: (id: string, obj?: ioBroker.Object | null) => void;\n                        },\n                    );\n                }\n                return result;\n            }\n\n            sandbox.__engine.__subscriptionsObject += 1;\n\n            if (\n                sandbox.__engine.__subscriptionsObject %\n                    (adapter.config as JavaScriptAdapterConfig).maxTriggersPerScript ===\n                0\n            ) {\n                sandbox.log(\n                    `More than ${sandbox.__engine.__subscriptionsObject} object subscriptions registered. Check your script!`,\n                    'warn',\n                );\n            }\n\n            // source is set by regexp if defined as /regexp/\n            if (!pattern || typeof pattern !== 'string') {\n                sandbox.log('Error by subscribeObject: pattern can be only string or array of strings.', 'error');\n                return null;\n            }\n\n            if (typeof callback !== 'function') {\n                sandbox.log('Error by subscribeObject: callback is not a function', 'error');\n                return null;\n            }\n\n            const subs: SubscribeObject = { pattern, callback, name };\n            if (sandbox.verbose) {\n                sandbox.log(`subscribeObject: ${JSON.stringify(subs)}`, 'info');\n            }\n\n            adapter.subscribeForeignObjects(pattern);\n\n            context.subscriptionsObject.push(subs);\n\n            return subs;\n        },\n        unsubscribeObject: function (subObject: SubscribeObject | SubscribeObject[]): boolean | boolean[] {\n            if (subObject && Array.isArray(subObject)) {\n                const result: boolean[] = [];\n                for (let t = 0; t < subObject.length; t++) {\n                    result.push(sandbox.unsubscribeObject(subObject[t]) as boolean);\n                }\n                return result;\n            }\n\n            if (sandbox.verbose) {\n                sandbox.log(`adapterUnsubscribeObject(id=${JSON.stringify(subObject)})`, 'info');\n            }\n\n            for (let i = context.subscriptionsObject.length - 1; i >= 0; i--) {\n                if (context.subscriptionsObject[i] === subObject) {\n                    adapter.unsubscribeForeignObjects(subObject.pattern);\n                    context.subscriptionsObject.splice(i, 1);\n                    sandbox.__engine.__subscriptionsObject--;\n                    return true;\n                }\n            }\n            let deleted = 0;\n            for (let i = context.subscriptionsObject.length - 1; i >= 0; i--) {\n                if (\n                    context.subscriptionsObject[i].name &&\n                    context.subscriptionsObject[i].pattern === subObject.pattern\n                ) {\n                    deleted++;\n                    adapter.unsubscribeForeignObjects(subObject.pattern);\n                    context.subscriptionsObject.splice(i, 1);\n                    sandbox.__engine.__subscriptionsObject--;\n                }\n            }\n            return !!deleted;\n        },\n        // internal function to send the block debugging info to the front-end\n        _sendToFrontEnd: function (blockId: string, data: any): void {\n            if (context.rulesOpened === sandbox.scriptName) {\n                adapter.setState(\n                    'debug.rules',\n                    JSON.stringify({ ruleId: sandbox.scriptName, blockId, data, ts: Date.now() }),\n                    true,\n                );\n            }\n        },\n        existsStateAsync: function (_id: string): Promise<boolean> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        existsObjectAsync: function (_id: string): Promise<boolean> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        getObjectAsync: function (_id: string, _enumName: null | string): Promise<ioBroker.Object | null | undefined> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        setObjectAsync: function (_id: string, _obj: ioBroker.Object): Promise<{ id: string }> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        extendObjectAsync: function (_id: string, _obj: Partial<ioBroker.Object>): Promise<{ id: string }> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        deleteObjectAsync: function (_id: string, _isRecursive?: boolean): Promise<void> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        createStateAsync: function (\n            _name: string,\n            _initValue: undefined | ioBroker.StateValue | ioBroker.State,\n            _forceCreation:\n                | boolean\n                | undefined\n                | Record<string, any>\n                | Partial<ioBroker.StateCommon>\n                | ((err: Error | null) => void),\n            _common?: Partial<ioBroker.StateCommon> | ((err: Error | null) => void),\n            _native?: Record<string, any> | ((err: Error | null) => void),\n        ): Promise<string> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        createAliasAsync: function (\n            _name: string,\n            _alias: string | CommonAlias,\n            _forceCreation: boolean | Partial<ioBroker.StateCommon> | undefined,\n            _common?: Partial<ioBroker.StateCommon> | Record<string, any>,\n            _native?: Record<string, any>,\n        ): Promise<void> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        deleteStateAsync: function (_id: string): Promise<boolean> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        writeFileAsync: function (\n            _adapter: string,\n            _fileName: string | Buffer,\n            _data?: string | Buffer,\n        ): Promise<void> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        readFileAsync: function (_adapter: string, _fileName?: string): Promise<Buffer | string> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        unlinkAsync: function (_adapter: string, _fileName?: string): Promise<void> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        delFileAsync: function (_adapter: string, _fileName?: string): Promise<void> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        renameAsync: function (_adapter: string, _oldName: string, _newName?: string): Promise<void> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        renameFileAsync: function (_adapter: string, _oldName: string, _newName?: string): Promise<void> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        getHistoryAsync: function (\n            _instance: string | (ioBroker.GetHistoryOptions & { id: string; timeout?: number | string }),\n            _options?: ioBroker.GetHistoryOptions & { id?: string; timeout?: number | string },\n        ): Promise<ioBroker.GetHistoryResult> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        httpGetAsync: function (\n            _url: string,\n            _options?: {\n                timeout?: number;\n                responseType?: ResponseType;\n                headers?: Record<string, string>;\n                basicAuth?: { user: string; password: string } | null;\n                bearerAuth?: string;\n                validateCertificate?: boolean;\n            },\n        ): Promise<{\n            statusCode: number | null;\n            data: any;\n            headers: Record<string, string>;\n            responseTime: number;\n        }> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n        httpPostAsync: function (\n            _url: string,\n            _data: any,\n            _options: {\n                timeout?: number;\n                responseType?: ResponseType;\n                headers?: Record<string, string>;\n                basicAuth?: { user: string; password: string } | null;\n                bearerAuth?: string;\n                validateCertificate?: boolean;\n            },\n        ): Promise<{\n            statusCode: number | null;\n            data: any;\n            headers: Record<string, AxiosHeaderValue | undefined>;\n            responseTime: number;\n        }> {\n            return Promise.reject(new Error('Not implemented'));\n        },\n    };\n\n    // Create advanced functions that can modify objects\n    if ((adapter.config as JavaScriptAdapterConfig).enableSetObject) {\n        sandbox.setObject = function (\n            id: string,\n            obj: ioBroker.Object,\n            callback?: (err?: Error | null, res?: { id: string }) => void,\n        ): void {\n            if (id && typeof id === 'string' && id.startsWith('system.adapter.')) {\n                sandbox.log(\n                    `Using setObject on system object ${id} can be dangerous (protected instance attributes may be lost)`,\n                    'info',\n                );\n            }\n            if (debug) {\n                sandbox.log(\n                    `setObject(id=${id}, obj=${JSON.stringify(obj)}) - ${words._('was not executed, while debug mode is active')}`,\n                    'warn',\n                );\n                if (typeof callback === 'function') {\n                    setImmediate(function () {\n                        try {\n                            callback.call(sandbox, null, { id });\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    });\n                }\n            } else {\n                if (sandbox.verbose) {\n                    sandbox.log(`setObject(id=${id}, obj=${JSON.stringify(obj)})`, 'info');\n                }\n                adapter.setForeignObject(id, obj, (err, res) => {\n                    if (!err) {\n                        // Update meta object data\n                        context.updateObjectContext(id, obj);\n                    }\n                    if (typeof callback === 'function') {\n                        try {\n                            callback.call(sandbox, err, res);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }\n                });\n            }\n        };\n        sandbox.extendObject = function (\n            id: string,\n            obj: Partial<ioBroker.Object>,\n            callback?: (err: Error | undefined | null, res?: { id: string }) => void,\n        ): void {\n            if (debug) {\n                sandbox.log(\n                    `extendObject(id=${id}, obj=${JSON.stringify(obj)}) - ${words._('was not executed, while debug mode is active')}`,\n                    'warn',\n                );\n                if (typeof callback === 'function') {\n                    setTimeout(function () {\n                        try {\n                            callback.call(sandbox, null, { id });\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }, 0);\n                }\n            } else {\n                if (sandbox.verbose) {\n                    sandbox.log(`extendObject(id=${id}, obj=${JSON.stringify(obj)})`, 'info');\n                }\n                adapter.extendForeignObject(id, JSON.parse(JSON.stringify(obj)), callback);\n            }\n        };\n        sandbox.deleteObject = function (id: string, isRecursive?: boolean, callback?: ioBroker.ErrorCallback): void {\n            if (typeof isRecursive === 'function') {\n                callback = isRecursive;\n                isRecursive = false;\n            }\n            if (debug) {\n                sandbox.log(\n                    `deleteObject(id=${id}) - ${words._('was not executed, while debug mode is active')}`,\n                    'warn',\n                );\n                if (typeof callback === 'function') {\n                    setTimeout(function () {\n                        try {\n                            callback.call(sandbox);\n                        } catch (err: unknown) {\n                            errorInCallback(err as Error);\n                        }\n                    }, 0);\n                }\n            } else {\n                if (sandbox.verbose) {\n                    sandbox.log(`deleteObject(id=${id})`, 'info');\n                }\n                adapter.delForeignObject(id, { recursive: isRecursive }, callback);\n            }\n        };\n    }\n\n    // promisify methods on the sandbox\n    sandbox.existsStateAsync = promisify(sandbox.existsState);\n    sandbox.existsObjectAsync = promisify(sandbox.existsObject);\n    sandbox.getObjectAsync = promisify(sandbox.getObject);\n    sandbox.setObjectAsync = promisify(sandbox.setObject);\n    sandbox.extendObjectAsync = promisify(sandbox.extendObject);\n    sandbox.deleteObjectAsync = promisify(sandbox.deleteObject);\n    sandbox.createStateAsync = promisify(sandbox.createState);\n    sandbox.createAliasAsync = promisify(sandbox.createAlias);\n    sandbox.deleteStateAsync = promisify(sandbox.deleteState);\n    sandbox.writeFileAsync = promisify(sandbox.writeFile);\n    sandbox.readFileAsync = promisify(sandbox.readFile);\n    sandbox.unlinkAsync = promisify(sandbox.unlink);\n    sandbox.delFileAsync = promisify(sandbox.delFile);\n    sandbox.renameAsync = promisify(sandbox.rename);\n    sandbox.renameFileAsync = promisify(sandbox.renameFile);\n    sandbox.getHistoryAsync = promisify(sandbox.getHistory);\n    sandbox.httpGetAsync = promisify(sandbox.httpGet);\n    sandbox.httpPostAsync = promisify(sandbox.httpPost);\n\n    // Make all predefined properties and methods readonly so scripts cannot overwrite them\n    for (const prop of Object.keys(sandbox)) {\n        Object.defineProperty(sandbox, prop, {\n            configurable: false,\n            writable: false,\n        });\n    }\n\n    return sandbox;\n}\n"]}