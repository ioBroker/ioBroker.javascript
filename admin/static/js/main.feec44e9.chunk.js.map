{"version":3,"sources":["assets/tileJS.png","assets/tileTS.png","assets/tileBlockly.png","assets/blockly2js.png","Components/assets/state.png","Components/assets/channel.png","Components/assets/device.png","Components/assets/empty.png","assets/copy-content.svg","Theme.js","i18n.js","Dialogs/Rename.js","Dialogs/Delete.js","Dialogs/AddNewScript.js","Dialogs/New.js","Dialogs/Error.js","SideMenu.js","Log.js","ScriptEditorVanilaMonaco.js","BlocklyEditor.js","Dialogs/Message.js","Dialogs/Export.js","Dialogs/Import.js","Dialogs/Confirmation.js","Components/cp-react-tree-table/src/component/Column.js","Components/cp-react-tree-table/src/component/ColumnWrapper.js","Components/cp-react-tree-table/src/component/VirtualListRow.js","Components/cp-react-tree-table/src/model/row.js","Components/cp-react-tree-table/src/util/index.js","Components/cp-react-tree-table/src/model/bt_node.js","Components/cp-react-tree-table/src/model/bt_leaf.js","Components/cp-react-tree-table/src/model/bt_root.js","Components/cp-react-tree-table/src/component/VirtualList.js","Components/cp-react-tree-table/src/component/TreeDataTable.js","Components/cp-react-tree-table/src/util/search.js","Components/cp-react-tree-table/src/index.js","Components/Utils.js","Components/SelectID.js","Dialogs/SelectID.js","Components/simple-cron/cron2text.js","Components/simple-cron/jquery.cron.locale.js","Components/simple-cron/cronText.js","Components/ComplexCron.js","Components/simple-cron/SimpleCron.js","Components/Schedule.js","Dialogs/Cron.js","Editor.js","Connection.js","Components/Loader.js","Dialogs/ImportFile.js","App.js","serviceWorker.js","index.js","assets/js.png","assets/blockly.png","assets/typescript.png"],"names":["module","exports","__webpack_require__","p","Theme","root","flexGrow","display","width","height","menu","depthOffset","colors","primary","secondary","selected","background","color","error","toolbar","tabs","I18n","lang","word","arg1","arg2","arg3","translations","w","console","log","concat","undefined","replace","en","require","ru","de","window","sysLang","DialogRename","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleCancel","onClose","handleOk","onRename","oldId","state","id","name","instance","handleChange","setState","getId","isShowInstance","folder","instances","length","prefix","getPrefix","parts","split","pop","join","nextProps","_this2","react_default","a","createElement","Dialog_default","disableBackdropClick","disableEscapeKeyDown","maxWidth","fullWidth","open","aria-labelledby","DialogTitle_default","t","DialogContent_default","noValidate","autoComplete","TextField_default","style","label","value","onChange","e","target","margin","disabled","FormControl_default","InputLabel_default","htmlFor","Select_default","parseInt","inputProps","map","MenuItem_default","DialogActions_default","Button_default","onClick","React","Component","DialogDelete","onDelete","md","fontSize","fontWeight","DialogAddNew","type","html","focus","Card_default","className","classes","card","CardActionArea_default","CardMedia_default","media","image","ImgJS","title","CardContent_default","CardActions_default","size","openHtml","_this3","ImgTS","_this4","ImgBlockly","textAlign","getJSCard","getBlocklyCard","getTSCard","withStyles","DialogNew","onAdd","parent","minWidth","parents","splice","names","forEach","n","i","el","find","item","push","key","DialogError","aria-describedby","titleBackground","titleColor","DialogContentText_default","text","autoFocus","theme","Themes","&>h2","images","Blockly","Javascript/js","def","TypeScript/ts","ImgTypeScript","getObjectName","obj","getLanguage","common","prepareList","data","result","ids","keys","sort","b","enabled","depth","engineType","engine","startsWith","index","parentIndex","it","SideDrawer","onDragUpdate","update","provided","destination","listItems","dragDepth","expanded","localStorage","getItem","JSON","parse","scripts","reorder","draggedId","creatingScript","creatingFolder","renaming","deleting","choosingType","errorText","menuOpened","menuAnchorEl","expertMode","runningInstances","newExp","ensureSelectedIsVisible","scriptsHash","isAllZeroInstances","getIsAllZeroInstances","stringify","changed","indexOf","newState","selectId","setItem","err","stopPropagation","saveExpanded","pos","source","newId","draggableId","event","children","IconButton_default","iconButtons","onEnableDisable","green","red","onEdit","Promise","resolve","gripHandle","noGripHandle","isExpanded","expandButton","onCollapse","onExpand","padding","overflow","flex","items","_this5","filter","depthPx","assign","paddingLeft","cursor","inner","ListItem_default","element","onDoubleClick","onDblClick","renderFolderButtons","ListItemIcon_default","scriptIcon","alt","src","ListItemText_default","getTextStyle","ListItemSecondaryAction_default","renderItemButtons","react_beautiful_dnd_esm","isDragDisabled","snapshot","ref","innerRef","draggableProps","dragHandleProps","isDragging","draggableStyle","objectSpread","userSelect","renderOneItem","dragging","_this6","List_default","dense","disablePadding","_this7","_this8","_this9","_this10","_this11","aria-label","aria-owns","aria-haspopup","preventDefault","currentTarget","Menu_default","anchorEl","PaperProps","maxHeight","MENU_ITEM_HEIGHT","showError","then","iconDropdownMenu","onExpertModeChange","onExport","fa","onImport","toolbarButtons","onAddNew","onAddNewFolder","float","folders","_this12","renamingItem","Drawer_default","variant","paper","drawerPaper","anchor","getToolbarButtons","Divider_default","onDragStart","onDragEnd","droppableId","innerMenu","renderAllItems","Rename","newName","newInstance","Delete","AddNewScript","New","getUniqueName","getFolders","getUniqueFolderName","Dialogs_Error","position","paddingRight","overflowX","overflowY","borderRadius","Log","lines","goBottom","editing","lastIndex","messagesEnd","createRef","logHandlerBound","logHandler","bind","assertThisInitialized","message","ts","severity","trTime","d","getHours","toString","getMinutes","getSeconds","getMilliseconds","getTimeString","Date","trSeverity","current","scrollIntoView","behavior","allLines","generateLine","ms","date","toLocaleString","connection","registerLogHandler","unregisterLogHandler","scrollToBottom","hasOwnProperty","str","document","body","appendChild","select","execCommand","removeChild","copyToClipboard","logBox","toolbox","clearLog","onCopy","logBoxInner","table","clear","marginLeft","info","warn","debug","opacity","silly","fontFamily","top","left","boxShadow","toolboxXml","ScriptEditor","isDark","language","readOnly","alive","check","monacoDiv","editor","monaco","insert","originalCode","code","globalTypingHandles","typings","setTimeout","forceUpdate","onRegisterSelect","getModel","getValueInRange","getSelection","compilerOptions","languages","typescript","typescriptDefaults","ScriptTarget","ES2015","allowJs","checkJs","noLib","lib","moduleResolution","ModuleResolutionKind","NodeJs","setCompilerOptions","setTypeCheck","create","lineNumbers","scrollBeyondLastLine","automaticLayout","onDidChangeModelContent","getValue","scriptAdapterInstance","getScripts","sendTo","setEditorTypings","addCommand","KeyMod","CtrlCmd","KeyCode","KEY_S","onForceSave","options","selectOnLineNumbers","setEditorOptions","setValue","setEditorLanguage","updateOptions","lineWrap","wordWrap","typeCheck","setTheme","dispose","model","uri","path","filenameWithoutExtension","substr","lastIndexOf","extension","newLanguage","newModel","createModel","Uri","from","setModel","noSemanticValidation","noSyntaxValidation","setDiagnosticsOptions","isGlobal","handle","addExtraLib","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","return","isGlobalScript","test","partialDeclarationsPath","_arr","_i","addTypingsToEditor","selection","range","Range","startLineNumber","startColumn","endLineNumber","endColumn","executeEdits","forceMoveMarkers","insertTextIntoEditor","onInserted","newValue","mini","bottom","right","zIndex","DialogMessage","DialogExport","popper","getElementById","dialog","textArea","Popper_default","placement","transition","_ref","TransitionProps","Fade_default","timeout","Paper_default","typography","tabIndex","aria-hidden","spacing","unit","DialogImport","fullHeight","resize","languageBlocklyLoaded","languageOwnLoaded","toolboxText","BlocklyEditor","blockly","blocklyWorkspace","exportText","importText","onResizeBind","onResize","lastCommand","blinkBlock","loadLanguages","command","blocklyCheckBlocks","badBlock","blocklyBlinkBlock","exportBlocks","importBlocks","loadCode","fileLang","setAttribute","onload","onreadystatechange","readyState","getElementsByTagName","fileCustom","svgResize","xml","l","substring","decodeURIComponent","atob","block","unselect","cb","warningText","getAllBlocks","blocklyGetUnconnectedBlock","blocklyGetBlockWithWarning","blocks","connections","getConnections_","conn","j","sourceBlock_","INPUT_VALUE","OUTPUT_VALUE","targetConnection","_optional","warning","oneWay","JavaScript","workspaceToCode","dom","Xml","workspaceToDom","domToText","btoa","encodeURIComponent","xmlBlock","blockToDom","dragMode_","DRAG_FREE","deleteNext","xy","getRelativeToSurfaceXY","RTL","x","y","domToPrettyText","trim","xmlBlocks","textToDom","nodeName","paste","ignoreChanges","jsCode2Blockly","domToWorkspace","alert","didUpdate","clearTimeout","addEventListener","getToolbox","inject","zoom","controls","wheel","startScale","maxScale","minScale","scaleSpeed","trashcan","grid","colour","snap","addChangeListener","masterEvent","Events","UI","CREATE","getElementsByClassName","removeEventListener","blocklyCode2JSCode","outerHTML","m","p1","MSG","CustomBlocks","_b","Words","HUE","componentDidUpdate","Message","Export","Import","onImportBlocks","DialogConfirm","onOk","question","ok","cancel","Column","ColumnWrapper","_this$props","rowData","toggle","rowMetadata","renderCell","classNameColumn","_width","cWidth","baseClass","STYLE_COLUMN","boxSizing","VirtualListRow","overscanHeight","topOffset","row","hasVisibleChildren","onToggle","columns","classNameRow","classNameSelected","metadata","getMetadata","STYLE_ROW","getHeight","data-rindex","onRowClick","data-depth","Children","toArray","column","ColumnWrapper_ColumnWrapper","Row","hasChildren","arguments","isVisible","_height","_cacheHeight","_hasChildren","_updateHeight","hide","show","diff","processData","rowHeightDefault","processLevel","needle","haystack","noop","BTNode","_size","ch","getSize","at","child","sz","rm","Math","min","oldHeight","removeInner","BTLeaf","rows","collapse","insertInner","remaining","leaf","slice","maybeSpill","me","sibling","myIndex","copy","op","used","mapRange","apply","BTRoot","get","prototype","Error","node","cur","chunk","rHeight","getRow","rowObj","VirtualList","_handleScroll","onScroll","container","scrollTop","_setHeight","offsetHeight","lastVisibleRowIndex","classNamePartlyVisible","classNameMover","classNameInner","_this$state","startYMax","max","startY","startIndex","getIndexAtY","endY","endIndex","contentTopOffset","getYAtIndex","visibleRowsData","visibleRows","relativeIndex","visible","VirtualListRow_VirtualListRow","STYLE_LIST","elem","STYLE_WRAPPER","STYLE_CONTENT","posY","parentNode","WebkitOverflowScrolling","minHeight","TreeDataTable","_handleOnToggle","delta","_toggleRow","hasChange","toggleOpen","currentDepth","rowIndex","getRowIndex","rowHeight","VirtualList_VirtualList","virtualList","expandAncestors","dataNode","mapAll","findNodeData","ancestors","currentRowIndex","previousDepth","currentRow","currentRoot","scrollTo","to","_from","_to","_isOpRangeValid","hasChanged","_walkOne","expandOrCollapse","_showRowsInRange","_hideRowsInRange","maxTo","days","months","Utils","toUpperCase","toLowerCase","objects","settings","isDesc","attr","desc","CapitalWords","forEnumId","custom","user","subOrder","order","subURLs","URLs","list","dest","Array","_result$splice","removed","slicedToArray","defaultEnabling","_id","useCustom","icon","s","useCommon","location","pathname","match","defaultValue","r","g","rgb","seconds","parseFloat","isNaN","hours","floor","minutes","secs","angle","num","format","dateFormat","now","year","day","abs","getTime","getDay","getDate","getMonth","namespace","INSTANCES","binarySearch","applyFilter","filters","context","filteredOut","role","room","members","func","expert","fID","fName","getName","_item","formatDate","dateObj","getFullYear","v","formatValue","texts","valFull","states","ex","getStates","isCommon","valText","val","lc","ack","quality","q","quality2text","getSelectIdIcon","_id_","IconDefaultDevice","IconDefaultChannel","IconDefaultState","IconDefault","SelectID","loaded","selectedFound","copyContentImg","CopyContentImg","treeTableRef","mainRef","getObjects","_buildTree","currentPathArr","currentPath","currentPathLen","funcEnums","roomEnums","roles","croot","_loop","statesOnly","repeat","u","move","curPath","_loop2","k","_croot","buildTree","onSelect","isDouble","toggleChildren","__installed","cellCopy","div","img","A200","dataset","cellCopyPressed","installCopyButtons","findNode","_parts","_path","_level","found","isState","data-index","cellWrapper","toggleButtonWrapper","cellWrapperElement","findRoomsForObject","withParentInfo","rooms","origin","findFunctionsForObject","funcs","filterTimer","headerCellInput","marginTop","marginBottom","Input_default","underline","placeholder","onFilter","values","displayEmpty","selectNone","selectIcon","getFilterSelect","expandAll","collapseAll","Toolbar_default","onExpandAll","onCollapseAll","visibleButtons","onExpandVisible","onCollapseVisible","idWidth","mainDiv","getToolbar","header","headerCell","getFilterInput","getFilterSelectRole","getFilterSelectRoom","getFilterSelectFunction","tableDiv","cp_react_tree_table_src","partlyVisible","treeTable","treeTableRow","isDoubleClick","grow","renderIndexColumn","cellDivId","renderColumnName","cellDiv","renderColumnRole","renderColumnRoom","renderColumnFunc","renderColumnValue","CircularProgress_default","borderTop","borderBottom","verticalAlign","alignItems","lineHeight","selectSpan","border","paddingTop","A700","DialogSelectID","headerID","content","Components_SelectID","fontStyle","cronToText","cronspec","withSeconds","locale","NAMES","JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC","SUN","MON","TUE","WED","THU","FRI","SAT","REPLACEMENTS","* * * * * *","@YEARLY","@ANNUALLY","@MONTHLY","@WEEKLY","@DAILY","@HOURLY","FIELDS","h","D","M","Y","offset","add","sched","inc","addHash","schedules","curSched","hash","dc","field","clone","cloneSchedule","except1","except2","exceptions","addWeekday","incSplit","rangeSplit","addRange","isHash","itemSorter","toInt","argumentForCoercion","number","coercedNumber","isFinite","ceil","ordinal","ORDINALS","th","st","nd","rd","numberList","numbers","lastVal","numberToDateName","DOW","MONTH","dateList","outputText","zeroPad","schedule","Every","hm","and","scheduleToSentence","expr","hasSeconds","prepared","prepareExpr","f","component","components","parseExpr","parseCron","JQUERY_CRON_LOCALE","every day","minute past the","hour","minute","minute of","second","second in minute","second of every","minute every hour","on the","of every month","and every","At","on","in","convertCronToText","cron","correctCasus","WEEKDAYS","MONTHS","convertMinusIntoArray","iMax","convertArrayIntoMinus","newParts","start","end","ComplexCron","cronExpression","cron2state","extended","tab","state2cron","modes","dates","dows","defineProperty","recalcCron","nums","numberButton","paddingBottom","every","everyN","periodSelect","_this4$setState","_this4$setState2","_this4$setState3","InputLabelProps","shrink","getDigitsSelector","FormControlLabel_default","control","Checkbox_default","checked","AppBar_default","appBar","Tabs_default","active","Tab_default","tabContent","getPeriodsTab","cronParts","slider","numberButtonBreak","PERIODIC","once","interval","intervalBetween","specific","PERIODIC_TYPES","DEFAULT_STATE","mode","period","SimpleCron","time","timeFrom","timeTo","weekdays","formControl","getControlsTime","getControlsDate","getControlsPeriodElements","getControlsWeekdaysElements","onModeChange","getOnceElements","getIntervalElements","getIntervalBetweenElements","getSpecificTimeElements","part","dow","text2weekdays","periodArray2text","partsDate","month","PERIODS","ASTRO","DEFAULT","exactTime","weeks","years","yearMonth","yearDate","valid","string2USdate","Schedule","now2string","state2text","force","isDiff","string2date","today","setHours","setMinutes","setSeconds","setMilliseconds","validFrom","tDows","last","tMonths","wholeDay","night","fromTo","rowDiv","modeDiv","Radio_default","inputRadio","_schedule","settingsDiv","inputTime","marginRight","getPeriodSettingsMinutes","isAstro","hr","isOnce","rowOnce","inputDate","rowDays","getPeriodSettingsDaily","getPeriodSettingsWeekdays","rowDows","getPeriodSettingsWeekly","rowDowsDows","rowMonths","getPeriodSettingsMonthly","rowMonthsDates","getPeriodSettingsDates","rowYears","getPeriodSettingsYearly","inputEvery","isSpecific","FormGroup_default","inputGroup","inputGroupElement","inputSmallCheck","parsedDates","inputDateDay","inputDateDayCheck","pointerEvents","parsedMonths","isEnd","setDate","scrollWindow","getTimePeriodElements","getTimeExactElements","getDivider","getPeriodModes","getValidSettings","rowDates","rowWeeks","rowDaysDows","DialogCron","simple","dialogPaper","simple_cron_SimpleCron","Components_Schedule","Components_ComplexCron","radio","Editor","showBlocklyCode","showSelectId","showCron","cmdToBlockly","initValue","callback","systemLang","main","selectIdDialog","cronDialog","onSelectedChange","onBrowserCloseBound","onBrowserClose","isChanged","returnValue","_changed","nextCommon","onRestart","getSelect","showConfirmDialog","isScriptChanged","onTabClose","confirmCallback","confirm","cmd","onTabChange","indicatorColor","textColor","scrollable","scrollButtons","tabIcon","tabText","tabChanged","closeButton","hintButton","hintIcon","isInstanceRunning","isScriptRunning","onLocate","notRunning","textButton","onSave","onCancel","sendCommandToBlockly","onConvert2JS","ImgBlockly2Js","editorDiv","ScriptEditorVanilaMonaco","src_BlocklyEditor","resizing","Confirmation","Dialogs_SelectID","Cron","_this13","getTabs","getScriptEditor","getBlocklyEditor","getConfirmDialog","getSelectIdDialog","getCronDialog","hintText","palette","textOverflow","whiteSpace","PROGRESS","CONNECTING","CONNECTED","OBJECTS_LOADED","READY","Connection","autoSubscribes","autoSubscribeLog","socket","io","connect","protocol","host","query","hosts","groups","acl","firstConnect","waitForRestart","connected","statesSubscribes","onProgress","onError","emit","systemConfig","navigator","userLanguage","onLanguage","onReady","subscribe","reload","subscribed","onLog","onLogHandler","operation","objectChange","stateChange","cbs","reg","RegExp","getState","_rev","oldObj","onObjectChange","task","res","STATES_LOADED","reject","refresh","isEnable","newCommon","_obj","verbose","originalGroup","confirmed","deleted","deleteId","onConfirmDelete","_deleteGroup","_list","nId","renameGroup","handler","PropTypes","Loader","borderWidth","DialogImportFile","imageStatus","files","file","readFileDataUrl","dropzone","dropzoneAccepted","dropzoneRejected","es","maxSize","acceptClassName","rejectClassName","onDrop","handleDropFile","multiple","accept","isDragActive","isDragReject","reader","FileReader","onabort","onerror","readAsDataURL","borderStyle","borderColor","transform","App","progress","ready","updateScripts","updating","logMessage","menuSelectId","importFile","logSize","round","subscribeState","nScripts","compareScripts","newScripts","oldIds","newIds","oldScript","newScript","promise","updateScript","catch","delObject","isFolder","setObject","shift","getLiveHost","adapter","link","href","click","remove","download","showMessage","menuTransition","appSideMenuWithMenu","appSideMenuWithoutMenu","SideMenu","menuOpenCloseButton","lib_default","vertical","primaryMinSize","secondaryInitialSize","customClassName","splitterDivWithoutMenu","onSecondaryPaneSizeChange","src_Editor","onUpdateScript","extendObject","src_Log","ImportFile","onImportConfirmed","Components_Loader","transitionProperty","transitionDuration","backgroundColor","default","splitterDivWithMenu","&:hover","Boolean","hostname","createMuiTheme","light","dark","contrastText","ReactDOM","render","core_styles","src_App","serviceWorker","registration","unregister"],"mappings":"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CA,OACA,SACA,YACA,UACA,WACA,YAEJD,IAAK,CACD,UACA,SACA,WACA,WACA,aACA,UACA,WAEJM,MAAoB,UACpBE,IAAoB,MACpBY,YAAoB,YACpBC,kBAAoB,eACpBC,KAAoB,SACpBC,OAAoB,SACpBC,YAAoB,cACpBC,OAAoB,UACpBC,mBAAoB,wBACpBC,kBAAoB,aACpBC,oBAAqB,qBACrBC,SAAoB,KACpBC,iBAAoB,iBACpBC,YAAoB,eACpBC,GAAoB,KACpBC,GAAoB,KACpBC,GAAoB,MAGxBf,GAAwB,CACpB5B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,uCACA,6CACA,iCACA,uCACA,2BACA,2BACA,2BACA,6CACA,mDACA,6CACA,uCACA,8CAEJD,IAAK,CACD,qEACA,qEACA,6CACA,iCACA,6CACA,6CACA,8CAEJM,MAAoB,qDACpBE,IAAoB,SACpBY,YAAoB,gEACpBC,kBAAoB,8CACpBC,KAAoB,yCACpBC,OAAoB,uCACpBC,YAAoB,gDACpBC,OAAoB,6CACpBC,mBAAoB,yFACpBC,kBAAoB,gGACpBC,oBAAqB,+FACrBC,SAAoB,GACpBC,iBAAoB,iHACpBC,YAAoB,8CACpBC,GAAoB,SACpBC,GAAoB,SACpBC,GAAoB,UAGxBf,GAAwB,CACpB5B,SAAU,CACNC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAERM,MAAO,CACH,SACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,UAGJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAGJM,MAAoB,SACpBE,IAAoB,KACpBY,YAAoB,iBACpBC,kBAAoB,qBACpBC,KAAoB,QACpBC,OAAoB,SACpBC,YAAoB,YACpBC,OAAoB,UACpBC,mBAAoB,oBACpBC,kBAAoB,sBACpBC,oBAAoB,2BACpBC,SAAoB,SACpBC,iBAAoB,iBACpBC,YAAoB,UACpBC,GAAoB,OACpBC,GAAoB,MACpBC,GAAoB,QAGxBf,GAAwB,CACpB5B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,KACA,OAEJM,MAAqB,OACrBE,IAAqB,IACrBY,YAAqB,cACrBC,kBAAqB,cACrBC,KAAqB,MACrBC,OAAqB,SACrBC,YAAqB,YACrBC,OAAqB,UACrBC,mBAAqB,oBACrBC,kBAAqB,kBACrBC,oBAAqB,kBACrBC,SAAqB,MACrBC,iBAAqB,eACrBC,YAAqB,SACrBC,GAAqB,IACrBC,GAAqB,QACrBC,GAAqB,MAGzBf,GAAwB,CACpB5B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAEJM,MAAwB,OACxBE,IAAwB,IACxBY,YAAwB,WACxBC,kBAAwB,mBACxBC,KAAwB,OACxBC,OAAwB,SACxBC,YAAwB,YACxBC,OAAwB,UACxBC,mBAAwB,oBACxBC,kBAAwB,kBACxBC,oBAAwB,qBACxBC,SAAwB,KACxBC,iBAAwB,oBACxBC,YAAwB,UACxBC,GAAwB,KACxBC,GAAwB,KACxBC,GAAwB,UAG5Bf,GAAwB,CACpB5B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAEJM,MAAwB,OACxBE,IAAwB,IACxBY,YAAwB,cACxBC,kBAAwB,mBACxBC,KAAwB,OACxBC,OAAwB,SACxBC,YAAwB,YACxBC,OAAwB,UACxBC,mBAAwB,oBACxBC,kBAAwB,kBACxBC,oBAAwB,mBACxBC,SAAwB,WACxBC,iBAAwB,cACxBC,YAAwB,SACxBC,GAAwB,IACxBC,GAAwB,KACxBC,GAAwB,MAG5Bf,GAAwB,CACpB5B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,KACA,KACA,MACA,OACA,MAEJM,MAAwB,OACxBE,IAAwB,KACxBY,YAAwB,WACxBC,kBAAwB,oBACxBC,KAAwB,MACxBC,OAAwB,SACxBC,YAAwB,aACxBC,OAAwB,SACxBC,mBAAwB,mBACxBC,kBAAwB,mBACxBC,oBAAwB,iBACxBC,SAAwB,QACxBC,iBAAwB,iBACxBC,YAAwB,UACxBC,GAAwB,KACxBC,GAAwB,KACxBC,GAAwB,OAGbf,MCrVAgB,OANf,SAA2BC,EAAM/lC,GAC7B,IAAMm/B,EAAyC,IAA3B4G,EAAKjjC,MAAM,KAAKJ,OAEpC,OAhDJ,SAAsBkG,EAAMyrB,GA0CxB,OAFAzrB,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GAFAA,GADAA,GADAA,GADAA,GADAA,GADAA,GAFAA,GADAA,GAFAA,GADAA,GAFAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GADAA,GAFAA,GADAA,GADAA,GADAA,GADAA,EAAOA,EAAKjI,QAAQ,0FAAwB,8EAChCA,QAAQ,4FAAwB,8EAChCA,QAAQ,wEAAwB,4DAChCA,QAAQ,gGAAwB,oFAChCA,QAAQ,4CAAwB,mDAEhCA,QAAQ,yDAAwB,+FAChCA,QAAQ,+DAAwB,qGAChCA,QAAQ,mDAAwB,yFAChCA,QAAQ,yDAAwB,+FAChCA,QAAQ,6CAAwB,mFAChCA,QAAQ,6CAAwB,mFAChCA,QAAQ,6CAAwB,mFAChCA,QAAQ,+DAAyB,qGACjCA,QAAQ,qEAA0B,2GAClCA,QAAQ,+DAAyB,qGACjCA,QAAQ,yDAAwB,+FAChCA,QAAQ,+DAAyB,qGAEjCA,QAAQ,4FAAyB,iGACjCA,QAAQ,6GAAmC,iFAE3CA,QAAQ,6GAAmC,iFAC3CA,QAAQ,4FAAwB,8EAEhCA,QAAQ,4CAAyB,sCACjCA,QAAQ,4CAAyB,0BACjCA,QAAQ,4CAAyB,gCACjCA,QAAQ,4CAAyB,gCACjCA,QAAQ,4CAAyB,gCACjCA,QAAQ,sDAAyB,uCAEjCA,QAAQ,kBAAwB,iBAChCA,QAAQ,kCAAmC,oBAC3CA,QAAQ,iBAAwB,gBAChCA,QAAQ,eAAwB,gBAChCA,QAAQ,cAAwB,gBAChCA,QAAQ,iBAAwB,gBAChCA,QAAQ,iCAAkC,mBAC1CA,QAAQ,0BAA2B,gCAQxCqlC,CADI/G,GAAW8G,EAAM5G,EAAa2F,GAAmB9kC,MCF1DimC,GAAW,CACb,SACA,SACA,UACA,YACA,WACA,SACA,WACA,UAEEC,GAAS,CACX,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAIJ,SAASC,GAAsB9hC,EAAOsqB,GAClC,IAAI9kB,EAAS,GACb,GAAc,MAAVxF,EAAe,CACf,IAAK,IAAI4D,EAAI,EAAGA,GAAK0mB,EAAK1mB,IACtB4B,EAAOxB,KAAKJ,GAEhB,OAAO4B,EAGX,IADA,IAAMhH,GAASwB,GAAS,IAAIkR,WAAWzS,MAAM,KACpCjE,EAAI,EAAGA,EAAIgE,EAAMH,OAAQ7D,IAC9B,GAAMgE,EAAMhE,GAAGsmB,OAAOziB,OAAtB,CACA,IAAM8L,EAAQ3L,EAAMhE,GAAGsmB,OAAOriB,MAAM,KACpC,GAAI0L,EAAM9L,OAAS,EAEf,IADA,IAAI0jC,EAAOrhC,SAASyJ,EAAM,GAAI,IACrBvG,EAAIlD,SAASyJ,EAAM,GAAI,IAAKvG,GAAKm+B,EAAMn+B,IAC5C4B,EAAOxB,KAAKJ,QAGhB4B,EAAOxB,KAAKtD,SAASlC,EAAMhE,GAAI,MAGvCgL,EAASA,EAAO5E,IAAI,SAAA7B,GAAC,OAAI2B,SAAS3B,EAAG,OAE9B4G,OAIP,IAAK,IAAInL,EAAIgL,EAAOnH,OAAS,EAAG7D,GAAK,EAAGA,IAChCgL,EAAOhL,KAAOgL,EAAOhL,EAAI,IACzBgL,EAAOhC,OAAOhJ,EAAI,EAAG,GAK7B,OAAOgL,EAIX,SAASw8B,GAAsBhiC,EAAOsqB,GAIlC,GAHqB,kBAAVtqB,IACPA,EAAQ,CAACA,IAETA,EAAM3B,SAAWisB,EACjB,MAAO,IAEX,IAAM2X,EAAW,GACjB,IAAKjiC,EAAM3B,OACP,MAAO,IAEX2B,EAAQA,EAAMY,IAAI,SAAA7B,GAAC,OAAI2B,SAAS3B,EAAG,OAE7B4G,KAAK,SAAC5G,EAAG6G,GAAJ,OAAU7G,EAAG6G,IAIxB,IAFA,IAAIs8B,EAAQliC,EAAM,GACdmiC,EAAMniC,EAAM,GACPxF,EAAI,EAAGA,EAAIwF,EAAM3B,OAAQ7D,IAC1BwF,EAAMxF,GAAK,IAAMkG,SAASV,EAAMxF,EAAI,GAAI,KACpC0nC,IAAUC,EACVF,EAASj+B,KAAKk+B,GACPC,EAAM,IAAMD,EACnBD,EAASj+B,KAAKk+B,EAAQ,IAAMC,GAE5BF,EAASj+B,KAAKk+B,EAAQ,IAAMC,GAEhCD,EAAQliC,EAAMxF,GACd2nC,EAAMniC,EAAMxF,IAEZ2nC,EAAMniC,EAAMxF,GAYpB,OARI0nC,IAAUC,EACVF,EAASj+B,KAAKk+B,GACPC,EAAM,IAAMD,EACnBD,EAASj+B,KAAKk+B,EAAQ,IAAMC,GAE5BF,EAASj+B,KAAKk+B,EAAQ,IAAMC,GAGzBF,EAAStjC,KAAK,SAGnByjC,eACF,SAAAA,EAAYtlC,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAklC,GAEf,IAAIV,EAA6C,kBADjD3kC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAolC,GAAA/kC,KAAAH,KAAMJ,KACkBA,MAAMulC,eAA+BtlC,EAAKD,MAAMulC,eAAe/lC,QAAQ,QAAS,IAAIA,QAAQ,WAAY,IAAM,GACtH,MAAZolC,EAAK,KACLA,EAAO,IAEX,IAAM/jC,EAAQykC,EAAYE,WAAWZ,GAAQ,aAN9B,OAQf3kC,EAAKY,MAAQ,CACT4kC,UAAU,EACVC,KAAuB,IAAlB7kC,EAAMqyB,QAAoB,EAAI,EACnC0R,KAAMU,EAAYK,WAAW9kC,GAC7B+kC,MAAO,CACH1S,QAAS,KACTK,QAAS,KACTF,MAAO,KACPwS,MAAO,KACP/U,OAAQ,KACRgV,KAAM,OAGd5lC,OAAOuN,OAAOxN,EAAKY,MAAOA,GArBXZ,4EAuDf,IAAI2kC,EAAOU,EAAYK,WAAWvlC,KAAKS,OACnC+jC,IAASxkC,KAAKS,MAAM+jC,MACpBxkC,KAAKc,SAAS,CAAC0jC,0CAIdA,GACDA,IAASxkC,KAAKS,MAAM+jC,OACpBxkC,KAAKc,SAAS,CAAC0jC,SACfxkC,KAAKJ,MAAMmD,UAAY/C,KAAKJ,MAAMmD,SAASyhC,qCAI1C99B,EAAGnC,EAAM6oB,GAAK,IAAAzrB,EAAA3B,KACnB,IAAU,IAAN0G,EACA1G,KAAKc,SAALhB,OAAA6lC,GAAA,EAAA7lC,CAAA,GAAgByE,EAAO,KAAM,kBAAM5C,EAAKikC,oBACrC,IAAU,IAANl/B,EACP1G,KAAKc,SAALhB,OAAA6lC,GAAA,EAAA7lC,CAAA,GAAgByE,EAAO,IAAK,kBAAM5C,EAAKikC,mBACpC,CACH,IAAIC,EAAOjB,GAAsB5kC,KAAKS,MAAM8D,GAAO6oB,GAC7C1hB,EAAMm6B,EAAK16B,QAAQzE,IACZ,IAATgF,EACAm6B,EAAKv/B,OAAOoF,EAAK,IAEjBm6B,EAAK/+B,KAAKJ,GACVm/B,EAAKp9B,QAETzI,KAAKc,SAALhB,OAAA6lC,GAAA,EAAA7lC,CAAA,GAAgByE,EAAOugC,GAAsBe,EAAMzY,IAAO,kBAAMzrB,EAAKikC,0DAI3DrhC,EAAM6oB,GAAK,IAAA5nB,EAAAxF,KACrBs6B,EAAS,GACb,GAAY,IAARlN,EACAkN,EAAS,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,QAEtB,IAAK,IAAI5zB,EAAI,EAAGA,GAAK0mB,EAAK1mB,IACtB4zB,EAAOxzB,KAAKJ,GAGpB,IAAMpF,EAAQsjC,GAAsB5kC,KAAKS,MAAM8D,GAAO6oB,GACtD,MAAO,CACFxrB,EAAAC,EAAAC,cAAC+B,EAAAhC,EAAD,CACGkF,IAAI,YACJsK,QAAS,WACT1M,UAAW3E,KAAKJ,MAAMgF,QAAQkhC,aAC9BljC,MAAO,CAACmjC,cAAe,IACvB3nC,MAAO,UACP0F,QAAS,kBAAM0B,EAAKyiB,UAAS,EAAO1jB,EAAM6oB,KAAO5uB,EAAK+D,EAAE,iBAC3DX,EAAAC,EAAAC,cAAC+B,EAAAhC,EAAD,CACGkF,IAAI,SACJsK,QAAS,YACTzO,MAAO,CAACmjC,cAAe,IACvBphC,UAAW3E,KAAKJ,MAAMgF,QAAQkhC,aAC9B1nC,MAAO,YACP0F,QAAS,kBAAM0B,EAAKyiB,UAAS,EAAM1jB,EAAM6oB,KAAO5uB,EAAK+D,EAAE,eAC1DX,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,OACLuzB,EAAO52B,IAAI,SAAAgD,GAAC,MACT,EAAW,IAAR0mB,GAAmB,IAAN1mB,GACP,KAAR0mB,GAAoB,IAAN1mB,GACN,KAAR0mB,MAAiB1mB,EAAI,GAAK,KAClB,KAAR0mB,MAAiB1mB,EAAI,GAAK,KAClB,KAAR0mB,MAAiB1mB,EAAI,GAAK,KAC1B9E,EAAAC,EAAAC,cAAA,OAAKiF,IAAK,WAAaL,EAAG9D,MAAO,CAACjF,MAAO,UACrCiE,EAAAC,EAAAC,cAAC+B,EAAAhC,EAAD,CACGkF,IAAK,IAAML,EACX2K,SAA+B,IAAtB/P,EAAM6J,QAAQzE,GAAY,YAAc,WACjD/B,UAAWa,EAAK5F,MAAMgF,QAAQkhC,aAC9B1nC,OAA6B,IAAtBkD,EAAM6J,QAAQzE,GAAY,YAAc,UAC/C5C,QAAS,kBAAM0B,EAAKyiB,SAASvhB,EAAGnC,EAAM6oB,KAAe,IAARA,EAAY5uB,EAAK+D,EAAEmiC,GAASh+B,IAAe,KAAR0mB,EAAauX,GAAOj+B,EAAI,GAAKA,8CAKvHnC,EAAM6oB,GAAK,IAIjB5X,EAJiB9P,EAAA1F,KACjB8C,EAAQ9C,KAAKS,MAAM8D,GACnByhC,EAAkB,MAAVljC,EACRmjC,GAA4C,IAAnCnjC,EAAMkR,WAAW7I,QAAQ,KAEtC,GAA+B,OAA3BnL,KAAKS,MAAM+kC,MAAMjhC,GAAgB,CACjCiR,EAASwwB,EAAQ,QAAWC,EAAS,SAAW,WAChD,IAAMT,EAAQ37B,KAAKC,MAAMD,KAAKoB,UAAUjL,KAAKS,MAAM+kC,QAEnD,OADAA,EAAMjhC,GAAQiR,EACPoC,WAAW,kBAAMlS,EAAK5E,SAAS,CAAC0kC,WAAS,KAWpD,OATIQ,EAAmC,UAA3BhmC,KAAKS,MAAM+kC,MAAMjhC,GACzB0hC,EAAoC,WAA3BjmC,KAAKS,MAAM+kC,MAAMjhC,GAC1BiR,EAASxV,KAAKS,MAAM+kC,MAAMjhC,GAG1B0hC,IACAnjC,EAAQU,SAASV,EAAM1D,QAAQ,KAAM,IAAK,KAAO,GAG7CwC,EAAAC,EAAAC,cAAA,WACJF,EAAAC,EAAAC,cAACyB,GAAA1B,EAAD,CACI8C,UAAW3E,KAAKJ,MAAMgF,QAAQshC,aAC9BtjC,MAAO,CAACk6B,cAAe,UACvBh6B,MAAO0S,EACPzS,SAAU,SAAAC,GACN,IAEgCmjC,EAF1BX,EAAQ37B,KAAKC,MAAMD,KAAKoB,UAAUvF,EAAKjF,MAAM+kC,QAEnD,GADAA,EAAMjhC,GAAQvB,EAAEC,OAAOH,MACA,UAAnBE,EAAEC,OAAOH,MACT4C,EAAK5E,UAALqlC,EAAA,GAAArmC,OAAA6lC,GAAA,EAAA7lC,CAAAqmC,EAAgB5hC,EAAO,KAAvBzE,OAAA6lC,GAAA,EAAA7lC,CAAAqmC,EAAA,QAA4BX,GAA5BW,GAAoC,kBAAMzgC,EAAKkgC,oBAC5C,GAAuB,WAAnB5iC,EAAEC,OAAOH,MAAoB,KAAAsjC,EAC9B9S,EAAM9vB,SAASkC,EAAKjF,MAAM8D,GAAMyP,WAAW5U,QAAQ,KAAM,IAAK,KAAO,EAC3EsG,EAAK5E,UAALslC,EAAA,GAAAtmC,OAAA6lC,GAAA,EAAA7lC,CAAAsmC,EAAgB7hC,EAAO,KAAO+uB,GAA9BxzB,OAAA6lC,GAAA,EAAA7lC,CAAAsmC,EAAA,QAAmCZ,GAAnCY,GAA2C,kBAAM1gC,EAAKkgC,oBACnD,GAAuB,aAAnB5iC,EAAEC,OAAOH,MAAsB,KAAAujC,EAChC/S,EAAM9vB,SAASkC,EAAKjF,MAAM8D,GAAMhD,MAAM,KAAK,KAAO,EACxDmE,EAAK5E,UAALulC,EAAA,GAAAvmC,OAAA6lC,GAAA,EAAA7lC,CAAAumC,EAAgB9hC,EAAOugC,GAAsBxR,EAAKlG,IAAlDttB,OAAA6lC,GAAA,EAAA7lC,CAAAumC,EAAA,QAAwDb,GAAxDa,GAAgE,kBAAM3gC,EAAKkgC,kBAGnFhkC,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAUkF,IAAI,QAAQjE,MAAM,SAAStE,EAAK+D,EAAE,YAAcgC,IAC1D3C,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAUkF,IAAI,SAASjE,MAAM,UAAUtE,EAAK+D,EAAE,aAAegC,IAC7D3C,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAUkF,IAAI,WAAWjE,MAAM,YAAYtE,EAAK+D,EAAE,eAAiBgC,KAEtE0hC,IAAU,EACVA,GAAWrkC,EAAAC,EAAAC,cAACa,GAAAd,EAAD,CACRkF,IAAI,WACJlE,MAAOrE,EAAK+D,EAAE,MAAQgC,GACtBzB,MAAOA,EACP4nB,IAAK,EACL0C,IAAKA,EACLrqB,SAAU,SAAAC,GACN0C,EAAK5E,SAALhB,OAAA6lC,GAAA,EAAA7lC,CAAA,GAAgByE,EAAO,KAAOvB,EAAEC,OAAOH,OAAQ,kBAAM4C,EAAKkgC,gBAE9DU,gBAAiB,CAACC,QAAQ,GAC1BhiC,KAAK,SACLrB,OAAO,YAET8iC,IAAUC,GAAUjmC,KAAKwmC,kBAAkBjiC,EAAM6oB,qCAIlD,IAAAlgB,EAAAlN,KACCslC,GAA6B,IAAvBtlC,KAAKS,MAAMqyB,QAAoB9yB,KAAKS,MAAM6kC,IAAMtlC,KAAKS,MAAM6kC,IAAM,EAC7E,OACI1jC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQw2B,SAC/Bx5B,EAAAC,EAAAC,cAAA,OAAKc,MAAO,CAAC0K,YAAa,EAAG3P,MAAO,SAASiE,EAAAC,EAAAC,cAACa,GAAAd,EAAD,CAAWe,MAAO,CAACjF,MAAO,QAASmF,MAAO9C,KAAKS,MAAM+jC,KAAMrhC,UAAU,KAClHvB,EAAAC,EAAAC,cAAA,OAAKc,MAAO,CAAC0K,YAAa,EAAG3P,MAAO,OAAQC,OAAQ,KAAM2mC,GAAkBvkC,KAAKS,MAAM+jC,KAAMxkC,KAAKJ,MAAMoX,UAAY,OACpHpV,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CACI6kC,QAAS9kC,EAAAC,EAAAC,cAAC6kC,GAAA9kC,EAAD,CAAU+kC,QAAS5mC,KAAKS,MAAMqyB,QACpB/vB,SAAU,SAAAC,GAAC,OAAIkK,EAAKpM,SAAS,CAACgyB,UAAS9vB,EAAEC,OAAO2jC,SAAU,SAC7E/jC,MAAOrE,EAAK+D,EAAE,iBAElBX,EAAAC,EAAAC,cAAC+kC,GAAAhlC,EAAD,CAAQ6Q,SAAS,SAAS9N,QAAS,CAACpH,KAAMwC,KAAKJ,MAAMgF,QAAQkiC,QAAS1oC,MAAM,aACxEwD,EAAAC,EAAAC,cAACilC,GAAAllC,EAAD,CAAMiB,MAAO9C,KAAKS,MAAM6kC,IAAK3gC,UAAW3E,KAAKJ,MAAMgF,QAAQkiC,OAAQ1oC,MAAM,YAAY2E,SAAU,SAACikC,EAAQ1B,GAAT,OAC3Fp4B,EAAKpM,SAAS,CAACwkC,WACS,IAAvBtlC,KAAKS,MAAMqyB,SAAqBlxB,EAAAC,EAAAC,cAACmlC,GAAAplC,EAAD,CAAKnB,GAAG,aAAamC,MAAOrE,EAAK+D,EAAE,gBACpEX,EAAAC,EAAAC,cAACmlC,GAAAplC,EAAD,CAAMnB,GAAG,UAAUmC,MAAOrE,EAAK+D,EAAE,gBACjCX,EAAAC,EAAAC,cAACmlC,GAAAplC,EAAD,CAAMnB,GAAG,QAAQmC,MAAOrE,EAAK+D,EAAE,cAC/BX,EAAAC,EAAAC,cAACmlC,GAAAplC,EAAD,CAAMnB,GAAG,QAAQmC,MAAOrE,EAAK+D,EAAE,cAC/BX,EAAAC,EAAAC,cAACmlC,GAAAplC,EAAD,CAAMnB,GAAG,SAASmC,MAAOrE,EAAK+D,EAAE,eAChCX,EAAAC,EAAAC,cAACmlC,GAAAplC,EAAD,CAAMnB,GAAG,OAAOmC,MAAOrE,EAAK+D,EAAE,eAG7B,IAAR+iC,GAAc1jC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQsiC,YAAalnC,KAAKmnC,cAAc,UAAW,KACpF,IAAR7B,GAAc1jC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQsiC,YAAalnC,KAAKmnC,cAAc,UAAW,KACpF,IAAR7B,GAAc1jC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQsiC,YAAalnC,KAAKmnC,cAAc,QAAS,KAClF,IAAR7B,GAAc1jC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQsiC,YAAalnC,KAAKmnC,cAAc,QAAS,KAClF,IAAR7B,GAAc1jC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQsiC,YAAalnC,KAAKmnC,cAAc,SAAU,KACnF,IAAR7B,GAAc1jC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQsiC,YAAalnC,KAAKmnC,cAAc,OAAQ,0CAhMpF3C,GAEd,IAAM4C,GADN5C,EAAOA,EAAKplC,QAAQ,QAAS,IAAIwkB,QACVriB,MAAM,KAAKmC,IAAI,SAAApG,GAAC,OAAIA,EAAEsmB,SACvC3J,EAAU,GAiBhB,OAfyB,IAArBmtB,EAAUjmC,QACV8Y,EAAQ6Y,QAAUsU,EAAU,IAAM,IAClCntB,EAAQkZ,QAAUiU,EAAU,IAAM,IAClCntB,EAAQgZ,MAAQmU,EAAU,IAAM,IAChCntB,EAAQwrB,MAAQ2B,EAAU,IAAM,IAChCntB,EAAQyW,OAAS0W,EAAU,IAAM,IACjCntB,EAAQyrB,KAAO0B,EAAU,IAAM,MAE/BntB,EAAQ6Y,SAAU,EAClB7Y,EAAQkZ,QAAUiU,EAAU,IAAM,IAClCntB,EAAQgZ,MAAQmU,EAAU,IAAM,IAChCntB,EAAQwrB,MAAQ2B,EAAU,IAAM,IAChCntB,EAAQyW,OAAS0W,EAAU,IAAM,IACjCntB,EAAQyrB,KAAO0B,EAAU,IAAM,KAE5BntB,qCAEOxZ,GACd,IAAI4G,EAAI,GAAAnI,OAAMuB,EAAM0yB,QAAZ,KAAAj0B,OAAuBuB,EAAMwyB,MAA7B,KAAA/zB,OAAsCuB,EAAMglC,MAA5C,KAAAvmC,OAAqDuB,EAAMiwB,OAA3D,KAAAxxB,OAAqEuB,EAAMilC,MAInF,OAHsB,IAAlBjlC,EAAMqyB,UACNzrB,EAAO5G,EAAMqyB,QAAU,IAAMzrB,GAE1BA,SApDWtD,IAAMC,WAqOjBgC,wBAjXA,SAAAuB,GAAK,MAAK,CACrB6zB,QAAS,CACLz9B,MAAO,OACPC,OAAQ,OACRmP,SAAU,QAEdm5B,aAAc,CAEVxoC,QAAS,QACTC,MAAO,KAEX0pC,OAAQ,CACJrN,UAAW,GACXt8B,QAAS,QACTC,MAAO,QAEXupC,WAAY,CACRp6B,QAAS,IAEbg5B,aAAc,CACVh5B,QAAS,EACT1G,SAAU,GACVlD,OAAQ,GAEZokC,kBAAmB,CACf5pC,QAAS,SAEbopC,OAAQ,CACJ1oC,MAAO,WAqVA4H,CAAmBk/B,ICvW5BqC,GAAW,CACbC,KAAM,OACNC,SAAU,WACVC,gBAAiB,kBACjBC,SAAU,YAERC,GAAiB,CACnB9U,QAAS,UACTK,QAAS,WAGPuR,GAAW,CACb,SACA,SACA,UACA,YACA,WACA,SACA,WACA,UAGJ,SAAS53B,GAAQwmB,GACb,OAAIA,EAAM,GAAW,IAAMA,EACpB,GAAKA,EAEhB,IAAMuU,GAAgB,CAClBC,KAAMP,GAASE,SACfA,SAAU,CACNM,OAAQ,EACR9oB,KAAM2oB,GAAezU,UAIvB6U,eACF,SAAAA,EAAYpoC,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgoC,GAEf,IAAIxD,EAA6C,kBADjD3kC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkoC,GAAA7nC,KAAAH,KAAMJ,KACkBA,MAAMulC,eAA+BtlC,EAAKD,MAAMulC,eAAe/lC,QAAQ,QAAS,IAAIA,QAAQ,WAAY,IAAM,GACtH,MAAZolC,EAAK,KACLA,EAAO,IAEX,IAAM/jC,EAAQunC,EAAW5C,WAAWZ,GAAQ,cAAgBqD,GAN7C,OAQfhoC,EAAKY,MAAQ,CACT4kC,UAAU,EACVb,KAAMwD,EAAWzC,WAAW9kC,GAC5BqnC,KAAM,WACNN,KAAM,CACFS,KAAM,QACNpzB,KAAM,IAEV4yB,SAAU,CACNM,OAAQ,EACR9oB,KAAM2oB,GAAezU,SAEzBuU,gBAAiB,CACbK,OAAQ,EACR9oB,KAAM2oB,GAAezU,QACrB+U,SAAU,EACVC,OAAQ,GACRC,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAEjCT,SAAU,CACNM,KAAM,QACNG,SAAU,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KAGrCtoC,OAAOuN,OAAOxN,EAAKY,MAAOA,GAhCXZ,4EA8TfG,KAAK+C,SAASilC,EAAWzC,WAAWvlC,KAAKS,4DAGjB8D,GAAM,IAAA5C,EAAA3B,KACxB+wB,EAAW/wB,KAAKS,MAAM8D,GAC5B,OAAQ3C,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,WAAWnE,MAAO,CAAC0K,YAAa,EAAG3P,MAAO,OAAQuE,SAAU,MACzEN,EAAAC,EAAAC,cAAA,UAAKtD,EAAK+D,EAAE,gBACX,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAGmB,IAAI,SAAAiwB,GAAG,OACpB/xB,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CACIkF,IAAK29B,GAAS/Q,GACd+S,QACI9kC,EAAAC,EAAAC,cAAC6kC,GAAA9kC,EAAD,CACI+kC,SAA6C,IAApC7V,EAASqX,SAASj9B,QAAQwoB,GACnC5wB,SAAU,SAAAC,GACN,IAAM+tB,EAAWlnB,KAAKC,MAAMD,KAAKoB,UAAUtJ,EAAKlB,MAAM8D,KAChDmH,EAAMqlB,EAASqX,SAASj9B,QAAQwoB,GACtC3wB,EAAEC,OAAO2jC,UAAoB,IAATl7B,GAAcqlB,EAASqX,SAASthC,KAAK6sB,IACxD3wB,EAAEC,OAAO2jC,UAAoB,IAATl7B,GAAcqlB,EAASqX,SAAS9hC,OAAOoF,EAAK,GACjEqlB,EAASqX,SAAS3/B,OAClB9G,EAAKb,SAALhB,OAAA6lC,GAAA,EAAA7lC,CAAA,GAAgByE,EAAOwsB,GAAW,kBAAMpvB,EAAKikC,gBAEjD9iC,MAAO6wB,EAAI3f,aAGnBnR,MAAOrE,EAAK+D,EAAEmiC,GAAS/Q,2DAKbpvB,GAAM,IAAAiB,EAAAxF,KACtB+wB,EAAW/wB,KAAKS,MAAM8D,GAE5B,OAAIvE,KAAKS,MAAM4kC,SACHzjC,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,SAASnE,MAAO,CAAC0K,YAAa,EAAG5P,QAAS,iBACvDkE,EAAAC,EAAAC,cAAA,MAAIc,MAAO,CAACq3B,aAAc,IAAKz7B,EAAK+D,EAAE,cACtCX,EAAAC,EAAAC,cAACa,GAAAd,EAAD,CACIe,MAAO,CAACo3B,UAAW,EAAGC,aAAc,EAAG6C,cAAe,UACtD/1B,IAAI,QACJlE,MAAOrE,EAAK+D,EAAE,cACdO,MAAOiuB,EAASoC,QAChBpwB,SAAU,SAAAC,GACN,IAAM+tB,EAAWlnB,KAAKC,MAAMD,KAAKoB,UAAUzF,EAAK/E,MAAM8D,KACtDwsB,EAASoC,QAAU3vB,SAASR,EAAEC,OAAOH,MAAO,IAC5C0C,EAAK1E,SAALhB,OAAA6lC,GAAA,EAAA7lC,CAAA,GAAgByE,EAAOwsB,GAAW,kBAAMvrB,EAAKogC,gBAEjDlb,IAAK,EACL0C,IAAK,GACL7oB,KAAK,SACL+hC,gBAAiB,CAACC,QAAQ,GAC1BrjC,OAAO,WAEXtB,EAAAC,EAAAC,cAACa,GAAAd,EAAD,CACIe,MAAO,CAACo3B,UAAW,EAAGC,aAAc,EAAG6C,cAAe,UACtD/1B,IAAI,QACJlE,MAAOrE,EAAK+D,EAAE,YACdO,MAAOiuB,EAASkC,MAChBlwB,SAAU,SAAAC,GACN,IAAM+tB,EAAWlnB,KAAKC,MAAMD,KAAKoB,UAAUzF,EAAK/E,MAAM8D,KACtDwsB,EAASkC,MAAQzvB,SAASR,EAAEC,OAAOH,MAAO,IAC1C0C,EAAK1E,SAALhB,OAAA6lC,GAAA,EAAA7lC,CAAA,GAAgByE,EAAOwsB,GAAW,kBAAMvrB,EAAKogC,gBAEjDlb,IAAK,EACL0C,IAAK,GACL7oB,KAAK,SACL+hC,gBAAiB,CAACC,QAAQ,GAC1BrjC,OAAO,YAIPtB,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,SAASnE,MAAO,CAAC0K,YAAa,EAAG5P,QAAS,iBACvDkE,EAAAC,EAAAC,cAAA,MAAIc,MAAO,CAACq3B,aAAc,IAAKz7B,EAAK+D,EAAE,cACtCX,EAAAC,EAAAC,cAACa,GAAAd,EAAD,CACIe,MAAO,CAACo3B,UAAW,EAAGC,aAAc,EAAG6C,cAAe,UACtD/1B,IAAI,QACJlE,MAAOrE,EAAK+D,EAAE,YACdO,MAAOiuB,EAASgX,OAChBhlC,SAAU,SAAAC,GACN,IAAM+tB,EAAWlnB,KAAKC,MAAMD,KAAKoB,UAAUzF,EAAK/E,MAAM8D,KACtDwsB,EAASgX,OAASvkC,SAASR,EAAEC,OAAOH,MAAO,IAC3C0C,EAAK1E,SAALhB,OAAA6lC,GAAA,EAAA7lC,CAAA,GAAgByE,EAAOwsB,GAAW,kBAAMvrB,EAAKogC,gBAEjDlb,IAAK,EACL0C,IAAK,GACL7oB,KAAK,SACL+hC,gBAAiB,CAACC,QAAQ,GAC1BrjC,OAAO,WACTtB,EAAAC,EAAAC,cAACyB,GAAA1B,EAAD,CACFe,MAAO,CAACk6B,cAAe,UACvBh6B,MAAOiuB,EAAS9R,KAChBlc,SAAU,SAAAC,GACN,IAAM+tB,EAAWlnB,KAAKC,MAAMD,KAAKoB,UAAUzF,EAAK/E,MAAM8D,KACtDwsB,EAAS9R,KAAOjc,EAAEC,OAAOH,MACzB0C,EAAK1E,SAALhB,OAAA6lC,GAAA,EAAA7lC,CAAA,GAAgByE,EAAOwsB,GAAW,kBAAMvrB,EAAKogC,iBAEhD9lC,OAAO0I,KAAKo/B,IAAgBlkC,IAAI,SAAAokC,GAAI,OAAKlmC,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAUkF,IAAK6gC,GAAeE,GAAOhlC,MAAO8kC,GAAeE,IAAQtpC,EAAK+D,EAAE,MAAQqlC,GAAeE,iDAMvIvjC,GAAM,IAAAmB,EAAA1F,KACZ+wB,EAAW/wB,KAAKS,MAAM8D,GAC5B,OAAQ3C,EAAAC,EAAAC,cAACsB,GAAAvB,EAAD,CAAa8C,UAAW3E,KAAKJ,MAAMgF,QAAQyjC,aAC/CzmC,EAAAC,EAAAC,cAACa,GAAAd,EAAD,CACIkF,IAAI,KACJlE,MAAOrE,EAAK+D,EAAE,WACdO,MAAOiuB,EAASkX,KAChBllC,SAAU,SAAAC,GACN,IAAM+tB,EAAWlnB,KAAKC,MAAMD,KAAKoB,UAAUvF,EAAKjF,MAAM8D,KACtDwsB,EAASkX,KAAOjlC,EAAEC,OAAOH,MACzB4C,EAAK5E,SAALhB,OAAA6lC,GAAA,EAAA7lC,CAAA,GAAgByE,EAAOwsB,GAAW,kBAAMrrB,EAAKkgC,gBAEjDU,gBAAiB,CAACC,QAAQ,GAC1BrjC,OAAO,oDAKHqB,GAAM,IAAA2I,EAAAlN,KACZ+wB,EAAW/wB,KAAKS,MAAM8D,GAE5B,IAAKwsB,EAASlc,KAAM,CAChB,IAAMf,EAAI,IAAIO,KACd0c,EAASlc,KAAOf,EAAEigB,UAAY,IAAOjnB,GAAQgH,EAAEkgB,WAAa,GAIhE,OAAQpyB,EAAAC,EAAAC,cAACsB,GAAAvB,EAAD,CAAa8C,UAAW3E,KAAKJ,MAAMgF,QAAQyjC,aAC/CzmC,EAAAC,EAAAC,cAACa,GAAAd,EAAD,CACIkF,IAAI,OACJlE,MAAOrE,EAAK+D,EAAE,WACdO,MAAOiuB,EAASlc,KAChB9R,SAAU,SAAAC,GACN,IAAM+tB,EAAWlnB,KAAKC,MAAMD,KAAKoB,UAAUiC,EAAKzM,MAAM8D,KACtDwsB,EAASlc,KAAO7R,EAAEC,OAAOH,MACzBoK,EAAKpM,SAALhB,OAAA6lC,GAAA,EAAA7lC,CAAA,GAAgByE,EAAOwsB,GAAW,kBAAM7jB,EAAK04B,gBAEjDU,gBAAiB,CAACC,QAAQ,GAC1BrjC,OAAO,sDAMf,OAAQtB,EAAAC,EAAAC,cAAA,OAAKc,MAAO,CAACuT,WAAY,IAC5BnW,KAAKsoC,gBAAgB,QACrBtoC,KAAKuoC,gBAAgB,uDAK1B,OAAOvoC,KAAKwoC,0BAA0B,iEAGb,IAAAr5B,EAAAnP,KACnB+wB,EAAW/wB,KAAKS,MAAMinC,gBAC5B,MAAO,CACH1nC,KAAKwoC,0BAA0B,mBAC9B5mC,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,UAAUnE,MAAO,CAAC0K,YAAa,EAAG5P,QAAS,eAAgBo/B,cAAe,QAChFl7B,EAAAC,EAAAC,cAAA,MAAIc,MAAO,CAACq3B,aAAc,IAAKz7B,EAAK+D,EAAE,aACtCX,EAAAC,EAAAC,cAACsB,GAAAvB,EAAD,CAAa8C,UAAW3E,KAAKJ,MAAMgF,QAAQyjC,aACvCzmC,EAAAC,EAAAC,cAACuB,GAAAxB,EAAD,CAAY0kC,QAAM,EAACjjC,QAAQ,yBAAyB9E,EAAK+D,EAAE,YAC3DX,EAAAC,EAAAC,cAACyB,GAAA1B,EAAD,CACAe,MAAO,CAACjF,MAAO,KACfmF,MAAOiuB,EAASmX,SAChBnlC,SAAU,SAAAC,GACN,IAAM+tB,EAAWlnB,KAAKC,MAAMD,KAAKoB,UAAUkE,EAAK1O,MAAMinC,kBACtD3W,EAASmX,SAAW1kC,SAASR,EAAEC,OAAOH,MAAO,IAC7CqM,EAAKrO,SAAS,CAAC4mC,gBAAiB3W,GAAW,kBAAM5hB,EAAKy2B,iBAEzD,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAIliC,IAAI,SAAAggC,GAAI,OAAK9hC,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAUkF,IAAK,KAAO28B,EAAM5gC,MAAO4gC,GAAO52B,GAAQ42B,GAAQ,WAG5I9hC,EAAAC,EAAAC,cAACsB,GAAAvB,EAAD,CAAa8C,UAAW3E,KAAKJ,MAAMgF,QAAQyjC,aACvCzmC,EAAAC,EAAAC,cAACuB,GAAAxB,EAAD,CAAY0kC,QAAM,EAACjjC,QAAQ,yBAAyB9E,EAAK+D,EAAE,UAC3DX,EAAAC,EAAAC,cAACyB,GAAA1B,EAAD,CACIe,MAAO,CAACjF,MAAO,KACfmF,MAAOiuB,EAASoX,OAChBplC,SAAU,SAAAC,GACN,IAAM+tB,EAAWlnB,KAAKC,MAAMD,KAAKoB,UAAUkE,EAAK1O,MAAMinC,kBACtD3W,EAASoX,OAAS3kC,SAASR,EAAEC,OAAOH,MAAO,IAC3CqM,EAAKrO,SAAS,CAAC4mC,gBAAiB3W,GAAW,kBAAM5hB,EAAKy2B,iBAEzD,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAIliC,IAAI,SAAAggC,GAAI,OAAK9hC,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAUkF,IAAK,KAAO28B,EAAM5gC,MAAO4gC,GAAO52B,GAAQ42B,GAAQ,YAIrJ1jC,KAAKyoC,4BAA4B,sEAKrC,MAAO,CACF7mC,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,OAAOnE,MAAO,CAACuT,WAAY,IAAKnW,KAAKsoC,gBAAgB,aAC/DtoC,KAAKyoC,4BAA4B,kDAI5BX,GAAM,IAAAv4B,EAAAvP,KACX8nC,IAAS9nC,KAAKS,MAAMqnC,MACpB9nC,KAAKc,SAAS,CAACgnC,QAAO,kBAAMv4B,EAAKq2B,gDAIhCpB,GACDA,IAASxkC,KAAKS,MAAM+jC,OACpBxkC,KAAKc,SAAS,CAAC0jC,SACfxkC,KAAKJ,MAAMmD,UAAY/C,KAAKJ,MAAMmD,SAASyhC,qCAI1C,IAAAh1B,EAAAxP,KACL,OACI4B,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQw2B,SAC/Bx5B,EAAAC,EAAAC,cAAA,OAAKc,MAAO,CAAC0K,YAAa,EAAG3P,MAAO,SAASiE,EAAAC,EAAAC,cAACa,GAAAd,EAAD,CAAWe,MAAO,CAACjF,MAAO,QAASmF,MAAO9C,KAAKS,MAAM+jC,KAAMrhC,UAAU,KAClHvB,EAAAC,EAAAC,cAAA,OAAKc,MAAO,CAAC0K,YAAa,EAAG3P,MAAO,OAAQC,OAAQ,KAAM2mC,GAAkBvkC,KAAKS,MAAM+jC,KAAMxkC,KAAKJ,MAAMoX,UAAY,OACpHpV,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACsB,GAAAvB,EAAD,CAAae,MAAO,CAACuT,WAAY,EAAG6jB,UAAW,GAAIr1B,UAAW3E,KAAKJ,MAAMgF,QAAQyjC,aAClFzmC,EAAAC,EAAAC,cAACuB,GAAAxB,EAAD,KAAarD,EAAK+D,EAAE,WACpBX,EAAAC,EAAAC,cAACyB,GAAA1B,EAAD,CACIiB,MAAO9C,KAAKS,MAAMqnC,KAClB/kC,SAAU,SAAAC,GAAC,OAAIwM,EAAKk5B,aAAa1lC,EAAEC,OAAOH,QAC1CW,WAAY,CAAC9C,KAAM,OAAQD,GAAI,SAC9BZ,OAAO0I,KAAK++B,IAAU7jC,IAAI,SAAAokC,GAAI,OAAKlmC,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAUkF,IAAKwgC,GAASO,GAAOhlC,MAAOykC,GAASO,IAAQtpC,EAAK+D,EAAE,MAAQglC,GAASO,UAG1H9nC,KAAKS,MAAMqnC,OAASP,GAASC,MAAQxnC,KAAK2oC,kBAC1C3oC,KAAKS,MAAMqnC,OAASP,GAASE,UAAYznC,KAAK4oC,sBAC9C5oC,KAAKS,MAAMqnC,OAASP,GAASG,iBAAmB1nC,KAAK6oC,6BACrD7oC,KAAKS,MAAMqnC,OAASP,GAASI,UAAY3nC,KAAK8oC,sEA/fnCnX,EAAMvE,GAE1B,GADAA,EAAMA,GAAO,EACTuE,EAAKxwB,SAAWisB,EAChB,MAAO,IAKP,IAHA,IAAI/lB,EAAO,GACP29B,EAAQ,KACRC,EAAM,KACDv+B,EAAI,EAAGA,EAAIirB,EAAKxwB,OAAQuF,IACf,OAAVs+B,GACAA,EAAQrT,EAAKjrB,GACbu+B,EAAMtT,EAAKjrB,IACJirB,EAAKjrB,EAAI,GAAK,IAAMirB,EAAKjrB,GAChCu+B,EAAMtT,EAAKjrB,IAEPs+B,IAAUC,EACV59B,EAAKP,KAAKk+B,EAAQ,IAAMC,GAExB59B,EAAKP,KAAKk+B,GAEdA,EAAQrT,EAAKjrB,GACbu+B,EAAMtT,EAAKjrB,IAQnB,OALIs+B,IAAUC,EACV59B,EAAKP,KAAKk+B,EAAQ,IAAMC,GAExB59B,EAAKP,KAAKk+B,GAEP39B,EAAK5F,KAAK,2CAIJ4F,GACjB,GAAa,MAATA,EACA,MAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAExB,IAAM/F,EAAQ+F,EAAK9F,MAAM,KACnBowB,EAAO,GAsBb,OArBArwB,EAAMkF,QAAQ,SAAAuiC,GACV,IAAMhQ,EAASgQ,EAAKxnC,MAAM,KAC1B,GAAsB,IAAlBw3B,EAAO53B,OAGP,IAFA,IAAM6jC,EAAQxhC,SAASu1B,EAAO,GAAI,IAC5BkM,EAAMzhC,SAASu1B,EAAO,GAAI,IACvBpF,EAAMqR,EAAOrR,GAAOsR,EAAKtR,KACa,IAAvChC,EAAKxmB,QAAgB,IAARwoB,EAAY,EAAIA,IAC7BhC,EAAK7qB,KAAa,IAAR6sB,EAAY,EAAIA,OAIrB,MAAToV,IACAA,EAAO,GAEXA,EAAOvlC,SAASulC,EAAM,KACM,IAAxBpX,EAAKxmB,QAAQ49B,IACbpX,EAAK7qB,KAAKiiC,KAItBpX,EAAKlpB,OACEkpB,qCAGO6S,GAEd,IAAM4C,GADN5C,EAAOA,EAAKplC,QAAQ,QAAS,IAAIwkB,QACVriB,MAAM,KACvB0Y,EAAU,GACVxZ,EAAQ,CACVqnC,KAAM,IAyHV,OAvHyB,IAArBV,EAAUjmC,QACV8Y,EAAQ6Y,QAAUsU,EAAU,IAAM,IAClCntB,EAAQkZ,QAAUiU,EAAU,IAAM,IAClCntB,EAAQgZ,MAAQmU,EAAU,IAAM,IAChCntB,EAAQpF,KAAOuyB,EAAU,IAAM,IAC/BntB,EAAQyW,OAAS0W,EAAU,IAAM,IACjCntB,EAAQ+uB,IAAM5B,EAAU,IAAM,MAE9BntB,EAAQ6Y,QAAU,KAClB7Y,EAAQkZ,QAAUiU,EAAU,IAAM,IAClCntB,EAAQgZ,MAAQmU,EAAU,IAAM,IAChCntB,EAAQpF,KAAOuyB,EAAU,IAAM,IAC/BntB,EAAQyW,OAAS0W,EAAU,IAAM,IACjCntB,EAAQ+uB,IAAM5B,EAAU,IAAM,KAIV,OAApBntB,EAAQ6Y,SACY,MAApB7Y,EAAQkZ,SACU,MAAlBlZ,EAAQgZ,OACS,MAAjBhZ,EAAQpF,MACW,MAAnBoF,EAAQyW,SACRjwB,EAAMqnC,KAAOP,GAASE,SACtBhnC,EAAMgnC,SAAW,CACbM,OAAQ,EACR9oB,KAAM2oB,GAAezU,UAGL,MAApBlZ,EAAQ6Y,SACY,MAApB7Y,EAAQkZ,SACU,MAAlBlZ,EAAQgZ,OACS,MAAjBhZ,EAAQpF,MACW,MAAnBoF,EAAQyW,QACRjwB,EAAMqnC,KAAOP,GAASE,SACtBhnC,EAAMgnC,SAAW,CACbM,OAAQ,EACR9oB,KAAM2oB,GAAe9U,UAGL,OAApB7Y,EAAQ6Y,UAC0B,IAAlC7Y,EAAQkZ,QAAQhoB,QAAQ,MACN,MAAlB8O,EAAQgZ,OACS,MAAjBhZ,EAAQpF,MACW,MAAnBoF,EAAQyW,QACRjwB,EAAMqnC,KAAOP,GAASE,SACtBhnC,EAAMgnC,SAAW,CACbM,OAAQvkC,SAASyW,EAAQkZ,QAAQ5xB,MAAM,KAAK,GAAI,IAChD0d,KAAM2oB,GAAezU,UAIL,OAApBlZ,EAAQ6Y,UAAsD,IAAlC7Y,EAAQ6Y,QAAQ3nB,QAAQ,MAChC,MAApB8O,EAAQkZ,SACU,MAAlBlZ,EAAQgZ,OACS,MAAjBhZ,EAAQpF,MACW,MAAnBoF,EAAQyW,QACRjwB,EAAMqnC,KAAOP,GAASE,SACtBhnC,EAAMgnC,SAAW,CACbM,OAAQvkC,SAASyW,EAAQ6Y,QAAQvxB,MAAM,KAAK,GAAI,IAChD0d,KAAM2oB,GAAe9U,UAIL,OAApB7Y,EAAQ6Y,UAAsD,IAAlC7Y,EAAQ6Y,QAAQ3nB,QAAQ,MAChC,MAApB8O,EAAQkZ,UACwB,IAAhClZ,EAAQgZ,MAAM9nB,QAAQ,MACL,MAAjB8O,EAAQpF,MACW,MAAnBoF,EAAQyW,QACRjwB,EAAMqnC,KAAOP,GAASG,gBACtBjnC,EAAMinC,gBAAkB,CACpBK,OAAQvkC,SAASyW,EAAQ6Y,QAAQvxB,MAAM,KAAK,GAAI,IAChD0d,KAAM2oB,GAAe9U,QACrBoV,SAAU1kC,SAASyW,EAAQgZ,MAAM1xB,MAAM,KAAK,GAAI,IAChD4mC,OAAQ3kC,SAASyW,EAAQgZ,MAAM1xB,MAAM,KAAK,GAAI,IAC9C6mC,SAAUJ,EAAWiB,cAAchvB,EAAQ+uB,OAI3B,OAApB/uB,EAAQ6Y,UAC0B,IAAlC7Y,EAAQkZ,QAAQhoB,QAAQ,OACQ,IAAhC8O,EAAQgZ,MAAM9nB,QAAQ,MACL,MAAjB8O,EAAQpF,MACW,MAAnBoF,EAAQyW,QACRjwB,EAAMqnC,KAAOP,GAASG,gBACtBjnC,EAAMinC,gBAAkB,CACpBK,OAAQvkC,SAASyW,EAAQkZ,QAAQ5xB,MAAM,KAAK,GAAI,IAChD0d,KAAM2oB,GAAezU,QACrB+U,SAAU1kC,SAASyW,EAAQgZ,MAAM1xB,MAAM,KAAK,GAAI,IAChD4mC,OAAQ3kC,SAASyW,EAAQgZ,MAAM1xB,MAAM,KAAK,GAAI,IAC9C6mC,SAAUJ,EAAWiB,cAAchvB,EAAQ+uB,OAI3B,OAApB/uB,EAAQ6Y,SACRtvB,SAASyW,EAAQkZ,QAAS,IAAInf,aAAeiG,EAAQkZ,SACrD3vB,SAASyW,EAAQgZ,MAAO,IAAIjf,aAAeiG,EAAQgZ,OAClC,MAAjBhZ,EAAQpF,MACW,MAAnBoF,EAAQyW,QACRjwB,EAAMqnC,KAAOP,GAASI,SACtBlnC,EAAMinC,gBAAkB,CACpBO,KAAMn7B,GAAQtJ,SAASyW,EAAQkZ,QAAS,KAAO,IAAMrmB,GAAQtJ,SAASyW,EAAQgZ,MAAO,KACrFmV,SAAUJ,EAAWiB,cAAchvB,EAAQ+uB,OAI3B,OAApB/uB,EAAQ6Y,SACRtvB,SAASyW,EAAQkZ,QAAS,IAAInf,aAAeiG,EAAQkZ,SACrD3vB,SAASyW,EAAQgZ,MAAO,IAAIjf,aAAeiG,EAAQgZ,OACnDzvB,SAASyW,EAAQpF,KAAM,IAAIb,aAAeiG,EAAQpF,MAClDrR,SAASyW,EAAQyW,OAAQ,IAAI1c,aAAeiG,EAAQyW,QACpC,MAAhBzW,EAAQ+uB,MACRvoC,EAAMqnC,KAAOP,GAASC,KACtB/mC,EAAMinC,gBAAkB,CACpBO,KAAMn7B,GAAQtJ,SAASyW,EAAQkZ,QAAS,KAAO,IAAMrmB,GAAQtJ,SAASyW,EAAQgZ,MAAO,KACrFpe,KAAM/H,GAAQtJ,SAASyW,EAAQpF,KAAM,KAAO,IAAM/H,GAAQtJ,SAASyW,EAAQyW,OAAQ,KACnF0X,SAAUJ,EAAWiB,cAAchvB,EAAQ+uB,OAI/CvoC,EAAMqnC,KACCrnC,EAEA,wCAIGA,GACd,IAAI+jC,EAAO,YACX,GAAI/jC,EAAMqnC,OAASP,GAASE,SAAU,CAClC,IAAM1W,EAAWtwB,EAAMgnC,UAAY,GAUnC,GATI1W,EAASgX,OAAS,KAAIhX,EAASgX,OAAS,IACxChX,EAASgX,OAAS,IAAGhX,EAASgX,OAAS,GAEvChX,EAASoC,QAAU,KAAIpC,EAASoC,QAAU,IAC1CpC,EAASoC,QAAU,IAAGpC,EAASoC,QAAU,GAEzCpC,EAASkC,MAAQ,KAAIlC,EAASkC,MAAQ,IACtClC,EAASkC,MAAQ,IAAGlC,EAASkC,MAAQ,GAErCxyB,EAAM4kC,SACNb,EAAI,GAAAtlC,OAAM6xB,EAASoC,QAAU,EAAI,KAAOpC,EAASoC,QAAU,IAAvD,KAAAj0B,OAA8D6xB,EAASkC,MAAQ,EAAI,KAAOlC,EAASkC,MAAQ,IAA3G,eAEJ,OAAQlC,EAAS9R,MACb,KAAK2oB,GAAe9U,QAChB0R,EAAI,GAAAtlC,OAAM6xB,EAASgX,OAAS,EAAI,KAAOhX,EAASgX,OAAS,IAArD,cACJ,MACJ,KAAKH,GAAezU,QAChBqR,EAAI,GAAAtlC,OAAM6xB,EAASgX,OAAS,EAAI,KAAOhX,EAASgX,OAAS,IAArD,kBAMb,GAAItnC,EAAMqnC,OAASP,GAASG,gBAAiB,CAChD,IACIzU,EADElC,EAAWtwB,EAAMinC,iBAAmB,GAY1C,OAVA3W,EAASmX,SAAWnX,EAASmX,UAAY,EACzCnX,EAASoX,YAA6BhpC,IAApB4xB,EAASoX,OAAuB,GAAKpX,EAASoX,OAE5DlV,EADsB,IAAtBlC,EAASmX,UAAsC,KAApBnX,EAASoX,OAC5B,IAEApX,EAASmX,WAAanX,EAASoX,OAASpX,EAASmX,SAAW,IAAMnX,EAASoX,OAAS,IAE5FpX,EAASgX,OAAS,KAAIhX,EAASgX,OAAS,IACxChX,EAASgX,OAAS,IAAGhX,EAASgX,OAAS,GAC3ChX,EAAS9R,KAAO8R,EAAS9R,MAAQ2oB,GAAezU,QACxCpC,EAAS9R,MACb,KAAK2oB,GAAe9U,QAChB0R,EAAI,GAAAtlC,OAAM6xB,EAASgX,OAAS,EAAI,KAAOhX,EAASgX,OAAS,IAArD,OAAA7oC,OAA8D+zB,EAA9D,SAAA/zB,OAA2Ec,KAAKkpC,iBAAiBnY,EAASqX,WAC9G,MACJ,KAAKR,GAAezU,QAChBqR,EAAI,GAAAtlC,OAAM6xB,EAASgX,OAAS,EAAI,KAAOhX,EAASgX,OAAS,IAArD,KAAA7oC,OAA4D+zB,EAA5D,SAAA/zB,OAAyEc,KAAKkpC,iBAAiBnY,EAASqX,iBAKjH,GAAI3nC,EAAMqnC,OAASP,GAASI,SAAU,CACzC,IAAM5W,EAAWtwB,EAAMknC,UAAY,GAC7BrmC,GAASyvB,EAASkX,MAAQ,SAAS1mC,MAAM,KAC3C4xB,EAAU3vB,SAASlC,EAAM,GAAI,KAAO,EACpC6xB,EAAU,KAAIA,EAAU,IACxBA,EAAU,IAAGA,EAAU,GAC3B,IAAIF,EAAQzvB,SAASlC,EAAM,GAAI,KAAO,EAClC2xB,EAAQ,KAAIA,EAAQ,IACpBA,EAAQ,IAAGA,EAAQ,GAEvBuR,EAAI,GAAAtlC,OAAMi0B,EAAN,KAAAj0B,OAAiB+zB,EAAjB,SAAA/zB,OAA8Bc,KAAKkpC,iBAAiBnY,EAASqX,UAAY,UAC1E,GAAI3nC,EAAMqnC,OAASP,GAASC,KAAM,CACrC,IAAMzW,EAAWtwB,EAAM+mC,MAAQ,GAC1BzW,EAASlc,OACVkc,EAASlc,MAAO,IAAIR,MAAO0f,UAAY,IAAMjnB,IAAQ,IAAIuH,MAAO2f,WAAa,IAEjF,IAAM1yB,GAASyvB,EAASkX,MAAQ,SAAS1mC,MAAM,KACzC4nC,EAAYpY,EAASlc,KAAKtT,MAAM,KAClC4xB,EAAU3vB,SAASlC,EAAM,GAAI,KAAO,EACpC6xB,EAAU,KAAIA,EAAU,IACxBA,EAAU,IAAGA,EAAU,GAC3B,IAAIF,EAAQzvB,SAASlC,EAAM,GAAI,KAAO,EAClC2xB,EAAQ,KAAIA,EAAQ,IACpBA,EAAQ,IAAGA,EAAQ,GACvB,IAAIpe,EAAOrR,SAAS2lC,EAAU,GAAI,KAAO,EACrCt0B,EAAO,KAAIA,EAAO,IAClBA,EAAO,IAAGoe,EAAQ,GACtB,IAAImW,EAAQ5lC,SAAS2lC,EAAU,GAAI,KAAO,EACtCC,EAAQ,KAAIA,EAAQ,IACpBA,EAAQ,IAAGA,EAAQ,GAEvB5E,EAAI,GAAAtlC,OAAMi0B,EAAN,KAAAj0B,OAAiB+zB,EAAjB,KAAA/zB,OAA0B2V,EAA1B,KAAA3V,OAAkCkqC,EAAlC,MAER,OAAO5E,SA3TUzgC,IAAMC,WA+iBhBgC,wBA7lBA,SAAAuB,GAAK,MAAK,CACrB6zB,QAAS,CACLz9B,MAAO,OACPC,OAAQ,OACRmP,SAAU,QAEds7B,YAAa,CACTnlC,OAAQ,EACRkD,SAAU,OAqlBHJ,CAAmBgiC,iCC7f5BtD,WAAW,CACb,SACA,SACA,UACA,YACA,WACA,SACA,WACA,WAEEC,GAAS,CACX,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAEE0E,GACS,UADTA,GAEO,QAEPC,GAAQ,CACV,UACA,aACA,gBACA,YACA,aACA,cACA,SACA,OACA,eACA,QACA,WACA,eACA,OACA,SAGJ,SAASx8B,GAAQwmB,GACb,OAAIA,EAAM,GAAW,IAAMA,EACpB,GAAKA,EAuChB,IAAMiW,GAAU,CACZtB,KAAM,CACFuB,WAAW,EAEXxE,MAAO,QACPC,IAAK,QAEL6C,KAAM,QACNL,SAAU,GAEdM,OAAQ,CACJP,KAAM,GACN/W,KAAM,EACNiV,KAAM,GACND,MAAO,GACPgE,MAAO,EACP/Y,OAAQ,GAERgZ,MAAO,EACPC,UAAW,EACXC,SAAU,GAEdC,MAAO,CACHtuB,KAAM,GACNwU,GAAI,KAGZ,SAAS+Z,GAAcj1B,GACnB,IAAMvT,EAAQuT,EAAKtT,MAAM,KACzB,GAAqB,IAAjBD,EAAMH,OACN,OAAOG,EAAM,GAAK,IAAMA,EAAM,GAAK,IAAMA,EAAM,OAIjDyoC,eACF,SAAAA,EAAYnqC,GAAO,IAAAC,EAEX4iC,EACJ,GAHe3iC,OAAAC,EAAA,EAAAD,CAAAE,KAAA+pC,IACflqC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiqC,GAAA5pC,KAAAH,KAAMJ,KAEGA,MAAM6iC,UAA2C,kBAAxB5iC,EAAKD,MAAM6iC,UAAoD,MAA3B5iC,EAAKD,MAAM6iC,SAAS,GACtF,IACIA,EAAW54B,KAAKC,MAAMjK,EAAKD,MAAM6iC,UACnC,MAAOz/B,IANE,OAWTy/B,GAAa3iC,OAAO0I,KAAKi6B,GAAUthC,SAAWtB,EAAKD,MAAMmD,UAC3D6U,WAAW,kBAAM/X,EAAKkD,SAASlD,EAAKY,MAAMgiC,UAAU,IAAO,KAE/DA,EAAWA,GAAY,IACvBA,EAAW3iC,OAAOuN,OAAO,GAAIk8B,GAAS9G,IAC7BoH,MAAMtuB,KAAOknB,EAASoH,MAAMtuB,MAAQ1b,EAAKmqC,aAElDnqC,EAAKY,MAAQ,CACTgiC,WACAvR,KAAMrxB,EAAKoqC,WAAWxH,IApBX5iC,wEAwBV4iC,EAAUyH,GACf,IAAMC,EAAStgC,KAAKoB,UAAUw3B,KAAc54B,KAAKoB,UAAUjL,KAAKS,MAAMgiC,UACtE,GAAIyH,GAASC,EAAQ,CACjBA,GAAUnqC,KAAKc,SAAS,CAAC2hC,WAAUvR,KAAMlxB,KAAKiqC,WAAWxH,KACzD,IAAMjX,EAAO3hB,KAAKC,MAAMD,KAAKoB,UAAUw3B,IACvC,GAAIjX,EAAKuc,OAAOP,KAAM,CAClB,IAAIA,EAAOhc,EAAKuc,OAAOP,YAChBhc,EAAKuc,OACZvc,EAAKuc,OAAS,CAACP,eACRhc,EAAKqe,WAEhB,GAAIre,EAAKuc,OAAOtX,KAAM,CAClB,IAAIA,EAAOjF,EAAKuc,OAAOtX,KACnBiV,EAAOla,EAAKuc,OAAOrC,YAChBla,EAAKuc,OACZvc,EAAKuc,OAAS,CAACtX,QACXiV,GAAiB,OAATA,IACRla,EAAKuc,OAAOrC,KAAOA,QAG3B,GAAIla,EAAKuc,OAAO0B,MAAO,CACnB,IAAIA,EAAQje,EAAKuc,OAAO0B,MACpB/D,EAAOla,EAAKuc,OAAOrC,YAChBla,EAAKuc,OACZvc,EAAKuc,OAAS,CAAC0B,SACX/D,GAAiB,OAATA,IACRla,EAAKuc,OAAOrC,KAAOA,QAG3B,GAAIla,EAAKuc,OAAOrX,OAAQ,CACpB,IAAIA,EAASlF,EAAKuc,OAAOrX,OACrB+U,EAAQja,EAAKuc,OAAOtC,aACjBja,EAAKuc,OACZvc,EAAKuc,OAAS,CAACrX,UACX+U,GAAmB,OAAVA,IACTja,EAAKuc,OAAOtC,MAAQA,QAG5B,GAAIja,EAAKuc,OAAO2B,MAAO,CACnB,IAAIA,EAAQle,EAAKuc,OAAO2B,MACpBC,EAAYne,EAAKuc,OAAO4B,UACxBC,EAAWpe,EAAKuc,OAAO6B,gBACpBpe,EAAKuc,OACZvc,EAAKuc,OAAS,CAAC2B,QAAOE,YAClBD,IACAne,EAAKuc,OAAO4B,UAAYA,GAWhC,GAPIne,EAAKyc,KAAKuB,kBACHhe,EAAKyc,KAAKhD,WACVzZ,EAAKyc,KAAKH,YACVtc,EAAKyc,KAAKR,iBAEVjc,EAAKyc,KAAKuB,UAEjBhe,EAAKqe,MAAO,CAIZ,GAHKre,EAAKqe,MAAM9Z,WACLvE,EAAKqe,MAAM9Z,GAEG,IAArBvE,EAAKuc,OAAOtX,MAAoC,IAAtBjF,EAAKuc,OAAO0B,OAAsC,IAAvBje,EAAKuc,OAAOrX,QAAsC,IAAtBlF,EAAKuc,OAAO2B,MAAa,CAC1G,IAAMnuB,EAAOvb,KAAKoqC,YAAY5e,EAAKqe,MAAMtuB,MACnC8uB,EAAQ,IAAIh2B,KAClBg2B,EAAMC,SAAS,GACfD,EAAME,WAAW,GACjBF,EAAMG,WAAW,GACjBH,EAAMI,gBAAgB,GAClBlvB,GAAQ8uB,UACD7e,EAAKqe,MAAMtuB,KAGrBiQ,EAAKqe,MAAMtuB,MAASiQ,EAAKqe,MAAM9Z,WACzBvE,EAAKqe,MAIpB7pC,KAAKJ,MAAMmD,UAAY/C,KAAKJ,MAAMmD,SAAS8G,KAAKoB,UAAUugB,wCAIvDiX,GACP,IAAIvR,EAAO,GACPwZ,EAAY1qC,KAAKoqC,YAAY3H,EAASoH,MAAMtuB,MAChD,GAAIknB,EAASsF,OAAOP,KAAM,CAEtB,IAAIA,EAAOxnC,KAAKoqC,YAAY3H,EAASsF,OAAOP,MACxC/T,EAAM,IAAIpf,KAOd,GANAof,EAAIgX,gBAAgB,GACpBhX,EAAI+W,WAAW,GACf/W,EAAI8W,WAAW,GACf9W,EAAI6W,SAAS,GAGT9C,EAAO/T,EAEP,OAAOj1B,EAAK+D,EAAE,uBAGd2uB,EAAKpqB,KAAKtI,EAAK+D,EAAE,mBAAoBkgC,EAASsF,OAAOP,YAG7D,GAAI/E,EAASsF,OAAOtX,KAChB,GAA6B,IAAzBgS,EAASsF,OAAOtX,KAChB,GAAIgS,EAASsF,OAAOrC,KAAM,CACtB,IAAMA,EAAO77B,KAAKC,MAAM24B,EAASsF,OAAOrC,MACxC,GAAoB,IAAhBA,EAAKvkC,QAA4B,IAAZukC,EAAK,IAAwB,IAAZA,EAAK,GAE3CxU,EAAKpqB,KAAKtI,EAAK+D,EAAE,6BACd,GAAoB,IAAhBmjC,EAAKvkC,QAA4B,IAAZukC,EAAK,IAAwB,IAAZA,EAAK,IAAwB,IAAZA,EAAK,IAAwB,IAAZA,EAAK,IAAwB,IAAZA,EAAK,GAErGxU,EAAKpqB,KAAKtI,EAAK+D,EAAE,4BACd,CACH,IAAMooC,EAAQjF,EAAKhiC,IAAI,SAAAiwB,GAAG,OAAIn1B,EAAK+D,EAAEmiC,GAAS/Q,MAC9C,GAAqB,IAAjBgX,EAAMxpC,OAEN+vB,EAAKpqB,KAAKtI,EAAK+D,EAAE,qBAAsBooC,EAAM,UAC1C,GAAqB,IAAjBA,EAAMxpC,OAEb+vB,EAAKpqB,KAAKtI,EAAK+D,EAAE,0BACd,CACH,IAAMqoC,EAAOD,EAAMnpC,MAEnB0vB,EAAKpqB,KAAKtI,EAAK+D,EAAE,sBAAuBooC,EAAMlpC,KAAK,MAAOmpC,WAIlE1Z,EAAKpqB,KAAKtI,EAAK+D,EAAE,2BAGrB2uB,EAAKpqB,KAAKtI,EAAK+D,EAAE,qBAAsBkgC,EAASsF,OAAOtX,YAG/D,GAAIgS,EAASsF,OAAO0B,MAAO,CAOvB,GAN8B,IAA1BhH,EAASsF,OAAO0B,MAChBvY,EAAKpqB,KAAKtI,EAAK+D,EAAE,uBAEjB2uB,EAAKpqB,KAAKtI,EAAK+D,EAAE,uBAAwBkgC,EAASsF,OAAO0B,SAGzDhH,EAASsF,OAAOrC,KAuBhB,OAAOlnC,EAAK+D,EAAE,kBAtBd,IAAMmjC,EAAO77B,KAAKC,MAAM24B,EAASsF,OAAOrC,MACxC,GAAoB,IAAhBA,EAAKvkC,QAA4B,IAAZukC,EAAK,IAAwB,IAAZA,EAAK,GAE3CxU,EAAKpqB,KAAKtI,EAAK+D,EAAE,6BACd,GAAoB,IAAhBmjC,EAAKvkC,QAA4B,IAAZukC,EAAK,IAAwB,IAAZA,EAAK,IAAwB,IAAZA,EAAK,IAAwB,IAAZA,EAAK,IAAwB,IAAZA,EAAK,GAErGxU,EAAKpqB,KAAKtI,EAAK+D,EAAE,4BACd,CACH,IAAMooC,EAAQjF,EAAKhiC,IAAI,SAAAiwB,GAAG,OAAIn1B,EAAK+D,EAAEmiC,GAAS/Q,MAC9C,GAAqB,IAAjBgX,EAAMxpC,OAEN+vB,EAAKpqB,KAAKtI,EAAK+D,EAAE,qBAAsBooC,EAAM,UAC1C,GAAqB,IAAjBA,EAAMxpC,OAEb+vB,EAAKpqB,KAAKtI,EAAK+D,EAAE,0BACd,CACH,IAAMqoC,EAAOD,EAAMnpC,MAEnB0vB,EAAKpqB,KAAKtI,EAAK+D,EAAE,sBAAuBooC,EAAMlpC,KAAK,MAAOmpC,WAO1E,GAAInI,EAASsF,OAAOrX,OAAQ,CACxB,GAAI+R,EAASsF,OAAOtC,MAAO,CACvB,IAAMA,EAAQ57B,KAAKC,MAAM24B,EAASsF,OAAOtC,OACzC,GAAqB,IAAjBA,EAAMtkC,OAEN+vB,EAAKpqB,KAAKtI,EAAK+D,EAAE,kBAAmBkjC,EAAM,UACvC,GAAqB,KAAjBA,EAAMtkC,OACb+vB,EAAKpqB,KAAKtI,EAAK+D,EAAE,6BACd,KAAKkjC,EAAMtkC,OACd,OAAO3C,EAAK+D,EAAE,kBAEd,IAAMqoC,EAAOnF,EAAMjkC,MAEnB0vB,EAAKpqB,KAAKtI,EAAK+D,EAAE,mBAAoBkjC,EAAMhkC,KAAK,MAAOmpC,UAG3D1Z,EAAKpqB,KAAKtI,EAAK+D,EAAE,yBAGrB,GAA+B,IAA3BkgC,EAASsF,OAAOrX,OAChBQ,EAAKpqB,KAAKtI,EAAK+D,EAAE,6BACd,GAAsC,kBAA3BkgC,EAASsF,OAAOrX,OAC9BQ,EAAKpqB,KAAKtI,EAAK+D,EAAE,wBAAyBkgC,EAASsF,OAAOrX,aACvD,CACH,IACMma,EADShhC,KAAKC,MAAM24B,EAASsF,OAAOrX,QACnBhtB,IAAI,SAAA0lC,GAAK,OAAI5qC,EAAK+D,EAAEoiC,GAAOyE,EAAQ,MAC1D,IAAKyB,EAAQ1pC,OAET,OAAO3C,EAAK+D,EAAE,kBACX,GAAuB,IAAnBsoC,EAAQ1pC,OAEf+vB,EAAKpqB,KAAKtI,EAAK+D,EAAE,mBAAoBsoC,EAAQ,UAC1C,GAAuB,KAAnBA,EAAQ1pC,OAEf+vB,EAAKpqB,KAAKtI,EAAK+D,EAAE,4BACd,CACH,IAAMqoC,EAAOC,EAAQrpC,MAErB0vB,EAAKpqB,KAAKtI,EAAK+D,EAAE,oBAAqBsoC,EAAQppC,KAAK,MAAOmpC,WAKlEnI,EAASsF,OAAO2B,QACc,IAA1BjH,EAASsF,OAAO2B,MAChBxY,EAAKpqB,KAAKtI,EAAK+D,EAAE,uBAEjB2uB,EAAKpqB,KAAKtI,EAAK+D,EAAE,uBAAwBkgC,EAASsF,OAAO2B,QAE7DxY,EAAKpqB,KAAKtI,EAAK+D,EAAE,kBAAmBkgC,EAASsF,OAAO6B,SAAUnH,EAASsF,OAAO4B,UAAYnrC,EAAK+D,EAAEoiC,GAAOlC,EAASsF,OAAO4B,UAAY,IAAMnrC,EAAK+D,EAAE,0BAIrJ,GAAIkgC,EAASwF,KAAKuB,WAC8B,IAAxCF,GAAMn+B,QAAQs3B,EAASwF,KAAKjD,OAE5B9T,EAAKpqB,KAAKtI,EAAK+D,EAAE,kBAAmB/D,EAAK+D,EAAE,aAAekgC,EAASwF,KAAKjD,SAGxE9T,EAAKpqB,KAAKtI,EAAK+D,EAAE,kBAAmBkgC,EAASwF,KAAKjD,YAEnD,CACCvC,EAASwF,KAAKH,OAASuB,GACQ,IAA3B5G,EAASwF,KAAKR,SAEdvW,EAAKpqB,KAAKtI,EAAK+D,EAAE,yBAGjB2uB,EAAKpqB,KAAKtI,EAAK+D,EAAE,yBAA0BkgC,EAASwF,KAAKR,WAG9B,IAA3BhF,EAASwF,KAAKR,SAEdvW,EAAKpqB,KAAKtI,EAAK+D,EAAE,uBAGjB2uB,EAAKpqB,KAAKtI,EAAK+D,EAAE,uBAAwBkgC,EAASwF,KAAKR,WAG/D,IAAMzC,GAAgD,IAAxCsE,GAAMn+B,QAAQs3B,EAASwF,KAAKjD,OAAgBxmC,EAAK+D,EAAE,aAAekgC,EAASwF,KAAKjD,OAASvC,EAASwF,KAAKjD,MAC/GC,GAA4C,IAAtCqE,GAAMn+B,QAAQs3B,EAASwF,KAAKhD,KAAczmC,EAAK+D,EAAE,aAAekgC,EAASwF,KAAKhD,KAAOxC,EAASwF,KAAKhD,KACjG,UAAVD,GAA8B,UAARC,GAA2B,UAARA,IAEzC/T,EAAKpqB,KAAKtI,EAAK+D,EAAE,0BAA2ByiC,EAAOC,IAiB3D,OAbKxC,EAASsF,OAAOP,OAEbkD,EAAU7W,UAAYxf,KAAKof,OAASgP,EAASoH,MAAM9Z,GAEnDmB,EAAKpqB,KAAKtI,EAAK+D,EAAE,uBAAwBkgC,EAASoH,MAAMtuB,KAAMknB,EAASoH,MAAM9Z,KACtE2a,EAAU7W,UAAYxf,KAAKof,MAElCvC,EAAKpqB,KAAKtI,EAAK+D,EAAE,qBAAsBkgC,EAASoH,MAAMtuB,OAC/CknB,EAASoH,MAAM9Z,IAEtBmB,EAAKpqB,KAAKtI,EAAK+D,EAAE,mBAAoBkgC,EAASoH,MAAM9Z,MAGrDmB,EAAKzvB,KAAK,qDAGG,IAAAE,EAAA3B,KACdyiC,EAAWziC,KAAKS,MAAMgiC,SACxBqI,GAAW,EACXnX,GAAM,EACNoX,GAAQ,EACRC,GAAS,EAYb,MAX4B,UAAxBvI,EAASwF,KAAKjD,OAA2C,UAAtBvC,EAASwF,KAAKhD,KACjD6F,GAAW,EACXE,GAAS,GACsB,YAAxBvI,EAASwF,KAAKjD,OACrBrR,GAAM,EACNqX,GAAS,GACsB,WAAxBvI,EAASwF,KAAKjD,QACrB+F,GAAQ,EACRC,GAAS,GAITppC,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,aAAapC,UAAW3E,KAAKJ,MAAMgF,QAAQqmC,QAChDrpC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQsmC,SAC/BtpC,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAS9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,SAAUnE,EAASwF,KAAKuB,UAAW1lC,QAAS,WACpH,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUtJ,EAAKlB,MAAMgiC,WACvD4I,EAAUpD,KAAKuB,WAAY,EAC3B7nC,EAAKoB,SAASsoC,MACZxoC,MAAOrE,EAAK+D,EAAE,uBAExBX,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,aAC/B1pC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,cAC7B7I,EAASwF,KAAKuB,WAAc5nC,EAAAC,EAAAC,cAAA,WAC1BF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAS9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAASoE,EAAQlnC,QAAS,WACvG,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUtJ,EAAKlB,MAAMgiC,WACvD4I,EAAUpD,KAAKjD,MAAQ,QACvBqG,EAAUpD,KAAKhD,IAAM,QACrBtjC,EAAKoB,SAASsoC,MACZxoC,MAAQmoC,EAAgC,GAAvBxsC,EAAK+D,EAAE,gBACzByoC,GAAU,CACNppC,EAAAC,EAAAC,cAACa,GAAAd,EAAD,CACG8C,UAAW3E,KAAKJ,MAAMgF,QAAQ2mC,UAC9B3oC,MAAO,CAAC4oC,YAAa,IACrBzkC,IAAI,gBACJxC,KAAK,OACLzB,MAAO9C,KAAKS,MAAMgiC,SAASwF,KAAKjD,MAEhCjiC,SAAU,SAAAC,GACN,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUtJ,EAAKlB,MAAMgiC,WACvD4I,EAAUpD,KAAKjD,MAAQhiC,EAAEC,OAAOH,MAChCnB,EAAKoB,SAASsoC,IAElB/E,gBAAiB,CAACC,QAAQ,GAC1B1jC,MAAOrE,EAAK+D,EAAE,YACdW,OAAO,WAEVtB,EAAAC,EAAAC,cAACa,GAAAd,EAAD,CACG8C,UAAW3E,KAAKJ,MAAMgF,QAAQ2mC,UAC9BxkC,IAAI,cACJxC,KAAK,OACLzB,MAAO9C,KAAKS,MAAMgiC,SAASwF,KAAKhD,IAEhCliC,SAAU,SAAAC,GACN,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUtJ,EAAKlB,MAAMgiC,WACvD4I,EAAUpD,KAAKhD,IAAMjiC,EAAEC,OAAOH,MAC9BnB,EAAKoB,SAASsoC,IAElB/E,gBAAiB,CAACC,QAAQ,GAC1B1jC,MAAOrE,EAAK+D,EAAE,UACdW,OAAO,eAMrBu/B,EAASwF,KAAKuB,WAAc5nC,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAS9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAASkE,EAAUhnC,QAAS,WACvI,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUtJ,EAAKlB,MAAMgiC,WACvD4I,EAAUpD,KAAKjD,MAAQ,QACvBqG,EAAUpD,KAAKhD,IAAM,QACrBtjC,EAAKoB,SAASsoC,MACZxoC,MAAOrE,EAAK+D,EAAE,oBAElBkgC,EAASwF,KAAKuB,WAAc5nC,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAS9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAASjT,EAAK7vB,QAAS,WAClI,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUtJ,EAAKlB,MAAMgiC,WACvD4I,EAAUpD,KAAKjD,MAAQ,UACvBqG,EAAUpD,KAAKhD,IAAM,SACrBtjC,EAAKoB,SAASsoC,MACZxoC,MAAOrE,EAAK+D,EAAE,oBAElBkgC,EAASwF,KAAKuB,WAAc5nC,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAS9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAASmE,EAAOjnC,QAAS,WACpI,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUtJ,EAAKlB,MAAMgiC,WACvD4I,EAAUpD,KAAKjD,MAAQ,SACvBqG,EAAUpD,KAAKhD,IAAM,UACrBtjC,EAAKoB,SAASsoC,MACZxoC,MAAOrE,EAAK+D,EAAE,uBAEtBkgC,EAASwF,KAAKuB,WAAaxpC,KAAKyrC,4EAK3B,IAAAjmC,EAAAxF,KACb0rC,GAA6D,IAAnDpC,GAAMn+B,QAAQnL,KAAKS,MAAMgiC,SAASwF,KAAKjD,OAEvD,OAAQpjC,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,YAAapC,UAAW3E,KAAKJ,MAAMgF,QAAQqmC,QACxDrpC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQsmC,SAC/BtpC,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAS9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAAS5mC,KAAKS,MAAMgiC,SAASwF,KAAKuB,UAAW1lC,QAAS,WAC9H,IAAM2+B,EAAW54B,KAAKC,MAAMD,KAAKoB,UAAUzF,EAAK/E,MAAMgiC,WACtDA,EAASwF,KAAKuB,WAAY,EAC1BhkC,EAAKzC,SAAS0/B,MACZ5/B,MAAOrE,EAAK+D,EAAE,oBAEvBvC,KAAKS,MAAMgiC,SAASwF,KAAKuB,WACrB5nC,EAAAC,EAAAC,cAACyB,GAAA1B,EAAD,CAAQiB,MAAO4oC,EAAU1rC,KAAKS,MAAMgiC,SAASwF,KAAKjD,MAAQ,QAClDjiC,SAAU,SAAAC,GACN,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUzF,EAAK/E,MAAMgiC,WACvD4I,EAAUpD,KAAKjD,MAAQhiC,EAAEC,OAAOH,MAChC0C,EAAKzC,SAASsoC,KAGvBzpC,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAUkF,IAAI,WAAWjE,MAAO,SAAUtE,EAAK+D,EAAE,qBAChD+mC,GAAM5lC,IAAI,SAAAoI,GAAK,OAAKlK,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAUkF,IAAK+E,EAAOhJ,MAAOgJ,GAAQtN,EAAK+D,EAAE,aAAeuJ,OAGvF9L,KAAKS,MAAMgiC,SAASwF,KAAKuB,YAAckC,GACnC9pC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,aAAa1pC,EAAAC,EAAAC,cAACa,GAAAd,EAAD,CAC7C8C,UAAW3E,KAAKJ,MAAMgF,QAAQ2mC,UAC9BxkC,IAAI,iBACJjE,MAAO9C,KAAKS,MAAMgiC,SAASwF,KAAKjD,MAChCzgC,KAAK,OAELxB,SAAU,SAAAC,GACN,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUzF,EAAK/E,MAAMgiC,WACvD4I,EAAUpD,KAAKjD,MAAQhiC,EAAEC,OAAOH,MAChC0C,EAAKzC,SAASsoC,IAElB/E,gBAAiB,CAACC,QAAQ,GAC1BrjC,OAAO,kDAOnB,OAAQtB,EAAAC,EAAAC,cAAA,MAAI6C,UAAW3E,KAAKJ,MAAMgF,QAAQ+mC,8CAG7B,IAAAjmC,EAAA1F,KACPyiC,EAAWziC,KAAKS,MAAMgiC,SACtBmJ,GAAUnJ,EAASsF,OAAOrC,OAASjD,EAASsF,OAAOrX,SAAW+R,EAASsF,OAAOtC,QAAUhD,EAASsF,OAAO2B,QAAUjH,EAASsF,OAAOtX,OAASgS,EAASsF,OAAO0B,MAKjK,OAJImC,IAAWnJ,EAASsF,OAAOP,OAC3B/E,EAASsF,OAAOP,KAAOxnC,KAAKgqC,YAAW,IAGpC,CAEFpoC,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,OAAOpC,UAAW3E,KAAKJ,MAAMgF,QAAQqmC,OAAS,IAAMjrC,KAAKJ,MAAMgF,QAAQinC,SAC7EjqC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQsmC,SAC/BtpC,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAASgF,EAAQ9nC,QAAS,WACvF,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUvF,EAAKjF,MAAMgiC,WACvD4I,EAAUtD,OAAOP,KAAO6D,EAAUtD,OAAOP,MAAQ9hC,EAAKskC,YAAW,GACjEqB,EAAUtD,OAAOrC,KAAO,GACxB2F,EAAUtD,OAAOrX,OAAS,GAC1B2a,EAAUtD,OAAOtC,MAAQ,GACzB4F,EAAUtD,OAAO2B,MAAQ,EACzB2B,EAAUtD,OAAO6B,SAAW,EAC5ByB,EAAUtD,OAAO4B,UAAY,EAC7B0B,EAAUtD,OAAO0B,MAAQ,EACzB4B,EAAUtD,OAAOtX,KAAO,EACxB/qB,EAAK3C,SAASsoC,MAEpBxoC,MAAOrE,EAAK+D,EAAE,qBAE3BqpC,GAAWhqC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,aAC1C1pC,EAAAC,EAAAC,cAACa,GAAAd,EAAD,CACG8C,UAAW3E,KAAKJ,MAAMgF,QAAQknC,UAC9BvnC,KAAK,OACLwC,IAAI,cACJjE,MAAOgnC,GAAcrH,EAASsF,OAAOP,MAErCzkC,SAAU,SAAAC,GACN,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUvF,EAAKjF,MAAMgiC,WACjD5tB,EAAOnP,EAAK0kC,YAAYpnC,EAAEC,OAAOH,OACvCuoC,EAAUtD,OAAOP,KAAO16B,GAAQ+H,EAAKkf,WAAa,IAAMjnB,GAAQ+H,EAAKmf,WAAa,GAAK,IAAMnf,EAAKsgB,cAClGzvB,EAAK3C,SAASsoC,IAElB/E,gBAAiB,CAACC,QAAQ,GAC1B1jC,MAAOrE,EAAK+D,EAAE,UACdW,OAAO,aAOlBtB,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,OAAOpC,UAAW3E,KAAKJ,MAAMgF,QAAQqmC,OAAS,IAAMjrC,KAAKJ,MAAMgF,QAAQmnC,SAC7EnqC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQsmC,SAC/BtpC,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,UAAWnE,EAASsF,OAAOtX,KAAM3sB,QAAS,WAC5G,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUvF,EAAKjF,MAAMgiC,WACtD4I,EAAUtD,OAAOtX,KAAO,EACxB4a,EAAUtD,OAAOrC,KAAO,GACxB2F,EAAUtD,OAAOrX,OAAS,GAC1B2a,EAAUtD,OAAOtC,MAAQ,GACzB4F,EAAUtD,OAAO2B,MAAQ,EACzB2B,EAAUtD,OAAO6B,SAAW,EAC5ByB,EAAUtD,OAAO4B,UAAY,EAC7B0B,EAAUtD,OAAO0B,MAAQ,EACzB4B,EAAUtD,OAAOP,KAAO,GACzB9hC,EAAK3C,SAASsoC,MAElBxoC,MAAOrE,EAAK+D,EAAE,sBAEzBX,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,aAC9BtrC,KAAKgsC,yBACLvJ,EAASsF,OAAOtX,KAAOzwB,KAAKisC,4BAA8B,OAsBlErqC,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,QAAQpC,UAAW3E,KAAKJ,MAAMgF,QAAQqmC,OAAS,IAAMjrC,KAAKJ,MAAMgF,QAAQsnC,SAC9EtqC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQsmC,SAC/BtpC,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,UAAWnE,EAASsF,OAAO0B,MAAO3lC,QAAS,WACpH,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUvF,EAAKjF,MAAMgiC,WACvD4I,EAAUtD,OAAO0B,MAAQhH,EAASsF,OAAO0B,MAAQ,EAAI,EACrD4B,EAAUtD,OAAOrC,KAAOjD,EAASsF,OAAOrC,MAAQ,MAChD2F,EAAUtD,OAAOrX,OAAS,GAC1B2a,EAAUtD,OAAOtC,MAAQ,GACzB4F,EAAUtD,OAAO2B,MAAQ,EACzB2B,EAAUtD,OAAO6B,SAAW,EAC5ByB,EAAUtD,OAAO4B,UAAY,EAC7B0B,EAAUtD,OAAOtX,KAAO,EACxB4a,EAAUtD,OAAOP,KAAO,GACxB9hC,EAAK3C,SAASsoC,MAElBxoC,MAAOrE,EAAK+D,EAAE,uBAElBX,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,aAC/B1pC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,aAActrC,KAAKmsC,2BACtDvqC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,YAAc,IAAMtrC,KAAKJ,MAAMgF,QAAQwnC,aAAcpsC,KAAKS,MAAMgiC,SAASsF,OAAO0B,MAAQzpC,KAAKisC,4BAA8B,QAMrKrqC,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,SAASpC,UAAW3E,KAAKJ,MAAMgF,QAAQqmC,OAAS,IAAMjrC,KAAKJ,MAAMgF,QAAQynC,WAC/EzqC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQsmC,SAC/BtpC,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,UAAWnE,EAASsF,OAAOrX,OAAQ5sB,QAAS,WAClH,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUvF,EAAKjF,MAAMgiC,WACtD4I,EAAUtD,OAAOrX,OAAS,EAC1B2a,EAAUtD,OAAOrC,KAAO,GACxB2F,EAAUtD,OAAOtC,MAAQ,GACzB4F,EAAUtD,OAAO2B,MAAQ,EACzB2B,EAAUtD,OAAO6B,SAAW,EAC5ByB,EAAUtD,OAAO4B,UAAY,EAC7B0B,EAAUtD,OAAO0B,MAAQ,EACzB4B,EAAUtD,OAAOtX,KAAO,EACxB4a,EAAUtD,OAAOP,KAAO,GACzB9hC,EAAK3C,SAASsoC,MAElBxoC,MAAOrE,EAAK+D,EAAE,wBAErBX,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,aAC9BtrC,KAAKssC,2BACL7J,EAASsF,OAAOrX,OAAU9uB,EAAAC,EAAAC,cAAA,WACvBF,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,YAAc,IAAMtrC,KAAKJ,MAAMgF,QAAQ2nC,gBACtE3qC,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAAC6kC,GAAA9kC,EAAD,CAAU8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,UAAWnE,EAASsF,OAAOtC,MAAO3hC,QAAS,WACvH,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUvF,EAAKjF,MAAMgiC,WACvD4I,EAAUtD,OAAOrX,OAAS2a,EAAUtD,OAAOrX,QAAU,EAErD,IADA,IAAM+U,EAAQ,GACL/+B,EAAI,EAAGA,GAAK,GAAIA,IACrB++B,EAAM3+B,KAAKJ,GAEf2kC,EAAUtD,OAAOtC,MAAQ4F,EAAUtD,OAAOtC,OAAS57B,KAAKoB,UAAUw6B,GAClE4F,EAAUtD,OAAOrC,KAAO,GACxB2F,EAAUtD,OAAO2B,MAAQ,EACzB2B,EAAUtD,OAAO6B,SAAW,EAC5ByB,EAAUtD,OAAO4B,UAAY,EAC7B0B,EAAUtD,OAAO0B,MAAQ,EACzB4B,EAAUtD,OAAOtX,KAAO,EACxB4a,EAAUtD,OAAOP,KAAO,GAExB9hC,EAAK3C,SAASsoC,MAElBxoC,MAAOrE,EAAK+D,EAAE,sBAClBX,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,YAAc,IAAMtrC,KAAKJ,MAAMgF,QAAQ2nC,gBACrEvsC,KAAKwsC,2BAEJ,OAMjB5qC,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,QAAQpC,UAAW3E,KAAKJ,MAAMgF,QAAQqmC,OAAS,IAAMjrC,KAAKJ,MAAMgF,QAAQ6nC,UAC9E7qC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQsmC,SAC/BtpC,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,UAAWnE,EAASsF,OAAO2B,MAAO5lC,QAAS,WACrH,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUvF,EAAKjF,MAAMgiC,WACtD4I,EAAUtD,OAAO2B,MAAQ,EACzB2B,EAAUtD,OAAO6B,SAAW,EAC5ByB,EAAUtD,OAAO4B,UAAY,EAC7B0B,EAAUtD,OAAOrC,KAAO,GACxB2F,EAAUtD,OAAOrX,OAAS,EAC1B2a,EAAUtD,OAAOtC,MAAQ,GACzB4F,EAAUtD,OAAO0B,MAAQ,EACzB4B,EAAUtD,OAAOtX,KAAO,EACxB4a,EAAUtD,OAAOP,KAAO,GACzB9hC,EAAK3C,SAASsoC,MAElBxoC,MAAOrE,EAAK+D,EAAE,uBAEjBX,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,aAC/B1pC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,aAActrC,KAAK0sC,6BACnDjK,EAASsF,OAAO2B,OAAU9nC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,aAC5D1pC,EAAAC,EAAAC,cAAA,YAAOtD,EAAK+D,EAAE,WACdX,EAAAC,EAAAC,cAACo4B,GAAAr4B,EAAD,CAAOkF,IAAI,QAAQjE,MAAO9C,KAAKS,MAAMgiC,SAASsF,OAAO6B,SAAUjlC,UAAW3E,KAAKJ,MAAMgF,QAAQ+nC,WAAYpoC,KAAK,SAASmmB,IAAI,IAAI0C,IAAI,KAAKrqB,SAAU,SAAAC,GAC9I,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUvF,EAAKjF,MAAMgiC,WACvD4I,EAAUtD,OAAO6B,SAAWpmC,SAASR,EAAEC,OAAOH,MAAO,IACrD4C,EAAK3C,SAASsoC,MAElBzpC,EAAAC,EAAAC,cAACyB,GAAA1B,EAAD,CAAQiB,MAAO2/B,EAASsF,OAAO4B,UAC1B5mC,SAAU,SAAAC,GACN,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUvF,EAAKjF,MAAMgiC,WACvD4I,EAAUtD,OAAO4B,UAAY3mC,EAAEC,OAAOH,MACtC4C,EAAK3C,SAASsoC,KAGnBzpC,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAUkF,IAAI,QAAQjE,MAAO,GAAItE,EAAK+D,EAAE,uBACvCoiC,GAAOjhC,IAAI,SAAC0lC,EAAO1iC,GAAR,OAAe9E,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAUkF,IAAKqiC,EAAOtmC,MAAO4D,EAAI,GAAIlI,EAAK+D,EAAE6mC,8DAQpE,IAAAl8B,EAAAlN,KACvB,OAAQ4B,EAAAC,EAAAC,cAAA,OAAKc,MAAO,CAAClF,QAAS,iBAC1BkE,EAAAC,EAAAC,cAAA,aAAQtD,EAAK+D,EAAE,cACfX,EAAAC,EAAAC,cAACo4B,GAAAr4B,EAAD,CAAOiB,MAAO9C,KAAKS,MAAMgiC,SAASwF,KAAKR,SAChC7kC,MAAO,CAAEk6B,cAAe,UACxBn4B,UAAW3E,KAAKJ,MAAMgF,QAAQ+nC,WAAYpoC,KAAK,SAASmmB,IAAI,IAAI3nB,SAAU,SAAAC,GAC7E,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUiC,EAAKzM,MAAMgiC,WACvD4I,EAAUpD,KAAKR,SAAWjkC,SAASR,EAAEC,OAAOH,MAAO,IACnDoK,EAAKnK,SAASsoC,MAElBzpC,EAAAC,EAAAC,cAACyB,GAAA1B,EAAD,CAAQiB,MAAO9C,KAAKS,MAAMgiC,SAASwF,KAAKH,KAChC/kC,SAAU,SAAAC,GACN,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUiC,EAAKzM,MAAMgiC,WACvD4I,EAAUpD,KAAKH,KAAO9kC,EAAEC,OAAOH,MAC/BoK,EAAKnK,SAASsoC,KAGtBzpC,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAUiB,MAAOumC,IAAkB7qC,EAAK+D,EAAE,sBAC1CX,EAAAC,EAAAC,cAAC6B,EAAA9B,EAAD,CAAUiB,MAAOumC,IAAgB7qC,EAAK+D,EAAE,0EAKxB,IAAA4M,EAAAnP,KAElByiC,EAAWziC,KAAKS,MAAMgiC,SACtBmK,EAAanK,EAASsF,OAAOrC,MAAiC,oBAAzBjD,EAASsF,OAAOrC,MAAuD,WAAzBjD,EAASsF,OAAOrC,KACzG,MAAO,CACF9jC,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,YAAWnF,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAAkC,oBAAzBnE,EAASsF,OAAOrC,KAA4B5hC,QAAS,WACxJ,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUkE,EAAK1O,MAAMgiC,WACvD4I,EAAUtD,OAAOrC,KAAO,kBACpB2F,EAAUtD,OAAOtX,OACjB4a,EAAUtD,OAAOtX,KAAO,GAE5BthB,EAAKpM,SAASsoC,MAElBxoC,MAAOrE,EAAK+D,EAAE,yBAEjBX,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,WAAUnF,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAAkC,WAAzBnE,EAASsF,OAAOrC,KAAmB5hC,QAAS,WAC9I,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUkE,EAAK1O,MAAMgiC,WACvD4I,EAAUtD,OAAOrC,KAAO,SACpB2F,EAAUtD,OAAOtX,OACjB4a,EAAUtD,OAAOtX,KAAO,GAE5BthB,EAAKpM,SAASsoC,MAElBxoC,MAAOrE,EAAK+D,EAAE,wBAEjBX,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,WAAWnE,MAAO,CAACk6B,cAAe,QAAQl7B,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkBe,MAAO,CAACk6B,cAAe,OACtC4J,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAASgG,EAAY9oC,QAAS,WACxI,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUkE,EAAK1O,MAAMgiC,WACvD4I,EAAUtD,OAAOrC,KAAO,kBACpB2F,EAAUtD,OAAOtX,OACjB4a,EAAUtD,OAAOtX,KAAO,GAE5BthB,EAAKpM,SAASsoC,MAGlBxoC,MAAOrE,EAAK+D,EAAE,wBACbqqC,IAAwC,IAAzBnK,EAASsF,OAAOtX,MAAcgS,EAASsF,OAAO0B,QAAW7nC,EAAAC,EAAAC,cAAC+qC,GAAAhrC,EAAD,CAAWkmB,KAAG,EAACpjB,UAAW3E,KAAKJ,MAAMgF,QAAQkoC,WAAYlqC,MAAO,CAACjF,MAAO,MAC5I,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG+F,IAAI,SAAAgD,GAAC,OACjB9E,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkBkF,IAAK,YAAcL,EAAG/B,UAAWwK,EAAKvP,MAAMgF,QAAQmoC,kBAAmBrG,QACpF9kC,EAAAC,EAAAC,cAAC6kC,GAAA9kC,EAAD,CAAU8C,UAAWwK,EAAKvP,MAAMgF,QAAQooC,gBAAiBpG,SAAmD,IAA1CnE,EAASsF,OAAOrC,KAAKv6B,QAAQ,GAAKzE,GAC9F3D,SAAU,SAAAC,GACN,IACI0iC,EADE2F,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUkE,EAAK1O,MAAMgiC,WAEvD,IACIiD,EAAO77B,KAAKC,MAAMuhC,EAAUtD,OAAOrC,MACrC,MAAO1iC,GACL0iC,EAAO,GAEP1iC,EAAEC,OAAO2jC,UAAgC,IAArBlB,EAAKv6B,QAAQzE,GACjCg/B,EAAK5+B,KAAKJ,GACF1D,EAAEC,OAAO2jC,UAAgC,IAArBlB,EAAKv6B,QAAQzE,IACzCg/B,EAAKp/B,OAAOo/B,EAAKv6B,QAAQzE,GAAI,GAEjCg/B,EAAKj9B,KAAK,SAAC5G,EAAG6G,GAAJ,OAAU7G,EAAI6G,IACxB2iC,EAAUtD,OAAOrC,KAAO77B,KAAKoB,UAAUy6B,GACnC2F,EAAUtD,OAAOtX,OACjB4a,EAAUtD,OAAOtX,KAAO,GAE5BthB,EAAKpM,SAASsoC,MAI5BxoC,MAAOrE,EAAK+D,EAAEmiC,GAASh+B,4DAOpB,IAAA6I,EAAAvP,KACrB,GAAKA,KAAKS,MAAMgiC,SAASsF,OAAOtX,KAAhC,CAGA,IAAMgS,EAAWziC,KAAKS,MAAMgiC,SAC5B,MAAO,CACF7gC,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,aAAYnF,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAAkC,IAAzBnE,EAASsF,OAAOtX,OAAegS,EAASsF,OAAOrC,KAAM5hC,QAAS,WACnJ,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUsE,EAAK9O,MAAMgiC,WACtD4I,EAAUtD,OAAOtX,KAAO,EACxB4a,EAAUtD,OAAOrC,KAAO,GACzBn2B,EAAKxM,SAASsoC,MAEbxoC,MAAOrE,EAAK+D,EAAE,yBACrCX,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,cAAanF,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAASnE,EAASsF,OAAOtX,KAAO,EAAG3sB,QAAS,WACxH,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUsE,EAAK9O,MAAMgiC,WACvD4I,EAAUtD,OAAOtX,KAAO,EACxB4a,EAAUtD,OAAOrC,KAAO,GACxBn2B,EAAKxM,SAASsoC,MAEdxoC,MAAOrE,EAAK+D,EAAE,qBACjCkgC,EAASsF,OAAOtX,KAAO,GAAK,CAAE7uB,EAAAC,EAAAC,cAACo4B,GAAAr4B,EAAD,CAAOkF,IAAI,QAAQjE,MAAO9C,KAAKS,MAAMgiC,SAASsF,OAAOtX,KAAM9rB,UAAW3E,KAAKJ,MAAMgF,QAAQ+nC,WAAYpoC,KAAK,SAASmmB,IAAI,IAAI3nB,SAAU,SAAAC,GAChK,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUsE,EAAK9O,MAAMgiC,WACvD4I,EAAUtD,OAAOtX,KAAOjtB,SAASR,EAAEC,OAAOH,MAAO,IACjDuoC,EAAUtD,OAAOrC,KAAO,GACxBn2B,EAAKxM,SAASsoC,MACTzpC,EAAAC,EAAAC,cAAA,QAAMiF,IAAI,OAAOnE,MAAO,CAAC+P,aAAc,KAAMnU,EAAK+D,EAAE,wEAK/C,IAAAiN,EAAAxP,KACtB,GAAKA,KAAKS,MAAMgiC,SAASsF,OAAO0B,MAAhC,CAGA,IAAMhH,EAAWziC,KAAKS,MAAMgiC,SAC5B,MAAO,CACF7gC,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,SAASnE,MAAO,CAAClF,QAAS,eAAgBo/B,cAAe,QAC3Dl7B,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAAmC,IAA1BnE,EAASsF,OAAO0B,MAAa3lC,QAAS,WACzG,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUuE,EAAK/O,MAAMgiC,WACvD4I,EAAUtD,OAAO0B,MAAQ,EACzBj6B,EAAKzM,SAASsoC,MAGbxoC,MAAOrE,EAAK+D,EAAE,0BACvCX,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAASnE,EAASsF,OAAO0B,MAAQ,EAAG3lC,QAAS,WACtG,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUuE,EAAK/O,MAAMgiC,WACvD4I,EAAUtD,OAAO0B,MAAQ,EACzBj6B,EAAKzM,SAASsoC,MAGlBxoC,MAAOrE,EAAK+D,EAAE,qBAC7BkgC,EAASsF,OAAO0B,MAAQ,GAAK,CAAE7nC,EAAAC,EAAAC,cAACo4B,GAAAr4B,EAAD,CAAOiB,MAAO9C,KAAKS,MAAMgiC,SAASsF,OAAO0B,MAAO9kC,UAAW3E,KAAKJ,MAAMgF,QAAQ+nC,WAAYpoC,KAAK,SAASmmB,IAAI,IAAI3nB,SAAU,SAAAC,GACtJ,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUuE,EAAK/O,MAAMgiC,WACvD4I,EAAUtD,OAAO0B,MAAQjmC,SAASR,EAAEC,OAAOH,MAAO,IAClD0M,EAAKzM,SAASsoC,MACTzpC,EAAAC,EAAAC,cAAA,YAAOtD,EAAK+D,EAAE,yEAMlB,IAAAkN,EAAAzP,KACrB,GAAKA,KAAKS,MAAMgiC,SAASsF,OAAOtC,MAAhC,CAMA,IAHA,IAAMhD,EAAWziC,KAAKS,MAAMgiC,SAEtBgD,EAAQ,GACL/+B,EAAI,EAAGA,GAAK,GAAIA,IACrB++B,EAAM3+B,KAAKJ,GAGf,IAAMumC,EAAcpjC,KAAKC,MAAM24B,EAASsF,OAAOtC,OAE/C,OACI7jC,EAAAC,EAAAC,cAAC+qC,GAAAhrC,EAAD,CAAWkmB,KAAG,EAACpjB,UAAW3E,KAAKJ,MAAMgF,QAAQkoC,WAAYlqC,MAAO,CAACV,SAAU,MACvEN,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB8C,UAAW3E,KAAKJ,MAAMgF,QAAQsoC,aAC5CxG,QACI9kC,EAAAC,EAAAC,cAAC6kC,GAAA9kC,EAAD,CAAU8C,UAAW3E,KAAKJ,MAAMgF,QAAQuoC,kBAAmBvG,QAAgC,KAAvBqG,EAAY9rC,OAC5E4B,SAAU,SAAAC,GAGN,IAFA,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUwE,EAAKhP,MAAMgiC,WACjDgD,EAAQ,GACL/+B,EAAI,EAAGA,GAAK,GAAIA,IACrB++B,EAAM3+B,KAAKJ,GAEf2kC,EAAUtD,OAAOtC,MAAQ57B,KAAKoB,UAAUw6B,GACxCh2B,EAAK1M,SAASsoC,MAGxBxoC,MAAOrE,EAAK+D,EAAE,aAEpBX,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB8C,UAAW3E,KAAKJ,MAAMgF,QAAQsoC,aAC5CxG,QACI9kC,EAAAC,EAAAC,cAAC6kC,GAAA9kC,EAAD,CAAU8C,UAAW3E,KAAKJ,MAAMgF,QAAQuoC,kBAAmBvG,SAAUqG,EAAY9rC,OAC7E4B,SAAU,SAAAC,GACN,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUwE,EAAKhP,MAAMgiC,WACvD4I,EAAUtD,OAAOtC,MAAQ,KACzBh2B,EAAK1M,SAASsoC,MAGxBxoC,MAAOrE,EAAK+D,EAAE,gBAEI,KAAvB0qC,EAAY9rC,UAAmB8rC,EAAY9rC,QAAWS,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB8C,UAAW3E,KAAKJ,MAAMgF,QAAQsoC,aACnGxG,QACI9kC,EAAAC,EAAAC,cAAC6kC,GAAA9kC,EAAD,CAAU8C,UAAW3E,KAAKJ,MAAMgF,QAAQuoC,kBAAmBvG,SAAS,EAChE7jC,SAAU,SAAAC,GAIN,IAHA,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUwE,EAAKhP,MAAMgiC,WACjDn6B,EAAS,GACT2kC,EAAcpjC,KAAKC,MAAMuhC,EAAUtD,OAAOtC,OACvC/+B,EAAI,EAAGA,GAAK,GAAIA,KACW,IAA5BumC,EAAY9hC,QAAQzE,IACpB4B,EAAOxB,KAAKJ,GAGpB4B,EAAOG,KAAK,SAAC5G,EAAG6G,GAAJ,OAAU7G,EAAI6G,IAC1B2iC,EAAUtD,OAAOtC,MAAQ57B,KAAKoB,UAAU3C,GACxCmH,EAAK1M,SAASsoC,MAGxBxoC,MAAOrE,EAAK+D,EAAE,gBAEpBX,EAAAC,EAAAC,cAAA,YACH2jC,EAAM/hC,IAAI,SAAAgD,GAAC,OACP9E,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkBkF,IAAK,QAAUL,EAAG/B,UAAW8K,EAAK7P,MAAMgF,QAAQsoC,aAActqC,MAAQ8D,EAAgF,GAA5E,CAAC6P,QAAS,EAAGhJ,OAAQ,UAAWyB,WAAY,OAAQo+B,cAAe,QAC1J1G,QACI9kC,EAAAC,EAAAC,cAAC6kC,GAAA9kC,EAAD,CAAU8C,UAAW8K,EAAK7P,MAAMgF,QAAQuoC,kBAAmBvG,SAA2D,IAAlD/8B,KAAKC,MAAM24B,EAASsF,OAAOtC,OAAOt6B,QAAQzE,GACpG3D,SAAU,SAAAC,GACN,IACIyiC,EADE4F,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUwE,EAAKhP,MAAMgiC,WAEvD,IACIgD,EAAQ57B,KAAKC,MAAMuhC,EAAUtD,OAAOtC,OACtC,MAAOziC,GACLyiC,EAAQ,GAERziC,EAAEC,OAAO2jC,UAAiC,IAAtBnB,EAAMt6B,QAAQzE,GAClC++B,EAAM3+B,KAAKJ,GACH1D,EAAEC,OAAO2jC,UAAiC,IAAtBnB,EAAMt6B,QAAQzE,IAC1C++B,EAAMn/B,OAAOm/B,EAAMt6B,QAAQzE,GAAI,GAEnC++B,EAAMh9B,KAAK,SAAC5G,EAAG6G,GAAJ,OAAU7G,EAAI6G,IACzB2iC,EAAUtD,OAAOtC,MAAQ57B,KAAKoB,UAAUw6B,GACxCh2B,EAAK1M,SAASsoC,MAG9BxoC,MAAO6D,EAAI,GAAK,CAAE9E,EAAAC,EAAAC,cAAA,QAAMiF,IAAI,IAAInE,MAAO,CAAC2T,QAAS,IAA/B,KAA+C3U,EAAAC,EAAAC,cAAA,QAAMiF,IAAI,OAAOL,IAAcA,2DAKzF,IAAAgJ,EAAA1P,KACvB,GAAKA,KAAKS,MAAMgiC,SAASsF,OAAOrX,OAAhC,CAGA,IAAM+R,EAAWziC,KAAKS,MAAMgiC,SACtB4K,EAAiD,kBAA3B5K,EAASsF,OAAOrX,OAAsB7mB,KAAKC,MAAM24B,EAASsF,OAAOrX,QAAW,GAExG,MAAO,CACF9uB,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,SAAQnF,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAA2C,kBAA3BnE,EAASsF,OAAOrX,QAAkD,IAA3B+R,EAASsF,OAAOrX,OAAc5sB,QAAS,WAC/I+F,KAAKC,MAAMD,KAAKoB,UAAUyE,EAAKjP,MAAMgiC,WAC7CsF,OAAOrX,OAAS,EAC1BhhB,EAAK3M,SAAS0/B,MAGlB5/B,MAAOrE,EAAK+D,EAAE,2BACrCX,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,UAASnF,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAA2C,kBAA3BnE,EAASsF,OAAOrX,QAAuB+R,EAASsF,OAAOrX,OAAS,EAAG5sB,QAAS,WAChK,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUyE,EAAKjP,MAAMgiC,WACvD4I,EAAUtD,OAAOrX,OAAS,EAC1BhhB,EAAK3M,SAASsoC,MAGlBxoC,MAAOrE,EAAK+D,EAAE,qBACC,kBAA3BkgC,EAASsF,OAAOrX,QAAuB+R,EAASsF,OAAOrX,OAAS,GAAK,CAAE9uB,EAAAC,EAAAC,cAACo4B,GAAAr4B,EAAD,CAAOiB,MAAO2/B,EAASsF,OAAOrX,OAAQ/rB,UAAW3E,KAAKJ,MAAMgF,QAAQ+nC,WAAYpoC,KAAK,SAASmmB,IAAI,IAAI3nB,SAAU,SAAAC,GAC3L,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUyE,EAAKjP,MAAMgiC,WACvD4I,EAAUtD,OAAOrX,OAASltB,SAASR,EAAEC,OAAOH,MAAO,IACnD4M,EAAK3M,SAASsoC,MACTzpC,EAAAC,EAAAC,cAAA,YAAOtD,EAAK+D,EAAE,sBAE1BX,EAAAC,EAAAC,cAAA,OAAMiF,IAAI,WAAWnE,MAAO,CAACk6B,cAAe,QAAQl7B,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkBe,MAAO,CAACk6B,cAAe,OAAQ4J,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAA2C,kBAA3BnE,EAASsF,OAAOrX,OAAqB5sB,QAAS,WACnM,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUyE,EAAKjP,MAAMgiC,WACvD4I,EAAUtD,OAAOrX,OAAS,+BAC1BhhB,EAAK3M,SAASsoC,MAGlBxoC,MAAOrE,EAAK+D,EAAE,8BACC,kBAA3BkgC,EAASsF,OAAOrX,QACvB9uB,EAAAC,EAAAC,cAAC+qC,GAAAhrC,EAAD,CAAWkmB,KAAG,EAACpjB,UAAW3E,KAAKJ,MAAMgF,QAAQkoC,YAC1ClrC,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB8C,UAAW3E,KAAKJ,MAAMgF,QAAQsoC,aAC9BxG,QACI9kC,EAAAC,EAAAC,cAAC6kC,GAAA9kC,EAAD,CAAU8C,UAAW3E,KAAKJ,MAAMgF,QAAQuoC,kBAAmBvG,QAAiC,KAAxByG,EAAalsC,OACvE4B,SAAU,SAAAC,GAGN,IAFA,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUyE,EAAKjP,MAAMgiC,WACjD/R,EAAS,GACNhqB,EAAI,EAAGA,GAAK,GAAIA,IACrBgqB,EAAO5pB,KAAKJ,GAEhB2kC,EAAUtD,OAAOrX,OAAS7mB,KAAKoB,UAAUylB,GACzChhB,EAAK3M,SAASsoC,MAG9BxoC,MAAOrE,EAAK+D,EAAE,aAElCX,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB8C,UAAW3E,KAAKJ,MAAMgF,QAAQsoC,aAC9BxG,QACI9kC,EAAAC,EAAAC,cAAC6kC,GAAA9kC,EAAD,CAAU8C,UAAW3E,KAAKJ,MAAMgF,QAAQuoC,kBAAmBvG,SAAUyG,EAAalsC,OACxE4B,SAAU,SAAAC,GACN,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUyE,EAAKjP,MAAMgiC,WACvD4I,EAAUtD,OAAOrX,OAAS,KAC1BhhB,EAAK3M,SAASsoC,MAG9BxoC,MAAOrE,EAAK+D,EAAE,gBAET,KAAxB8qC,EAAalsC,UAAmBksC,EAAalsC,QAAWS,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB8C,UAAW3E,KAAKJ,MAAMgF,QAAQsoC,aAChCxG,QACI9kC,EAAAC,EAAAC,cAAC6kC,GAAA9kC,EAAD,CAAU8C,UAAW3E,KAAKJ,MAAMgF,QAAQuoC,kBAAmBvG,SAAS,EAC1D7jC,SAAU,SAAAC,GAIN,IAHA,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUyE,EAAKjP,MAAMgiC,WACjDn6B,EAAS,GACT+kC,EAAexjC,KAAKC,MAAMuhC,EAAUtD,OAAOrX,QACxChqB,EAAI,EAAGA,GAAK,GAAIA,KACY,IAA7B2mC,EAAaliC,QAAQzE,IACrB4B,EAAOxB,KAAKJ,GAGpB4B,EAAOG,KAAK,SAAC5G,EAAG6G,GAAJ,OAAU7G,EAAI6G,IAC1B2iC,EAAUtD,OAAOrX,OAAS7mB,KAAKoB,UAAU3C,GACzCoH,EAAK3M,SAASsoC,MAG9BxoC,MAAOrE,EAAK+D,EAAE,gBAEzFX,EAAAC,EAAAC,cAAA,YACC6iC,GAAOjhC,IAAI,SAAC0lC,EAAO1iC,GAAR,OAAe9E,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB8C,UAAW+K,EAAK9P,MAAMgF,QAAQmoC,kBACvErG,QACI9kC,EAAAC,EAAAC,cAAC6kC,GAAA9kC,EAAD,CAAU8C,UAAW+K,EAAK9P,MAAMgF,QAAQooC,gBAAiBpG,SAAgE,IAAvD/8B,KAAKC,MAAM24B,EAASsF,OAAOrX,QAAQvlB,QAAQzE,EAAI,GACvG3D,SAAU,SAAAC,GACN,IACI0tB,EADE2a,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUyE,EAAKjP,MAAMgiC,WAEvD,IACI/R,EAAS7mB,KAAKC,MAAMuhC,EAAUtD,OAAOrX,QACvC,MAAO1tB,GACL0tB,EAAS,GAET1tB,EAAEC,OAAO2jC,UAAsC,IAA3BlW,EAAOvlB,QAAQzE,EAAI,GACvCgqB,EAAO5pB,KAAKJ,EAAI,GACR1D,EAAEC,OAAO2jC,UAAsC,IAA3BlW,EAAOvlB,QAAQzE,EAAI,IAC/CgqB,EAAOpqB,OAAOoqB,EAAOvlB,QAAQzE,EAAI,GAAI,GAEzCgqB,EAAOjoB,KAAK,SAAC5G,EAAG6G,GAAJ,OAAU7G,EAAI6G,IAC1B2iC,EAAUtD,OAAOrX,OAAS7mB,KAAKoB,UAAUylB,GACzChhB,EAAK3M,SAASsoC,MAIhCxoC,MAAOrE,EAAK+D,EAAE6mC,6DAOR,IAAAz5B,EAAA3P,KACtB,GAAKA,KAAKS,MAAMgiC,SAASsF,OAAO2B,MAAhC,CAGA,IAAMjH,EAAWziC,KAAKS,MAAMgiC,SAC5B,MAAO,CACF7gC,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAAmC,IAA1BnE,EAASsF,OAAO2B,MAAa5lC,QAAS,WACtG,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAU0E,EAAKlP,MAAMgiC,WACvD4I,EAAUtD,OAAO2B,MAAQ,EACzB/5B,EAAK5M,SAASsoC,MAGlBxoC,MAAOrE,EAAK+D,EAAE,0BACrCX,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CAAO8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,QAASnE,EAASsF,OAAO2B,MAAQ,EAAG5lC,QAAS,WACpG,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAU0E,EAAKlP,MAAMgiC,WACvD4I,EAAUtD,OAAO2B,MAAQ,EACzB/5B,EAAK5M,SAASsoC,MAGlBxoC,MAAOrE,EAAK+D,EAAE,qBACjCkgC,EAASsF,OAAO2B,MAAQ,GAAK,CAAE9nC,EAAAC,EAAAC,cAACo4B,GAAAr4B,EAAD,CAAOiB,MAAO9C,KAAKS,MAAMgiC,SAASsF,OAAO2B,MAAO/kC,UAAW3E,KAAKJ,MAAMgF,QAAQ+nC,WAAYpoC,KAAK,SAASmmB,IAAI,IAAI3nB,SAAU,SAAAC,GACtJ,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAU0E,EAAKlP,MAAMgiC,WACvD4I,EAAUtD,OAAO2B,MAAQlmC,SAASR,EAAEC,OAAOH,MAAO,IAClD6M,EAAK5M,SAASsoC,MACTzpC,EAAAC,EAAAC,cAAA,YAAOtD,EAAK+D,EAAE,0DAKxB+qC,GACP,IAAMx5B,EAAI,IAAIO,KAUd,OATAP,EAAEw2B,SAAS,GACXx2B,EAAEy2B,WAAW,GACbz2B,EAAE02B,WAAW,GACb12B,EAAE22B,gBAAgB,GACd6C,IACAx5B,EAAEy5B,QAAQz5B,EAAEigB,UAAY,GACxBjgB,EAAE22B,gBAAgB32B,EAAEK,kBAAoB,IAGrCrH,GAAQgH,EAAEigB,WAAa,IAAMjnB,GAAQgH,EAAEkgB,WAAa,GAAK,IAAMlnB,GAAQgH,EAAEqhB,mDAGxE/f,GACR,IAAI9T,EAAQ8T,EAAI7T,MAAM,KACtB,OAAqB,IAAjBD,EAAMH,QACNG,EAAQ8T,EAAI7T,MAAM,KACX,IAAI8S,KAAK7Q,SAASlC,EAAM,GAAI,IAAKkC,SAASlC,EAAM,GAAI,IAAM,EAAGkC,SAASlC,EAAM,GAAI,MAEhF,IAAI+S,KAAK7Q,SAASlC,EAAM,GAAI,IAAKkC,SAASlC,EAAM,GAAI,IAAM,EAAGkC,SAASlC,EAAM,GAAI,gDAI5E,IAAA4P,EAAAlR,KACTyiC,EAAWziC,KAAKS,MAAMgiC,SAE5B,OACI7gC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQqmC,QAC/BrpC,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQsmC,QAAStoC,MAAO,CAACk6B,cAAe,WAC/Dl7B,EAAAC,EAAAC,cAAA,QAAMc,MAAO,CAACyB,WAAY,OAAQsO,aAAc,KAAMnU,EAAK+D,EAAE,cAC7DX,EAAAC,EAAAC,cAAA,YAAOtD,EAAK+D,EAAE,mBAElBX,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ0mC,aAC/B1pC,EAAAC,EAAAC,cAACa,GAAAd,EAAD,CACI8C,UAAW3E,KAAKJ,MAAMgF,QAAQknC,UAC9BlpC,MAAO,CAAC4oC,YAAa,IACrBzkC,IAAI,gBACJjE,MAAOgnC,GAAcrH,EAASoH,MAAMtuB,MACpChX,KAAK,OAELxB,SAAU,SAAAC,GACN,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUiG,EAAKzQ,MAAMgiC,WACjD5tB,EAAO3D,EAAKk5B,YAAYpnC,EAAEC,OAAOH,OACvCuoC,EAAUxB,MAAMtuB,KAAOzO,GAAQ+H,EAAKkf,WAAa,IAAMjnB,GAAQ+H,EAAKmf,WAAa,GAAK,IAAMnf,EAAKsgB,cACjGjkB,EAAKnO,SAASsoC,IAElB/E,gBAAiB,CAACC,QAAQ,GAC1BrjC,OAAO,WAEXtB,EAAAC,EAAAC,cAAC2kC,GAAA5kC,EAAD,CAAkB6kC,QAAU9kC,EAAAC,EAAAC,cAAC6kC,GAAA9kC,EAAD,CAAU8C,UAAW3E,KAAKJ,MAAMgF,QAAQwmC,WAAYxE,UAAWnE,EAASoH,MAAM9Z,GAAIjsB,QAAS,WACnH,IAAMunC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUiG,EAAKzQ,MAAMgiC,WACvD4I,EAAUxB,MAAM9Z,GAAKsb,EAAUxB,MAAM9Z,GAAK,GAAK7e,EAAK84B,YAAW,GAC/D94B,EAAKnO,SAASsoC,MAEdxoC,MAAOrE,EAAK+D,EAAE,mBACXkgC,EAASoH,MAAM9Z,IACdnuB,EAAAC,EAAAC,cAACa,GAAAd,EAAD,CACI8C,UAAW3E,KAAKJ,MAAMgF,QAAQknC,UAC9BlpC,MAAO,CAAC4oC,YAAa,IACrBzkC,IAAI,gBACJxC,KAAK,OACLzB,MAAOgnC,GAAcrH,EAASoH,MAAM9Z,IAEpChtB,SAAU,SAAAC,GACN,IAAMqoC,EAAYxhC,KAAKC,MAAMD,KAAKoB,UAAUiG,EAAKzQ,MAAMgiC,WACjD5tB,EAAO3D,EAAKk5B,YAAYpnC,EAAEC,OAAOH,OACvCuoC,EAAUxB,MAAM9Z,GAAKjjB,GAAQ+H,EAAKkf,WAAa,IAAMjnB,GAAQ+H,EAAKmf,WAAa,GAAK,IAAMnf,EAAKsgB,cAC/FjkB,EAAKnO,SAASsoC,IAElB/E,gBAAiB,CAACC,QAAQ,GAC1BrjC,OAAO,8CAQ/B,OAAQtB,EAAAC,EAAAC,cAAA,OAAKc,MAAO,CAAChF,OAAQ,oBAAqBD,MAAO,OAAQoP,SAAU,WACvEnL,EAAAC,EAAAC,cAAA,WAAM9B,KAAKS,MAAMywB,MACjBtvB,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ4oC,cAC/B5rC,EAAAC,EAAAC,cAAA,UAAKtD,EAAK+D,EAAE,aACXvC,KAAKytC,wBACLztC,KAAK0tC,uBACL1tC,KAAK2tC,aACN/rC,EAAAC,EAAAC,cAAA,UAAKtD,EAAK+D,EAAE,eACXvC,KAAK4tC,kBACJ5tC,KAAKS,MAAMgiC,SAASsF,OAAOP,MAAQxnC,KAAK2tC,cACxC3tC,KAAKS,MAAMgiC,SAASsF,OAAOP,MAAQxnC,KAAK6tC,4BAzlCnC9pC,IAAMC,WAomCdgC,wBA3zCA,SAAAuB,GAAK,MAAK,CACrBokC,GAAI,CACAzO,OAAQ,EACRN,UAAW,kBAEf4Q,aAAc,CACV7vC,MAAO,OACPoP,SAAU,OACVnP,OAAQ,qBAEZqtC,OAAQ,CACJttC,MAAO,QAEXutC,QAAS,CACLvtC,MAAO,IACPD,QAAS,eACTo/B,cAAe,OAEnBwO,YAAa,CACT5tC,QAAS,eACTo/B,cAAe,OAEnByO,UAAW,CACP5tC,MAAO,GACPq8B,UAAW,EACX7jB,WAAY,GAEhB21B,UAAW,CACPnuC,MAAO,IACPq8B,UAAW,EACX7jB,WAAY,GAEhBw2B,WAAY,CACRhvC,MAAO,GACPwY,WAAY,EACZq1B,YAAa,GAEjBJ,WAAY,CACRt+B,QAAS,WACTgwB,cAAe,OAEnBgQ,WAAY,CACR5qC,SAAU,IACVxE,QAAS,gBAEbqvC,kBAAmB,CACfpvC,MAAO,KAEXuvC,aAAc,CACVvvC,MAAO,IAEXwvC,kBAAmB,CACfrgC,QAAS,GAEbkgC,gBAAiB,CACblgC,QAAS,GAEb++B,QAAS,GAITE,QAAS,CACL5tC,WAAY,WAEhB+tC,QAAS,CACL/tC,WAAY,WAEhB2vC,SAAU,CACN3vC,WAAY,WAEhB4vC,SAAU,CACN5vC,WAAY,WAEhBkuC,UAAW,CACPluC,WAAY,WAEhBouC,eAAgB,CACZpuC,WAAY,UACZ+D,SAAU,KAEduqC,SAAU,CACNtuC,WAAY,WAEhB6vC,YAAa,CACT7vC,WAAY,UACZmP,YAAa,GACby4B,cAAe,IAEnBqG,YAAa,CACTjuC,WAAY,UACZmP,YAAa,GACby4B,cAAe,MAguCR//B,CAAmB+jC,IC3yC5BkE,eACF,SAAAA,EAAYruC,GAAO,IAAAC,EAEX2kC,EAFW,OAAA1kC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiuC,IACfpuC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmuC,GAAA9tC,KAAAH,KAAMJ,KAEGA,MAAM4kC,MAAmC,kBAApB3kC,EAAKD,MAAM4kC,MAAiE,MAA5C3kC,EAAKD,MAAM4kC,KAAKplC,QAAQ,QAAS,IAAI,GAC/FolC,EAAO3kC,EAAKD,MAAM4kC,KAAKplC,QAAQ,QAAS,IAAIwkB,OAGxB,kBADpB4gB,EAAO3kC,EAAKD,MAAM4kC,MAAQ,QAEtBA,EAAOA,EAAKplC,QAAQ,QAAS,IAAIA,QAAQ,WAAY,KAI7DS,EAAKY,MAAS,CACV+jC,OACAsD,KAAMjoC,EAAKD,MAAMsuC,OACb,SACiB,kBAAT1J,GAAiC,MAAZA,EAAK,GAC9B,SACCwD,GAAW5C,WAAWvlC,EAAKD,MAAM4kC,MAAQ,aAAe,SAAW,WAlBjE3kC,8EAuBfG,KAAKJ,MAAMS,6CAIXL,KAAKJ,MAAM+mB,KAAK3mB,KAAKS,MAAM+jC,MAC3BxkC,KAAKJ,MAAMS,2CAGN,IAAAsB,EAAA3B,KACL,OACI4B,EAAAC,EAAAC,cAACC,GAAAF,EAAD,CACIG,sBAAoB,EACpBC,sBAAoB,EACpBC,SAAS,KACTC,WAAW,EACXyC,QAAS,CAAC0M,MAAOtR,KAAKJ,MAAMgF,QAAQupC,aACpC/rC,MAAM,EACNC,kBAAgB,qBAEhBT,EAAAC,EAAAC,cAACQ,GAAAT,EAAD,CAAanB,GAAG,qBAAqBV,KAAKJ,MAAMuF,OAAS3G,EAAK+D,EAAE,uBAChEX,EAAAC,EAAAC,cAACU,GAAAX,EAAD,CAAee,MAAO,CAAChF,OAAQ,OAAQmP,SAAU,YAC3C/M,KAAKJ,MAAMsuC,QAAWtsC,EAAAC,EAAAC,cAAA,WACpBF,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CACIkF,IAAI,SACJ6/B,QAA6B,WAApB5mC,KAAKS,MAAMqnC,KACpB/kC,SAAU,SAAAC,GAAC,OAAIrB,EAAKb,SAAS,CAACgnC,KAAM,cACtClmC,EAAAC,EAAAC,cAAA,SAAOgC,QAAS,SAAAd,GAAC,OAAIrB,EAAKb,SAAS,CAACgnC,KAAM,YACnCllC,MAA2B,WAApB5C,KAAKS,MAAMqnC,KAAoB,CAAC1pC,MAAO,aAAe,IAAKI,EAAK+D,EAAE,cAElFX,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CACIkF,IAAI,SACJ6/B,QAA6B,WAApB5mC,KAAKS,MAAMqnC,KACpB/kC,SAAU,SAAAC,GAAC,OAAIrB,EAAKb,SAAS,CAACgnC,KAAM,cACtClmC,EAAAC,EAAAC,cAAA,SAAOgC,QAAS,SAAAd,GAAC,OAAIrB,EAAKb,SAAS,CAACgnC,KAAM,YACnCllC,MAA2B,WAApB5C,KAAKS,MAAMqnC,KAAoB,CAAC1pC,MAAO,aAAe,IAAKI,EAAK+D,EAAE,cAClFX,EAAAC,EAAAC,cAACqpC,GAAAtpC,EAAD,CACIkF,IAAI,UACJ6/B,QAA6B,YAApB5mC,KAAKS,MAAMqnC,KACpB/kC,SAAU,SAAAC,GAAC,OAAIrB,EAAKb,SAAS,CAACgnC,KAAM,eACtClmC,EAAAC,EAAAC,cAAA,SAAOgC,QAAS,SAAAd,GAAC,OAAIrB,EAAKb,SAAS,CAACgnC,KAAM,aAAallC,MAA2B,YAApB5C,KAAKS,MAAMqnC,KAAqB,CAAC1pC,MAAO,aAAe,IAAKI,EAAK+D,EAAE,aAElH,WAApBvC,KAAKS,MAAMqnC,MACXlmC,EAAAC,EAAAC,cAACssC,GAAD,CACGjJ,eAAgBnlC,KAAKS,MAAM+jC,KAC3BzhC,SAAU,SAAAyhC,GAAI,OAAI7iC,EAAKb,SAAS,CAAC0jC,UACjCxtB,SAAUxY,EAAK0J,gBAEE,WAApBlI,KAAKS,MAAMqnC,MACPlmC,EAAAC,EAAAC,cAACusC,GAAD,CACG5L,SAAUziC,KAAKS,MAAM+jC,KACrBzhC,SAAU,SAAAyhC,GAAI,OAAI7iC,EAAKb,SAAS,CAAC0jC,UACjCxtB,SAAUxY,EAAK0J,gBAEF,YAApBlI,KAAKS,MAAMqnC,MACXlmC,EAAAC,EAAAC,cAACwsC,GAAD,CACGnJ,eAAgBnlC,KAAKS,MAAM+jC,KAC3BzhC,SAAU,SAAAyhC,GAAI,OAAI7iC,EAAKb,SAAS,CAAC0jC,UACjCxtB,SAAUxY,EAAK0J,iBAGvBtG,EAAAC,EAAAC,cAAC8B,GAAA/B,EAAD,KACID,EAAAC,EAAAC,cAAC+B,EAAAhC,EAAD,CAAQiC,QAAS,kBAAMnC,EAAKrB,YAAgBlC,MAAM,WAAW4B,KAAKJ,MAAMinB,IAAMroB,EAAK+D,EAAE,OACrFX,EAAAC,EAAAC,cAAC+B,EAAAhC,EAAD,CAAQiC,QAAS,kBAAMnC,EAAKvB,gBAAgBhC,MAAM,aAAa4B,KAAKJ,MAAMknB,QAAUtoB,EAAK+D,EAAE,oBAtFtFwB,IAAMC,WA0GhBgC,wBAvHA,SAAAuB,GAAK,MAAK,CACrB+1B,SAAU,CACNj5B,WAAY,OACZo5B,UAAW,UAEf8Q,MAAO,CACH7wC,QAAS,gBAEbywC,YAAa,CACTvwC,OAAQ,uBA8GDoI,CAAmBioC,ICtG5BvmC,GAAS,CACXC,QAAWhC,IACXiC,gBAAiB1C,IACjB2C,IAAK3C,IACL4C,gBAAiBC,KA2DfymC,eACF,SAAAA,EAAY5uC,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwuC,GACf3uC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0uC,GAAAruC,KAAAH,KAAMJ,IAEN,IAAM1B,EAAWuB,OAAOkK,aAAaC,QAAQ,oBAAsB,GAC/DsJ,EAAUzT,OAAOkK,aAAaC,QAAQ,mBAAqB,KAC/D,IACIsJ,EAAUrJ,KAAKC,MAAMoJ,GACvB,MAAOlQ,GACLkQ,EAAU,GARC,OAUXhV,IAA2C,IAA/BgV,EAAQ/H,QAAQjN,IAC5BgV,EAAQpM,KAAK5I,GAGjB2B,EAAKY,MAAQ,CACTvC,SAAUA,EACVgV,QAASA,EACThI,SAAS,EACTuU,QAAS,KACTgvB,iBAAiB,EACjBC,cAAc,EACdC,UAAU,EACVp3B,OAAQ,GACRR,SAAQtX,OAAOkK,cAA+D,SAA/ClK,OAAOkK,aAAaC,QAAQ,eAC3DmkB,QAASnuB,EAAMmuB,QACf6gB,aAAc,GACdjkC,iBAAkB9K,EAAKD,MAAM+K,kBAAoB,IAIrD9K,EAAKwL,SAAW,CACZwjC,UAAW,KACXC,SAAU,MAEdjvC,EAAK2kC,KAAO,CACRqK,UAAW,KACXC,SAAU,MAgBdrvC,OAAOsvC,WAAavwC,EAAK0J,cACzBzI,OAAOuvC,KAAO,CACVle,QAASjxB,EAAKD,MAAMkxB,QACpB5vB,UAAW,GACX+tC,eAAgB,SAACJ,EAAWrtB,GACxB3hB,EAAKwL,SAASyjC,SAAWttB,EACzB3hB,EAAKwL,SAASwjC,UAAYA,EAC1BhvC,EAAKiB,SAAS,CAAC4tC,cAAc,KAEjCQ,WAAY,SAACL,EAAWrtB,GACpB3hB,EAAK2kC,KAAKsK,SAAWttB,EACrB3hB,EAAK2kC,KAAKqK,UAAYA,EACtBhvC,EAAKiB,SAAS,CAAC6tC,UAAU,MAGjC9uC,EAAKixB,QAAUlxB,EAAMkxB,QAGrBjxB,EAAKkK,QAAU,IAEVlK,EAAKY,MAAMvC,UAAY2B,EAAKY,MAAMyS,QAAQ/R,SAC3CtB,EAAKY,MAAMvC,SAAW2B,EAAKY,MAAMyS,QAAQ,IAIzCrT,EAAKD,MAAMuvC,kBAAoBtvC,EAAKY,MAAMvC,UAC1C0Z,WAAW,kBAAM/X,EAAKD,MAAMuvC,iBAAiBtvC,EAAKY,MAAMvC,SAAU2B,EAAKY,MAAMyS,WAEjFrT,EAAKuvC,oBAAsBvvC,EAAKwvC,eAAe77B,KAApB1T,OAAA2T,GAAA,EAAA3T,QAAA2T,GAAA,EAAA3T,CAAAD,KAhFZA,mFAoFfJ,OAAO8kB,iBAAiB,eAAgBvkB,KAAKovC,qBAAqB,kDAIlE3vC,OAAOkmB,oBAAoB,eAAgB3lB,KAAKovC,4DAGrCpsC,GAAG,IAAArB,EAAA3B,KACRsvC,EAAYxvC,OAAO0I,KAAKxI,KAAK+J,SAASnD,KAAK,SAAAlG,GAAE,OAC/CmJ,KAAKoB,UAAUtJ,EAAKoI,QAAQrJ,MAASmJ,KAAKoB,UAAUtJ,EAAK/B,MAAMkxB,QAAQnvB,EAAKlB,MAAMvC,UAAUiK,UAEhG,GAAMmnC,EAAW,CACbtwC,QAAQC,IAAI,UAAY4K,KAAKoB,UAAUqkC,IACvC,IAAM57B,EAAUlV,EAAK+D,EAAE,4BAQvB,OAPAS,EAAIA,GAAKvD,OAAOqM,SAGZ9I,EAAEusC,YAAc77B,GAIbA,qDAIWhS,GACtB,IAAM0J,EAAW,GACbokC,GAAW,EAOf,GANI3lC,KAAKoB,UAAUvJ,EAAUiJ,oBAAsBd,KAAKoB,UAAUjL,KAAKS,MAAMkK,oBACzE6kC,GAAW,EACXpkC,EAAST,iBAAmBjJ,EAAUiJ,kBAItC3K,KAAK8wB,UAAYpvB,EAAUovB,QAAS,CACpC9wB,KAAK8wB,QAAUpvB,EAAUovB,QACzBrxB,OAAOuvC,KAAKle,QAAUpvB,EAAUovB,QAG5B9wB,KAAKS,MAAMvC,UAAY8B,KAAK8wB,QAAQ9wB,KAAKS,MAAMvC,YAC/C8B,KAAK+J,QAAQ/J,KAAKS,MAAMvC,UAAY8B,KAAK+J,QAAQ/J,KAAKS,MAAMvC,WAAa2L,KAAKC,MAAMD,KAAKoB,UAAUjL,KAAK8wB,QAAQ9wB,KAAKS,MAAMvC,UAAUiK,SACrIiD,EAASqU,QAA2D,YAAjDzf,KAAK+J,QAAQ/J,KAAKS,MAAMvC,UAAU2K,YAKzD,IADA,IAAMqK,EAAUrJ,KAAKC,MAAMD,KAAKoB,UAAUjL,KAAKS,MAAMyS,UAC5CxM,EAAIwM,EAAQ/R,OAAS,EAAGuF,GAAK,EAAGA,IAChC1G,KAAK8wB,QAAQ5d,EAAQxM,MACtB8oC,GAAW,EACXt8B,EAAQ5M,OAAOI,EAAG,IAGtB1G,KAAKS,MAAMvC,WAAa8B,KAAK8wB,QAAQ9wB,KAAKS,MAAMvC,YAChDkN,EAASlN,SAAWgV,EAAQ,IAAM,IAElCs8B,IACApkC,EAAS8H,QAAUA,GAI3B,GAAIlT,KAAKS,MAAMvC,WAAawD,EAAUxD,UAAYwD,EAAUxD,SAAU,CAC9DwD,EAAUxD,WACV8B,KAAK+J,QAAQrI,EAAUxD,UAAY8B,KAAK+J,QAAQrI,EAAUxD,WAAa2L,KAAKC,MAAMD,KAAKoB,UAAUjL,KAAKJ,MAAMkxB,QAAQpvB,EAAUxD,UAAUiK,UAG5I,IAAMsnC,EAAazvC,KAAKJ,MAAMkxB,QAAQpvB,EAAUxD,WAAa8B,KAAKJ,MAAMkxB,QAAQpvB,EAAUxD,UAAUiK,OAE9F+C,EAAUukC,GAAc5lC,KAAKoB,UAAUjL,KAAK+J,QAAQrI,EAAUxD,aAAe2L,KAAKoB,UAAUwkC,GAE5Fv8B,EAAUrJ,KAAKC,MAAMD,KAAKoB,UAAUjL,KAAKS,MAAMyS,UACjDxR,EAAUxD,WAAqD,IAAzCgV,EAAQ/H,QAAQzJ,EAAUxD,YAChDgV,EAAQpM,KAAKpF,EAAUxD,UACvB8B,KAAKJ,MAAMuvC,iBAAiBztC,EAAUxD,SAAUgV,GAChDzT,OAAOkK,cAAgBlK,OAAOkK,aAAa2B,QAAQ,iBAAkBzB,KAAKoB,UAAUiI,KAGxFs8B,GAAW,EACXpkC,EAASF,QAAUA,EACnBE,EAAS8H,QAAUA,EACnB9H,EAASlN,SAAWwD,EAAUxD,SAC9BkN,EAASqU,QAA0D,YAAhDzf,KAAK+J,QAAQrI,EAAUxD,UAAU2K,WACpDuC,EAASqjC,iBAAkB,EAK3BzuC,KAAKS,MAAMstB,UAAYrsB,EAAUqsB,UACjCyhB,GAAW,EACXpkC,EAAS2iB,QAAUrsB,EAAUqsB,SAEjCyhB,GAAYxvC,KAAKc,SAASsK,uCAI1BpL,KAAKJ,MAAM8vC,WAAa1vC,KAAKJ,MAAM8vC,UAAU1vC,KAAKS,MAAMvC,2CAGnD,IAAAsH,EAAAxF,KACDA,KAAKS,MAAMyK,SACXlL,KAAKc,SAAS,CAACoK,SAAS,GAAQ,kBAC5B1F,EAAK5F,MAAMmD,UAAYyC,EAAK5F,MAAMmD,SAASyC,EAAK/E,MAAMvC,SAAUsH,EAAKuE,QAAQvE,EAAK/E,MAAMvC,gDAKhG8B,KAAK+J,QAAQ/J,KAAKS,MAAMvC,UAAY2L,KAAKC,MAAMD,KAAKoB,UAAUjL,KAAKJ,MAAMkxB,QAAQ9wB,KAAKS,MAAMvC,UAAUiK,SACtGnI,KAAKc,SAAS,CAACoK,SAAS,6CAGXypB,GACb30B,KAAK2vC,UAAYhb,yCAIjB30B,KAAK4vC,kBAAkBpxC,EAAK+D,EAAE,qDAAsD,SAAA+F,uCAO/EoV,GACL1d,KAAK+J,QAAQ/J,KAAKS,MAAMvC,UAAUyN,OAAS+R,EAC3C,IAAMxS,EAAUrB,KAAKoB,UAAUjL,KAAK+J,QAAQ/J,KAAKS,MAAMvC,aAAe2L,KAAKoB,UAAUjL,KAAKJ,MAAMkxB,QAAQ9wB,KAAKS,MAAMvC,UAAUiK,QACzH+C,IAAYlL,KAAKS,MAAMyK,SACvBlL,KAAKc,SAAS,CAACoK,gDAIXY,EAAO5N,GACfuB,OAAOkK,cAAgBlK,OAAOkK,aAAa2B,QAAQ,kBAAmBpN,GACtE,IAAMiK,EAASnI,KAAK+J,QAAQ7L,IAAc8B,KAAKJ,MAAMkxB,QAAQ5yB,IAAa8B,KAAKJ,MAAMkxB,QAAQ5yB,GAAUiK,OACvGnI,KAAKc,SAAS,CAAC5C,WAAUuhB,QAA+B,YAAtBtX,EAAOU,WAA0B4lC,iBAAiB,IACpFzuC,KAAKJ,MAAMuvC,kBAAoBnvC,KAAKJ,MAAMuvC,iBAAiBjxC,EAAU8B,KAAKS,MAAMyS,iDAGpExS,GACZ,OAAOV,KAAK+J,QAAQrJ,IAAOV,KAAKJ,MAAMkxB,QAAQpwB,IAAOmJ,KAAKoB,UAAUjL,KAAK+J,QAAQrJ,MAASmJ,KAAKoB,UAAUjL,KAAKJ,MAAMkxB,QAAQpwB,GAAIyH,2CAGzHzH,EAAIsC,GAAG,IAAA0C,EAAA1F,KACdgD,GAAKA,EAAEwI,kBAEP,IAAME,EAAM1L,KAAKS,MAAMyS,QAAQ/H,QAAQzK,GACvC,IAAwC,IAApCV,KAAKS,MAAMyS,QAAQ/H,QAAQzK,GAC3B,GAAIV,KAAK6vC,gBAAgBnvC,GACrBV,KAAK4vC,kBAAkBpxC,EAAK+D,EAAE,yBAA0BvC,KAAKJ,MAAMkxB,QAAQpwB,GAAIyH,OAAOxH,MAAO,SAAAkmB,GACrFA,WACOnhB,EAAKqE,QAAQrJ,GACpBgF,EAAKoqC,WAAWpvC,UAGrB,CACH,IAAMwS,EAAUrJ,KAAKC,MAAMD,KAAKoB,UAAUjL,KAAKS,MAAMyS,UACrDA,EAAQ5M,OAAOoF,EAAK,GACpB,IAAMN,EAAW,CAAC8H,WAelB,GAdIxS,IAAOV,KAAKS,MAAMvC,SACdgV,EAAQ/R,OACI,IAARuK,GAAgC,IAAnBwH,EAAQ/R,OACrBiK,EAASlN,SAAWgV,EAAQ,GAE5B9H,EAASlN,SAAWgV,EAAQxH,EAAM,GAGtCN,EAASlN,SAAW,GAEjB8B,KAAKS,MAAMvC,WAAagV,EAAQ/R,SACvCiK,EAASlN,SAAW,IAExBuB,OAAOkK,cAAgBlK,OAAOkK,aAAa2B,QAAQ,iBAAkBzB,KAAKoB,UAAUiI,SAC1D/T,IAAtBiM,EAASlN,SAAwB,CACjCkN,EAASF,QAAUlL,KAAK6vC,gBAAgBzkC,EAASlN,UACjD,IAAMiK,EAASiD,EAASlN,WAAa8B,KAAK+J,QAAQqB,EAASlN,WAAc8B,KAAKJ,MAAMkxB,QAAQ1lB,EAASlN,WAAa8B,KAAKJ,MAAMkxB,QAAQ1lB,EAASlN,UAAUiK,QACxJiD,EAASqU,UAAUtX,GAA+B,YAAtBA,EAAOU,WACnCuC,EAASqjC,iBAAkB,EAG/BzuC,KAAKc,SAASsK,EAAU,gBACMjM,IAAtBiM,EAASlN,UACTwH,EAAK9F,MAAMuvC,kBAAoBzpC,EAAK9F,MAAMuvC,iBAAiB/jC,EAASlN,SAAUwH,EAAKjF,MAAMyS,SACzFzT,OAAOkK,cAAgBlK,OAAOkK,aAAa2B,QAAQ,kBAAmBF,EAASlN,WAE/EwH,EAAK9F,MAAMuvC,kBAAoBzpC,EAAK9F,MAAMuvC,iBAAiBzpC,EAAKjF,MAAMvC,SAAUwH,EAAKjF,MAAMyS,sDAO7F0T,EAAUpF,GACxBxhB,KAAK+vC,gBAAkBvuB,EACvBxhB,KAAKc,SAAS,CAACkvC,QAASppB,iDAGPqpB,GAAK,IAAA/iC,EAAAlN,KACtBA,KAAKc,SAAS,CAAC8tC,aAAcqB,GAAM,kBAC/Br4B,WAAW,kBACP1K,EAAKpM,SAAS,CAAC8tC,aAAc,MAAM,yCAGrC,IAAAz/B,EAAAnP,KACN,OAAIA,KAAKS,MAAMyS,QAAQ/R,OACXS,EAAAC,EAAAC,cAACilC,GAAAllC,EAAD,CACJkF,IAAI,OACJjE,MAAO9C,KAAKS,MAAMvC,SAClB6E,SAAU,SAAC+I,EAAOhJ,GAAR,OAAkBqM,EAAK+gC,YAAYpkC,EAAOhJ,IACpDqtC,eAAe,UACfC,UAAU,UACVC,YAAU,EACVC,cAAc,QAEbtwC,KAAKS,MAAMyS,QAAQxP,IAAI,SAAAhD,GACpB,GAAKyO,EAAKvP,MAAMkxB,QAAQpwB,GAEjB,CACH,IAAI2G,EAAO8H,EAAKvP,MAAMkxB,QAAQpwB,GAAIyH,OAAOxH,KACrCwE,EAAQ,GACRkC,EAAKlG,OAAS,KACdgE,EAAQkC,EACRA,EAAOA,EAAK8Z,UAAU,EAAG,IAAM,OAEnC,IAAMte,EAAQ,CACTjB,EAAAC,EAAAC,cAAA,OAAKiF,IAAI,OAAOiH,IAAK,GAAIC,IAAKvG,GAAOyH,EAAKvP,MAAMkxB,QAAQpwB,GAAIyH,OAAOU,aAAenB,GAAOG,IAAKlD,UAAWwK,EAAKvP,MAAMgF,QAAQ2rC,UAC5H3uC,EAAAC,EAAAC,cAAA,QAAMiF,IAAI,OAAOpC,UAAWwK,EAAKvP,MAAMgF,QAAQ4rC,QAAU,KAAOrhC,EAAK0gC,gBAAgBnvC,GAAMyO,EAAKvP,MAAMgF,QAAQ6rC,WAAa,KAAMppC,GACjIzF,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CAAW4C,IAAI,QAAQjD,QAAS,SAAAd,GAAC,OAAImM,EAAK2gC,WAAWpvC,EAAIsC,IAAI2B,UAAWwK,EAAKvP,MAAMgF,QAAQ8rC,YAAatsC,SAAS,WAEtH,OAAQxC,EAAAC,EAAAC,cAACmlC,GAAAplC,EAAD,CAAKkF,IAAKrG,EAAImC,MAAOA,EAAOC,MAAOpC,EAAIyE,MAAOA,IAbtD,OAAQvD,EAAAC,EAAAC,cAACmlC,GAAAplC,EAAD,CAAKkF,IAAKrG,EAAImC,MAAOnC,EAAGa,MAAM,KAAKC,MAAOsB,MAAOpC,OAkB7DkB,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQtG,SACvCsD,EAAAC,EAAAC,cAAC+B,EAAAhC,EAAD,CAAQsB,UAAU,EAAMwB,UAAW3E,KAAKJ,MAAMgF,QAAQ+rC,YAAanyC,EAAK+D,EAAE,sBAAsBX,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CAAYQ,UAAW3E,KAAKJ,MAAMgF,QAAQgsC,WAAYpyC,EAAK+D,EAAE,oEAI5J,IAAAgN,EAAAvP,KACH6wC,EAAoB7wC,KAAKS,MAAMvC,UAAY8B,KAAK+J,QAAQ/J,KAAKS,MAAMvC,WAAa8B,KAAK+J,QAAQ/J,KAAKS,MAAMvC,UAAU4K,QAAU9I,KAAKS,MAAMkK,iBAAiB3K,KAAK+J,QAAQ/J,KAAKS,MAAMvC,UAAU4K,QAC1LgoC,EAAkB9wC,KAAKS,MAAMvC,UAAY8B,KAAK+J,QAAQ/J,KAAKS,MAAMvC,WAAa8B,KAAK+J,QAAQ/J,KAAKS,MAAMvC,UAAUyK,QAEtH,OAAI3I,KAAKS,MAAMvC,SAEP0D,EAAAC,EAAAC,cAAC+4B,GAAAh5B,EAAD,CAASwP,QAAQ,QAAQ1M,UAAW3E,KAAKJ,MAAMgF,QAAQtG,QAASyI,IAAI,WAC/D/G,KAAKJ,MAAMmxC,UAAanvC,EAAAC,EAAAC,cAACkK,EAAAnK,EAAD,CAAYkF,IAAI,SAAS5B,MAAO3G,EAAK+D,EAAE,eAAgBuB,QAAS,kBAAMyL,EAAK3P,MAAMmxC,SAASxhC,EAAK9O,MAAMvC,YAAW0D,EAAAC,EAAAC,cAACqC,EAAA,EAAD,QACvInE,KAAKS,MAAMyK,UAAY4lC,GAAoBlvC,EAAAC,EAAAC,cAAA,QAAM6C,UAAW3E,KAAKJ,MAAMgF,QAAQosC,YAAaxyC,EAAK+D,EAAE,2BACnGvC,KAAKS,MAAMyK,SAAW4lC,IAAoBD,GAAsBjvC,EAAAC,EAAAC,cAAA,QAAM6C,UAAW3E,KAAKJ,MAAMgF,QAAQosC,YAAaxyC,EAAK+D,EAAE,0BACxHvC,KAAKS,MAAMyK,SAAW2lC,GAAsBjvC,EAAAC,EAAAC,cAACkK,EAAAnK,EAAD,CAAYkF,IAAI,UAAUsK,QAAQ,YAAY1M,UAAW3E,KAAKJ,MAAMgF,QAAQiM,eAAgB/M,QAAS,kBAAMyL,EAAKmgC,aAAavqC,MAAO3G,EAAK+D,EAAE,YAAYX,EAAAC,EAAAC,cAACqC,EAAA,EAAD,OACpMnE,KAAKS,MAAMyK,SAAYtJ,EAAAC,EAAAC,cAAC+B,EAAAhC,EAAD,CAAQkF,IAAI,OAAOsK,QAAQ,YAAYjT,MAAM,YAAYuG,UAAW3E,KAAKJ,MAAMgF,QAAQqsC,WAAYntC,QAAS,kBAAMyL,EAAK2hC,WAAW1yC,EAAK+D,EAAE,QAAQX,EAAAC,EAAAC,cAACqC,EAAA,EAAD,OACxKnE,KAAKS,MAAMyK,SAAYtJ,EAAAC,EAAAC,cAAC+B,EAAAhC,EAAD,CAAQkF,IAAI,SAASsK,QAAQ,YAAY1M,UAAW3E,KAAKJ,MAAMgF,QAAQqsC,WAAYntC,QAAS,kBAAMyL,EAAK4hC,aAAa3yC,EAAK+D,EAAE,UAAUX,EAAAC,EAAAC,cAACqC,EAAA,EAAD,OAC7JvC,EAAAC,EAAAC,cAAA,OAAKc,MAAO,CAACoK,KAAM,MAEjBhN,KAAKS,MAAMgf,SAAY7d,EAAAC,EAAAC,cAACkK,EAAAnK,EAAD,CAAYkF,IAAI,OAAO6I,aAAW,aACtBxR,MAAO4B,KAAKS,MAAMsW,OAAS,YAAc,UACzCpS,UAAW3E,KAAKJ,MAAMgF,QAAQiM,eAC9B/M,QAAS,WACLyL,EAAKzO,SAAS,CAACiW,QAASxH,EAAK9O,MAAMsW,SACnCtX,OAAOkK,cAAgBlK,OAAOkK,aAAa2B,QAAQ,cAAeiE,EAAK9O,MAAMsW,OAAS,QAAU,UAErInV,EAAAC,EAAAC,cAACqC,EAAA,EAAD,OAEHnE,KAAKS,MAAMgf,UAAYzf,KAAKS,MAAMguC,iBAC9B7sC,EAAAC,EAAAC,cAACkK,EAAAnK,EAAD,CAAYkF,IAAI,SAAS6I,aAAW,gBACxBzK,MAAO3G,EAAK+D,EAAE,iBACtBoC,UAAW3E,KAAKJ,MAAMgF,QAAQiM,eAC9B/M,QAAS,kBAAMyL,EAAK6hC,qBAAqB,YAC9CxvC,EAAAC,EAAAC,cAAC6O,EAAA,EAAD,OAEH3Q,KAAKS,MAAMgf,UAAYzf,KAAKS,MAAMguC,iBAC9B7sC,EAAAC,EAAAC,cAACkK,EAAAnK,EAAD,CAAYkF,IAAI,SAAS6I,aAAW,gBACxBzK,MAAO3G,EAAK+D,EAAE,iBACdoC,UAAW3E,KAAKJ,MAAMgF,QAAQiM,eAC9B/M,QAAS,kBAAMyL,EAAK6hC,qBAAqB,YAClDxvC,EAAAC,EAAAC,cAAC6O,EAAA,EAAD,OAEP3Q,KAAKS,MAAMgf,UAAYzf,KAAKS,MAAMguC,iBAC9B7sC,EAAAC,EAAAC,cAACkK,EAAAnK,EAAD,CAAYkF,IAAI,QAAQ6I,aAAW,aACvBzK,MAAO3G,EAAK+D,EAAE,gBACdoC,UAAW3E,KAAKJ,MAAMgF,QAAQiM,eAC9B/M,QAAS,kBAAMyL,EAAK6hC,qBAAqB,WAClDxvC,EAAAC,EAAAC,cAAC6O,EAAA,EAAD,QAEN3Q,KAAKS,MAAMgf,UAAYzf,KAAKS,MAAMguC,iBAAoB7sC,EAAAC,EAAAC,cAACkK,EAAAnK,EAAD,CAAYkF,IAAI,cAAc6I,aAAW,YAC7BjL,UAAW3E,KAAKJ,MAAMgF,QAAQiM,eAC9B/M,QAAS,kBAAMyL,EAAKzO,SAAS,CAAC6tC,UAAU,MAAQ/sC,EAAAC,EAAAC,cAAC6O,EAAA,EAAD,QAElH3Q,KAAKS,MAAMgf,UAAYzf,KAAKS,MAAMguC,iBAAoB7sC,EAAAC,EAAAC,cAACkK,EAAAnK,EAAD,CAAYkF,IAAI,YAAY6I,aAAW,YAC3BjL,UAAW3E,KAAKJ,MAAMgF,QAAQiM,eAC9B/M,QAAS,kBAAMyL,EAAKzO,SAAS,CAAC4tC,cAAc,MAAQ9sC,EAAAC,EAAAC,cAAC6O,EAAA,EAAD,OAEvH3Q,KAAKS,MAAMgf,SAAWzf,KAAKS,MAAMguC,iBAAoB7sC,EAAAC,EAAAC,cAAC+B,EAAAhC,EAAD,CAAQkF,IAAI,aAAa6I,aAAW,wBAC5B9L,QAAS,kBAAMyL,EAAK8hC,iBAD5B,eAIrDrxC,KAAKS,MAAMgf,SAAY7d,EAAAC,EAAAC,cAAC+B,EAAAhC,EAAD,CAAQkF,IAAI,eAAe6I,aAAW,UAC9BjL,UAAW3E,KAAKJ,MAAMgF,QAAQiM,eAC9BzS,MAAO4B,KAAKS,MAAMguC,gBAAkB,YAAc,UAClD7rC,MAAO,CAACkK,QAAS,SACjBhJ,QAAS,kBAAMyL,EAAKzO,SAAS,CAAC2tC,iBAAkBl/B,EAAK9O,MAAMguC,oBACvF7sC,EAAAC,EAAAC,cAAA,OAAKkM,IAAI,aAAaC,IAAKqjC,SAGhC,+CAIG,IAAA9hC,EAAAxP,KACd,OAAIA,KAAKS,MAAMvC,UAAY8B,KAAKJ,MAAMkxB,QAAQ9wB,KAAKS,MAAMvC,aAAe8B,KAAKS,MAAMgf,SAAWzf,KAAKS,MAAMguC,kBACrGzuC,KAAK+J,QAAQ/J,KAAKS,MAAMvC,UAAY8B,KAAK+J,QAAQ/J,KAAKS,MAAMvC,WAAa2L,KAAKC,MAAMD,KAAKoB,UAAUjL,KAAKJ,MAAMkxB,QAAQ9wB,KAAKS,MAAMvC,UAAUiK,SAEnIvG,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ2sC,UAAWxqC,IAAI,mBACtDnF,EAAAC,EAAAC,cAAC0vC,GAAD,CACIzqC,IAAI,eACJpG,KAAMX,KAAKS,MAAMvC,SACjBqZ,OAAQvX,KAAKS,MAAM8W,OACnBkG,WAAY,kBAAMjO,EAAK1O,SAAS,CAACyW,OAAQ,MACzCyC,YAAa,kBAAMxK,EAAK0hC,UACxBp5B,iBAAkB,SAAA6c,GAAI,OAAInlB,EAAKsI,iBAAiB6c,IAChD1d,SAAUjX,KAAKS,MAAMguC,gBACrBh3B,KAAMzX,KAAK+J,QAAQ/J,KAAKS,MAAMvC,UAAUyN,QAAU,GAClDoL,OAAQ/W,KAAKS,MAAMsW,OACnBhC,WAAY/U,KAAKJ,MAAMmV,WACvBhS,SAAU,SAAA2a,GAAQ,OAAIlO,EAAKzM,SAAS2a,IACpC1G,SAA2D,kBAAjDhX,KAAK+J,QAAQ/J,KAAKS,MAAMvC,UAAU2K,WAAiC,aAAe,iBAI7F,gDAII,IAAA4G,EAAAzP,KACf,OAAIA,KAAKS,MAAMvC,UAAY8B,KAAKJ,MAAMkxB,QAAQ9wB,KAAKS,MAAMvC,WAAc8B,KAAKS,MAAMgf,UAAYzf,KAAKS,MAAMguC,iBAAoBzuC,KAAKS,MAAMstB,SACpI/tB,KAAK+J,QAAQ/J,KAAKS,MAAMvC,UAAY8B,KAAK+J,QAAQ/J,KAAKS,MAAMvC,WAAa2L,KAAKC,MAAMD,KAAKoB,UAAUjL,KAAKJ,MAAMkxB,QAAQ9wB,KAAKS,MAAMvC,UAAUiK,SAEnIvG,EAAAC,EAAAC,cAAA,OAAK6C,UAAW3E,KAAKJ,MAAMgF,QAAQ2sC,UAAWxqC,IAAI,oBACtDnF,EAAAC,EAAAC,cAAC2vC,GAAD,CACIvxB,QAASlgB,KAAKS,MAAMmuC,aACpB7nC,IAAI,gBACJ2qC,SAAU1xC,KAAKJ,MAAM8xC,SACrBj6B,KAAMzX,KAAK+J,QAAQ/J,KAAKS,MAAMvC,UAAUyN,QAAU,GAClD5I,SAAU,SAAA2a,GAAQ,OAAIjO,EAAK1M,SAAS2a,QAIrC,gDAII,IAAAhO,EAAA1P,KACf,OAAIA,KAAKS,MAAMuvC,QACHpuC,EAAAC,EAAAC,cAAC6vC,GAAD,CACJ5qC,IAAI,gBACJ6f,SAAU5mB,KAAKS,MAAMuvC,QACrB3vC,QAAS,WAEL,GADAqP,EAAK5O,SAAS,CAACkvC,QAAS,KACpBtgC,EAAKqgC,gBAAiB,CACtB,IAAMvuB,EAAK9R,EAAKqgC,gBAChBrgC,EAAKqgC,gBAAkB,KACvBvuB,GAAG,KAGXmF,KAAM,WACF,GAAIjX,EAAKqgC,gBAAiB,CACtB,IAAMvuB,EAAK9R,EAAKqgC,gBAChBrgC,EAAKqgC,gBAAkB,KACvBvuB,GAAG,OAKR,iDAIK,IAAA7R,EAAA3P,KAChB,OAAIA,KAAKS,MAAMiuC,aACH9sC,EAAAC,EAAAC,cAAC8vC,GAAD,CACJ7qC,IAAI,iBACJgO,WAAY/U,KAAKJ,MAAMmV,WACvB7W,SAAU8B,KAAKqL,SAASyjC,SAAW9uC,KAAKqL,SAASwjC,WAAa,GAAK7uC,KAAK2vC,UAAY3vC,KAAK2vC,YAAc,GACvGjY,YAAY,EACZr3B,QAAS,kBAAMsP,EAAK7O,SAAS,CAAC4tC,cAAc,KAC5C/nB,KAAM,SAACzoB,EAAUyC,GACbgP,EAAKtE,SAASwjC,UAAY,KACtBl/B,EAAKtE,SAASyjC,UACdn/B,EAAKtE,SAASyjC,SAAS5wC,GACvByR,EAAKtE,SAASyjC,SAAW,MAEzBn/B,EAAK7O,SAAS,CAACyW,OAAM,IAAArY,OAAMhB,EAAN,OAAAgB,OAAoByB,EAApB,WAK1B,6CAIC,IAAAuQ,EAAAlR,KACZ,OAAIA,KAAKS,MAAMkuC,SACH/sC,EAAAC,EAAAC,cAAC+vC,GAAD,CACJ9qC,IAAI,aACJy9B,KAAMxkC,KAAKwkC,KAAKsK,SAAW9uC,KAAKwkC,KAAKqK,WAAa,GAAK7uC,KAAK2vC,UAAY3vC,KAAK2vC,YAAc,YAC3FtvC,QAAS,kBAAM6Q,EAAKpQ,SAAS,CAAC6tC,UAAU,KACxChoB,KAAM,SAAA6d,GACFtzB,EAAKszB,KAAKqK,UAAY,KAClB39B,EAAKszB,KAAKsK,UACV59B,EAAKszB,KAAKsK,SAAStK,GACnBtzB,EAAKszB,KAAKsK,SAAW,MAErB59B,EAAKpQ,SAAS,CAACyW,OAAM,IAAArY,OAAMslC,EAAN,UAK1B,sCAIN,IAAAsN,EAAA9xC,KAKL,OAJIA,KAAKS,MAAMvC,UAAY8B,KAAKJ,MAAMkxB,QAAQ9wB,KAAKS,MAAMvC,WAAoC,OAAvB8B,KAAKS,MAAMgf,SAC7E7H,WAAW,kBAAMk6B,EAAKhxC,SAAS,CAAC2e,QAA0D,YAAjDqyB,EAAK/nC,QAAQ+nC,EAAKrxC,MAAMvC,UAAU2K,WAA0B4lC,iBAAiB,KAAS,KAG5H,CACHzuC,KAAK+xC,UACL/xC,KAAKq7B,aACLr7B,KAAKgyC,kBACLhyC,KAAKiyC,mBACLjyC,KAAKkyC,mBACLlyC,KAAKmyC,oBACLnyC,KAAKoyC,wBAngBIruC,IAAMC,WAohBZgC,wBA5kBA,SAAAuB,GAAK,MAAK,CACrBjJ,QAAS,CACLkwB,UAAW,GACX5X,UAAW,kHAEf/F,eAAgB,CACZ/D,QAAS,EACTqJ,WAAY,GAEhBo7B,UAAW,CACP3zC,OAAM,eAAAsB,OAAiB3B,EAAMe,QAAQV,OAAS,GAA8B,EAAtE,OACND,MAAO,OACPoP,SAAU,SACV2F,SAAU,YAEdu+B,WAAY,CACRzF,YAAa,IAEjB+E,QAAS,CACL5yC,MAAO,GACPC,OAAQ,GACRk/B,cAAe,SACf7C,aAAc,EACduR,YAAa,EACb14B,aAAc,GAElB89B,SAAU,CAEN9jC,QAAS,eAEbulC,SAAU,GAGV1B,WAAY,CACR3W,UAAW,EACX7jB,WAAY,IAEhBs6B,WAAY,CACRryC,MAAOmJ,EAAM+qC,QAAQr0C,UAAU+wC,MAEnCwB,QAAS,CACLtuC,SAAU,IACVqwC,aAAc,WACdC,WAAY,SACZzlC,SAAU,UAEd2jC,YAAa,CACT5jC,QAAS,EACTgwB,cAAe,SACfvvB,OAAQ,YAEZyjC,WAAY,CACR5yC,MAAO,aAwhBA4H,CAAmBwoC,uBCpnBrBiE,GAAW,CACpBC,WAAY,EACZC,UAAW,EACXC,eAAgB,EAChBC,MAAO,GAGLC,cACF,SAAAA,EAAYlzC,GAAO,IAAAC,EAAAG,KAAAF,OAAAC,EAAA,EAAAD,CAAAE,KAAA8yC,GACflzC,EAAQA,GAAS,GACjBI,KAAKJ,MAAQA,EACbI,KAAK+yC,eAAiB/yC,KAAKJ,MAAMmzC,gBAAkB,GACnD/yC,KAAKgzC,iBAAmBhzC,KAAKJ,MAAMozC,iBACnChzC,KAAKizC,OAASxzC,OAAOyzC,GAAGC,QACpB1zC,OAAO8yB,SAAS6gB,SAAW,KAAO3zC,OAAO8yB,SAAS8gB,KAAKj0C,QAAQ,OAAQ,MACvE,CAACk0C,MAAO,YACZtzC,KAAKw1B,OAAS,GACdx1B,KAAK8wB,QAAU,KACf9wB,KAAK+J,QAAU,CACX4nB,KAAM,GACN4hB,MAAO,GACPC,OAAQ,GACRtyC,UAAW,IAEflB,KAAKyzC,IAAM,KACXzzC,KAAK0zC,cAAe,EACpB1zC,KAAK2zC,gBAAiB,EACtB3zC,KAAK+uC,WAAa,KAClB/uC,KAAK4zC,WAAY,EACjB5zC,KAAK6zC,iBAAmB,GACxB7zC,KAAK8zC,WAAa9zC,KAAKJ,MAAMk0C,YAAc,aAC3C9zC,KAAK+zC,QAAU/zC,KAAKJ,MAAMm0C,SAAW,SAAUxoC,GAAMvM,QAAQX,MAAMkN,IAEnEvL,KAAKizC,OAAO5O,GAAG,UAAW,WACtBxkC,EAAK+zC,WAAY,EACb/zC,EAAK6zC,cACL7zC,EAAKi0C,WAAWrB,GAASE,WACzB9yC,EAAK6zC,cAAe,EACpB7zC,EAAKozC,OAAOe,KAAK,qBAAsB,SAACzoC,EAAKkoC,GACzC5zC,EAAK4zC,IAAMA,EAEX5zC,EAAKozC,OAAOe,KAAK,YAAa,gBAAiB,SAACzoC,EAAKlD,GACjDxI,EAAKo0C,aAAe5rC,GACfkD,GAAO1L,EAAKo0C,cAAgBp0C,EAAKo0C,aAAa9rC,OAC/CtI,EAAKkvC,WAAalvC,EAAKo0C,aAAa9rC,OAAO6O,UAE3CnX,EAAKkvC,WAAatvC,OAAOy0C,UAAUC,cAAgB10C,OAAOy0C,UAAUl9B,SAE5C,OAApBnX,EAAKkvC,YAA2C,OAApBlvC,EAAKkvC,YAA2C,OAApBlvC,EAAKkvC,aAC7DlvC,EAAKo0C,aAAa9rC,OAAO6O,SAAW,KACpCnX,EAAKkvC,WAAa,OAG1BlvC,EAAKD,MAAMw0C,YAAcv0C,EAAKD,MAAMw0C,WAAWv0C,EAAKkvC,YAEpDlvC,EAAKm3B,WAAW,WACZn3B,EAAKi0C,WAAWrB,GAASI,OACzBhzC,EAAKD,MAAMy0C,SAAWx0C,EAAKD,MAAMy0C,QAAQx0C,EAAKixB,QAASjxB,EAAKkK,gBAKxElK,EAAKi0C,WAAWrB,GAASI,OAG7BhzC,EAAKy0C,WAAU,GAEXz0C,EAAK8zC,gBACLl0C,OAAO8yB,SAASgiB,WAGxBv0C,KAAKizC,OAAO5O,GAAG,aAAc,WACzBxkC,EAAK+zC,WAAY,EACjB/zC,EAAK20C,YAAa,EAClB30C,EAAKi0C,WAAWrB,GAASC,cAE7B1yC,KAAKizC,OAAO5O,GAAG,YAAa,WACxBxkC,EAAKi0C,WAAWrB,GAASI,OACrBhzC,EAAK8zC,gBACLl0C,OAAO8yB,SAASgiB,WAGxBv0C,KAAKizC,OAAO5O,GAAG,iBAAkB,kBAAM5kC,OAAO8yB,SAASgiB,WACvDv0C,KAAKizC,OAAO5O,GAAG,MAAO,SAAA3wB,GAClB7T,EAAKD,MAAM60C,OAAS50C,EAAKD,MAAM60C,MAAM/gC,GACrC7T,EAAK60C,cAAgB70C,EAAK60C,aAAahhC,KAG3C1T,KAAKizC,OAAO5O,GAAG,kBAAmB,SAAA94B,GAAG,OACjC1L,EAAKk0C,QAAQ,CAACrgC,QAAS,gBAAiBihC,UAAWppC,EAAIopC,UAAWpwC,KAAMgH,EAAIhH,KAAM7D,GAAK6K,EAAI7K,IAAM,OAErGV,KAAKizC,OAAO5O,GAAG,eAAgB,SAAC3jC,EAAIuH,GAAL,OAAa2P,WAAW,kBAAM/X,EAAK+0C,aAAal0C,EAAIuH,IAAM,KACzFjI,KAAKizC,OAAO5O,GAAG,cAAe,SAAC3jC,EAAID,GAAL,OAAemX,WAAW,kBAAM/X,EAAKg1C,YAAYn0C,EAAID,IAAQ,gEAGhFC,EAAI8gB,GACVxhB,KAAK6zC,iBAAiBnzC,IAOwB,IAA/CV,KAAK6zC,iBAAiBnzC,GAAIo0C,IAAI3pC,QAAQqW,IAAcxhB,KAAK6zC,iBAAiBnzC,GAAIo0C,IAAIhuC,KAAK0a,IANvFxhB,KAAK6zC,iBAAiBnzC,GAAM,CAACq0C,IAAK,IAAIC,OAAOt0C,EAAGtB,QAAQ,MAAO,OAAOA,QAAQ,MAAO,OAAQ01C,IAAK,IAClG90C,KAAK6zC,iBAAiBnzC,GAAIo0C,IAAIhuC,KAAK0a,GAC/BxhB,KAAK4zC,WACL5zC,KAAKizC,OAAOe,KAAK,YAAatzC,IAKtCV,KAAKi1C,SAASv0C,EAAI8gB,wCAGT9gB,EAAIuH,GAEb,GAAKjI,KAAK8wB,QAAV,CAEA,IAAI5lB,GAAU,EACd,GAAIjD,GAKA,GAJIA,EAAIitC,MAAQl1C,KAAK8wB,QAAQpwB,KACzBV,KAAK8wB,QAAQpwB,GAAIw0C,KAAOjtC,EAAIitC,OAG3Bl1C,KAAK8wB,QAAQpwB,IAAOmJ,KAAKoB,UAAUjL,KAAK8wB,QAAQpwB,MAASmJ,KAAKoB,UAAUhD,GACzEjI,KAAK8wB,QAAQpwB,GAAMuH,EACnBiD,GAAU,EAEO,aAAbjD,EAAI1D,MAES,IADPvE,KAAK+J,QAAQ7I,UAAUiK,QAAQzK,IACrBV,KAAK+J,QAAQ7I,UAAU4F,KAAKpG,GAE/B,WAAbuH,EAAI1D,MAES,IADPvE,KAAK+J,QAAQ4nB,KAAKxmB,QAAQzK,IAChBV,KAAK+J,QAAQ4nB,KAAK7qB,KAAKpG,GAEvCA,EAAG+xB,MAAM,kBAAiC,YAAbxqB,EAAI1D,OAEpB,IADPvE,KAAK+J,QAAQypC,OAAOroC,QAAQzK,IAClBV,KAAK+J,QAAQypC,OAAO1sC,KAAKpG,QAG9C,GAAIV,KAAK8wB,QAAQpwB,GAAK,CACzB,IAEIgL,EAFEypC,EAAS,CAACjjB,IAAKxxB,EAAI6D,KAAMvE,KAAK8wB,QAAQpwB,GAAI6D,aACzCvE,KAAK8wB,QAAQpwB,GAEA,aAAhBy0C,EAAO5wC,MAEM,KADbmH,EAAM1L,KAAK+J,QAAQ7I,UAAUiK,QAAQzK,KACrBV,KAAK+J,QAAQ7I,UAAUoF,OAAOoF,EAAK,GAEnC,WAAhBypC,EAAO5wC,MAEM,KADbmH,EAAM1L,KAAK+J,QAAQ4nB,KAAKxmB,QAAQzK,KAChBV,KAAK+J,QAAQ4nB,KAAKrrB,OAAOoF,EAAK,GAE9ChL,EAAG+xB,MAAM,kBAAoC,YAAhB0iB,EAAO5wC,OAEvB,KADbmH,EAAM1L,KAAK+J,QAAQypC,OAAOroC,QAAQzK,KAClBV,KAAK+J,QAAQypC,OAAOltC,OAAOoF,EAAK,GAEpDR,GAAU,EAGVA,GACAlL,KAAKJ,MAAMw1C,gBAAkBp1C,KAAKJ,MAAMw1C,eAAep1C,KAAK8wB,QAAS9wB,KAAK+J,8CAItErJ,EAAID,GAEZ,IAAK,IAAM40C,KADX30C,EAAKA,EAAKA,EAAGtB,QAAQ,UAAW,KAAO,GACpBY,KAAK6zC,iBAChB7zC,KAAK6zC,iBAAiB1+B,eAAekgC,IAASr1C,KAAK6zC,iBAAiBwB,GAAMN,IAAIr4B,KAAKhc,IACnFV,KAAK6zC,iBAAiBwB,GAAMP,IAAItuC,QAAQ,SAAAgb,GAAE,OAAIA,EAAG9gB,EAAID,uCAKvD+gB,GAAI,IAAA7f,EAAA3B,KACVA,KAAKizC,OAAOe,KAAK,YAAa,SAACzoC,EAAK+pC,GAChC3zC,EAAK6zB,OAAS8f,EACd3zC,EAAKmyC,WAAWrB,GAAS8C,eACzB/zB,GAAM5J,WAAW,kBAAM4J,EAAG7f,EAAK6zB,SAAS,sCAIvC90B,EAAI8gB,GAAI,IAAAhc,EAAAxF,KACb,IAAKwhB,EACD,OAAO,IAAIlV,QAAQ,SAACC,EAASipC,GAAV,OACfhwC,EAAKyvC,SAASv0C,EAAI,SAAC6K,EAAK9K,GAAN,OAAgB8K,EAAMiqC,EAAOjqC,GAAOgB,EAAQ9L,OAElET,KAAKizC,OAAOe,KAAK,WAAYtzC,EAAI8gB,sCAI9Bi0B,EAASj0B,GAAI,IAAA9b,EAAA1F,KAMpB,GALuB,oBAAZy1C,IACPj0B,EAAKi0B,EACLA,GAAU,IAGTA,GAAWz1C,KAAK8wB,QACjB,OAAOlZ,WAAW,kBAAM4J,GAAMA,EAAG9b,EAAKorB,UAAU,GAGpD9wB,KAAKizC,OAAOe,KAAK,gBAAiB,SAACzoC,EAAK+pC,GACpC19B,WAAW,WACP,IAAI3P,EAEJ,IAAK,IAAMvH,KADXgF,EAAKorB,QAAUwkB,EACE5vC,EAAKorB,QACbprB,EAAKorB,QAAQ3b,eAAezU,IAA0B,YAAnBA,EAAGyqB,MAAM,EAAG,KAGnC,cADjBljB,EAAMqtC,EAAI50C,IACF6D,OACJvF,QAAQC,IAAIyB,GACZA,EAAGqI,WAAW,+BAAiCrD,EAAKqE,QAAQ7I,UAAU4F,KAAKtD,SAAS9C,EAAGa,MAAM,KAAKC,SAErF,WAAbyG,EAAI1D,MAAqBmB,EAAKqE,QAAQ4nB,KAAK7qB,KAAKpG,GACnC,YAAbuH,EAAI1D,MAAsB7D,EAAG+xB,MAAM,kBAAkB/sB,EAAKqE,QAAQypC,OAAO1sC,KAAKpG,GACjE,SAAbuH,EAAI1D,MAAqBmB,EAAKqE,QAAQwpC,MAAMzsC,KAAKpG,IAEzDgF,EAAKouC,WAAWrB,GAASG,gBAEzBpxB,GAAMA,EAAG9b,EAAKorB,UACf,uCAID4kB,GAAU,IAAAxoC,EAAAlN,KACZ01C,IAAa11C,KAAKw0C,YAClBx0C,KAAKw0C,YAAa,EAClBx1C,QAAQC,IAAI,kBACZe,KAAK+yC,eAAevsC,QAAQ,SAAA9F,GAAE,OAAIwM,EAAK+lC,OAAOe,KAAK,mBAAoBtzC,KACvEV,KAAKgzC,kBAAoBhzC,KAAKizC,OAAOe,KAAK,cAAc,GAExDl0C,OAAO0I,KAAKxI,KAAK6zC,kBAAkBrtC,QAAQ,SAAA9F,GAAE,OAAIwM,EAAK+lC,OAAOe,KAAK,YAAatzC,OACvEg1C,GAAY11C,KAAKw0C,aACzBx0C,KAAKw0C,YAAa,EAClBx1C,QAAQC,IAAI,oBACZe,KAAK+yC,eAAevsC,QAAQ,SAAA9F,GAAE,OAAIwM,EAAK+lC,OAAOe,KAAK,qBAAsBtzC,KACzEV,KAAKgzC,kBAAoBhzC,KAAKizC,OAAOe,KAAK,cAAc,GAExDl0C,OAAO0I,KAAKxI,KAAK6zC,kBAAkBrtC,QAAQ,SAAA9F,GAAE,OAAIwM,EAAK+lC,OAAOe,KAAK,cAAetzC,wCAI/EA,GAAI,IAAAyO,EAAAnP,KACV,OAAO,IAAIsM,QAAQ,SAACC,EAASipC,GACzBrmC,EAAK8jC,OAAOe,KAAK,YAAatzC,EAAI,SAAA6K,GAC9BA,EAAMiqC,EAAOjqC,GAAOgB,0CAKtB7L,EAAIuH,GAAK,IAAAsH,EAAAvP,KACf,OAAO,IAAIsM,QAAQ,SAACC,EAASipC,GACzBjmC,EAAK0jC,OAAOe,KAAK,YAAatzC,EAAIuH,EAAK,SAAAsD,GACnCA,EAAMiqC,EAAOjqC,GAAOgB,6CAKnB/L,EAAOoL,EAAO+pC,GAAW,IAAAnmC,EAAAxP,KAClC,OAAO,IAAIsM,QAAQ,SAACC,EAASipC,GACzBhmC,EAAKyjC,OAAOe,KAAK,YAAaxzC,EAAO,SAAC+K,EAAKqqC,GACvCh+B,WAAW,WACP,IAAM3P,EAAM,CAACE,OAAQ,IAQrB,QAN0BhJ,IAAtBw2C,EAAU7sC,SAAuBb,EAAIE,OAAOW,OAAU6sC,EAAU7sC,aAC1C3J,IAAtBw2C,EAAUhtC,UAAuBV,EAAIE,OAAOQ,QAAUgtC,EAAUhtC,cAC1CxJ,IAAtBw2C,EAAUhqC,SAAuB1D,EAAIE,OAAOwD,OAAUgqC,EAAUhqC,aAC1CxM,IAAtBw2C,EAAUr/B,QAAuBrO,EAAIE,OAAOmO,MAAUq/B,EAAUr/B,YAC1CnX,IAAtBw2C,EAAUE,UAAuB5tC,EAAIE,OAAO0tC,QAAUF,EAAUE,SAEhEr1C,IAAUoL,GAASgqC,GAAQA,EAAKztC,QAAUwtC,EAAUh1C,OAASi1C,EAAKztC,OAAOxH,KACpEg1C,EAAU9sC,YAAc8sC,EAAU9sC,aAAe+sC,EAAKztC,OAAOU,WAK9D2G,EAAKyjC,OAAOe,KAAK,eAAgBxzC,EAAOyH,EAAK,SAAAsD,GAAG,OAAIA,EAAMiqC,EAAOjqC,GAAOgB,YAJ3CpN,IAAzBw2C,EAAU9sC,aAA0BZ,EAAIE,OAAOU,WAAc8sC,EAAU9sC,YAAc,iBAEzF2G,EAAKyjC,OAAOe,KAAK,eAAgBxzC,EAAOyH,EAAK,SAAAsD,GAAG,OAAIA,EAAMiqC,EAAOjqC,GAAOgB,WAIzE,CAOH,GAAIqpC,GAAQA,EAAKztC,OAuBb,OAtBAytC,EAAKztC,OAAOU,WAAa8sC,EAAU9sC,YAAc+sC,EAAKztC,OAAOU,YAAc,qBAC3E2G,EAAKyjC,OAAOe,KAAK,YAAaxzC,EAAO,SAAA+K,GAC7BA,EACAiqC,EAAOjqC,SAEoBpM,IAAvB8I,EAAIE,OAAOW,SAAuB8sC,EAAKztC,OAAOW,OAAUb,EAAIE,OAAOW,aAC5C3J,IAAvB8I,EAAIE,OAAOQ,UAAuBitC,EAAKztC,OAAOQ,QAAUV,EAAIE,OAAOQ,cAC5CxJ,IAAvB8I,EAAIE,OAAOwD,SAAuBiqC,EAAKztC,OAAOwD,OAAU1D,EAAIE,OAAOwD,aAC5CxM,IAAvB8I,EAAIE,OAAOxH,OAAuBi1C,EAAKztC,OAAOxH,KAAUsH,EAAIE,OAAOxH,WAC5CxB,IAAvB8I,EAAIE,OAAOmO,QAAuBs/B,EAAKztC,OAAOmO,MAAUrO,EAAIE,OAAOmO,YAC5CnX,IAAvB8I,EAAIE,OAAO0tC,UAAuBD,EAAKztC,OAAO0tC,QAAU5tC,EAAIE,OAAO0tC,gBAEhED,EAAKV,KAGZU,EAAKztC,OAAOxH,KAAOg1C,EAAUh1C,KAE7Bi1C,EAAK1jB,IAAMtmB,EAEX4D,EAAKyjC,OAAOe,KAAK,YAAapoC,EAAOgqC,EAAM,SAAArqC,GAAG,OAAIA,EAAMiqC,EAAOjqC,GAAOgB,UAK9EqpC,EAAO3tC,GAINE,OAAOxH,KAAOg1C,EAAUh1C,KAE7Bi1C,EAAK1jB,IAAMtmB,EAEX4D,EAAKyjC,OAAOe,KAAK,YAAapoC,EAAOgqC,EAAM,SAAArqC,GAAG,OAAIA,EAAMiqC,EAAOjqC,GAAOgB,QAE3E,4CAKF7L,EAAIo1C,EAAeC,EAAWC,GAAS,IAAAvmC,EAAAzP,KAKhD,OAJ+B,IAA3B+1C,EAAU5qC,QAAQzK,IAClBq1C,EAAUjvC,KAAKpG,GAGZ,IAAI4L,QAAQ,SAACC,EAASipC,GAEzB,IAAK,IAAIt0B,EAAI,EAAGA,EAAIzR,EAAK1F,QAAQ4nB,KAAKxwB,OAAQ+f,IAC1C,GAAIzR,EAAK1F,QAAQ4nB,KAAKzQ,GAAGC,UAAU,EAAGzgB,EAAGS,OAAS,KAAOT,EAAK,OACxDs1C,IAAsD,IAA3CA,EAAQ7qC,QAAQsE,EAAK1F,QAAQ4nB,KAAKzQ,KAC/C,OAAOzR,EAAKwmC,SAASxmC,EAAK1F,QAAQ4nB,KAAKzQ,GAAIxgB,EAAIq1C,EAAWC,GAIlE,IAAK,IAAIpjB,EAAI,EAAGA,EAAInjB,EAAK1F,QAAQypC,OAAOryC,OAAQyxB,IAC5C,GAAInjB,EAAK1F,QAAQypC,OAAO5gB,GAAGzR,UAAU,EAAGzgB,EAAGS,OAAS,KAAOT,EAAK,IAC5D,OAAO+O,EAAKwmC,SAASxmC,EAAK1F,QAAQypC,OAAO5gB,GAAIlyB,EAAIq1C,EAAWC,GAIpEvmC,EAAKwjC,OAAOe,KAAK,YAAatzC,EAAI,SAAA6K,GAC9B,GAAIA,EACAiqC,EAAOjqC,OACJ,IAAIuqC,IAAkBp1C,EACzB,OAAO+O,EAAKwmC,SAASH,EAAe,KAAMC,EAAWC,GAGrDzpC,0CAMP7L,EAAIo1C,EAAeC,EAAWC,GAAS,IAAAtmC,EAAA1P,KAK5C,OAJA81C,EAAgBA,GAAiBp1C,EACjCq1C,EAAgBA,GAAiB,GACjCC,EAAgBA,GAAiB,GAE1B,IAAI1pC,QAAQ,SAACC,EAASipC,GACzB,GAAI9lC,EAAKohB,QAAQpwB,IAAiC,WAA1BgP,EAAKohB,QAAQpwB,GAAI6D,KACjCmL,EAAK9P,MAAMs2C,gBACXxmC,EAAK9P,MAAMs2C,iBAAgB,EAAOxmC,EAAKohB,QAAQpwB,GAAIyH,OAAOxH,KAAM,SAAA2H,GACxDA,EACAoH,EAAKujC,OAAOe,KAAK,YAAatzC,EAAI,SAAA6K,GAC9B,IAAIA,EAIA,OADAyqC,EAAQlvC,KAAKpG,GACNgP,EAAKumC,SAASH,EAAe,KAAMC,EAAWC,GAHrDR,EAAOjqC,KAQfiqC,EAAO,cAIf9lC,EAAKujC,OAAOe,KAAK,YAAatzC,EAAI,SAAA6K,GAC9B,IAAIA,EAIA,OADAyqC,EAAQlvC,KAAKpG,GACNgP,EAAKumC,SAASH,EAAe,KAAMC,EAAWC,GAHrDR,EAAOjqC,SAOhB,CACH,IAAI5K,EAAOD,EACX,IAA+B,IAA3Bq1C,EAAU5qC,QAAQzK,GAiBlB,OAAOgP,EAAKymC,aAAaz1C,EAAIo1C,EAAeC,EAAWC,GAZvD,GAJItmC,EAAKohB,QAAQpwB,IAAOgP,EAAKohB,QAAQpwB,GAAIyH,QAAUuH,EAAKohB,QAAQpwB,GAAIyH,OAAOxH,OACvEA,EAAO+O,EAAKohB,QAAQpwB,GAAIyH,OAAOxH,OAG/B+O,EAAK9P,MAAMs2C,gBASX,OAAOxmC,EAAKymC,aAAaz1C,EAAIo1C,EAAeC,EAAWC,GARvDtmC,EAAK9P,MAAMs2C,iBAAgB,EAAMv1C,EAAM,SAAA2H,GACnC,GAAIA,EACA,OAAOoH,EAAKymC,aAAaz1C,EAAIo1C,EAAeC,EAAWC,GAEvDR,EAAO,qDAavB90C,EAAIkL,EAAOqG,EAASmkC,GAAO,IAAAzmC,EAAA3P,KACnC,OAAO,IAAIsM,QAAQ,SAACC,EAASipC,GACzB,GAAKY,EAwCD,GAAIA,EAAMj1C,OAAQ,CACd,IAAIk1C,EAAMD,EAAM50C,MAEhBmO,EAAKsjC,OAAOe,KAAK,YAAaqC,EAAK,SAAC9qC,EAAKtD,GACjCsD,EACAiqC,EAAOjqC,GAEPoE,EAAKsjC,OAAOe,KAAK,YAAaqC,EAAK,SAAA9qC,GAC3BA,EACAiqC,EAAOjqC,IAEP8qC,EAAMzqC,EAAQyqC,EAAIl1B,UAAUzgB,EAAGS,QAC/BwO,EAAKsjC,OAAOe,KAAK,YAAaqC,EAAKpuC,EAAK,SAAAsD,GACpC,IAAIA,EAGA,OAAOoE,EAAK2mC,YAAY51C,EAAIkL,EAAOqG,EAASmkC,GAF5CZ,EAAOjqC,eAU/BgB,QAhEI,CACR6pC,EAAQ,GAIR,IAAK,IAAIl1B,EAAI,EAAGA,EAAIvR,EAAK5F,QAAQ4nB,KAAKxwB,OAAQ+f,IACtCvR,EAAK5F,QAAQ4nB,KAAKzQ,GAAGC,UAAU,EAAGzgB,EAAGS,OAAS,KAAOT,EAAK,KAC1D01C,EAAMtvC,KAAK6I,EAAK5F,QAAQ4nB,KAAKzQ,IAGrC,IAAK,IAAI0R,EAAI,EAAGA,EAAIjjB,EAAK5F,QAAQypC,OAAOryC,OAAQyxB,IACxCjjB,EAAK5F,QAAQypC,OAAO5gB,GAAGzR,UAAU,EAAGzgB,EAAGS,OAAS,KAAOT,EAAK,KAC5D01C,EAAMtvC,KAAK6I,EAAK5F,QAAQ4nB,KAAKiB,IAIrCjjB,EAAKsjC,OAAOe,KAAK,YAAatzC,EAAI,SAAC6K,EAAKtD,GAChCsD,EACAiqC,EAAOjqC,KAEPtD,EAAMA,GAAO,CAACE,OAAQ,KAClBA,OAAOxH,KAAOsR,EAClBhK,EAAIiqB,IAAMtmB,EAEV+D,EAAKsjC,OAAOe,KAAK,YAAatzC,EAAI,SAAA6K,GAC1BA,EACAiqC,EAAOjqC,GAEPoE,EAAKsjC,OAAOe,KAAK,YAAapoC,EAAO3D,EAAK,SAAAsD,GACtC,IAAIA,EAGA,OAAOoE,EAAK2mC,YAAY51C,EAAIkL,EAAOqG,EAASmkC,GAF5CZ,EAAOjqC,kDAyCvC,OAAOvL,KAAK+J,uCAGTnJ,EAAUsf,EAAS7X,EAAMmZ,GAC5BxhB,KAAKizC,OAAOe,KAAK,SAAUpzC,EAAUsf,EAAS7X,EAAMmZ,wCAE3C9gB,EAAIuH,EAAKuZ,GAClBxhB,KAAKizC,OAAOe,KAAK,eAAgBtzC,EAAIuH,EAAKuZ,8CAG3B+0B,GACfv2C,KAAK00C,aAAe6B,+CAEHA,GACjBv2C,KAAK00C,aAAe,cAK5B5B,GAAWA,WAAa,CACpB2B,MAAO+B,KAAU7hB,KACjB0f,QAASmC,KAAU7hB,KACnBmf,WAAY0C,KAAU7hB,MAGXme,UCrfT2D,uBACF,SAAAA,EAAY72C,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAy2C,IACf52C,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA22C,GAAAt2C,KAAAH,KAAMJ,KACD0F,KAAOzF,EAAKD,MAAM0F,MAAQ,IAFhBzF,wEAMf,OACI+B,EAAAC,EAAAC,cAAA,OAAK6C,UAAU,6BACX/C,EAAAC,EAAAC,cAAA,OAAK6C,UAAU,WAAW/B,MAAO,CAACjF,MAAOqC,KAAKsF,KAAM1H,OAAQoC,KAAKsF,OAC7D1D,EAAAC,EAAAC,cAAA,OAAK6C,UAAU,2BAA2B/B,MAAO,CAAC+T,KAAM,SACxD/U,EAAAC,EAAAC,cAAA,OAAK6C,UAAU,2BAA2B/B,MAAO,CAAC+T,KAAM,SACxD/U,EAAAC,EAAAC,cAAA,OACI6C,UAAU,gDACV/B,MAAO,CAAC8zC,YAAyB,KAAZ12C,KAAKsF,QAE9B1D,EAAAC,EAAAC,cAAA,OAAK6C,UAAU,qCACf/C,EAAAC,EAAAC,cAAA,OAAK6C,UAAU,uCAAuC/B,MAAO,CAAC8T,IAAK,WACnE9U,EAAAC,EAAAC,cAAA,OAAK6C,UAAU,uCAAuC/B,MAAO,CAACgb,OAAQ,YAE1Ehc,EAAAC,EAAAC,cAAA,OAAK6C,UAAU,oBACV/B,MAAO,CAACjF,MAAOqC,KAAKsF,KAAO,GAAI1H,OAAQoC,KAAKsF,KAAO,cArBnDvB,IAAMC,YAgCZgC,wBApCA,SAAAuB,GAAK,MAAK,IAoCVvB,CAAmBywC,cCoB5BE,eAEF,SAAAA,EAAY/2C,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA22C,IACf92C,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA62C,GAAAx2C,KAAAH,KAAMJ,KACDa,MAAQ,CACTpC,MAAO,GACPu4C,YAAa,IAJF/2C,mFASf+X,WAAW,WACP,IACInY,OAAO4V,SAAS6I,eAAe,oBAAoBzZ,QACrD,MAAOzB,MAGV,4CAIHhD,KAAKJ,MAAMS,2CAGN2C,GACLhD,KAAKc,SAAS,CAACuG,KAAMrE,EAAEC,OAAOH,+CAoBnB+zC,GAAO,IAAAl1C,EAAA3B,KAKlB,GAJI62C,GAASA,EAAM1hC,eAAe,YAC9B0hC,EAAQA,EAAM5zC,OAAO4zC,OAGpBA,GAAUA,EAAM11C,OAArB,CAIA,IAAM21C,EAAOD,EAAMA,EAAM11C,OAAS,GAE7B21C,GAGLH,EAAiBI,gBAAgBD,EAAM,SAACvrC,EAAKjD,GACrCiD,EACA5J,EAAKb,SAAS,CAACzC,MAAOkN,IAEtB5J,EAAK/B,MAAMS,QAAQiI,GAAUA,EAAOD,0CAKvC,IAAA7C,EAAAxF,KACC4E,EAAU5E,KAAKJ,MAAMgF,QACrBD,EAAYC,EAAQoyC,SAAW,KAAkC,aAA3Bh3C,KAAKS,MAAMm2C,YAA6BhyC,EAAQqyC,iBAA+C,aAA3Bj3C,KAAKS,MAAMm2C,YAA6BhyC,EAAQsyC,iBAAmB,IAEnL,OACIt1C,EAAAC,EAAAC,cAACC,GAAAF,EAAD,CACIG,sBAAoB,EACpBC,sBAAoB,EACpBC,SAAS,KACT0C,QAAS,CAAC0M,MAAO1M,EAAQuZ,QACzBhc,WAAW,EACXC,MAAM,EACNC,kBAAgB,uBAEhBT,EAAAC,EAAAC,cAACQ,GAAAT,EAAD,CAAanB,GAAG,uBAAuBlC,EAAK+D,EAAE,mBAC9CX,EAAAC,EAAAC,cAACU,GAAAX,EAAD,CAAe8C,UAAWC,EAAQua,YAC9Bvd,EAAAC,EAAAC,cAACq1C,GAAA,EAAD,CAAYpwC,IAAI,aAEJqwC,QAAS,IACTC,gBAAiBzyC,EAAQqyC,iBACzBK,gBAAiB1yC,EAAQsyC,iBACzBK,OAAQ,SAAAV,GAAK,OACTrxC,EAAKgyC,eAAeX,IACxBY,UAAU,EACVC,OAAO,+BACP/yC,UAAWA,GAEf,SAAA6Z,GAAkC,IAAhCm5B,EAAgCn5B,EAAhCm5B,aAEE,OAF8Bn5B,EAAlBo5B,cAGuB,aAA3BpyC,EAAK/E,MAAMm2C,aACXpxC,EAAK1E,SAAS,CAAC81C,YAAa,aAEzB,CAAEh1C,EAAAC,EAAAC,cAAA,QAAMiF,IAAI,OAAOpC,UAAWa,EAAK5F,MAAMgF,QAAQyC,MAAO7I,EAAK+D,EAAE,gCACjEX,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CAAQ4C,IAAI,OAAOpC,UAAWa,EAAK5F,MAAMgF,QAAQwtB,SAC/CulB,GACwB,aAA3BnyC,EAAK/E,MAAMm2C,aACXpxC,EAAK1E,SAAS,CAAC81C,YAAa,aAGzB,CAAEh1C,EAAAC,EAAAC,cAAA,QAAMiF,IAAI,OAAOpC,UAAWa,EAAK5F,MAAMgF,QAAQyC,MAAO7I,EAAK+D,EAAE,+BACjEX,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CAAU4C,IAAI,OAAOpC,UAAWa,EAAK5F,MAAMgF,QAAQwtB,UAEzB,SAA3B5sB,EAAK/E,MAAMm2C,aACXpxC,EAAK1E,SAAS,CAAC81C,YAAa,SAEzB,CAAEh1C,EAAAC,EAAAC,cAAA,QAAMiF,IAAI,OAAOpC,UAAWa,EAAK5F,MAAMgF,QAAQyC,MAAO7I,EAAK+D,EAAE,qCACjEX,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CAAY4C,IAAI,OAAOpC,UAAWa,EAAK5F,MAAMgF,QAAQwtB,WAKzEpyB,KAAKS,MAAMpC,MAASuD,EAAAC,EAAAC,cAAC2Q,GAAD,CAAapL,KAAMrH,KAAKS,MAAMpC,MAAOgC,QAAS,kBAAMmF,EAAK1E,SAAS,CAACzC,MAAO,QAAW,MAE9GuD,EAAAC,EAAAC,cAAC8B,GAAA/B,EAAD,KACID,EAAAC,EAAAC,cAAC+B,EAAAhC,EAAD,CAAQiC,QAAS,kBAAM0B,EAAKpF,gBAAgBhC,MAAM,aAAaI,EAAK+D,EAAE,sDA/F/Du0C,EAAMt1B,GACzB,IAAMq2B,EAAS,IAAIC,WACnBD,EAAOl3B,OAAS,WACZa,EAAG,KAAM,CAACnZ,KAAMwvC,EAAOvvC,OAAQ3H,KAAMm2C,EAAKn2C,QAE9Ck3C,EAAOE,QAAU,WACb/4C,QAAQX,MAAM,4BACdmjB,EAAG,6BAEPq2B,EAAOG,QAAU,SAACh1C,GACdhE,QAAQX,MAAM,2BACdmjB,EAAG,4BAA8Bxe,IAGrC60C,EAAOI,cAAcnB,UA1CE/yC,IAAMC,WAuItBgC,wBApLA,SAAAuB,GAAK,MAAK,CACrB4W,OAAQ,CACJvgB,OAAQ,OAEZuhB,WAAY,CACRvhB,OAAQ,OACRmP,SAAU,UAEdiqC,SAAU,CACNhd,UAAW,GACXr8B,MAAO,OACP+4C,YAAa,EACbwB,YAAa,SACbC,YAAa,UACbvyC,UAAW,SACX+hB,UAAW,aACXwV,WAAY,GACZrqB,aAAc,GACdlV,OAAQ,qBAEZs5C,iBAAkB,CACdiB,YAAa,WAEjBlB,iBAAkB,CACdkB,YAAa,WAEjB/lB,KAAM,CACFx0B,OAAQ,MACRD,MAAO,MACPS,MAAO,UACPsU,SAAU,WACVgE,IAAK,MACLC,KAAM,MACNyhC,UAAW,uBACXt6B,OAAQ,GAEZzW,KAAM,CACFqP,IAAK,MACLC,KAAM,MACNyhC,UAAW,uBACXh6C,MAAO,UACPsU,SAAU,WACVoL,OAAQ,KA0ID9X,CAAmB2wC,ICrH5B0B,eACF,SAAAA,EAAYz4C,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAq4C,IACfx4C,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAu4C,GAAAl4C,KAAAH,KAAMJ,KACDkxB,QAAU,GACfjxB,EAAKY,MAAQ,CACTmzC,WAAW,EACX0E,SAAU,EACVC,OAAO,EACPC,cAAe,EACf1tC,YAAa,EACb5J,UAAW,GACXu3C,UAAU,EACV/G,UAAU,EACVxzC,SAAU,KACVw6C,WAAY,GACZxlC,QAAS,GACT1I,YAAY/K,OAAOkK,cAAiE,UAAlDlK,OAAOkK,aAAaC,QAAQ,kBAC9D+uC,aAAc,GACdpuC,UAAW,GACXG,aAAYjL,OAAOkK,cAAiE,SAAlDlK,OAAOkK,aAAaC,QAAQ,kBAC9De,iBAAkB,GAClBqlC,QAAS,GACT4I,YAAY,EACZllC,QAAS,IAGb7T,EAAKg5C,QAAUp5C,OAAOkK,cAAeopB,WAAWtzB,OAAOkK,aAAaC,QAAQ,iBAAyB,IACrG/J,EAAKkK,QAAU,GACflK,EAAK0zC,MAAQ,GACb1zC,EAAK+4C,WAAa,KAElB/4C,EAAKozC,OAAS,IAAIH,GAAW,CACzBC,eAAgB,CAAC,WAAY,+BAC7BC,kBAAkB,EAClBc,WAAY,SAAAwE,GACJA,IAAa7F,GAASC,WACtB7yC,EAAKiB,SAAS,CAAC8yC,WAAW,IACnB0E,IAAa7F,GAASI,MAC7BhzC,EAAKiB,SAAS,CAAC8yC,WAAW,EAAM0E,SAAU,MAE1Cz4C,EAAKiB,SAAS,CAAC8yC,WAAW,EAAM0E,SAAU7tB,KAAKquB,MAAMrG,GAASI,MAAQyF,EAAW,QAGzFjE,QAAS,SAACvjB,EAAS/mB,GACflK,EAAKiB,SAAS,CAACy3C,OAAO,IACtB14C,EAAKu1C,eAAetkB,EAAS/mB,IAEjCqrC,eAAgB,SAACtkB,EAAS/mB,GAAV,OAAsBlK,EAAKu1C,eAAetkB,EAAS/mB,IACnEgqC,QAAS,SAAAxoC,GACLvM,QAAQX,MAAMkN,IAElBkpC,MAAO,SAAA/gC,OAMX7T,EAAKozC,OAAO8F,eAAe,oCAAqC,SAACr4C,EAAID,GAEjE,GADAC,EAAKA,GAAMA,EAAGygB,UAAU,EAAGzgB,EAAGS,OAAS,GACnCtB,EAAKY,MAAMkK,iBAAiBjK,QAASD,GAAQA,EAAMo1B,KAAc,CACjE,IAAMlrB,EAAmBd,KAAKC,MAAMD,KAAKoB,UAAUpL,EAAKY,MAAMkK,mBAC9DA,EAAiBjK,KAAOD,GAAQA,EAAMo1B,IACtCh2B,EAAKiB,SAAS,CAAC6J,wBA7DR9K,8EAkEJixB,EAAS/mB,GACpB/J,KAAK8wB,QAAUA,EAEf,IAAMkoB,EAAW,GAEjBjvC,EAAQ4nB,KAAKnrB,QAAQ,SAAA9F,GAAE,OAAIs4C,EAASt4C,GAAMowB,EAAQpwB,KAClDqJ,EAAQypC,OAAOhtC,QAAQ,SAAA9F,GAAE,OAAIs4C,EAASt4C,GAAMowB,EAAQpwB,KACpDV,KAAKuzC,MAAQxpC,EAAQwpC,MAErB,IAAIzoC,EAAc9K,KAAKS,MAAMqK,YACzB9K,KAAKi5C,eAAelvC,IACpBe,IAEJ9K,KAAK+J,QAAUivC,EAEfh5C,KAAKc,SAAS,CAACI,UAAW6I,EAAQ7I,UAAW4J,uDAGlCouC,GACX,IAAMC,EAASr5C,OAAO0I,KAAKxI,KAAK+J,SAC1BqvC,EAASt5C,OAAO0I,KAAK0wC,GAC3B,GAAIC,EAAOh4C,SAAWi4C,EAAOj4C,OAEzB,OADAnB,KAAK+J,QAAU/J,KAAKk5C,YACb,EAEX,GAAIrvC,KAAKoB,UAAUkuC,KAAYtvC,KAAKoB,UAAUmuC,GAE1C,OADAp5C,KAAK+J,QAAU/J,KAAKk5C,YACb,EAEX,IAAK,IAAIxyC,EAAI,EAAGA,EAAIyyC,EAAOh4C,OAAQuF,IAAK,CACpC,IAAI2yC,EAAYr5C,KAAK+J,QAAQovC,EAAOzyC,IAAIyB,OACpCmxC,EAAYJ,EAAWC,EAAOzyC,IAAIyB,OACtC,GAAIkxC,EAAU14C,OAAS24C,EAAU34C,KAE7B,OADAX,KAAK+J,QAAU/J,KAAKk5C,YACb,EAEX,GAAIG,EAAUvwC,SAAWwwC,EAAUxwC,OAE/B,OADA9I,KAAK+J,QAAU/J,KAAKk5C,YACb,EAEX,GAAIG,EAAUxwC,aAAeywC,EAAUzwC,WAEnC,OADA7I,KAAK+J,QAAU/J,KAAKk5C,YACb,EAEX,GAAIG,EAAU1wC,UAAY2wC,EAAU3wC,QAEhC,OADA3I,KAAK+J,QAAU/J,KAAKk5C,YACb,oCAKV14C,EAAOoL,EAAOqG,EAASC,GAAa,IAErCqnC,EAFqC53C,EAAA3B,KAIzC,GAHAhB,QAAQC,IAAR,UAAAC,OAAsBsB,EAAtB,QAAAtB,OAAkC0M,IAElC5L,KAAKc,SAAS,CAAC23C,UAAU,IACrBz4C,KAAK+J,QAAQvJ,IAAuC,WAA7BR,KAAK+J,QAAQvJ,GAAO+D,KAAmB,CAC9D,IAAM4D,EAAS0B,KAAKC,MAAMD,KAAKoB,UAAUjL,KAAK+J,QAAQvJ,GAAO2H,SAC7DA,EAAOxH,KAAOsR,GAAW9J,EAAOxH,UACZxB,IAAhB+S,IACA/J,EAAOW,OAAS,6BAA+BoJ,GAEnDqnC,EAAUv5C,KAAKizC,OAAOuG,aAAah5C,EAAOoL,EAAOzD,QAEjDoxC,EAAUv5C,KAAKizC,OAAOqD,YAAY91C,EAAOoL,EAAOqG,GAGpDsnC,EACKhpC,KAAK,kBAAM5O,EAAKb,SAAS,CAAC23C,UAAU,MACpCgB,MAAM,SAAAluC,GAAG,MAAY,aAARA,GAAsB5J,EAAK2O,UAAU/E,4CAG5C7K,EAAIyH,GAAQ,IAAA3C,EAAAxF,KACnBA,KAAK+J,QAAQrJ,IAAiC,WAA1BV,KAAK+J,QAAQrJ,GAAI6D,MACrCvE,KAAKizC,OAAOuG,aAAa94C,EAAIA,EAAIyH,GAC5BoI,KAAK,cACLkpC,MAAM,SAAAluC,GAAG,MAAY,aAARA,GAAsB/F,EAAK8K,UAAU/E,sCAItDrN,GAAU,IAAAwH,EAAA1F,KACXA,KAAK8wB,QAAQ5yB,IAAa8B,KAAK8wB,QAAQ5yB,GAAUiK,QAA0C,WAAhCnI,KAAK8wB,QAAQ5yB,GAAUqG,MAClFvE,KAAKc,SAAS,CAAC5C,WAAUy6C,aAAcz6C,GAAW,kBAC9C0Z,WAAW,kBAAMlS,EAAK5E,SAAS,CAAC63C,aAAc,QAAO,gDAI9CjuC,GACX1K,KAAKS,MAAMiK,aAAeA,IAC1BjL,OAAOkK,cAAgBlK,OAAOkK,aAAa2B,QAAQ,iBAAkBZ,EAAa,OAAS,SAC3F1K,KAAKc,SAAS,CAAC4J,kDAIba,GACNvL,KAAKc,SAAS,CAACyJ,UAAWgB,wCAGlBmI,GACR1T,KAAKc,SAAS,CAAC4S,6CAGVhT,GAAI,IAAAwM,EAAAlN,KACTA,KAAKizC,OAAOyG,UAAUh5C,GACrB6P,KAAK,cACLkpC,MAAM,SAAAluC,GACH2B,EAAKoD,UAAU/E,oCAIhB7K,GACCV,KAAKS,MAAMvC,WAAawC,GACxBV,KAAKc,SAAS,CAAC5C,SAAUwC,qCAIxBA,EAAIC,EAAMg5C,EAAU/4C,EAAU2D,GAAM,IAAA4K,EAAAnP,KACrCA,KAAK8wB,QAAQpwB,GACbV,KAAKsQ,UAAU9R,EAAK+D,EAAE,gBAItBo3C,EACA35C,KAAKizC,OAAO2G,UAAUl5C,EAAI,CACtByH,OAAQ,CACJxH,OACAi0B,QAAQ,GAEZrwB,KAAM,YACPgM,KAAK,WACJqH,WAAW,kBAAMzI,EAAKrO,SAAS,CAAC63C,aAAcj4C,GAAK,kBAC/CkX,WAAW,kBAAMzI,EAAKrO,SAAS,CAAC63C,aAAc,QAAO,MAAM,OAChEc,MAAM,SAAAluC,GACL4D,EAAKmB,UAAU/E,KAGnBvL,KAAKizC,OAAO2G,UAAUl5C,EAAI,CACtByH,OAAQ,CACJxH,OACAi0B,QAAQ,EACR/rB,WAAYtE,EACZuE,OAAQ,8BAAgClI,GAAY,GACpD+K,OAAQ,GACR2K,OAAO,EACPu/B,SAAS,GAEbtxC,KAAM,WACPgM,KAAK,WACJqH,WAAW,kBAAMzI,EAAKgpB,SAASz3B,IAAK,OACrC+4C,MAAM,SAAAluC,GACL4D,EAAKmB,UAAU/E,6CAKX7K,EAAIiI,GAAS,IAAA4G,EAAAvP,KACzB,GAAIA,KAAK+J,QAAQrJ,IAAiC,WAA1BV,KAAK+J,QAAQrJ,GAAI6D,KAAmB,CACxD,IAAM4D,EAASnI,KAAK8wB,QAAQpwB,GAAIyH,OAChCA,EAAOQ,QAAUA,EACjBR,EAAOysB,QAAS,EAChB50B,KAAKizC,OAAOuG,aAAa94C,EAAIA,EAAIyH,GAC5BoI,KAAK,cACLkpC,MAAM,SAAAluC,GAAG,MAAY,aAARA,GAAsBgE,EAAKe,UAAU/E,0CAInDiW,EAAI40B,GAAO,IAAA5mC,EAAAxP,KAKnB,GAJKo2C,IACDA,EAAQvsC,KAAKC,MAAMD,KAAKoB,UAAUjL,KAAKuzC,SAAW,IAGlD6C,EAAMj1C,OAAQ,CACd,IAAMT,EAAK01C,EAAMyD,QACjB75C,KAAKizC,OAAOgC,SAASv0C,EAAK,SAAU,SAAC6K,EAAK9K,IACjC8K,GAAO9K,GAASA,EAAMo1B,IACvBrU,EAAG9gB,GAEHkX,WAAW,kBAAMpI,EAAKsqC,YAAYt4B,EAAI40B,YAI9C50B,uCAIG,IAAA/R,EAAAzP,KACPA,KAAK85C,YAAY,SAAAzG,GACb,GAAKA,EAAL,CAKA,IAAMv/B,EAAI,IAAIO,KACVQ,EAAOf,EAAEqhB,cACTrP,EAAIhS,EAAEkgB,WAAa,EACnBlO,EAAI,KAAIA,EAAI,IAAMA,GACtBjR,GAAQ,IAAMiR,GACdA,EAAIhS,EAAEigB,WACE,KAAIjO,EAAI,IAAMA,GACtBjR,GAAQ,IAAMiR,EAAI,IAElBrW,EAAKwjC,OAAOA,OAAOe,KAAK,aAAcX,EAAM,mBAAoB,CAC5D0G,QAAS,aACTr5C,GAAI,YACJs5C,KAAMnlC,EAAO,eACd,SAAAxM,GACC,GAAoB,kBAATA,EAAmB,CAE1B,IAAMxG,EAAIwT,SAASvT,cAAc,KACjCD,EAAEo4C,KAAO,QAAUplC,EAAO,cAC1BQ,SAASC,KAAKC,YAAY1T,GAC1BA,EAAEq4C,QACFr4C,EAAEs4C,cAGF,GADA9xC,EAAKhK,OAASoR,EAAKa,UAAUjI,EAAKhK,OAC9BgK,EAAKA,KAAM,CACX,IAAMxG,EAAIwT,SAASvT,cAAc,KACjCD,EAAEo4C,KAAO,gCAAkC5xC,EAAKA,KAChDxG,EAAEu4C,SAAWvlC,EAAO,cACpBQ,SAASC,KAAKC,YAAY1T,GAC1BA,EAAEq4C,QACFr4C,EAAEs4C,iBAjCV1qC,EAAKa,UAAU9R,EAAK+D,EAAE,4DAwCzB8F,GACLrI,KAAK44C,WAAavwC,EACdA,EACArI,KAAKc,SAAS,CAAC83C,YAAY,EAAO5I,QAASxxC,EAAK+D,EAAE,2CAElDvC,KAAKc,SAAS,CAAC83C,YAAY,8CAIjB/xB,GAAI,IAAAnX,EAAA1P,KACdqI,EAAOrI,KAAK44C,WAChB54C,KAAK44C,WAAa,KAClB54C,KAAKc,SAAS,CAACkvC,QAAS,KACpBnpB,GAAMxe,IACNA,EAAOA,EAAK9G,MAAM,KAAK,GACvBvB,KAAK85C,YAAY,SAAAzG,GACRA,EAIL3jC,EAAKujC,OAAOA,OAAOe,KAAK,aAAcX,EAAM,oBAAqB,CAC7DhrC,KAAMA,EACN0xC,QAAS,aACTr5C,GAAI,aACL,SAAA2H,GACc,oBAATA,EACAqH,EAAKY,UAAU9R,EAAK+D,EAAE8F,KACdA,GAAQA,EAAKhK,MACrBqR,EAAKY,UAAUjI,EAAO7J,EAAK+D,EAAE8F,EAAKhK,OAASG,EAAK+D,EAAE,kBAElDmN,EAAK2qC,YAAY77C,EAAK+D,EAAE,WAb5BmN,EAAKY,UAAU9R,EAAK+D,EAAE,6DAoB7B,IAAAoN,EAAA3P,KACE4E,EAAW5E,KAAKJ,MAAhBgF,QAEP,OAAK5E,KAAKS,MAAM83C,MAMZ32C,EAAAC,EAAAC,cAAA,OAAK6C,UAAWC,EAAQpH,MACpBoE,EAAAC,EAAAC,cAAA,OAAK6C,UAAWC,EAAQ01C,eAAiB,KAAOt6C,KAAKS,MAAM+J,WAAa5F,EAAQ21C,oBAAsB31C,EAAQ41C,wBAAyBzzC,IAAI,QACvInF,EAAAC,EAAAC,cAAC24C,GAAD,CACI1zC,IAAI,WACJgD,QAAS/J,KAAK+J,QACde,YAAa9K,KAAKS,MAAMqK,YACxB5J,UAAWlB,KAAKS,MAAMS,UACtBmI,OAAQrJ,KAAKS,MAAM+3C,cACnBj4C,SAAUP,KAAKO,SAASiT,KAAKxT,MAC7Bm4B,SAAUn4B,KAAKm4B,SAAS3kB,KAAKxT,MAC7BqL,SAAUrL,KAAKS,MAAMk4C,aACrBtsC,OAAQrM,KAAKqM,OAAOmH,KAAKxT,MACzB0K,WAAY1K,KAAKS,MAAMiK,WACvBC,iBAAkB3K,KAAKS,MAAMkK,iBAC7B8F,mBAAoBzQ,KAAKyQ,mBAAmB+C,KAAKxT,MACjDkE,SAAUlE,KAAKkE,SAASsP,KAAKxT,MAC7B8Q,SAAU9Q,KAAK8Q,SAAS0C,KAAKxT,MAC7BkM,gBAAiBlM,KAAKkM,gBAAgBsH,KAAKxT,MAC3C0Q,SAAU1Q,KAAK0Q,SAAS8C,KAAKxT,MAC7B4Q,SAAU,kBAAMjB,EAAK7O,SAAS,CAAC83C,YAAY,QAGnDh3C,EAAAC,EAAAC,cAAA,OAAK6C,UAAWC,EAAQ24B,QAASx2B,IAAI,QACjCnF,EAAAC,EAAAC,cAAA,OAAK6C,UAAWC,EAAQ81C,oBAAqB52C,QAAS,WAClDrE,OAAOkK,cAAgBlK,OAAOkK,aAAa2B,QAAQ,iBAAkBqE,EAAKlP,MAAM+J,WAAa,QAAU,QACvGmF,EAAK7O,SAAS,CAAC0J,YAAamF,EAAKlP,MAAM+J,WAAYknC,UAAU,IAC7D95B,WAAW,kBAAMjI,EAAK7O,SAAS,CAAC4wC,UAAU,KAAS,OAElD1xC,KAAKS,MAAM+J,WAAc5I,EAAAC,EAAAC,cAACqC,EAAA,EAAD,MAAuBvC,EAAAC,EAAAC,cAACqC,EAAA,EAAD,OAErDvC,EAAAC,EAAAC,cAAC64C,EAAA94C,EAAD,CACIkF,IAAI,iBACJ6zC,UAAU,EACVC,eAAgB,IAChBC,qBAAsB96C,KAAK64C,QAC3BkC,gBAAiBn2C,EAAQ01C,eAAiB,IAAM11C,EAAQo2C,uBACxDrpC,YAAa,kBAAMhC,EAAK7O,SAAS,CAAC4wC,UAAU,KAC5CuJ,0BAA2B,SAAA31C,GAAI,OAAIqK,EAAKkpC,QAAU9lB,WAAWztB,IAC7DsM,UAAW,WACPjC,EAAK7O,SAAS,CAAC4wC,UAAU,IACzBjyC,OAAOkK,cAAgBlK,OAAOkK,aAAa2B,QAAQ,cAAeqE,EAAKkpC,QAAQ7kC,cAGnFpS,EAAAC,EAAAC,cAACo5C,GAAD,CACIn0C,IAAI,SACJgnB,SAAU/tB,KAAKS,MAAMixC,SACrB38B,WAAY/U,KAAKizC,OACjBlC,SAAU,SAAA4H,GAAY,OAAIhpC,EAAK7O,SAAS,CAAC63C,kBACzChuC,iBAAkB3K,KAAKS,MAAMkK,iBAC7B5H,SAAU,SAACrC,EAAIyH,GAAL,OAAgBwH,EAAKwrC,eAAez6C,EAAIyH,IAClDgnC,iBAAkB,SAACzuC,EAAIwS,GACnB,IAAM9H,EAAW,GACbF,GAAU,EACVxK,IAAOiP,EAAKlP,MAAMvC,WAClBgN,GAAU,EACVE,EAASlN,SAAWwC,GAEpBmJ,KAAKoB,UAAUiI,KAAarJ,KAAKoB,UAAU0E,EAAKlP,MAAMyS,WACtDhI,GAAU,EACVE,EAAS8H,QAAUrJ,KAAKC,MAAMD,KAAKoB,UAAUiI,KAEjDhI,GAAWyE,EAAK7O,SAASsK,IAE7BskC,UAAW,SAAAhvC,GAAE,OAAIiP,EAAKsjC,OAAOmI,aAAa16C,EAAI,KAC9CxC,SAAU8B,KAAKS,MAAMvC,UAAY8B,KAAK8wB,QAAQ9wB,KAAKS,MAAMvC,WAAwD,WAA3C8B,KAAK8wB,QAAQ9wB,KAAKS,MAAMvC,UAAUqG,KAAoBvE,KAAKS,MAAMvC,SAAW,GAClJ4yB,QAAS9wB,KAAK8wB,UAElBlvB,EAAAC,EAAAC,cAACu5C,GAAD,CAAKt0C,IAAI,MAAMmM,QAASlT,KAAKS,MAAMyS,QAAS6B,WAAY/U,KAAKizC,OAAQ/0C,SAAU8B,KAAKS,MAAMvC,aAGjG8B,KAAKS,MAAMiT,QAAW9R,EAAAC,EAAAC,cAACwkB,GAAD,CAAejmB,QAAS,kBAAMsP,EAAK7O,SAAS,CAAC4S,QAAS,MAAMrM,KAAMrH,KAAKS,MAAMiT,UAAc,KACjH1T,KAAKS,MAAM8J,UAAa3I,EAAAC,EAAAC,cAAC2Q,GAAD,CAAapS,QAAS,kBAAMsP,EAAK7O,SAAS,CAACyJ,UAAW,MAAMlD,KAAMrH,KAAKS,MAAM8J,YAAgB,KACrHvK,KAAKS,MAAMm4C,WAAch3C,EAAAC,EAAAC,cAACw5C,GAAD,CAAkBj7C,QAAS,SAAAgI,GAAI,OAAIsH,EAAKiB,SAASvI,MAAa,KACvFrI,KAAKS,MAAMuvC,QAAWpuC,EAAAC,EAAAC,cAAC6vC,GAAD,CAAetxC,QAAS,kBAAMsP,EAAK4rC,qBAAqB50B,KAAM,kBAAMhX,EAAK4rC,mBAAkB,IAAO30B,SAAU5mB,KAAKS,MAAMuvC,UAAc,MA7ExJpuC,EAAAC,EAAAC,cAAC05C,GAAD,aAhVFx3C,aAmaHgC,wBA/dA,SAAAuB,GAAK,MAAK,CACrB/J,KAAMD,EAAMC,KACZ88C,eAAgB,CACZmB,mBAAoB,cACpBC,mBAAoB,QAExBnB,oBAAqB,CACjBpkC,WAAY,EACZxY,MAAOJ,EAAMM,KAAKF,MAClBC,OAAQ,QAEZ48C,uBAAwB,CACpBrkC,YAAa5Y,EAAMM,KAAKF,MACxBA,MAAOJ,EAAMM,KAAKF,MAClBC,OAAQ,QAUZ2/B,QAAS,CACL5/B,MAAO,OACPC,OAAQ,OACR+9C,gBAAiBp0C,EAAM+qC,QAAQn0C,WAAWy9C,QAC1ClpC,SAAU,YAEdmpC,oBAAqB,CACjBl+C,MAAK,eAAAuB,OAAiB3B,EAAMM,KAAKF,MAA5B,OACLC,OAAQ,QAEZo9C,uBAAwB,CACpBr9C,MAAK,OACLC,OAAQ,QAEZ06C,SAAU,CACNp1C,OAAQ,KAEZw3C,oBAAqB,CACjBhoC,SAAU,WACViE,KAAM,EACN7D,aAAc,cACd4D,IAAK,EACLymB,WAAY,EACZ5vB,OAAQ,UACRuQ,OAAQ,EACRlgB,OAAQ,GACRD,MAAO,GACPQ,WAAYZ,EAAMQ,OAAOE,UACzBG,MAAOb,EAAMQ,OAAOC,QACpBsP,YAAa,EACbwuC,UAAW,CACP19C,MAAO,YAwaJ4H,CAAmBqyC,ICted0D,QACW,cAA7Bt8C,OAAO8yB,SAASypB,UAEe,UAA7Bv8C,OAAO8yB,SAASypB,UAEhBv8C,OAAO8yB,SAASypB,SAASvpB,MACvB,2DCVN,IAAMlrB,GAAQ00C,yBAAe,CACzB3J,QAAS,CACLt0C,QAAS,CACLk+C,MAAO,UACPlN,KAAM,UACNmN,KAAM,UACNC,aAAc,QAElBn+C,UAAW,CACPi+C,MAAO,UACPlN,KAAM,UACNmN,KAAM,UACNC,aAAc,WAK1BC,IAASC,OAAO16C,EAAAC,EAAAC,cAACy6C,EAAA,iBAAD,CAAkBh1C,MAAOA,IAAO3F,EAAAC,EAAAC,cAAC06C,GAAD,OAA4BnnC,SAAS6I,eAAe,SDoG9F,kBAAmBg2B,WACrBA,UAAUuI,cAAclE,MAAMhoC,KAAK,SAAAmsC,GACjCA,EAAaC,iCE/HnBx/C,EAAAC,QAAA,+zFCAAD,EAAAC,QAAA,miJCAAD,EAAAC,QAAA","file":"static/js/main.feec44e9.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAABkCAIAAACqzSMYAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAACpRJREFUeF7tm4tTU9kdx/tXddtux7YzOzvT7m61VVfRur4ouoKvgk9eeaIhcZYoxbYLuoHCSnbBYtKJrVkXHVYYkIVOHB4bJ4OADI4ZYAAdBJn0d+8999xzTy6RYHLaJL/PfGdnc+9JTM755HfOPTf8yIQg6Qc9Q0SAniEiQM8QEaBniAjQM0QE6BkiAvQMEQF6hogAPUNEgJ4hIkDPEBGgZ4gI0DNEBOgZIgL0DBEBeoaIAD1DRICeISJAzxARoGeICNAzRAToGSIC9AwRAXqGiAA9Q0SAniEiQM8QEWS5Z2b7RauzFiM4FqudDIBKlnsGn9nVcg8jONDtZABU0DNM6mOuvkIGQCVXPCuu9X/qbMcIyCfl9TsLiskAqOSKZ5+62neZWjAC8uHRS1v3HyMDoIKeYVIc9IzvEUw6gp7xPYJJR9Azvkcw6Qh6xvcIZmPJq2zmjrD5oNCZVZ6Z7RcrHFdKrU7y2Aj0LLXZUfrFprySH3+U//Ptx8EnQ+F+ffhC9nhmsVU5rvlAoLOXvzpuqjlnMbYNPUttfrXnHEi2aeuhwlMVZyrse4+e33Wmlmvz3v6KLPJMFehM3T/hs+0zXQfbzHYHOS1DXUzSM2/jwNTk9MxYZOgof4pP2c3QyPjU40jE7eJPpSRW3+jI+LOR4cGE78QfGJ6CZn1dd+NOpTLbz19TJIOOJV0M32Rb1R9LbHsrG2izd7cdyx7PaKEqvHSTfkKw7bRJK2zFlstKG8hh5/o96wi9ikm8mirnT/G5EVmWmy63u/lTKQl5/dcJ34n7+yX5TSxFevlTKQ1MlOBZwYlS0r8MZyps209e2lHmgUkT2mShZ3ttrWxfKIVNCfy/qeEOtKlqvLvHcoNtljAd37+Ux+3VxCn+FJ/G8Au56VJrejwjr5/4nbj65uQ3sZhmz97bXw7FDAoYGQM9Fqtt96FiaAA5W24lR1Uy0jM6IV5o+pbrCy67zS0Fjq+TkQyCnhlnU15xfKHikCy0GoiYkZ7ZXFeUYlbZ8G+uL1KROM+qvEWutiKXV99MSkLPvCXuDsgpV1vcKS6kZfw/8X/l2c+2Fr3Rs7XISM/opHnuLwGuL1IR1bP5SLWn9/GssviRWHm18CB4h228hmcdt0LPtacBr1486unO1xrQ+APhmRXSSGLl5dyDoLacN/Qs3zM4Fp2bnp6Lzj5vr/fqPHPdG4kuyKeeNcWpX9M1EZ2dm56due3t4E6tJ+9sLthXeIaMQZJktmcltX6uL1IR1bM1mIsMUmMMPHPdG1MuI+KZn3BXqc0g7u7J1+QMx2K4X2kT71m+J7Qot5GYf+KEF9TVs7beeflBLDbZo/tKwOcKqZ9rJJB0v+VV/h0W+Mc2qFmGe3bCfYvrjlSE82x1MhK53RUeYw6OdZI6GueZn44lXISOPBxsuNn9zfAMOQBER1VH/cOajstjw6O+ztHHs6vkQCx2v1maQ6lnyvUmK9lKNEzk08+b1s5n8qNYbDbM7obk1T9SS+yMmzm+zuwsbwTPTpfzP8heJ5nt2bGajdT/N4Xx7PVMUx093hZ8quxiwMBP2eSDnGfFgSn5IbDQrj2xpcQXoZPjA6+0XCsL0pYv2JZtESLD3HA3PGTr2cHmIQPJINz6zNWjPIR3xe621AyQwxtbxu0o84BnpeaLZAySJLM9O/pZej3r8+oX5lXfRckZMoR6z7Q5ixY8mvphpaWyy9WhtezSz251/yFGzkvViLz+fMTKVLKl6VHdtm3cdUBgmtRF5sW1D/VArpTJRvGswqrbCV8/me3Z8bTWM3W2YnOLlLRV3bxGPKNjOdfArsPk5Ht+UARaDEOhoi2XWvkbCV5r8123lADMsOrrs8zw7yrOsxLfhHxAmzrz6tRJcx2bz4bZIc+blbZqMgZJktmenbzs47ojFVEleGmwm0AHXllK6zxTx9vwidp09vJJCW0Zm7kaZyQbI89W+27qN0riPNtl+nZSPgKTsjKh1zwk/2A0dE9tk1x2VjTlrmen/yzd3Ex1tHqWnGemQGhenrAMt7tUz1aio0VSS/nByycGLZkYeQarxudOtpmBZy031HXeWBfM4LR8Lt+uZ56YZHJ33iz9622uL1KRRPVMHb9lnzxg+nrWQ1ZvRp4VeSPKSWne1FqS6wkm3jLPHacUPztvRofBofvTygOYmKXJV32KkWcHvWH5GDxzKF+9AQrrvIT349+Qn2w5nFvXAXYX8cxyPcj1RSqiLZ58zJWgnOAY2fFSChhXz+gG1XLcE1sa1euAxTDYQFuufuPRNYOFlMF1gCqutmehLhClGHkGxfUx2TdZ6FM3VuJ21JLLu9uP5da+hsVqV+5vVjd37o7rjrcO9Sy29HSQPVXT85ycUNfXes+8gWmy8bE0rnsic6G6et8j+XFrXG35NMS2vEELmLyQIq+vVda272bl0wBd0Rt71lIfWpAPy0hfjxetb/fjpV/uPp1b+7QAnTrzL3zFdQesWDefvLLt7Ofc8XVH8wyYGw83ePxFLv+NAVWyWOyRj1zn6j1ryfMMyQ8l5iJDNul+JcyDvY/VXQw6c2l1C/wYH3W6vPnuQCBMzSALKa6eSU/Utltj0QF5Ub+GZ9CS/hPAyvQQe3YDeT/fklv3nQDqGXdL4MMi109/fwRWrO/8tmDb2Xr21LojT2pr3BECFplaRT2jO6KNbBXh0W3e1j1k7hPoUTZppVdTPWM3I5hCBTp6d7n7lK01zjPuC0O/GxvO5hOXE9xHh0tRGBSz3XgBl6meme0OZeqkt9I/Pn8NCjsYtmnroW0HjsPHtjjc+0zXoeD9wfwl7ax1hGyiLj6N3NcKDGEy1MveDleHfKGJmZJquibYQqKwMjt1NW7aqg4+0W5WEpYedWlbD2RVx1+WBtW1F0zQ/fSqQl75sc1aqnuoyhu518QFJoptB0+SAWCotEuGKcMB/+V+1ayQqZ4B8NWBTwX1LK+y+YNCJ1wNKZKdKjWTFtAFDqns2T1391iSUk1LUd3dpmC/rzPk6+x1ute9k17lbwqG7vf0NwVCDx4ONTUnuG/dUefrbQ/2tgZ7m7x33uZ6MD7WLuIZLZBvmd8VXbDatZ+XWWwXLKphSmDFfKjy6vnKrPidI+WsybHliB2ugxTDPj540mrTXRDR6TWZ321nTRJd/244RaVquVKnFJqyz/91oMr7myOO7PndNuWTwyXwqSCllTZyiIF6lkt/7+St8XW76/2NA6SYrUzrLmnfMsov40usl1nJTA13ChxfKw1giZyFniUmJz3rGNZdxPBbdCnJbvOXlutB6FjrF0Gub/Hv0bW+yOroPJsc6IprkLLst+v+CEgJesb3SLamrLmrNdjfHuy/Wv/GP01IfdAzvkcw6Qh6xvcIJh1Bz/gewaQj6BnfI5h0BD3jewSTjuS0Zwcsni1/qsUIyPv5lpzzzGKrAtWq/vaPX+yQ7k1hxCTnPFOw2uwO12cYYeHuMgM54RnyPwc9Q0SAniEiQM8QEaBniAjQM0QE6BkiAvQMEQF6hogAPUNEgJ4hIkDPEBGgZ4gI0DNEBOgZIgL0DBEBeoaIAD1DRICeISJAzxARoGeICNAzRAToGSIC9AwRAXqGiAA9Q0SAniHpx2T6L/uPN/BcqRh7AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAT3SURBVHhe7V0tUxxBEKVSkREIZCQiMhKZH4BKRSAQCAQmLgKBQ/AD8gMQSEREJAKBRCAQkYiIiIiIiIiISz+qu2pqs9zN3rzh5nafmDo+dofufvO6Z7p7l43ZbLah0YYNBERDi1FgCIw23EJr7lnMEDPEjD5WihlihpghZjTEAoEhMOSScrfQCuANsUVgCAy5LgXwhlggMKYMxov3H1/Z2LdxYePexi8bszUckBvyX9o4sLGZu0Macl21AG4C79r4voaGz1ksP02vD0MMnXMtHQxnw+cEhCv7+tDGNn6XI1Rr17hOb1wP6BOAnTNZQgXDhf7mwoLaB60ZliGPu6pwuQ8sQNhgBCNuTMDXDMVbnQP62YCeYMk5Q04aGB4jIBhWzKiBCMM7IMGQ3VJAKGC4e4pgPUrX9JSh3WVhEUL/opjIAgPbVwh0Vbo61vF+0/va9d8vkZ8FBs4RAOOwRJh1vdf0PnH9L0p0YIGBAxHA2C4RZl3vTeLlfYkOLDAiiBX5zBJFVnmvgbEV2/kSOVhgPB6CSgRZ93sdjCIbCAxS8lBgkAzJYKXAEBj/V+kYq4KxOlc5B8MGihkkdgkMkiEZjBIYAmP1McMTk3v2iTTMnSfpIlmH71EeRb7s2Q6hk2OGKbxp48zGn1B+wSeuw/VVatape5sUGKYsmJA2NNza90jQ7dh4rJ/g07/Hz6PwEzUWes16cmCYUV/aOE0YgHT1u5yg68BEehugnObct8w1k2BGAsRf+/p4SUMd2724vxogowfDXRMMCEMWuRncnwBSNFffghg1GAi6SYxYihFdo9l8R240xB5qUB87GNgFgRXXy7imOTXrrz7vGXne4jJCk+kQMxbaQmP7mhWscw1r8751MDA/7RwyWmYkseI218hDrgPb3Hh7Q+6bd+2YwYgGhxOWsTpngk9uvKIGgkmcM8xQSGnAB+9UAgMHRcx/x5p/zMyIhrgqnYlmOJzUH3NZAmNBtpWxyhYZmf03GPO1upv64cqJGYtWVc9hqniP3QmG0RSnmNEAGKhHAODau6nLobrOOUwWL8hW3VQ0Ut+wjNVhXjx9VNSoPJWtbXoCp7oqYxseB0PiUSfw3JVuxlJuKtdYbIr2bAqUtW0FDMiR5KhUz8gFhnHgmbNLiZIrADnKlanDXNQxVOlbxngdQ3Zr4F+QBs+Z14N11C+qlVydxePc2vYZ2l1W2h2CNDiyr33dIfg5tq/BBtxHL7Wy42aT54w5Lkt9U4tcQs2Y8QRLcA5RR+ETxin2l4sAb/33jAW5Vm6qZUAEhrrQV9+F3iJDxAwxQ8yotYlRACexS26KZEhGDGoJjN8uDK1dkmGg55rDdG/q3SHxXkK9VaeArayYEQ0EU3/fVFGDAwsMvHgXKZGpv4mt6JWALDCQTcWLdwFIkUDP5edZfwf6ut7Qv+gBHAoYXlzBY1rxZGmVTkCWAVnzmL7o2Y0aS3G9hAaGAxKt/FN7r21RrIjFwQYD7uohYcgoXZa7pmAE+oK3GGyjguHsACDncQiyT5RH8ZA8XlRPEZqh+JA5/BwB+aFH+lw5dpE0nehghJJufP2XgAHnjmpgOEv0/zNaAWOIK9C1s42qzJCBh/2jL4ExwI3UXlwCQ2AMo2/tFdnK/GKGmCFm9LFRzBAzxAwxoyEWCAyBIZeUu3VWAG+ILQJDYMh1KYA3xAKB0TgY/wCrKvMDWcWHNQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAR7SURBVHhe7Z2hUhxBEIap6AhEZAQCkQeIiIjgAVApJAKBTVUkAkFVHiEPgEAikQhEREQkIhIREYFAREZc+j96iq27pdid+Xe2b/cXUyHczl7PfP13z8zODluLxWJLJUYfCEQgZxQMwYgRFqKFZylDypAy2lQpZUgZUoaUEUgFgiEYCkldh9BK4IHUIhiCodClBB5IBYIxZxivPn1+beXQyoWVWysPVhYbWGA37L+0cmRlu+sIqc91gyVwM3jfyu8N7PguznJv7Tro09FdrqXDcDV8a0C4tp+Prezisy5GRbvG2/TO24H2JGDnTJVQYbjRv9xYSPsoWscy7PFQlULuHQsIG0ZSxHcz8C2j4VHvgfZZQTuhknOGnTQYniNgGDxm0iBSxzuQpJD9UiAUGB6eUrKeZGh6rqM9ZMEJ0f6inMiCgeErDLou9Y5NrG/tvvH2H5bYz4KBeQRgHJcYk1PXvvPMv/sspz6jjn3/qdtwUXI/FgxMiABjt8SYnLpBYGBOhfbf5rQh1WHBSEmsKGbmNKQRsykjmkwb3jiMh5z6bBjLSVCJIbl1I8CA7Q6jqA9YyhAMn5XnOhXqTQFGGskVJc+STpQyfDncwsOeh4ib0g4tqa8w9RirBaPpRQyvyPVKwVh5YjYyjA/+/T9ygTLqMfpgCgl8xzvijtGpufcQjMecIRiBcoZgBIKRliLuc0MMo57C1NNcY7QVgARSMARjfWsmwytKQsXY36/lkMZcx2CkJfxBNpd1cRSGQ2z8PMO9EttlkDd2unTcENfMFkZq+Ev/DtHpz91TMF7YtysYFXZ6r3qh/f+n/+49K5n2BTl7ZTTG+GmrzJ5gEB459vHEFmUIBnP2mQNDCbwlJzDipWBMYEOC5wi8J4F5xmj7fBkOOZVJn2CMlTNWQ5p5pWAEgvHVw8Rpn9zDvFZh6mkJPcJO9OJnKlPJGYIRKEwJRhQYzNifey/ljAqLkl3hCIZgxHsG3tV7h7xOypAypIw2hUkZUkYsZZhHfrRyZQXHDqHg5+UTv5pl9sqwDvhi5V/LQyb8ruo61axhuCLQ6cuOt4JTblBOGoCqKWTuMBCOsDi3pgCHg8+uaoWqucNAfkCHrx2n5ArBZ9VeExAMwWgdTf11z6h2doiPmuD9Jy1P/pA3qoUp+65QZ4ekcwmrnaqD4asn6tETuNkR6lQdnPda/bypRqJePmVbKdXOn2rYcVkyYKBMjMwYHLw7yklsrpBRJ31mQ9rRWLRViAVjGyMXB1JkUIlnjVG34Yhof9HLOhQYvpHswGHgLaI5nt5ZfAI0DYYDSWcVzu1c26JckRTNhoFwlV7pgkImGbI8NKX3CP9gaMsIkVQYrg4ASTv8kNSR3LB2hOEfxWhGw/vcw+cRsB/tSMkabcMoktYmOozGjhH9lYCey/iDwXCV6O9n9AAyKIw+oUDXkt7PUEdynipKGT3CyNBOJxiCwZH10J5a+/5ShpQhZbSpTsqQMqQMKSOQCgRDMBSSug6RlcADqUUwBEOhSwk8kAoEIziM/5ZTLyXvAlkpAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAUXSURBVHhe7V2rUlxBEE1FRyCQEQhEPiAiIoIPQKWQCAQ2VZEIBFX5hHwAAolEIhAREZGISEREBAIRGbHpQ/VUpnYvl57pvtne3SOmCnZnhp4+fU7P497hxWw2e8GSwwcEIlEwEgyCkUMWsskzmUFmkBlDrCQzyAwyg8xIxAKCQTAoSdYpNBN4IrYQDIJB6WICT8QCgrHJYLz88PGVlEMpF1JupTxIma1ggd2w/1LKkZQt6wyppd5kCVwM3pfycwUdbwmWexnXQYujLXXDwVA2fKlAuJafj6Xs4juLUdnq6Jje6DgwngLYeSRLQsFQo3+osaD2UTbHRtijUlUk9y4KkGgwCiO+ioGvIwaetQ+MTwrGCZacR9gZBobmCBiGiFlrIIrjFZDCkH0vICFgqDyVZL2W0vSUo1WyEIQYvysnRoGB6SsMuvZGxyq2l3Hf6PgPPfZHgYF1BMA4bjVG2pxp27PWtqjvbV9JTrcdYsOpjuGiZwylTRQYWBABjN1WY7zO9LYPAgNrKoz/tnX8df0oMEoSa9ZMrzMrzXbNaDx2SNttBeMhAxiPi6AeQzxOUJnC9oR7ehlgR7cPomXKbIg6zrLlYAI3AzM0KMw+eCpoo2TKbMgEYJSZnCt5bjQzxhJnAcwie1J3T+vfWOpXf9fETqv8tticjhkEY/G0c2kylQWMQDvMUp2OGZbcYZEd6eed9vXNUn9epgiG8bTP4lwBYkfBuLPUJxgjZ88BsxgXGIEMXT2Zmo9egvEvkf/3BD4BGGUr4r5Fpiawg8yIWv0GMJRgEIy5hOxZfXojkmDkA6Ns4Xc/XOYNCk9ALm3XNjpxKjPwuAw0e6c3iROMzmNTy9rAusE3tgJvAXZjmUEwxlfR3dO6HnmYj0L5/bt+9rY3offYUTNn45lRSUx5VGaPYOjGX4vGerR6gBkE46kd0BZQeuSBOSNhzngOlKmDgjljICgElHMFpvs53x6GEgyCMf6qsGda541InT2RGctK4ANbKp81IE5b8sSczHQ/+Nw7nZ63deUPl9QRLkdG9OFRh3XbKCQYiWSKYESA0avx2dqthUxlc2qvPQQj0V0gBINgLC4AI6KiVx6ytIvwwdLXGVmc6bWDYFCm4mRKoum9lCspuDIIBT8/ntZZi7cPb/vI6b150GPO6aGotPkk5c/AmQQ+M+0xefvwtl+LLXSNRjj90fFScEMNykkF0ChDvH142w9sVnY/lLHUvSmVIxi/wAAFB99dPcNGSFp3HxE2rAszkB/gyIWrkJQh+G70EX/NMd19eNuvEzMIxsAkJSqB/9ZIN90dUknEyUCEIW+0yFRXHxE2VDOpVHeHlHsJTbfqiCPwIr03gbv6iLChAiPVrTq477XpvqkqUQ/dVGC6e8rbh7d9BUa5b+rSuj4aqhclU+Vmm6ab2DQ6vYs+MKS7jyAbyhON3Y8KAZwoMLaq2YnLIE9kLaOtjLsEIiYl3S/rhIGhB/oHKlV4i2gTb+903wAdwoxKO8tdhZt2r60rV4SuwCswIFfllS4wZC0lS6WpvEf4S37fjpDIUGaoXAGQ8oQfZkpIbphtYPoXYnTEwFv6gN1qP8ZRkjXGhllk2JjCwZibe/O/BDQcB0wGhrKE/z8jCxgtUsC6QesMOtJ+Mjnmq0lliiC1gUQwGjR96uAiGASjjb5TR2SW/skMMoPMmOw8IwvNV90OyhRlijJFmUrEAoJBMChJ1okFE3githAMgkHpGpKuv887tA5HhhPjAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAPhJREFUeF7tyKEBADAQhLDff+nrAngqEDG5bfkEZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZgy7B/6DRu7DB74QAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/copy-content.770c7d5d.svg\";","export default {\r\n    root: {\r\n        flexGrow: 1,\r\n        display: 'flex',\r\n        width: '100%',\r\n        height: '100%'\r\n    },\r\n    menu: {\r\n        width: 300,\r\n        depthOffset: 20\r\n    },\r\n    colors: {\r\n        primary: '#3399CC',\r\n        secondary: '#164477',\r\n        selected: {\r\n            background: '#164477',\r\n            color: 'white'\r\n        },\r\n        error: {\r\n            background: '#dc0300',\r\n            color: '#FFFFFF'\r\n        }\r\n    },\r\n    toolbar: {\r\n        height: 48\r\n    },\r\n    tabs: {\r\n        height: 48\r\n    }\r\n};","/**\n * Copyright 2018 bluefox <dogafox@gmail.com>\n *\n * Licensed under the Creative Commons Attribution-NonCommercial License, Version 4.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://creativecommons.org/licenses/by-nc/4.0/legalcode.txt\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **/\n\nclass I18n {\n    static translations = {\n        'en': require('./i18n/en'),\n        'ru': require('./i18n/ru'),\n        'de': require('./i18n/de'),\n    };\n\n    static lang = window.sysLang || 'en';\n\n    static setLanguage(lang) {\n        if (lang) {\n            I18n.lang = lang;\n        }\n    }\n    static getLanguage() {\n        return I18n.lang;\n    }\n    static t(word, arg1, arg2, arg3) {\n        if (I18n.translations[I18n.lang]) {\n            const w = I18n.translations[I18n.lang][word];\n            if (w) {\n                word = w;\n            } else {\n                console.log(`Translate: ${word}`);\n            }\n        }\n        if (arg1 !== undefined) {\n            word = word.replace('%s', arg1);\n            if (arg2 !== undefined) {\n                word = word.replace('%s', arg2);\n                if (arg3 !== undefined) {\n                    word = word.replace('%s', arg3);\n\n                }\n            }\n        }\n        return word;\n    }\n}\n\n/*I18n.translations = {\n    'en': require('./i18n/en'),\n    'ru': require('./i18n/ru'),\n    'de': require('./i18n/de'),\n};\nI18n.fallbacks = true;\nI18n.t = function () {};*/\n\nexport default I18n;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport I18n from '../i18n';\r\n\r\nclass DialogRename extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: props.name,\r\n            id: props.id,\r\n            instance: props.instance || 0\r\n        };\r\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\r\n        this.prefix = this.getPrefix(props.id);\r\n        this.oldId = props.id;\r\n    }\r\n\r\n    getPrefix(id) {\r\n        const parts = (id || '').split('.');\r\n        parts.pop();\r\n        return parts.join('.');\r\n    }\r\n\r\n    getId(name) {\r\n        name = (name || '').replace(/[\\\\/\\][*,;'\"`<>?\\s]/g, '_');\r\n        return this.prefix + '.' + name;\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.name !== this.props.name) {\r\n            this.setState({name: nextProps.name});\r\n        }\r\n        if (nextProps.id !== this.props.id) {\r\n            this.prefix = this.getPrefix(nextProps.id);\r\n            this.setState({id: nextProps.id});\r\n        }\r\n    }\r\n\r\n    handleCancel = () => {\r\n        this.props.onClose();\r\n    };\r\n\r\n    handleOk = () => {\r\n        this.props.onRename(this.oldId, this.state.id, this.state.name, this.state.instance);\r\n        this.props.onClose();\r\n    };\r\n\r\n    handleChange = name => {\r\n        this.setState({name, id: this.getId(name)});\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Dialog\r\n                disableBackdropClick\r\n                disableEscapeKeyDown\r\n                maxWidth=\"md\"\r\n                fullWidth={true}\r\n                open={true}\r\n                aria-labelledby=\"confirmation-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Rename')}</DialogTitle>\r\n                <DialogContent>\r\n                    <form noValidate autoComplete=\"off\">\r\n                        <TextField\r\n                            style={{width: '100%'}}\r\n                            id=\"standard-name\"\r\n                            label={I18n.t('Name')}\r\n                            value={this.state.name}\r\n                            onChange={e => this.handleChange(e.target.value)}\r\n                            margin=\"normal\"\r\n                        />\r\n                        <TextField\r\n                            id=\"standard-name-id\"\r\n                            style={{width: '100%'}}\r\n                            label={I18n.t('ID')}\r\n                            value={this.state.id}\r\n                            disabled={true}\r\n                            margin=\"normal\"\r\n                        />\r\n                        {\r\n                            this.isShowInstance && (\r\n                                <FormControl>\r\n                                    <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\r\n                                    <Select\r\n                                        value={this.state.instance}\r\n                                        onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\r\n                                        inputProps={{name: 'instance', id: 'instance'}}\r\n                                    >\r\n                                        {this.props.instances.map(instance => (<MenuItem value={instance}>{instance || '0'}</MenuItem>))}\r\n                                    </Select>\r\n                                </FormControl>)\r\n                        }\r\n                    </form>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={this.handleOk} color=\"primary\">{I18n.t('Ok')}</Button>\r\n                    <Button onClick={this.handleCancel} color=\"primary\">{I18n.t('Cancel')}</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nDialogRename.propTypes = {\r\n    onClose: PropTypes.func,\r\n    onRename: PropTypes.func,\r\n    name: PropTypes.string,\r\n    id: PropTypes.string,\r\n    instance: PropTypes.number,\r\n    instances: PropTypes.array,\r\n    folder: PropTypes.bool,\r\n};\r\n\r\nexport default DialogRename;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport {MdDelete as IconDelete} from 'react-icons/md';\r\n\r\nimport I18n from '../i18n';\r\n\r\nclass DialogDelete extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: props.name,\r\n            id: props.id,\r\n        };\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.name !== this.props.name) {\r\n            this.setState({name: nextProps.name});\r\n        }\r\n        if (nextProps.id !== this.props.id) {\r\n            this.setState({id: nextProps.id});\r\n        }\r\n    }\r\n\r\n    handleCancel = () => {\r\n        this.props.onClose(null);\r\n    };\r\n\r\n    handleOk = () => {\r\n        this.props.onDelete(this.state.id);\r\n        this.props.onClose(this.props.value);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Dialog\r\n                disableBackdropClick\r\n                disableEscapeKeyDown\r\n                maxWidth=\"md\"\r\n                fullWidth={true}\r\n                open={true}\r\n                aria-labelledby=\"confirmation-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Are you sure?')}</DialogTitle>\r\n                <DialogContent>\r\n                    <IconDelete/>\r\n                    <span style={{fontSize: 14, fontWeight: 'bold'}}>{I18n.t('Delete %s', this.state.name)}</span>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={this.handleOk} color=\"primary\">{I18n.t('Ok')}</Button>\r\n                    <Button onClick={this.handleCancel} color=\"primary\">{I18n.t('Cancel')}</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nDialogDelete.propTypes = {\r\n    onClose: PropTypes.func,\r\n    onDelete: PropTypes.func,\r\n    name: PropTypes.string,\r\n    id: PropTypes.string,\r\n};\r\n\r\nexport default DialogDelete;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\n\r\nimport ImgJS from '../assets/tileJS.png';\r\nimport ImgTS from '../assets/tileTS.png';\r\nimport ImgBlockly from '../assets/tileBlockly.png';\r\n\r\nimport I18n from '../i18n';\r\n\r\nconst styles = {\r\n    card: {\r\n        maxWidth: 345,\r\n        display: 'inline-block',\r\n        margin: '0 10px 0 10px'\r\n    },\r\n    media: {\r\n        height: 100,\r\n    },\r\n};\r\nclass DialogAddNew extends React.Component {\r\n    handleCancel = () => {\r\n        this.props.onClose();\r\n    };\r\n\r\n    handleOk = type => {\r\n        this.props.onClose(type);\r\n    };\r\n\r\n    openHtml(html) {\r\n        const win = window.open(html, '_blank');\r\n        win.focus();\r\n    }\r\n\r\n    getJSCard() {\r\n        return (<Card className={this.props.classes.card}>\r\n            <CardActionArea\r\n                onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>\r\n                <CardMedia\r\n                    className={this.props.classes.media}\r\n                    image={ImgJS}\r\n                    title=\"Javascript\"\r\n                />\r\n                <CardContent>\r\n                    <h2>Javascript</h2>\r\n                    <p>{I18n.t('JS description')}</p>\r\n                </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>{I18n.t('Add')}</Button>\r\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/doc/en/javascript.md')}>{I18n.t('Learn More')}</Button>\r\n            </CardActions>\r\n        </Card>);\r\n    }\r\n    getTSCard() {\r\n        return (<Card className={this.props.classes.card}>\r\n            <CardActionArea\r\n                onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>\r\n                <CardMedia\r\n                    className={this.props.classes.media}\r\n                    image={ImgTS}\r\n                    title=\"Typescript\"\r\n                />\r\n                <CardContent>\r\n                    <h2>Typescript</h2>\r\n                    <p>{I18n.t('TS description')}</p>\r\n                </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>{I18n.t('Add')}</Button>\r\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/doc/en/javascript.md#global-functions')}>{I18n.t('Learn More')}</Button>\r\n            </CardActions>\r\n        </Card>);\r\n    }\r\n    getBlocklyCard() {\r\n        return (<Card className={this.props.classes.card}>\r\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Blockly')}>\r\n                <CardMedia\r\n                    className={this.props.classes.media}\r\n                    image={ImgBlockly}\r\n                    title=\"Blockly\"\r\n                />\r\n                <CardContent>\r\n                    <h2>Blockly</h2>\r\n                    <p>{I18n.t('Blockly description')}</p>\r\n                </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Blockly')}>{I18n.t('Add')}</Button>\r\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/doc/en/blockly.md')}>{I18n.t('Learn More')}</Button>\r\n            </CardActions>\r\n        </Card>);\r\n    }\r\n    render() {\r\n        return (\r\n            <Dialog\r\n                disableBackdropClick\r\n                disableEscapeKeyDown\r\n                maxWidth=\"md\"\r\n                fullWidth={true}\r\n                open={true}\r\n                aria-labelledby=\"confirmation-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Add new script')}</DialogTitle>\r\n                <DialogContent style={{textAlign: 'center'}}>\r\n                    {this.getJSCard()}\r\n                    {this.getBlocklyCard()}\r\n                    {this.getTSCard()}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={this.handleCancel} color=\"primary\">{I18n.t('Cancel')}</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nDialogAddNew.propTypes = {\r\n    onClose: PropTypes.func\r\n};\r\n\r\nexport default withStyles(styles)(DialogAddNew);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport I18n from '../i18n';\r\n\r\nclass DialogNew extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: props.name || 'Script',\r\n            instance: props.instance || 0,\r\n            parent: props.parent\r\n        };\r\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\r\n    }\r\n\r\n    getId(name) {\r\n        name = name || this.state.name || '';\r\n        name = name.replace(/[\\\\/\\][*,;'\"`<>?\\s]/g, '_');\r\n        return (this.state ? this.state.parent : this.props.parent) + '.' + name;\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.name !== this.props.name) {\r\n            this.setState({name: nextProps.name});\r\n        }\r\n    }\r\n\r\n    handleCancel = () => {\r\n        this.props.onClose();\r\n    };\r\n\r\n    handleOk = () => {\r\n        this.props.onAdd(this.getId(this.state.name), this.state.name, this.state.instance, this.props.type);\r\n        this.props.onClose();\r\n    };\r\n\r\n    handleChange = name => {\r\n        this.setState({name, id: this.getId(name)});\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Dialog\r\n                disableBackdropClick\r\n                disableEscapeKeyDown\r\n                maxWidth=\"md\"\r\n                fullWidth={true}\r\n                open={true}\r\n                aria-labelledby=\"confirmation-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Create new')}</DialogTitle>\r\n                <DialogContent>\r\n                    <form noValidate autoComplete=\"off\">\r\n                        <TextField\r\n                            style={{width: '100%'}}\r\n                            id=\"standard-name\"\r\n                            label={I18n.t('Name')}\r\n                            value={this.state.name}\r\n                            onChange={e => this.handleChange(e.target.value)}\r\n                            margin=\"normal\"\r\n                        />\r\n                        <FormControl style={{minWidth: 100}}>\r\n                            <InputLabel htmlFor=\"parent\">{I18n.t('Folder')}</InputLabel>\r\n                            <Select\r\n                                style={{width: '100%'}}\r\n                                value={this.state.parent}\r\n                                onChange={e => this.setState({parent: e.target.value})}\r\n                                inputProps={{name: 'parent', id: 'parent',}}\r\n                            >\r\n                                {this.props.parents.map(parent => {\r\n                                    const parts = parent.id.split('.');\r\n                                    parts.splice(0, 2); // remove script.js\r\n                                    const names = [];\r\n                                    let id = 'script.js';\r\n                                    parts.forEach((n, i) => {\r\n                                        id += '.' + n;\r\n                                        const el = this.props.parents.find(item => item.id === id);\r\n                                        if (el) {\r\n                                            names.push(el.name);\r\n                                        } else {\r\n                                            names.push(n);\r\n                                        }\r\n                                    });\r\n                                    if (!names.length) {\r\n                                        names.push(parent.name);\r\n                                    }\r\n                                    return (<MenuItem key={parent.id} value={parent.id}>{names.join(' / ')}</MenuItem>)\r\n                                })}\r\n                            </Select>\r\n                        </FormControl>\r\n                        <TextField\r\n                            id=\"standard-name-id\"\r\n                            style={{width: '100%'}}\r\n                            label={I18n.t('ID')}\r\n                            value={this.getId()}\r\n                            disabled={true}\r\n                            margin=\"normal\"\r\n                        />\r\n                        {\r\n                            this.isShowInstance && (\r\n                                <FormControl>\r\n                                <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\r\n                                <Select\r\n                                    value={this.state.instance}\r\n                                    onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\r\n                                    inputProps={{name: 'instance', id: 'instance',}}\r\n                                >\r\n                                    {this.props.instances.map(instance => (<MenuItem value={instance}>{instance || '0'}</MenuItem>))}\r\n                                </Select>\r\n                            </FormControl>)\r\n                        }\r\n                    </form>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={this.handleOk} color=\"primary\">{I18n.t('Ok')}</Button>\r\n                    <Button onClick={this.handleCancel} color=\"primary\">{I18n.t('Cancel')}</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nDialogNew.propTypes = {\r\n    onClose: PropTypes.func,\r\n    onAdd: PropTypes.func,\r\n    name: PropTypes.string,\r\n    title: PropTypes.string,\r\n    parent: PropTypes.string,\r\n    instance: PropTypes.number,\r\n    instances: PropTypes.array,\r\n    parents: PropTypes.array,\r\n    folder: PropTypes.bool,\r\n    type: PropTypes.string,\r\n};\r\n\r\nexport default DialogNew;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport I18n from '../i18n';\r\nimport Themes from '../Theme';\r\n\r\nconst styles = theme => ({\r\n    titleBackground: {\r\n        background: Themes.colors.error.background\r\n    },\r\n    titleColor: {\r\n        color: Themes.colors.error.color,\r\n        '&>h2': {\r\n            color: Themes.colors.error.color,\r\n        }\r\n    },\r\n});\r\n\r\nclass DialogError extends React.Component {\r\n    handleOk = () => {\r\n        this.props.onClose && this.props.onClose();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Dialog\r\n                open={true}\r\n                maxWidth=\"sm\"\r\n                fullWidth={true}\r\n                onClose={() => this.handleOk()}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle className={this.props.classes.titleBackground}\r\n                             classes={{root: this.props.classes.titleColor}}\r\n                             id=\"alert-dialog-title\">{this.props.title || I18n.t('Error')}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {this.props.text || I18n.t('Unknown error!')}\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => this.handleOk()} color=\"primary\" autoFocus>{I18n.t('Ok')}</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nDialogError.propTypes = {\r\n    onClose: PropTypes.func,\r\n    title: PropTypes.string,\r\n    text: PropTypes.string,\r\n    icon: PropTypes.object\r\n};\r\n\r\nexport default withStyles(styles)(DialogError);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {DragDropContext, Droppable, Draggable} from 'react-beautiful-dnd';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport red from '@material-ui/core/colors/red';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\nimport {MdMoreVert as IconMore} from 'react-icons/md';\r\nimport {MdFolder as IconFolder} from 'react-icons/md';\r\nimport {MdDelete as IconDelete} from 'react-icons/md';\r\nimport {MdInput as IconDoEdit} from 'react-icons/md';\r\nimport {MdDragHandle as IconGrip} from 'react-icons/md';\r\nimport {MdExpandMore as IconExpand} from 'react-icons/md';\r\nimport {MdExpandLess as IconCollapse} from 'react-icons/md';\r\nimport {MdPlayArrow as IconPlay} from 'react-icons/md';\r\nimport {MdAdd as IconAdd} from 'react-icons/md';\r\nimport {MdCreateNewFolder as IconAddFolder} from 'react-icons/md';\r\nimport {MdPause as IconPause} from 'react-icons/md';\r\nimport {MdSwapVert as IconReorder} from 'react-icons/md';\r\nimport {MdEdit as IconEdit} from 'react-icons/md';\r\nimport {MdSearch as IconFind} from 'react-icons/md';\r\nimport {MdPersonPin as IconExpert} from 'react-icons/md';\r\nimport {FaFileExport as IconExport} from 'react-icons/fa';\r\nimport {FaFileImport as IconImport} from 'react-icons/fa';\r\n\r\nimport ImgJS from './assets/js.png';\r\nimport ImgBlockly from './assets/blockly.png';\r\nimport ImgTypeScript from './assets/typescript.png';\r\n\r\nimport Theme from './Theme';\r\nimport I18n from './i18n';\r\nimport DialogRename from './Dialogs/Rename';\r\nimport DialogDelete from './Dialogs/Delete';\r\nimport DialogAddNewScript from './Dialogs/AddNewScript';\r\nimport DialogNew from './Dialogs/New';\r\nimport DialogError from './Dialogs/Error';\r\n\r\nconst MENU_ITEM_HEIGHT = 48;\r\n\r\nconst styles = theme => ({\r\n    drawerPaper: {\r\n        position: 'relative',\r\n        width: Theme.menu.width,\r\n    },\r\n    toolbar: {\r\n        height: Theme.toolbar.height\r\n    },\r\n    toolbarButtons: {\r\n    },\r\n    iconButtons: {\r\n        width: 32,\r\n        height: 32,\r\n        padding: 2\r\n    },\r\n    iconDropdownMenu: {\r\n        paddingRight: 5\r\n    },\r\n    menu: {\r\n        width: '100%',\r\n        height: '100%'\r\n    },\r\n    innerMenu: {\r\n        width: '100%',\r\n        height: '100%',\r\n        overflowX: 'hidden',\r\n        overflowY: 'auto'\r\n    },\r\n    scriptIcon: {\r\n        width: 18,\r\n        height: 18,\r\n        borderRadius: 2\r\n    },\r\n    gripHandle: {\r\n        paddingRight: 13\r\n    },\r\n    noGripHandle: {\r\n        width: 29\r\n    },\r\n    folder: {\r\n        background: '#e2e2e2',\r\n        cursor: 'pointer',\r\n        padding: 0,\r\n        userSelect: 'none'\r\n    },\r\n    element: {\r\n        cursor: 'pointer',\r\n        padding: 0,\r\n        userSelect: 'none'\r\n    },\r\n    reorder: {\r\n        padding: '9px 16px 9px 9px',\r\n    },\r\n    expandButton: {\r\n        width: 37,\r\n        height: 37\r\n    },\r\n    selected: Theme.colors.selected,\r\n    instances: {\r\n        color: 'gray',\r\n        fontSize: 'smaller'\r\n    }\r\n});\r\n\r\nconst images = {\r\n    'Blockly': ImgBlockly,\r\n    'Javascript/js': ImgJS,\r\n    def: ImgJS,\r\n    'TypeScript/ts': ImgTypeScript,\r\n};\r\n\r\nconst getItemStyle = (isDragging, draggableStyle) => ({\r\n    userSelect: 'none',\r\n    background: isDragging ? 'lightgreen' : 'inherit',\r\n    ...draggableStyle,\r\n});\r\n\r\nconst getObjectName = (id, obj, lang) => {\r\n    lang = lang || I18n.getLanguage();\r\n    if (obj && obj.common && obj.common.name) {\r\n        if (typeof obj.common.name === 'object') {\r\n            return obj.common.name[lang] || obj.common.name.en;\r\n        } else {\r\n            return obj.common.name;\r\n        }\r\n    } else {\r\n        return id.replace(/^script\\.js./, '');\r\n    }\r\n};\r\n\r\nconst prepareList = data => {\r\n    const result = [];\r\n    const ids = Object.keys(data);\r\n    ids.sort((a, b) => {\r\n        if ((a === 'script.js.common' || a === 'script.js.global') && (b === 'script.js.common' || b === 'script.js.global')) {\r\n            return a > b ? 1 : -1;\r\n        } else if (a === 'script.js.common' || a === 'script.js.global' || b === 'script.js.common' || b === 'script.js.global') {\r\n            return 1;\r\n        } else {\r\n            return a > b ? 1 : -1;\r\n        }\r\n    });\r\n\r\n    for (let i = 0; i < ids.length; i++) {\r\n        const obj = data[ids[i]];\r\n        const parts = ids[i].split('.');\r\n        parts.pop();\r\n        result.push({\r\n            id: ids[i],\r\n            title: getObjectName(ids[i], obj, 'de'),\r\n            enabled: obj && obj.common && obj.common.enabled,\r\n            depth: parts.length - 2,\r\n            type: obj.type === 'script' ? obj.common.engineType : 'folder',\r\n            parent: parts.length > 2 ? parts.join('.') : null,\r\n            instance: obj.common.engine ? parseInt(obj.common.engine.split('.').pop(), 10) || 0 : null\r\n        });\r\n    }\r\n\r\n    // Place all folder-less scripts at start\r\n    result.sort((a, b) => {\r\n        // without folders => always at start\r\n        if (!a.parent && a.type !== 'folder' && !b.parent && b.type !== 'folder') {\r\n            if (a.id === b.id) return 0;\r\n            return a.id > b.id ? 1 : -1;\r\n        } else if (!a.parent && a.type !== 'folder') {\r\n            return -1;\r\n        } else if (!b.parent && b.type !== 'folder') {\r\n            return 1;\r\n        } else {\r\n            // common and global are always at the end\r\n            if ((a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) &&\r\n                (a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global'))) {\r\n                if (a.id === b.id) return 0;\r\n                return a.id > b.id ? 1 : -1;\r\n            } else if (a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) {\r\n                return 1;\r\n            } else if (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global')) {\r\n                return -1;\r\n            } else {\r\n                if (a.id === b.id) return 0;\r\n                return a.id > b.id ? 1 : -1;\r\n            }\r\n        }\r\n    });\r\n\r\n    // Fill all index\r\n    result.forEach((item, i) => item.index = i);\r\n\r\n    // Fill all parentIndex\r\n    result.forEach(item => {\r\n        if (item.parent) {\r\n            item.parentIndex = result.find(it => it.id === item.parent).index;\r\n        }\r\n    });\r\n\r\n    return result;\r\n};\r\n\r\nclass SideDrawer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let expanded = window.localStorage ? window.localStorage.getItem('SideMenu.expanded') : '[]';\r\n        try {\r\n            expanded = JSON.parse(expanded) || [];\r\n        } catch (e) {\r\n            expanded = [];\r\n        }\r\n\r\n        this.state = {\r\n            listItems: prepareList(props.scripts || {}),\r\n            expanded: expanded,\r\n            reorder: false,\r\n            dragDepth: 0,\r\n            draggedId: null,\r\n            selected: window.localStorage ? window.localStorage.getItem('SideMenu.selected') || null : null,\r\n            creatingScript: false,\r\n            creatingFolder: false,\r\n            renaming: null,\r\n            deleting: null,\r\n            choosingType: null,\r\n            errorText: '',\r\n            instances: props.instances || [],\r\n            menuOpened: false,\r\n            menuAnchorEl: null,\r\n            expertMode: this.props.expertMode,\r\n            runningInstances: this.props.runningInstances || {}\r\n        };\r\n\r\n        const newExp = this.ensureSelectedIsVisible();\r\n        if (newExp) {\r\n            this.state.expanded = newExp;\r\n        }\r\n\r\n        this.scriptsHash = props.scriptsHash;\r\n\r\n        this.state.isAllZeroInstances = this.getIsAllZeroInstances();\r\n    }\r\n\r\n    ensureSelectedIsVisible(selected, expanded) {\r\n        expanded = JSON.parse(JSON.stringify(expanded || this.state.expanded));\r\n        selected = selected || this.state.selected;\r\n        let changed = false;\r\n        // ensure that the item is visible\r\n        let el = typeof selected === 'object' ? selected : this.state.listItems.find(it => it.id === selected);\r\n        do {\r\n            // eslint-disable-next-line\r\n            el = el && el.parent && this.state.listItems.find(it => it.id === el.parent);\r\n            if (el) {\r\n                if (expanded.indexOf(el.id) === -1) {\r\n                    expanded.push(el.id);\r\n                    changed = true;\r\n                }\r\n            }\r\n        } while (el);\r\n        return changed && expanded;\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.expertMode !== nextProps.expertMode) {\r\n            this.setState({expertMode: nextProps.expertMode});\r\n        }\r\n        if (this.scriptsHash !== nextProps.scriptsHash && nextProps.scripts) {\r\n            const listItems = prepareList(nextProps.scripts || {});\r\n            const isAllZeroInstances = this.getIsAllZeroInstances(listItems, nextProps.instances || []);\r\n            const newExp = this.ensureSelectedIsVisible();\r\n            const newState = {listItems, isAllZeroInstances};\r\n            if (newExp) {\r\n                newState.expanded = newExp;\r\n            }\r\n            this.setState(newState);\r\n        }\r\n\r\n        if (nextProps.selectId && this.state.selected !== nextProps.selectId) {\r\n            this.onClick(this.state.listItems.find(item => item.id === nextProps.selectId));\r\n        }\r\n        /*\r\n        const newState = {};\r\n        let changed = false;\r\n        if (this.expertMode !== nextProps.expertMode) {\r\n            changed = true;\r\n            newState.expertMode = nextProps.expertMode;\r\n        }\r\n        if (JSON.stringify(nextProps.runningInstances) !== JSON.stringify(this.state.runningInstances)) {\r\n            changed = true;\r\n            newState.runningInstances = nextProps.runningInstances;\r\n        }\r\n        if (this.scriptsHash !== nextProps.scriptsHash && nextProps.scripts) {\r\n            const listItems = prepareList(nextProps.scripts || {});\r\n            const isAllZeroInstances = this.getIsAllZeroInstances(listItems, nextProps.instances || []);\r\n            const newExp = this.ensureSelectedIsVisible();\r\n            if (newExp) {\r\n                newState.expanded = newExp;\r\n            }\r\n            this.setState(newState);\r\n            newState.listItems = nextProps.listItems;\r\n            newState.isAllZeroInstances = nextProps.isAllZeroInstances;\r\n            changed = true;\r\n        }\r\n\r\n        if (nextProps.selectId && this.state.selected !== nextProps.selectId) {\r\n            this.onClick(this.state.listItems.find(item => item.id === nextProps.selectId));\r\n        }\r\n        changed && this.setState(newState);*/\r\n    }\r\n\r\n    getIsAllZeroInstances(listItems, instances) {\r\n        listItems = listItems || this.state.listItems;\r\n        instances = instances || this.state.instances;\r\n        let isAllZeroInstances = !instances[0] && instances.length <= 1;\r\n\r\n        if (isAllZeroInstances) {\r\n            listItems.forEach(item => {\r\n                if (item.type !== 'folder' && item.instance !== 0) {\r\n                    isAllZeroInstances = false;\r\n                }\r\n            });\r\n        }\r\n        return isAllZeroInstances;\r\n    }\r\n\r\n    saveExpanded(expanded) {\r\n        window.localStorage.setItem('SideMenu.expanded', JSON.stringify(expanded || this.state.expanded));\r\n    }\r\n\r\n    showError(err) {\r\n        this.setState({errorText: err});\r\n    }\r\n\r\n    onExpand(id, e) {\r\n        e && e.stopPropagation();\r\n        if (this.state.expanded.indexOf(id) === -1) {\r\n            const expanded = this.state.expanded.concat([id]);\r\n            this.setState({expanded});\r\n            this.saveExpanded(expanded);\r\n        }\r\n    }\r\n\r\n    onCollapse(id, e) {\r\n        e && e.stopPropagation();\r\n        const pos = this.state.expanded.indexOf(id);\r\n        if (pos !== -1) {\r\n            const expanded = this.state.expanded.concat([]);\r\n            expanded.splice(pos, 1);\r\n            if (this.state.selected && this.state.selected.startsWith(id + '.')) {\r\n                this.setState({expanded, selected: id});\r\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', id);\r\n            } else {\r\n                this.setState({expanded});\r\n            }\r\n            this.saveExpanded(expanded);\r\n        }\r\n    }\r\n\r\n    onDragEnd(result) {\r\n        // dropped outside the list\r\n        if (!result.destination) {\r\n            return;\r\n        }\r\n        let item = result.destination.index > result.source.index ? this.state.listItems[result.destination.index] : this.state.listItems[result.destination.index - 1];\r\n        while (item && (item.type !== 'folder' && item.parent)) {\r\n            item = this.state.listItems[item.parentIndex];\r\n        }\r\n        let parent = item ? item.id : 'script.js';\r\n        let newId = parent + '.' + result.draggableId.split('.').pop();\r\n        if (this.props.scripts[newId]) {\r\n            newId += '_' + I18n.t('copy');\r\n        }\r\n        this.props.onRename && this.props.onRename(result.draggableId, newId);\r\n    }\r\n\r\n    onDragStart(event) {\r\n        // fill the drag depth\r\n        this.setState({\r\n            dragDepth: this.state.listItems.find(i => i.id === event.draggableId).depth,\r\n            draggedId: event.draggableId\r\n        });\r\n    }\r\n\r\n    onDragUpdate = (update, provided) => {\r\n        if (!update.destination) return;\r\n        let item = this.state.listItems[update.destination.index - 1];\r\n        while (item && (item.type !== 'folder' || item.parent)) {\r\n            item = this.state.listItems[item.parentIndex];\r\n        }\r\n        if (item) {\r\n            this.setState({dragDepth: item.depth + 1});\r\n            console.log(`depth ${item.depth + 1}`);\r\n        } else {\r\n            console.log(`depth 0`);\r\n            this.setState({dragDepth: 0});\r\n        }\r\n    };\r\n\r\n    renderItemButtons(item, children) {\r\n        if (this.state.reorder) return null;\r\n        if (item.type !== 'folder') {\r\n            return [\r\n                (<IconButton className={this.props.classes.iconButtons} onClick={e => {\r\n                    e.stopPropagation();\r\n                    this.props.onEnableDisable && this.props.onEnableDisable(item.id, !item.enabled)\r\n                }}\r\n                     key=\"restart\"\r\n                     style={{color: item.enabled ? green[400] : red[400]}}>\r\n                    {item.enabled ? (<IconPause/>) : (<IconPlay/>)}\r\n                </IconButton>),\r\n                (<IconButton key=\"edit\" onClick={e => this.onEdit(item, e)}><IconDoEdit/></IconButton>)\r\n            ];\r\n        }\r\n    }\r\n\r\n    onDelete(item) {\r\n        return new Promise(resolve => {\r\n            if (typeof item !== 'object') {\r\n                this.setState({deleting: item});\r\n            } else {\r\n                this.setState({deleting: item.id});\r\n            }\r\n        });\r\n    }\r\n\r\n    onEdit(item, e) {\r\n        this.onClick(item, e);\r\n        this.props.onEdit && this.props.onEdit(item.id);\r\n    }\r\n\r\n    renderFolderButtons(item, children) {\r\n        if (this.state.reorder) {\r\n            if (item.type !== 'folder') {\r\n                return (<IconGrip className={this.props.classes.gripHandle}/>);\r\n            } else {\r\n                return (<div className={this.props.classes.noGripHandle}/>);\r\n            }\r\n        }\r\n        if (children && children.length) {\r\n            const isExpanded = this.state.expanded.indexOf(item.id) !== -1;\r\n            return (\r\n                <IconButton className={this.props.classes.expandButton}\r\n                            onClick={isExpanded ? e => this.onCollapse(item.id, e) : e => this.onExpand(item.id, e)}>\r\n                    {isExpanded ? (<IconCollapse fontSize=\"small\"/>) : (<IconExpand fontSize=\"small\"/>)}\r\n                </IconButton>\r\n            );\r\n        } else {\r\n            return (<div className={this.props.classes.expandButton}/>);\r\n        }\r\n    }\r\n\r\n    getTextStyle(item) {\r\n        if (!this.state.reorder && item.type !== 'folder') {\r\n            return {\r\n                width: 130,\r\n                overflow: 'hidden',\r\n                flex: 'none',\r\n                padding: '0 16px 0 0'\r\n            };\r\n        } else {\r\n            return {\r\n                padding: '0 16px 0 0'\r\n            };\r\n        }\r\n    }\r\n\r\n    onClick(item, e) {\r\n        e && e.stopPropagation();\r\n        if (!this.state.reorder && item) {\r\n            const expanded = this.ensureSelectedIsVisible(item);\r\n            const newState = {selected: item.id};\r\n            if (expanded) {\r\n                newState.expanded = expanded;\r\n            }\r\n            this.setState(newState);\r\n            window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\r\n        }\r\n    }\r\n\r\n    onDblClick(item, e) {\r\n        e && e.stopPropagation();\r\n        if (this.state.reorder) return;\r\n        if (item.type === 'folder') {\r\n            const isExpanded = this.state.expanded.indexOf(item.id) !== -1;\r\n            if (isExpanded) {\r\n                this.onCollapse(item.id);\r\n            } else {\r\n                this.onExpand(item.id);\r\n            }\r\n        } else {\r\n            this.onEdit(item);\r\n        }\r\n    }\r\n\r\n    renderOneItem(items, item) {\r\n        let children = items.filter(i => i.parent === item.id);\r\n\r\n        if (item.id === 'script.js.global' && !this.state.expertMode) {\r\n            return;\r\n        }\r\n\r\n        const depthPx = this.state.reorder ?\r\n            8 + (this.state.draggedId === item.id ? this.state.dragDepth : item.depth) * Theme.menu.depthOffset :\r\n            item.depth * Theme.menu.depthOffset;\r\n\r\n        let title = item.title;\r\n        if (!this.state.isAllZeroInstances && item.type !== 'folder') {\r\n            title = [(<span key=\"instance\" className={this.props.classes.instances}>[{item.instance}] </span>), (\r\n                <span key=\"title\">{title}</span>)];\r\n        }\r\n\r\n        const style = Object.assign({\r\n            paddingLeft: depthPx,\r\n            cursor: item.type === 'folder' && this.state.reorder ? 'default' : 'inherit'\r\n        }, item.id === this.state.selected && !this.state.reorder ? Theme.colors.selected : {});\r\n\r\n        if (item.id === 'script.js.global' && item.id !== this.state.selected) {\r\n            style.color = '#00a200';\r\n        }\r\n\r\n        const inner = (\r\n            <ListItem\r\n                key={item.id}\r\n                style={style}\r\n                className={(item.type === 'folder' ? this.props.classes.folder : this.props.classes.element) + ' ' + (this.state.reorder ? this.props.classes.reorder : '')}\r\n                onClick={e => this.onClick(item, e)}\r\n                onDoubleClick={e => this.onDblClick(item, e)}\r\n            >\r\n                {this.renderFolderButtons(item, children)}\r\n                <ListItemIcon>{item.type === 'folder' ? (<IconFolder/>) : (\r\n                    <img className={this.props.classes.scriptIcon} alt={item.type}\r\n                         src={images[item.type] || images.def}/>)}</ListItemIcon>\r\n                <ListItemText\r\n                    classes={{primary: item.id === this.state.selected && !this.state.reorder ? this.props.classes.selected : undefined}}\r\n                    style={this.getTextStyle(item)} primary={title}/>\r\n                <ListItemSecondaryAction>{this.renderItemButtons(item, children)}</ListItemSecondaryAction>\r\n            </ListItem>\r\n        );\r\n\r\n        const result = [this.state.reorder ? (\r\n            <Draggable key={item.id} draggableId={item.id} index={item.index} isDragDisabled={item.type === 'folder'}>\r\n                {(provided, snapshot) => (\r\n                    <div ref={provided.innerRef}\r\n                         {...provided.draggableProps}\r\n                         {...provided.dragHandleProps}\r\n                         style={getItemStyle(\r\n                             snapshot.isDragging,\r\n                             provided.draggableProps.style\r\n                         )}>\r\n                        {inner}\r\n                    </div>\r\n                )}\r\n            </Draggable>) : inner];\r\n\r\n        if (children && (this.state.reorder || this.state.expanded.indexOf(item.id) !== -1)) {\r\n            children.forEach(it => result.push(this.renderOneItem(items, it)));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    renderAllItems(items, dragging) {\r\n        const result = [];\r\n        items.forEach(item => !item.parent && result.push(this.renderOneItem(items, item, dragging)));\r\n\r\n        return (<List dense={true} disablePadding={true}>{result}</List>);\r\n    }\r\n\r\n    onAddNew(e) {\r\n        e && e.stopPropagation();\r\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\r\n        let parent = 'script.js';\r\n        while (item && item.type !== 'folder') {\r\n            item = this.state.listItems[item.parentIndex];\r\n        }\r\n        if (item) {\r\n            parent = item.id;\r\n        }\r\n\r\n        this.parent = parent;\r\n        this.setState({choosingType: true});\r\n    }\r\n\r\n    onAddNewFolder(e) {\r\n        e && e.stopPropagation();\r\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\r\n        let parent = 'script.js';\r\n        while (item && item.type !== 'folder') {\r\n            item = this.state.listItems[item.parentIndex];\r\n        }\r\n        if (item) {\r\n            parent = item.id;\r\n        }\r\n\r\n        this.parent = parent;\r\n        this.setState({creatingFolder: true});\r\n    }\r\n\r\n    onRename(e) {\r\n        e && e.stopPropagation();\r\n        this.setState({renaming: this.state.selected});\r\n    }\r\n\r\n    getUniqueName() {\r\n        let i = 1;\r\n        // eslint-disable-next-line\r\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + I18n.t('Script') + '_' + i)) {\r\n            i++;\r\n        }\r\n        /*ignore jslint end*/\r\n        return I18n.t('Script') + ' ' + i;\r\n    }\r\n\r\n    getUniqueFolderName() {\r\n        let i = 1;\r\n        // eslint-disable-next-line\r\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + I18n.t('Folder') + '_' + i)) {\r\n            i++;\r\n        }\r\n        return I18n.t('Folder') + ' ' + i;\r\n    }\r\n\r\n    getToolbarButtons() {\r\n        const result = [];\r\n        const classes = this.props.classes;\r\n        if (!this.state.reorder) {\r\n            // Menu\r\n            result.push((<IconButton\r\n                key=\"menuButton\"\r\n                aria-label=\"More\"\r\n                aria-owns={this.state.menuOpened ? 'long-menu' : undefined}\r\n                aria-haspopup=\"true\"\r\n                onClick={event => {\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    this.setState({menuOpened: true, menuAnchorEl: event.currentTarget});\r\n                }}\r\n            >\r\n                <IconMore />\r\n            </IconButton>));\r\n\r\n            result.push((<Menu\r\n                key=\"menu\"\r\n                id=\"long-menu\"\r\n                anchorEl={this.state.menuAnchorEl}\r\n                open={this.state.menuOpened}\r\n                onClose={() => this.setState({menuOpened: false, menuAnchorEl: null})}\r\n                PaperProps={{\r\n                    style: {\r\n                        maxHeight: MENU_ITEM_HEIGHT * 4.5,\r\n                        width: 200,\r\n                    },\r\n                }}\r\n            >\r\n                <MenuItem\r\n                    key=\"deleted\"\r\n                    disabled={!this.state.selected || this.state.selected === 'script.js.global' || this.state.selected === 'script.js.common'}\r\n                    onClick={event => {\r\n                        event.stopPropagation();\r\n                        event.preventDefault();\r\n                        if (this.state.listItems.find(item => item.parent === this.state.selected)) {\r\n                            this.showError(I18n.t('Cannot delete non empty item!'));\r\n                            return;\r\n                        }\r\n\r\n                        this.setState({menuOpened: false, menuAnchorEl: null}, () =>\r\n                            this.onDelete(this.state.selected).then(() => {}));\r\n                    }}><IconDelete className={this.props.classes.iconDropdownMenu}  style={{color: 'red'}}/>{I18n.t('Delete')}\r\n                </MenuItem>\r\n                <MenuItem key=\"expertMode\" selected={this.state.expertMode}\r\n                          onClick={event => {\r\n                              event.stopPropagation();\r\n                              event.preventDefault();\r\n                              this.setState({menuOpened: false, menuAnchorEl: null}, () =>\r\n                                  this.props.onExpertModeChange && this.props.onExpertModeChange(!this.state.expertMode));\r\n                          }}><IconExpert className={this.props.classes.iconDropdownMenu} style={{color: 'orange'}}/>{I18n.t('ExpertMode')}\r\n                </MenuItem>\r\n                {this.props.onExport && (<MenuItem key=\"exportAll\"\r\n                          onClick={event => {\r\n                              event.stopPropagation();\r\n                              event.preventDefault();\r\n                              this.setState({menuOpened: false, menuAnchorEl: null}, () =>\r\n                                  this.props.onExport && this.props.onExport());\r\n                          }}><IconExport className={this.props.classes.iconDropdownMenu} />{I18n.t('Export all scripts')}\r\n                </MenuItem>)}\r\n                {this.props.onImport && (<MenuItem key=\"import\"\r\n                          onClick={event => {\r\n                              event.stopPropagation();\r\n                              event.preventDefault();\r\n                              this.setState({menuOpened: false, menuAnchorEl: null}, () =>\r\n                                  this.props.onImport && this.props.onImport());\r\n                          }}><IconImport className={this.props.classes.iconDropdownMenu} />{I18n.t('Import scripts')}\r\n                </MenuItem>)}\r\n            </Menu>));\r\n\r\n            // New Script\r\n            result.push((<IconButton\r\n                key=\"new-script\"\r\n                className={classes.toolbarButtons}\r\n                style={{color: this.state.reorder ? 'red' : 'inherit'}}\r\n                onClick={e => this.onAddNew(e)}\r\n            ><IconAdd/></IconButton>));\r\n\r\n            // New Folder\r\n            result.push((<IconButton\r\n                key=\"new-folder\"\r\n                className={classes.toolbarButtons}\r\n                style={{color: this.state.reorder ? 'red' : 'inherit'}}\r\n                onClick={() => this.onAddNewFolder()}\r\n            ><IconAddFolder/></IconButton>));\r\n        }\r\n\r\n        // New Reorder button\r\n        result.push((<IconButton\r\n            key=\"reorder\"\r\n            className={classes.toolbarButtons}\r\n            style={{color: this.state.reorder ? 'red' : 'inherit', float: 'right'}}\r\n            onClick={e => {\r\n                e.stopPropagation();\r\n                this.setState({reorder: !this.state.reorder, draggedId: ''});\r\n            }}\r\n        ><IconReorder/></IconButton>));\r\n\r\n        // Search\r\n        if (!this.state.reorder) {\r\n            result.push((<IconButton\r\n                key=\"search\"\r\n                className={classes.toolbarButtons}\r\n                style={{float: 'right'}}\r\n                onClick={e => e.stopPropagation()}\r\n            ><IconFind/></IconButton>));\r\n        }\r\n\r\n        if (!this.state.reorder && this.state.selected && this.state.selected !== 'script.js.global' && this.state.selected !== 'script.js.common') {\r\n            // Rename\r\n            result.push((<IconButton className={classes.toolbarButtons}\r\n                 key=\"rename\"\r\n                 onClick={e => this.onRename(e)}\r\n            ><IconEdit/></IconButton>));\r\n\r\n\r\n            // const selectedItem = this.state.listItems.find(i => i.id === this.state.selected);\r\n            // if (selectedItem && selectedItem.type !== 'folder') {\r\n            //     // Restart\r\n            //     result.push((<IconButton className={classes.toolbarButtons}\r\n            //          key=\"restart\"\r\n            //          onClick={e => {\r\n            //              e.stopPropagation();\r\n            //              this.props.onEnableDisable && this.props.onEnableDisable();\r\n            //          }}\r\n            //     ><IconRestart/></IconButton>));\r\n            // }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    getFolders() {\r\n        const folders = [{id: 'script.js', name: I18n.t('Root folder')}];\r\n        this.state.listItems.forEach(item => item.type === 'folder' && folders.push({id: item.id, name: item.title}));\r\n        return folders;\r\n    }\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n\r\n        const renamingItem = this.state.renaming && this.state.listItems.find(i => i.id === this.state.renaming);\r\n\r\n        return [(\r\n            <Drawer\r\n                key=\"drawer\"\r\n                variant=\"permanent\"\r\n                className={classes.menu}\r\n                classes={{paper: classes.drawerPaper}}\r\n                anchor='left'\r\n                onClick={() => this.onClick({id: ''})}\r\n            >\r\n                <div className={classes.toolbar}>\r\n                    {this.getToolbarButtons()}\r\n                </div>\r\n                <Divider/>\r\n                <DragDropContext\r\n                    onDragStart={e => this.onDragStart(e)}\r\n                    onDragEnd={e => this.onDragEnd(e)}\r\n                    onDragUpdate={e => this.onDragUpdate(e)}\r\n                >\r\n                    <Droppable droppableId=\"droppable\">\r\n                        {(provided, snapshot) => (\r\n                            <div ref={provided.innerRef}\r\n                                //style={getListStyle(snapshot.isDraggingOver)}\r\n                                 className={classes.innerMenu}>\r\n                                {this.renderAllItems(this.state.listItems)}\r\n                            </div>\r\n                        )}\r\n                    </Droppable>\r\n                </DragDropContext>\r\n\r\n            </Drawer>),\r\n            renamingItem ? (<DialogRename\r\n                key=\"dialog-rename\"\r\n                name={renamingItem.title}\r\n                id={this.state.renaming}\r\n                folder={renamingItem.type === 'folder'}\r\n                instance={renamingItem.instance}\r\n                instances={this.props.instances}\r\n                onClose={() => this.setState({renaming: false})}\r\n                onRename={(oldId, newName, newId, newInstance) => this.props.onRename && this.props.onRename(oldId, newName, newId, newInstance)}\r\n            />) : null,\r\n            this.state.deleting ? (<DialogDelete\r\n                key=\"dialog-delete\"\r\n                name={this.state.listItems.find(i => i.id === this.state.deleting).title}\r\n                id={this.state.deleting}\r\n                onClose={() => this.setState({deleting: false})}\r\n                onDelete={id => this.props.onDelete && this.props.onDelete(id)}\r\n            />) : null,\r\n            this.state.choosingType ? (<DialogAddNewScript\r\n                key=\"dialog-script-type\"\r\n                onClose={type => {\r\n                    this.setState({choosingType: false});\r\n                    type && this.setState({creatingScript: type})\r\n                }}\r\n            />) : null,\r\n            this.state.creatingScript ? (<DialogNew\r\n                key=\"dialog-new-script\"\r\n                onClose={() => this.setState({creatingScript: false})}\r\n                title={I18n.t('Create new script')}\r\n                name={this.getUniqueName()}\r\n                parents={this.getFolders()}\r\n                folder={false}\r\n                instance={this.props.instances[0] || 0}\r\n                instances={this.props.instances}\r\n                type={this.state.creatingScript}\r\n                parent={this.parent}\r\n                onAdd={(id, name, instance, type) => {\r\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type);\r\n                }}\r\n            />) : null,\r\n            this.state.creatingFolder ? (<DialogNew\r\n                key=\"dialog-new-folder\"\r\n                onClose={() => this.setState({creatingFolder: false})}\r\n                title={I18n.t('Create new folder')}\r\n                parents={this.getFolders()}\r\n                name={this.getUniqueFolderName()}\r\n                parent={this.parent}\r\n                onAdd={(id, name) => {\r\n                    this.props.onAddNew && this.props.onAddNew(id, name, true);\r\n                }}\r\n            />) : null,\r\n            this.state.errorText ? (<DialogError onClose={() => this.setState({errorText: ''})} text={this.state.errorText}/>) : null\r\n        ];\r\n    }\r\n}\r\n\r\nSideDrawer.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    instances: PropTypes.array.isRequired,\r\n    scripts: PropTypes.object.isRequired,\r\n    scriptsHash: PropTypes.number,\r\n    onEdit: PropTypes.func,\r\n    selectId: PropTypes.string,\r\n    expertMode: PropTypes.bool,\r\n    onExpertModeChange: PropTypes.func,\r\n    onEnableDisable: PropTypes.func,\r\n    runningInstances: PropTypes.object,\r\n    onSelect: PropTypes.func,\r\n    onAddNew: PropTypes.func,\r\n    onRename: PropTypes.func,\r\n    onDelete: PropTypes.func,\r\n    onImport: PropTypes.func,\r\n    onExport: PropTypes.func,\r\n};\r\n\r\nexport default withStyles(styles)(SideDrawer);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {MdDeleteForever as IconDelete} from 'react-icons/md';\r\nimport {MdVerticalAlignBottom as IconBottom} from 'react-icons/md';\r\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\r\n\r\nimport I18n from './i18n';\r\nimport {withStyles} from \"@material-ui/core/styles/index\";\r\n\r\nfunction getTimeString(d) {\r\n    let text;\r\n    let i = d.getHours();\r\n    if (i < 10) i = '0' + i.toString();\r\n    text = i + ':';\r\n\r\n    i = d.getMinutes();\r\n    if (i < 10) i = '0' + i.toString();\r\n    text += i + ':';\r\n    i = d.getSeconds();\r\n    if (i < 10) i = '0' + i.toString();\r\n    text += i + '.';\r\n    i = d.getMilliseconds();\r\n    if (i < 10) {\r\n        i = '00' + i.toString();\r\n    } else if (i < 100) {\r\n        i = '0' + i.toString();\r\n    }\r\n    text += i;\r\n    return text;\r\n}\r\nconst TOOLBOX_WIDTH = 34;\r\n\r\nconst styles = theme => ({\r\n    logBox: {\r\n        width: '100%',\r\n        height: '100%',\r\n        position: 'relative',\r\n        overflow: 'hidden'\r\n    },\r\n    logBoxInner: {\r\n        width: `calc(100% - ${TOOLBOX_WIDTH}px)`,\r\n        height: '100%',\r\n        marginLeft: TOOLBOX_WIDTH,\r\n        overflow: 'auto',\r\n        position: 'relative'\r\n    },\r\n    info: {\r\n        background: 'lightgrey',\r\n    },\r\n    error: {\r\n        background: 'red',\r\n        color: 'white'\r\n    },\r\n    warn: {\r\n        background: 'orange',\r\n        color: 'white'\r\n    },\r\n    debug: {\r\n        background: 'gray',\r\n        opacity: 0.8,\r\n        color: 'white'\r\n    },\r\n    silly: {\r\n        background: 'gray',\r\n        opacity: 0.6,\r\n        color: 'white'\r\n    },\r\n    table: {\r\n        fontFamily: 'monospace',\r\n        width: '100%',\r\n\r\n    },\r\n    toolbox: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        marginLeft: 2,\r\n        width: TOOLBOX_WIDTH,\r\n        height: '100%',\r\n        boxShadow: '2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0px rgba(0, 0, 0, 0.14), 1px 0px 10px 0px rgba(0, 0, 0, 0.12)'\r\n    },\r\n    trTime: {\r\n        width: 90\r\n    },\r\n    trSeverity: {\r\n        width: 40,\r\n        fontWeight: 'bold'\r\n    },\r\n    iconButtons: {\r\n        width: 32,\r\n        height: 32,\r\n        padding: 4\r\n    }\r\n});\r\n\r\nfunction copyToClipboard(str) {\r\n    const el = window.document.createElement('textarea');\r\n    el.value = str;\r\n    window.document.body.appendChild(el);\r\n    el.select();\r\n    window.document.execCommand('copy');\r\n    window.document.body.removeChild(el);\r\n}\r\n\r\nfunction paddingMs(ms) {\r\n    if (ms < 10) return '00' + ms;\r\n    if (ms < 100) return '0' + ms;\r\n    return ms;\r\n}\r\nclass Log extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lines: {},\r\n            goBottom: true,\r\n            selected: null,\r\n            editing: this.props.editing || []\r\n        };\r\n        this.text = {};\r\n        this.lastIndex = null;\r\n        this.messagesEnd = React.createRef();\r\n        this.logHandlerBound = this.logHandler.bind(this);\r\n    }\r\n\r\n    generateLine(message) {\r\n        return (<tr key={'tr_' + message.ts} className={this.props.classes[message.severity]}>\r\n            <td key=\"tdTime\" className={this.props.classes.trTime}>{getTimeString(new Date(message.ts))}</td>\r\n            <td key=\"tdSeverity\" className={this.props.classes.trSeverity}>{message.severity}</td>\r\n            <td key=\"tdMessage\">{message.message}</td>\r\n        </tr>);\r\n    }\r\n\r\n    scrollToBottom() {\r\n        this.messagesEnd && this.messagesEnd.current && this.messagesEnd.current.scrollIntoView({behavior: 'smooth'});\r\n    }\r\n    logHandler(message) {\r\n        let allLines = this.state.lines;\r\n        const selected = this.state.editing.find(id => message.message.indexOf(id) !== -1);\r\n        if (!selected) return;\r\n\r\n        let lines = allLines[selected] || [];\r\n        let text = this.text[selected] || [];\r\n\r\n        lines.push(this.generateLine(message));\r\n        let severity = message.severity;\r\n        if (severity === 'info' || severity === 'warn') {\r\n            severity += ' ';\r\n        }\r\n        const date = new Date(message.ts);\r\n        text.push(`${date.toLocaleString()}.${paddingMs(date.getMilliseconds())}\\t[${severity}]: ${message.message}`);\r\n        if (lines.length > 300) {\r\n            lines.splice(0, lines.length - 300);\r\n            text.splice(0, lines.length - 300);\r\n        }\r\n        this.text[selected] = text;\r\n        allLines[selected] = lines;\r\n\r\n        this.setState({lines: allLines});\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.connection.registerLogHandler(this.logHandlerBound);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.connection.unregisterLogHandler(this.logHandlerBound);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.state.goBottom && this.scrollToBottom();\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.selected !== this.state.selected) {\r\n            let selected = nextProps.selected;\r\n            let allLines = this.state.lines;\r\n            allLines[selected] = allLines[selected] || [];\r\n            this.text[selected] = this.text[selected] || [];\r\n            this.setState({selected});\r\n        }\r\n\r\n        if (JSON.stringify(nextProps.editing) !== JSON.stringify(this.state.editing)) {\r\n            const editing = JSON.parse(JSON.stringify(nextProps.editing));\r\n            let allLines = this.state.lines;\r\n            for (const id in this.text) {\r\n                if (this.text.hasOwnProperty(id)) {\r\n                    if (editing.indexOf(id) === -1) {\r\n                        delete this.text[id];\r\n                        delete allLines[id];\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.setState({editing});\r\n        }\r\n    }\r\n\r\n    onCopy() {\r\n        copyToClipboard((this.text[this.state.selected] || []).join('\\n'));\r\n    }\r\n\r\n    clearLog() {\r\n        let allLines = this.state.lines;\r\n        if (allLines[this.state.selected]) {\r\n            allLines[this.state.selected] = [];\r\n        }\r\n        if (this.text[this.state.selected]) {\r\n            this.text[this.state.selected] = [];\r\n        }\r\n        this.setState({lines: allLines});\r\n    }\r\n\r\n    render() {\r\n        const lines = this.state.selected && this.state.lines[this.state.selected];\r\n        return (\r\n            <div className={this.props.classes.logBox}>\r\n                <div className={this.props.classes.toolbox} key=\"toolbox\">\r\n                    <IconButton className={this.props.classes.iconButtons} onClick={() => this.setState({goBottom: !this.state.goBottom})} color={this.state.goBottom ? 'secondary' : ''}><IconBottom/></IconButton>\r\n                    {lines && lines.length ? (<IconButton className={this.props.classes.iconButtons} onClick={() => this.clearLog()}><IconDelete/></IconButton>) : null}\r\n                    {lines && lines.length ? (<IconButton className={this.props.classes.iconButtons} onClick={() => this.onCopy()}><IconCopy/></IconButton>) : null}\r\n                </div>\r\n                {this.state.selected && lines && lines.length ?\r\n                    (<div className={this.props.classes.logBoxInner} key=\"logList\">\r\n                        <table key=\"logTable\" className={this.props.classes.table}><tbody>{lines}</tbody></table>\r\n                        <div key=\"logScrollPoint\" ref={this.messagesEnd} style={{float: 'left', clear: 'both'}}/>\r\n                    </div>) :\r\n                    (<div key=\"logList\" className={this.props.classes.logBoxInner} style={{paddingLeft: 10}}>{I18n.t('Log outputs')}</div>)\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nLog.propTypes = {\r\n    selected: PropTypes.string\r\n};\r\n\r\nexport default withStyles(styles)(Log);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport {MdGTranslate as IconNoCheck} from 'react-icons/md';\r\nimport I18n from './i18n';\r\n\r\nfunction isIdOfGlobalScript(id) {\r\n    return /^script\\.js\\.global\\./.test(id);\r\n}\r\nlet index = 0;\r\nclass ScriptEditor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: 'current',\r\n            isDark: props.isDark || false,\r\n            language: props.language || 'javascript',\r\n            readOnly: props.readOnly || false,\r\n            alive: true,\r\n            check: false,\r\n        };\r\n        this.monacoDiv = null; //ref\r\n        this.editor = null;\r\n        this.monaco = window.monaco;\r\n        this.insert = '';\r\n        this.originalCode = props.code || '';\r\n        this.globalTypingHandles  = [];\r\n        this.typings = {}; // TypeScript declarations\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!this.monaco) {\r\n            this.monaco = window.monaco;\r\n            if (!this.monaco) {\r\n                console.log('wait for monaco loaded');\r\n                return setTimeout(() => this.forceUpdate(), 100);\r\n            }\r\n        }\r\n        if (!this.editor) {\r\n            this.props.onRegisterSelect && this.props.onRegisterSelect(() => this.editor.getModel().getValueInRange(this.editor.getSelection()));\r\n            // For some reason we have to get the original compiler options\r\n            // and assign new properties one by one\r\n            const compilerOptions = this.monaco.languages.typescript.typescriptDefaults['getCompilerOptions']();\r\n            compilerOptions.target = this.monaco.languages.typescript.ScriptTarget.ES2015;\r\n            compilerOptions.allowJs = true;\r\n            compilerOptions.checkJs = true;\r\n            compilerOptions.noLib = true;\r\n            compilerOptions.lib = [];\r\n            compilerOptions.moduleResolution = this.monaco.languages.typescript.ModuleResolutionKind.NodeJs;\r\n            this.monaco.languages.typescript.typescriptDefaults.setCompilerOptions(compilerOptions);\r\n\r\n            this.setTypeCheck(false);\r\n\r\n            // Create the editor instances\r\n            this.editor = this.monaco.editor.create(this.monacoDiv, {\r\n                lineNumbers: 'on',\r\n                scrollBeyondLastLine: false,\r\n                automaticLayout: true\r\n            });\r\n\r\n            this.editor.onDidChangeModelContent(e => {\r\n                this.onChange(this.editor.getValue());\r\n            });\r\n\r\n            // Load typings for the JS editor\r\n            /** @type {string} */\r\n            let scriptAdapterInstance = this.props.connection.getScripts().instances[0];\r\n            if (scriptAdapterInstance || scriptAdapterInstance === 0) {\r\n                this.props.connection.sendTo('javascript.' + scriptAdapterInstance, 'loadTypings', null, result => {\r\n                    this.setState({alive: true, check: true});\r\n                    this.setTypeCheck(true);\r\n                    if (result.typings) {\r\n                        this.typings = result.typings;\r\n                        this.setEditorTypings();\r\n                    } else {\r\n                        console.error(`failed to load typings: ${result.error}`);\r\n                    }\r\n                });\r\n            }\r\n            this.editor.addCommand(this.monaco.KeyMod.CtrlCmd | this.monaco.KeyCode.KEY_S, () =>\r\n                this.onForceSave()\r\n            );\r\n        }\r\n        const options = {\r\n            selectOnLineNumbers: true,\r\n            scrollBeyondLastLine: false,\r\n            automaticLayout: true,\r\n            readOnly: this.state.readOnly,\r\n            language: this.state.language,\r\n            isDark: this.state.isDark\r\n        };\r\n        this.setEditorOptions(options);\r\n        this.editor.focus();\r\n        this.editor.setValue(this.originalCode);\r\n    }\r\n\r\n    /**\r\n     * Sets some options of the code editor\r\n     * @param {monaco.editor.IStandaloneCodeEditor} editorInstance The editor instance to change the options for\r\n     * @param {Partial<{readOnly: boolean, lineWrap: boolean, language: EditorLanguage, typeCheck: boolean}>} options\r\n     */\r\n    setEditorOptions(options) {\r\n        if (!options) return;\r\n        if (options.language) this.setEditorLanguage(options.language);\r\n        if (options.readOnly !== undefined) this.editor.updateOptions({readOnly: options.readOnly});\r\n        if (options.lineWrap !== undefined) this.editor.updateOptions({wordWrap: options.lineWrap ? 'on' : 'off'});\r\n        if (options.typeCheck !== undefined) this.setTypeCheck(options.typeCheck);\r\n        if (options.isDark !== undefined) this.monaco.editor.setTheme(options.isDark ? 'vs-dark' : 'vs');\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.editor) {\r\n            this.props.onRegisterSelect && this.props.onRegisterSelect(null);\r\n            this.editor.dispose();\r\n            this.editor = null;\r\n        }\r\n    }\r\n\r\n    /** @typedef {\"javascript\" | \"typescript\" | \"coffee\"} EditorLanguage */\r\n\r\n    /**\r\n     * Sets the language of the code editor\r\n     * @param {monaco.editor.IStandaloneCodeEditor} editorInstance The editor instance to change the options for\r\n     * @param {EditorLanguage} language\r\n     */\r\n    setEditorLanguage(language) {\r\n        // we need to recreate the model when changing languages,\r\n        // so remember its settings\r\n        const model = this.editor.getModel();\r\n        const code = model.getValue();\r\n        const uri = model.uri.path;\r\n        const filenameWithoutExtension =\r\n            typeof uri === 'string' && uri.indexOf('.') > -1\r\n                ? uri.substr(0, uri.lastIndexOf('.'))\r\n                : 'index';\r\n        const extension =\r\n            language === 'javascript' ? 'js'\r\n                : language === 'typescript' ? 'ts'\r\n                : language === 'coffee' ? 'coffee'\r\n                    : language;\r\n        // get rid of the original model\r\n        model.dispose();\r\n        // Both JS and TS need the model to work in TypeScript as the script type\r\n        // is inferred from the file extension\r\n        const newLanguage = (language === 'javascript' || language === 'typescript') ? 'typescript' : language;\r\n\r\n        const newModel = this.monaco.editor.createModel(\r\n            code, newLanguage, this.monaco.Uri.from({path: `${filenameWithoutExtension}${index++}.${extension}`})\r\n        );\r\n        this.editor.setModel(newModel);\r\n    }\r\n\r\n    /**\r\n     * Enables or disables the type checking in the editor\r\n     * @param {boolean} enabled - Whether type checking is enabled or not\r\n     */\r\n    setTypeCheck(enabled) {\r\n        const options = {\r\n            noSemanticValidation: !this.state.alive || !enabled, // toggle the type checking\r\n            noSyntaxValidation: !this.state.alive // always check the syntax\r\n        };\r\n        this.monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions(options);\r\n    }\r\n\r\n    /**\r\n     * Adds the given declaration file to the editor\r\n     * @param {string} path The file path of the typings to add\r\n     * @param {string} typings The declaration file to add\r\n     * @param {boolean} [isGlobal=false] Whethere the file is a global declaration file\r\n     * @returns {void}\r\n     */\r\n    addTypingsToEditor(path, typings, isGlobal) {\r\n        try {\r\n            const handle = this.monaco.languages.typescript.typescriptDefaults.addExtraLib(typings, path);\r\n            if (isGlobal) this.globalTypingHandles.push(handle);\r\n        } catch (e) { /* might be added already */}\r\n    }\r\n\r\n    setEditorTypings() {\r\n        // clear previously added global typings\r\n        for (const handle of this.globalTypingHandles) {\r\n            handle && handle.dispose();\r\n        }\r\n\r\n        const isGlobalScript = isIdOfGlobalScript(this.state.name);\r\n        // The filename of the declarations this script can see if it is a global script\r\n        const partialDeclarationsPath = this.state.name + '.d.ts';\r\n        for (const path of Object.keys(this.typings)) {\r\n            // global scripts don't get to see all other global scripts\r\n            // but only a part of them\r\n            if (isGlobalScript) {\r\n                if (path === 'global.d.ts') continue;\r\n                if (path.startsWith('script.js.global') && path !== partialDeclarationsPath) continue;\r\n            }\r\n            this.addTypingsToEditor(path, this.typings[path], isGlobalScript);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Inserts some text into the given editor\r\n     * @param {string} text The text to add\r\n     */\r\n    insertTextIntoEditor(text) {\r\n        const selection = this.editor.getSelection();\r\n        const range = new this.monaco.Range(\r\n            selection.startLineNumber, selection.startColumn,\r\n            selection.endLineNumber, selection.endColumn\r\n        );\r\n        this.editor.executeEdits('', [{range: range, text: text, forceMoveMarkers: true}]);\r\n        this.editor.focus();\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        const options = {};\r\n        if (this.state.name !== nextProps.name) {\r\n            this.setState({name: nextProps.name});\r\n            this.originalCode = nextProps.code || '';\r\n            this.editor.setValue(nextProps.code);\r\n        }\r\n\r\n        if (this.state.language !== (nextProps.language || 'javascript')) {\r\n            this.setState({language: nextProps.language || 'javascript'});\r\n            options.language = nextProps.language || 'javascript';\r\n        } else if (this.state.readOnly !== (nextProps.readOnly || false)) {\r\n            this.setState({readOnly: nextProps.readOnly || false});\r\n            options.readOnly = nextProps.readOnly;\r\n        } else if (this.state.isDark !== (nextProps.isDark || false)) {\r\n            this.setState({isDark: nextProps.isDark || false});\r\n            options.isDark = nextProps.isDark;\r\n        }\r\n\r\n        this.setEditorOptions(options);\r\n\r\n        if (this.insert !== nextProps.insert) {\r\n            this.insert = nextProps.insert;\r\n            if (nextProps.insert) {\r\n                this.insertTextIntoEditor(nextProps.insert);\r\n                setTimeout(() => this.props.onInserted && this.props.onInserted(), 100);\r\n            }\r\n        }\r\n    }\r\n\r\n    onChange(newValue, e) {\r\n        this.props.onChange && this.props.onChange(this.editor.getValue());\r\n    }\r\n\r\n    render() {\r\n        if (!this.monaco) {\r\n            setTimeout(() => {\r\n                this.monaco = window.monaco;\r\n                this.forceUpdate()\r\n            }, 200);\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <div ref={el => this.monacoDiv = el} style={{width: '100%', height: '100%', overflow: 'hidden', position: 'relative'}}>\r\n                {!this.state.check && (<Button\r\n                    mini\r\n                    title={I18n.t('Check is not active, because javascript adapter is disabled')}\r\n                    style={{bottom: 10, right: 10, opacity: 0.5, position: 'absolute', zIndex: 1, background: 'red'}}\r\n                    variant=\"fab\"\r\n                    color=\"secondary\"><IconNoCheck/></Button>)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nScriptEditor.propTypes = {\r\n    connection: PropTypes.object,\r\n    name: PropTypes.string,\r\n    onChange: PropTypes.func,\r\n    onForceSave: PropTypes.func,\r\n    onInserted: PropTypes.func,\r\n    isDark: PropTypes.bool,\r\n    readOnly: PropTypes.bool,\r\n    code: PropTypes.string,\r\n    language: PropTypes.string,\r\n    onRegisterSelect: PropTypes.func,\r\n};\r\n\r\nexport default ScriptEditor;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport DialogMessage from './Dialogs/Message';\r\nimport DialogError from './Dialogs/Error';\r\n\r\nimport I18n from './i18n';\r\nimport DialogExport from \"./Dialogs/Export\";\r\nimport DialogImport from \"./Dialogs/Import\";\r\n\r\nlet languageBlocklyLoaded = false;\r\nlet languageOwnLoaded = false;\r\nlet toolboxText = null;\r\nlet toolboxXml;\r\n\r\nclass BlocklyEditor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.blockly = null; //ref\r\n        this.blocklyWorkspace = null;\r\n        this.toolbox = null;\r\n        this.Blockly = window.Blockly;\r\n\r\n        this.state = {\r\n            languageOwnLoaded,\r\n            languageBlocklyLoaded,\r\n            changed: false,\r\n            message: '',\r\n            error: '',\r\n            exportText: '',\r\n            importText: false\r\n        };\r\n        this.originalCode = props.code || '';\r\n\r\n        this.onResizeBind = this.onResize.bind(this);\r\n\r\n        this.lastCommand = '';\r\n        this.blinkBlock = null;\r\n        this.loadLanguages();\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.command && this.lastCommand !== nextProps.command) {\r\n            this.lastCommand = nextProps.command;\r\n            setTimeout(() => this.lastCommand = '', 300);\r\n            if (this.lastCommand === 'check') {\r\n                this.blocklyCheckBlocks((err, badBlock) => {\r\n                    if (!err) {\r\n                        this.setState({message: I18n.t('Ok')});\r\n                    } else {\r\n                        badBlock && this.blocklyBlinkBlock(badBlock);\r\n                        this.setState({error: {text: I18n.t(err), title: I18n.t('Error was found')}});\r\n                        this.blinkBlock = badBlock;\r\n                    }\r\n                });\r\n            } else if (this.lastCommand === 'export') {\r\n                this.exportBlocks();\r\n            } else if (this.lastCommand === 'import') {\r\n                this.importBlocks();\r\n            }\r\n        }\r\n        if (this.originalCode !== nextProps.code) {\r\n            this.originalCode = nextProps.code || '';\r\n            this.loadCode();\r\n        }\r\n\r\n    }\r\n    loadLanguages() {\r\n        // load blockly language\r\n        if (!languageBlocklyLoaded) {\r\n            const fileLang = window.document.createElement('script');\r\n            fileLang.setAttribute('type', 'text/javascript');\r\n            fileLang.setAttribute('src', 'google-blockly/msg/js/' + I18n.getLanguage() + '.js');\r\n\r\n            // most browsers\r\n            fileLang.onload = () => {\r\n                languageBlocklyLoaded = true;\r\n                this.setState({languageBlocklyLoaded});\r\n            };\r\n            // IE 6 & 7\r\n            fileLang.onreadystatechange = () => {\r\n                if (this.readyState === 'complete') {\r\n                    languageBlocklyLoaded = true;\r\n                    this.setState({languageBlocklyLoaded});\r\n                }\r\n            };\r\n            window.document.getElementsByTagName('head')[0].appendChild(fileLang);\r\n        }\r\n        if (!languageOwnLoaded) {\r\n            const fileCustom = window.document.createElement('script');\r\n            fileCustom.setAttribute('type', 'text/javascript');\r\n            fileCustom.setAttribute('src', 'google-blockly/own/msg/' + I18n.getLanguage() + '.js');\r\n            // most browsers\r\n            fileCustom.onload = () => {\r\n                languageOwnLoaded = true;\r\n                this.setState({languageOwnLoaded});\r\n            };\r\n            // IE 6 & 7\r\n            fileCustom.onreadystatechange = () => {\r\n                if (this.readyState === 'complete') {\r\n                    languageOwnLoaded = true;\r\n                    this.setState({languageOwnLoaded});\r\n                }\r\n            };\r\n            window.document.getElementsByTagName('head')[0].appendChild(fileCustom);\r\n        }\r\n    }\r\n\r\n    onResize() {\r\n        this.Blockly.svgResize(this.blocklyWorkspace);\r\n    }\r\n\r\n    jsCode2Blockly(text) {\r\n        text = text || '';\r\n        const lines = text.split(/[\\r\\n]+|\\r|\\n/g);\r\n        let xml = '';\r\n        for (let l = lines.length - 1; l >= 0; l--) {\r\n            if (lines[l].substring(0, 2) === '//') {\r\n                xml = lines[l].substring(2);\r\n                break;\r\n            }\r\n        }\r\n        if (xml.substring(0, 4) === '<xml') {\r\n            return xml;\r\n        } else {\r\n            let code;\r\n            try {\r\n                code = window.decodeURIComponent(window.atob(xml));\r\n            } catch (e) {\r\n                code = null;\r\n                console.error('cannot decode: ' + xml);\r\n                console.error(e);\r\n            }\r\n            return code;\r\n        }\r\n    }\r\n\r\n    blocklyBlinkBlock(block) {\r\n        for (let i = 300; i < 3000; i = i + 300) {\r\n            setTimeout(() => block.select(), i);\r\n            setTimeout(() => block.unselect(), i + 150);\r\n        }\r\n    }\r\n\r\n    blocklyCheckBlocks(cb) {\r\n        let warningText;\r\n        if (!this.blocklyWorkspace || this.blocklyWorkspace.getAllBlocks().length === 0) {\r\n            cb && cb('no blocks found');\r\n            return;\r\n        }\r\n        let badBlock = this.blocklyGetUnconnectedBlock();\r\n        if (badBlock) {\r\n            warningText = 'not properly connected';\r\n        } else {\r\n            badBlock = this.blocklyGetBlockWithWarning();\r\n            if (badBlock) warningText = 'warning on this block';\r\n        }\r\n\r\n        if (badBlock) {\r\n            if (cb) {\r\n                cb(warningText, badBlock);\r\n            } else {\r\n                this.blocklyBlinkBlock(badBlock);\r\n            }\r\n            return false;\r\n        }\r\n\r\n        cb();\r\n\r\n        return true;\r\n    }\r\n\r\n    // get unconnected block\r\n    blocklyGetUnconnectedBlock () {\r\n        const blocks = this.blocklyWorkspace.getAllBlocks();\r\n        let block;\r\n        for (let i = 0; (block = blocks[i]); i++) {\r\n            const connections = block.getConnections_(true);\r\n            let conn;\r\n            for (let j = 0; (conn = connections[j]); j++) {\r\n                if (!conn.sourceBlock_ || ((conn.type === this.Blockly.INPUT_VALUE || conn.type === this.Blockly.OUTPUT_VALUE) && !conn.targetConnection && !conn._optional)) {\r\n                    return block;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // get block with warning\r\n    blocklyGetBlockWithWarning() {\r\n        const blocks = this.blocklyWorkspace.getAllBlocks();\r\n        let block;\r\n        for (let i = 0; (block = blocks[i]); i++) {\r\n            if (block.warning) {\r\n                return block;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    blocklyCode2JSCode(oneWay) {\r\n        let code = this.Blockly.JavaScript.workspaceToCode(this.blocklyWorkspace);\r\n        if (!oneWay) {\r\n            code += '\\n';\r\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\r\n            const text = this.Blockly.Xml.domToText(dom);\r\n            code += '//' + btoa(encodeURIComponent(text));\r\n        }\r\n\r\n        return code;\r\n    }\r\n\r\n    exportBlocks() {\r\n        let exportText;\r\n        if (this.Blockly.selected) {\r\n            const xmlBlock = this.Blockly.Xml.blockToDom(this.Blockly.selected);\r\n            if (this.Blockly.dragMode_ !== this.Blockly.DRAG_FREE) {\r\n                this.Blockly.Xml.deleteNext(xmlBlock);\r\n            }\r\n            // Encode start position in XML.\r\n            const xy = this.Blockly.selected.getRelativeToSurfaceXY();\r\n            xmlBlock.setAttribute('x', this.Blockly.selected.RTL ? -xy.x : xy.x);\r\n            xmlBlock.setAttribute('y', xy.y);\r\n\r\n            exportText = this.Blockly.Xml.domToPrettyText(xmlBlock);\r\n        } else {\r\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\r\n            exportText = this.Blockly.Xml.domToPrettyText(dom);\r\n        }\r\n        this.setState({exportText});\r\n    }\r\n    \r\n    importBlocks() {\r\n        this.setState({importText: true});\r\n    }\r\n    \r\n    onImportBlocks(xml) {\r\n        if ((xml || '').trim()) {\r\n            try {\r\n                let xmlBlocks = this.Blockly.Xml.textToDom(xml);\r\n                if (xmlBlocks.nodeName === 'xml') {\r\n                    for (let b = 0; b < xmlBlocks.children.length; b++) {\r\n                        this.blocklyWorkspace.paste(xmlBlocks.children[b]);\r\n                    }\r\n                } else {\r\n                    this.blocklyWorkspace.paste(xmlBlocks);\r\n                }\r\n            } catch (e) {\r\n                this.setState({error: {text: e, title: I18n.t('Import error')}});\r\n            }\r\n        }\r\n    }\r\n\r\n    loadCode() {\r\n        if (!this.blocklyWorkspace) return;\r\n\r\n        this.ignoreChanges = true;\r\n        this.blocklyWorkspace.clear();\r\n\r\n        try {\r\n            const xml = this.jsCode2Blockly(this.originalCode) || '<xml xmlns=\"http://www.w3.org/1999/xhtml\"></xml>';\r\n            const dom = this.Blockly.Xml.textToDom(xml);\r\n            this.Blockly.Xml.domToWorkspace(dom, this.blocklyWorkspace);\r\n        } catch (e) {\r\n            console.error(e);\r\n            window.alert('Cannot extract Blockly code!');\r\n        }\r\n        setTimeout(() => this.ignoreChanges = false, 100);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (!this.blockly) return;\r\n        if (this.didUpdate) {\r\n            clearTimeout(this.didUpdate);\r\n            this.didUpdate = null;\r\n        }\r\n\r\n        if (this.blocklyWorkspace) return;\r\n\r\n        window.addEventListener('resize', this.onResizeBind, false);\r\n        toolboxText = toolboxText || this.getToolbox();\r\n        toolboxXml = toolboxXml || window.Blockly.Xml.textToDom(toolboxText);\r\n\r\n        this.blocklyWorkspace = window.Blockly.inject(\r\n            this.blockly,\r\n            {\r\n                media: 'google-blockly/media/',\r\n                toolbox: toolboxXml,\r\n                zoom: {\r\n                    controls:   true,\r\n                    wheel:      false,\r\n                    startScale: 1.0,\r\n                    maxScale:   3,\r\n                    minScale:   0.3,\r\n                    scaleSpeed: 1.2\r\n                },\r\n                trashcan: true,\r\n                grid: {\r\n                    spacing:    25,\r\n                    length:     3,\r\n                    colour:     '#ccc',\r\n                    snap:       true\r\n                }\r\n            }\r\n        );\r\n        // Listen to events on master workspace.\r\n        this.blocklyWorkspace.addChangeListener(masterEvent => {\r\n            if (masterEvent.type === window.Blockly.Events.UI || masterEvent.type === window.Blockly.Events.CREATE) {\r\n                return;  // Don't mirror UI events.\r\n            }\r\n            if (this.ignoreChanges) return;\r\n            this.setState({changed: true});\r\n            this.onChange();\r\n        });\r\n        this.loadCode();\r\n        this.onResize();\r\n        // Move toolbar to the valid position\r\n        const toolbar = document.getElementsByClassName('blocklyToolboxDiv')[0];\r\n        this.blockly.appendChild(toolbar);\r\n\r\n        // for blockly itself\r\n        window.scripts = {\r\n            blocklyWorkspace: this.blocklyWorkspace\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (!this.blocklyWorkspace) return;\r\n        this.blocklyWorkspace.dispose();\r\n        this.blocklyWorkspace = null;\r\n        window.removeEventListener('resize', this.onResizeBind);\r\n    }\r\n\r\n    onChange() {\r\n        this.props.onChange && this.props.onChange(this.blocklyCode2JSCode());\r\n    }\r\n\r\n    getToolbox() {\r\n        // Interpolate translated messages into toolbox.\r\n        let toolboxText = window.document.getElementById('toolbox').outerHTML;\r\n        toolboxText = toolboxText.replace(/{(\\w+)}/g, (m, p1) => window.MSG[p1]);\r\n\r\n        let blocks = '';\r\n        const lang = I18n.getLanguage();\r\n        for (let cb = 0; cb < this.Blockly.CustomBlocks.length; cb++) {\r\n            const name = this.Blockly.CustomBlocks[cb];\r\n            // add blocks\r\n            blocks += '<category name=\"' + this.Blockly.Words[name][lang] + '\" colour=\"' + this.Blockly[name].HUE + '\">';\r\n            for (const _b in this.Blockly[name].blocks) {\r\n                if (this.Blockly[name].blocks.hasOwnProperty(_b)) {\r\n                    blocks += this.Blockly[name].blocks[_b];\r\n                }\r\n            }\r\n            blocks += '</category>';\r\n        }\r\n        toolboxText = toolboxText.replace('<category><block>%%CUSTOM_BLOCKS%%</block></category>', blocks);\r\n        return toolboxText;\r\n    }\r\n\r\n    render() {\r\n        if (this.state.languageBlocklyLoaded && this.state.languageOwnLoaded) {\r\n            this.didUpdate = setTimeout(() => {\r\n                this.didUpdate = null;\r\n                this.componentDidUpdate();\r\n            }, 100);\r\n\r\n            return [\r\n                (<div ref={el => this.blockly = el} style={{width: '100%', height: '100%', overflow: 'hidden', position: 'relative'}}/>),\r\n\r\n                this.state.message ?\r\n                    (<DialogMessage\r\n                        text={typeof this.state.message === 'object' ? this.state.message.text : this.state.message}\r\n                        title={typeof this.state.message === 'object' ? this.state.message.title : ''}\r\n                        onClose={() => this.setState({message: ''})}\r\n                    />) :\r\n                    null,\r\n\r\n                this.state.error ?\r\n                    (<DialogError\r\n                        text={typeof this.state.error === 'object' ? this.state.error.text : this.state.error}\r\n                        title={typeof this.state.error === 'object' ? this.state.error.title : ''}\r\n                        onClose={() => {\r\n                            if (this.blinkBlock) {\r\n                                this.blocklyBlinkBlock(this.blinkBlock);\r\n                                this.blinkBlock = null;\r\n                            }\r\n                            this.setState({error: ''});\r\n                        }}/>) :\r\n                    null,\r\n                \r\n                this.state.exportText ? (<DialogExport onClose={() => this.setState({exportText: ''})} text={this.state.exportText}/>) : null,\r\n                \r\n                this.state.importText ? (<DialogImport onClose={text => {\r\n                    this.setState({importText: false});\r\n                    this.onImportBlocks(text);\r\n                }}/>) : null\r\n            ];\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nBlocklyEditor.propTypes = {\r\n    command: PropTypes.string,\r\n    onChange: PropTypes.func\r\n};\r\n\r\nexport default BlocklyEditor;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport I18n from '../i18n';\r\n\r\nclass DialogMessage extends React.Component {\r\n\r\n    handleOk = () => {\r\n        this.props.onClose && this.props.onClose();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Dialog\r\n                open={true}\r\n                maxWidth=\"sm\"\r\n                fullWidth={true}\r\n                onClose={() => this.handleOk()}\r\n                aria-labelledby=\"message-dialog-title\"\r\n                aria-describedby=\"message-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"message-dialog-title\">{this.props.title || I18n.t('Message')}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText id=\"message-dialog-description\">\r\n                        {this.props.text}\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => this.handleOk()} color=\"primary\" autoFocus>{I18n.t('Close')}</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nDialogMessage.propTypes = {\r\n    onClose: PropTypes.func,\r\n    title: PropTypes.string,\r\n    text: PropTypes.string,\r\n    icon: PropTypes.object\r\n};\r\n\r\nexport default DialogMessage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport I18n from '../i18n';\r\n\r\nconst styles = theme => ({\r\n    textArea: {\r\n        width: '100%',\r\n        height: '100%',\r\n        background: 'lightgray'\r\n    },\r\n    dialog: {\r\n        height: '95%'\r\n    },\r\n    typography: {\r\n        padding: theme.spacing.unit * 2,\r\n    },\r\n});\r\nclass DialogExport extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            anchorEl: null,\r\n            popper: ''\r\n        };\r\n    }\r\n    handleCancel = () => {\r\n        this.props.onClose();\r\n    };\r\n\r\n    onCopy(event) {\r\n        const el = window.document.getElementById('copy_input');\r\n        if (el) {\r\n            el.select();\r\n            window.document.execCommand('copy');\r\n            const target = event.currentTarget;\r\n\r\n            setTimeout(() => {\r\n                window.document.execCommand('copy');\r\n                this.setState({popper: I18n.t('Copied'), anchorEl: target});\r\n                setTimeout(() => this.setState({popper: '', anchorEl: null}), 1000);\r\n            }, 50);\r\n\r\n        }\r\n        /*el.value = this.props.text;\r\n        window.document.body.appendChild(el);\r\n        el.select();*/\r\n    }\r\n\r\n    render() {\r\n        const classes = this.props.classes;\r\n\r\n        return (\r\n            <Dialog\r\n                disableBackdropClick\r\n                disableEscapeKeyDown\r\n                maxWidth=\"lg\"\r\n                classes={{paper: classes.dialog}}\r\n                fullWidth={true}\r\n                open={true}\r\n                aria-labelledby=\"export-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"export-dialog-title\">{I18n.t('Export selected blocks')}</DialogTitle>\r\n                <DialogContent>\r\n                    <pre\r\n                        id=\"export-text\"\r\n                        className={classes.textArea}\r\n                    >{this.props.text}</pre>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={event  => this.onCopy(event )} color=\"secondary\">{I18n.t('Copy to clipboard')}</Button>\r\n                    <Button onClick={() => this.handleCancel()} color=\"primary\">{I18n.t('Close')}</Button>\r\n\r\n                    <Popper\r\n                        id=\"popper\"\r\n                        style={{zIndex: 10000}}\r\n                        open={!!this.state.popper}\r\n                        placement=\"top\"\r\n                        anchorEl={this.state.anchorEl} transition>\r\n                        {({ TransitionProps }) => (\r\n                            <Fade {...TransitionProps} timeout={350}>\r\n                                <Paper>\r\n                                    <p className={classes.typography}>{this.state.popper}</p>\r\n                                </Paper>\r\n                            </Fade>\r\n                        )}\r\n                    </Popper>\r\n                    <textarea id=\"copy_input\" readOnly={true} style={{position: 'absolute', left: -9999}} tabIndex={-1} aria-hidden={true}>\r\n                        {this.props.text}\r\n                    </textarea>\r\n                </DialogActions>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nDialogExport.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    onClose: PropTypes.func,\r\n    text: PropTypes.string,\r\n};\r\n\r\nexport default withStyles(styles)(DialogExport);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\nimport I18n from '../i18n';\r\n\r\nconst styles = theme => ({\r\n    textArea: {\r\n        width: 'calc(100% - 10px)',\r\n        height: '100%',\r\n        resize: 'none'\r\n    },\r\n    dialog: {\r\n        height: '95%'\r\n    },\r\n    fullHeight: {\r\n        height: '100%',\r\n        overflow: 'hidden'\r\n    },\r\n});\r\nclass DialogImport extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            text: '',\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        setTimeout(() => {\r\n            try {\r\n                window.document.getElementById('import-text-area').focus();\r\n            } catch (e) {\r\n\r\n            }\r\n        }, 100);\r\n    }\r\n\r\n    handleCancel () {\r\n        this.props.onClose();\r\n    }\r\n\r\n    handleOk () {\r\n        this.props.onClose(this.state.text);\r\n    }\r\n\r\n    onChange(e) {\r\n        this.setState({text: e.target.value});\r\n    }\r\n\r\n    render() {\r\n        const classes = this.props.classes;\r\n\r\n        return (\r\n            <Dialog\r\n                disableBackdropClick\r\n                disableEscapeKeyDown\r\n                maxWidth=\"lg\"\r\n                classes={{paper: classes.dialog}}\r\n                fullWidth={true}\r\n                open={true}\r\n                aria-labelledby=\"import-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"import-dialog-title\">{I18n.t('Import blocks')}</DialogTitle>\r\n                <DialogContent className={classes.fullHeight}>\r\n                    <textarea\r\n                        id=\"import-text-area\"\r\n                        className={classes.textArea}\r\n                        onChange={e => this.onChange(e)}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button disabled={!this.state.text} onClick={event  => this.handleOk()} color=\"primary\">{I18n.t('Export')}</Button>\r\n                    <Button onClick={() => this.handleCancel()} color=\"secondary\">{I18n.t('Close')}</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nDialogImport.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    onClose: PropTypes.func,\r\n    text: PropTypes.string,\r\n};\r\n\r\nexport default withStyles(styles)(DialogImport);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport I18n from '../i18n';\r\n\r\nclass DialogConfirm extends React.Component {\r\n    handleCancel = () => {\r\n        this.props.onClose();\r\n    };\r\n\r\n    handleOk = () => {\r\n        this.props.onOk();\r\n        this.props.onClose();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Dialog\r\n                disableBackdropClick\r\n                disableEscapeKeyDown\r\n                maxWidth=\"md\"\r\n                fullWidth={true}\r\n                open={true}\r\n                aria-labelledby=\"confirmation-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Are you sure?')}</DialogTitle>\r\n                <DialogContent>\r\n                    <h2>{this.props.question}</h2>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={this.handleOk} color=\"primary\">{this.props.ok || I18n.t('Ok')}</Button>\r\n                    <Button onClick={this.handleCancel} color=\"secondary\">{this.props.cancel || I18n.t('Cancel')}</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nDialogConfirm.propTypes = {\r\n    onClose: PropTypes.func,\r\n    onOk: PropTypes.func.isRequire,\r\n    title: PropTypes.string,\r\n    question: PropTypes.string.isRequire,\r\n    cancel: PropTypes.string,\r\n    ok: PropTypes.string\r\n\r\n};\r\n\r\nexport default DialogConfirm;\r\n","// @flow\nimport { Component } from 'react';\nimport type { Node } from 'react';\n\nimport type { RowMetadata } from '../model/row';\n\n\ntype Props = {\n  grow?: number,\n  basis?: string, // <length> | auto\n  width?: string, // <length> | auto\n\n  renderCell: (rowData: any, rowMetadata: RowMetadata, toggleChildren: () => void) => Node,\n  className?: string,\n};\n\ntype State = { };\n\nexport default class Column extends Component<Props, State> {\n\n  render() { return null; }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport type { Node } from 'react';\n\nimport type { RowMetadata } from '../model/row';\n\n\ntype Props = {\n  //grow?: number,\n  //basis?: string, // <length> | auto\n  width: string,  // <length> | auto\n\n  rowData: any,\n  rowMetadata: RowMetadata,\n  toggle: () => void,\n  renderCell: (rowData: any, rowMetadata: RowMetadata, toggleChildren: () => void) => Node,\n  className?: string,\n  classNameColumn?: string,\n};\n\ntype State = {\n  width: string\n  //_grow: number,\n  //_basis: string,\n};\n\nexport default class ColumnWrapper extends Component<Props, State> {\n  state = {\n    //_grow: 1,\n    //_basis: 'auto',\n      width: 'auto'\n  };\n\n  render() {\n    const { width, rowData, toggle, rowMetadata, renderCell, className, classNameColumn} = this.props;\n    const { _width } = this.state;\n\n    //const flexGrow = (grow != null) ? grow : _grow;\n    //const flexBasis = (basis != null) ? basis : _basis;\n    const cWidth = (width != null) ? width : _width;\n\n    const baseClass = (className ? `cp_tree-table_column ${className || ''}`: 'cp_tree-table_column') + ' ' + (classNameColumn || '');\n    return (\n      <div className={baseClass}\n        style={{ ...STYLE_COLUMN, width: cWidth/*flexGrow: flexGrow, flexBasis: flexBasis */}}>\n        { renderCell(rowData, rowMetadata, toggle) }\n      </div>\n    );\n  }\n}\n\nconst STYLE_COLUMN = {\n  boxSizing: 'border-box',\n  position: 'relative',\n  overflow: 'hidden',\n};\n","// @flow\nimport React, { Component, Children } from 'react';\nimport type { ChildrenArray, Element } from 'react';\n\nimport Column from './Column';\nimport ColumnWrapper from './ColumnWrapper';\n\n\ntype Props = {\n  row: any,\n  columns: ChildrenArray<Element<typeof Column>>,\n\n  hasVisibleChildren: boolean, // Metadata\n  classNamePartlyVisible?: string,\n  classNameColumn?: string,\n  classNameSelected?: string,\n  classNameRow?: string,\n  index: number,\n  selected?: string,\n  onToggle: () => void,\n  onRowClick: (data: object) => void,\n};\n\ntype State = {\n  overscanHeight: number,\n  height: number,\n  topOffset: number,\n};\n\nexport default class VirtualListRow extends Component<Props, State> {\n\n  state = {\n    overscanHeight: 100,\n    height: 0,\n    topOffset: 0,\n  };\n\n  render() {\n    const { row, hasVisibleChildren, index, onToggle, columns, classNameRow, classNameColumn, selected, classNameSelected } = this.props;\n\n    const metadata = { ...row.getMetadata(), hasVisibleChildren: hasVisibleChildren };\n\n    const style = {...STYLE_ROW, height: row.getHeight() + 'px'};\n\n    return (\n      <div className={'cp_tree-table_row ' + (classNameRow || '') + (selected === row.data.id ? ' ' + classNameSelected : '')}\n        style={style}\n        data-rindex={index}\n        onClick={() => this.props.onRowClick && this.props.onRowClick(row.data, metadata, onToggle)}\n        onDoubleClick={() => this.props.onRowClick && this.props.onRowClick(row.data, metadata, onToggle, true)}\n        data-depth={row.depth} >\n      \n        {Children.toArray(columns).map((column, index) => {\n          return (\n            <ColumnWrapper key={index}\n              {...column.props}\n              classNameColumn={classNameColumn}\n              rowData={row.data}\n              toggle={onToggle}\n              rowMetadata={metadata}/>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nconst STYLE_ROW = {\n  // display: 'flex',\n\n  boxSizing: 'border-box',\n  position: 'relative',\n  overflow: 'hidden',\n  width: '100%',\n};\n","// @flow\nimport BTLeaf from './bt_leaf';\n\n\nexport type TreeDataRow = {\n  data: any,\n  height?: number,\n  children?: Array<TreeDataRow>,\n};\n\nexport type RowMetadata = {\n  depth: number;\n  hasChildren: boolean;\n  hasVisibleChildren: boolean;\n};\n\nexport type PartialRowMetadata = {\n  depth: number;\n  hasChildren: boolean;\n};\n\nexport default class Row {\n  parent: ?BTLeaf = null;\n  depth: number;      // tree depth\n  data: any;          // row data\n\n  _hasChildren: boolean;\n\n  _height: number = 26;    // height in px (26px - fallback value)\n  _cacheHeight: number = 26;\n\n  constructor(data: any, hasChildren: boolean, depth: number = 0, isVisible: boolean, height: ?number) {\n    this.data = data;\n    this.depth = depth;\n    this._hasChildren = hasChildren;\n\n    if (height != null) {\n      this._height = height;\n      this._cacheHeight = height;\n    }\n\n    if (!isVisible) {\n      this._height = 0;\n    }\n  }\n\n  setHeight(value: number) {\n    this._updateHeight(value);\n    if (value > 0) {\n      this._cacheHeight = value;\n    }\n  }\n\n  getHeight(): number {\n    return this._height;\n  }\n\n  isVisible(): boolean {\n    return this._height > 0;\n  }\n\n  getMetadata(): PartialRowMetadata {\n    return {\n      depth: this.depth,\n      hasChildren: this._hasChildren,\n    };\n  }\n\n  toggle(): void {\n    if (this._height > 0) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  hide(): void {\n    this._cacheHeight = this._height;\n    this._updateHeight(0);\n  }\n\n  show(): void {\n    this._updateHeight(this._cacheHeight);\n  }\n\n  _updateHeight(value: number) {\n    let diff = value - this._height;\n    if (diff) {\n      for (let n = this; n; n = n.parent) {\n        n._height += diff;\n      }\n    }\n  }\n}\n","// @flow\nimport Row from '../model/row';\nimport type { TreeDataRow  } from '../model/row';\n\nexport * from './search';\n\n\nexport const processData = (data: Array<TreeDataRow>, rowHeightDefault: ?number = null): Array<Row> => {\n  return processLevel(data, rowHeightDefault, 0, true);\n}\n\nconst processLevel = (data: Array<TreeDataRow>, rowHeightDefault: ?number, depth: number = 0, isVisible: boolean = false): Array<Row> => {\n  let result: Array<Row> = [];\n  for (var i = 0; i < data.length; i++) {\n    const hasChildren: boolean = (data[i].children != null && data[i].children.length > 0);\n\n    result.push(new Row(data[i].data, hasChildren, depth, isVisible, data[i].height || rowHeightDefault));\n\n    if (data[i].children && data[i].children.length > 0) {\n      processLevel(data[i].children, rowHeightDefault, depth + 1).forEach((row) => {\n        result.push(row);\n      });\n    }\n  }\n  return result;\n}\n\nexport const indexOf = (needle: any, haystack: Array<any>): number => {\n  for (var i = 0; i < haystack.length; i++) {\n    if (haystack[i] === needle) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nexport const noop = () => undefined;\n","// @flow\nimport BTLeaf from './bt_leaf';\nimport Row from './row';\nimport { indexOf } from '../util';\n\n\nexport default class BTNode {\n  parent: ?BTNode = null;\n  children: Array<BTNode | BTLeaf> = [];\n\n  _size: number = 0;\n  _height: number = 0;\n\n\n  constructor(children: Array<BTNode | BTLeaf>) {\n    this.children = children;\n\n    let size = 0, height = 0;\n    for (let i = 0; i < children.length; ++i) {\n      let ch = children[i];\n      size += ch.getSize();\n      height += ch.getHeight();\n      ch.parent = this;\n    }\n\n    this._size = size;\n    this._height = height;\n  }\n\n  getSize(): number {\n    return this._size;\n  }\n\n  getHeight(): number {\n    return this._height;\n  }\n\n  // https://github.com/codemirror/CodeMirror/blob/e03ef21df390753eb35ff8426dd99b1be4d29d74/src/model/chunk.js#L79\n  removeInner(at: number, n: number) {\n    this._size -= n;\n    for (let i = 0; i < this.children.length; i++) {\n      let child = this.children[i], sz = child.getSize();\n      if (at < sz) {\n        let rm = Math.min(n, sz - at), oldHeight = child.getHeight();\n        child.removeInner(at, rm);\n        this._height -= oldHeight - child.getHeight();\n        if (sz === rm) {\n          this.children.splice(i--, 1);\n          child.parent = null;\n        }\n        n -= rm;\n        if (n === 0) {\n          break;\n        }\n        at = 0;\n      } else {\n        at -= sz;\n      }\n    }\n    // If the result is smaller than 25 rows, ensure that it is a\n    // single leaf node.\n    if (this.getSize() - n < 25 &&\n       (this.children.length > 1 || !(this.children[0] instanceof BTLeaf))) {\n      let rows = [];\n      this.collapse(rows);\n      this.children = [new BTLeaf(rows)];\n      this.children[0].parent = this;\n    }\n  }\n\n  collapse(rows: Array<Row>) {\n    for (let i = 0; i < this.children.length; i++) {\n      this.children[i].collapse(rows);\n    }\n  }\n\n  // https://github.com/codemirror/CodeMirror/blob/e03ef21df390753eb35ff8426dd99b1be4d29d74/src/model/chunk.js#L107\n  insertInner(at: number, rows: Array<Row>, height: number) {\n    this._size += rows.length;\n    this._height += height;\n\n    for (let i = 0; i < this.children.length; i++) {\n      let child = this.children[i], sz = child.getSize();\n      if (at <= sz) {\n        child.insertInner(at, rows, height);\n        if (child instanceof BTLeaf && child.getSize() > 50) {\n          // To avoid memory thrashing when child.rows is huge (e.g. first view of a large file), it's never spliced.\n          // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n          let remaining = child.getSize() % 25 + 25;\n          for (let pos = remaining; pos < child.getSize();) {\n            let leaf = new BTLeaf(child.rows.slice(pos, pos += 25));\n            child._height -= leaf.getHeight();\n            this.children.splice(++i, 0, leaf);\n            leaf.parent = this;\n          }\n          child.rows = child.rows.slice(0, remaining);\n          this.maybeSpill();\n        }\n        break;\n      }\n      at -= sz;\n    }\n  }\n\n  // When a node has grown, check whether it should be split.\n  maybeSpill() {\n    if (this.children.length <= 10) {\n      return;\n    }\n    let me: BTNode = this;\n    do {\n      let spilled = me.children.splice(me.children.length - 5, 5);\n      let sibling = new BTNode(spilled);\n      if (!me.parent) { // Become the parent node\n        let copy = new BTNode(me.children);\n        copy.parent = me;\n        me.children = [copy, sibling];\n        me = copy;\n     } else {\n        me._size -= sibling.getSize();\n        me._height -= sibling.getHeight();\n\n        let parent: ?BTNode = me.parent;\n        if (parent && parent.children) {\n          let myIndex = indexOf(me, parent.children);\n          parent.children.splice(myIndex + 1, 0, sibling);\n        }\n      }\n      sibling.parent = me.parent;\n    } while (me.children.length > 10)\n    if (me.parent) {\n      me.parent.maybeSpill();\n    }\n  }\n\n  mapRange(at: number, n: number, op: (data: Row) => ?boolean): ?boolean {\n    for (let i = 0; i < this.children.length; i++) {\n      let child = this.children[i], sz = child.getSize();\n      if (at < sz) {\n        let used = Math.min(n, sz - at);\n        if (child.mapRange(at, used, op)) {\n          return true;\n        }\n        n -= used;\n        if (n === 0) {\n          break;\n        }\n        at = 0;\n      } else {\n        at -= sz;\n      }\n    }\n  }\n\n  mapAll(op: (data: Row) => ?boolean): ?boolean {\n    return this.mapRange(0, this._size, op);\n  }\n}\n","// @flow\nimport BTNode from './bt_node';\nimport Row from './row';\n\n\nexport default class BTLeaf {\n  parent: ?BTNode = null;\n  rows: Array<Row> = [];\n\n  _height: number = 0;\n\n  constructor(rows: Array<Row> = []) {\n    this.rows = rows;\n\n    let height = 0;\n    for (let i = 0; i < rows.length; ++i) {\n      rows[i].parent = this;\n      height += rows[i].getHeight();\n    }\n    this._height = height;\n  }\n\n  getSize(): number {\n    return this.rows.length;\n  }\n\n  getHeight(): number {\n    return this._height;\n  }\n\n  // Remove n rows at offset 'at'.\n  removeInner(at: number, n: number) {\n    for (let i = at, e = at + n; i < e; ++i) {\n      let row = this.rows[i];\n      this._height -= row.getHeight();\n\n      row.parent = null;\n    }\n    this.rows.splice(at, n);\n  }\n\n  collapse(rows: Array<Row>) {\n    rows.push.apply(rows, this.rows)\n  }\n\n  // Insert the given array of rows at offset 'at', count them as\n  // having the given height.\n  insertInner(at: number, rows: Array<Row>, height: number) {\n    this._height += height\n    this.rows = this.rows.slice(0, at).concat(rows).concat(this.rows.slice(at))\n    for (let i = 0; i < rows.length; ++i) {\n      rows[i].parent = this;\n    }\n  }\n\n  mapRange(at: number, n: number, op: (data: Row) => ?boolean): ?boolean {\n    for (let e = at + n; at < e; ++at) {\n      if (op(this.rows[at])) {\n        return true;\n      }\n    }\n  }\n}\n","// @flow\nimport BTLeaf from './bt_leaf';\nimport BTNode from './bt_node';\nimport Row from './row';\nimport { indexOf } from '../util';\n\n\nexport default class BTRoot extends BTNode {\n  constructor(data: Array<Row> = []) {\n    super([new BTLeaf([])]);\n\n    this.insert(0, data);\n  }\n\n  insert(at: number, rows: Array<Row>) {\n    let height = 0\n    for (let i = 0; i < rows.length; ++i) {\n      height += rows[i].getHeight();\n    }\n    super.insertInner(at, rows, height);\n  }\n\n  remove(at: number, n: number) {\n    super.removeInner(at, n);\n  }\n\n  getRow(index: number): Row {\n    if (index < 0 || index >= this.getSize()) {\n      throw new Error('Invalid index! No row at index: ' + index);\n    }\n    let node = this;\n    while (node instanceof BTNode) {\n      for (let i = 0;; i++) {\n        let child = node.children[i], sz = child.getSize();\n        if (index < sz) {\n          node = child;\n          break;\n        }\n        index -= sz;\n      }\n    }\n    return node.rows[index];\n  }\n\n  getRowIndex(row: Row): number {\n    if (row.parent == null) {\n      throw new Error('Invalid row object! No parent node: (row.parent == null)');\n    }\n    let cur = row.parent, index = indexOf(row, cur.rows);\n    for (let chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (let i = 0;; i++) {\n        if (chunk.children[i] === cur) {\n          break;\n        }\n        index += chunk.children[i].getSize();\n      }\n    }\n    return index;\n  }\n\n  getIndexAtY(y: number): number {\n    if (y < 0 || y > this.getHeight()) {\n      throw new Error('Invalid y position! No row at y: ' + y);\n    }\n\n    let n = 0, height = y;\n    let node = this;\n    do {\n      let ch = 0;\n      for (let i = 0; i < node.children.length; i++) {\n        let child = node.children[i];\n        ch = child.getHeight();\n        if (height < ch) {\n          node = child;\n          break;\n        }\n        height -= ch;\n        n += child.getSize();\n      }\n      if (height >= ch) {\n        return n;\n      }\n    } while (!node.rows);\n\n    let i = 0;\n    if (node instanceof BTLeaf) {\n      for (; i < node.getSize(); i++) {\n        let row = node.rows[i], rHeight = row.getHeight();\n        if (height < rHeight) {\n          break;\n        }\n        height -= rHeight;\n      }\n    }\n    return n + i;\n  }\n  \n  getYAtIndex(index: number): number {\n    let row = this.getRow(index);\n    if (row.parent == null) {\n      throw new Error('Invalid row object! No parent node: (row.parent == null)');\n    }\n\n    let height = 0, chunk = row.parent;\n    for (let i = 0; i < chunk.rows.length; i++) {\n      let rowObj = chunk.rows[i];\n      if (rowObj === row) {\n        break;\n      } else {\n        height += rowObj.getHeight();\n      }\n    }\n    for (let p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (let i = 0; i < p.children.length; i++) {\n        let cur = p.children[i];\n        if (cur === chunk) {\n          break\n        } else {\n          height += cur.getHeight();\n        }\n      }\n    }\n    return height;\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport type { ChildrenArray, Element } from 'react';\n\nimport Column from './Column';\nimport VirtualListRow from './VirtualListRow';\n\nimport BTRoot from '../model/bt_root';\nimport Row from '../model/row';\n\n\ntype Props = {\n  root: BTRoot,\n  columns: ChildrenArray<Element<typeof Column>>,\n\n  height: number,\n  onToggle: (row: Row) => void,\n  onRowClick: (data: object) => void,\n  onScroll: (scrollTop: number) => void,\n  className?: string,\n  classNamePartlyVisible?: string,\n  classNameColumn?: string,\n  classNameMover?: string,\n  classNameRow?: string,\n  classNameInner?: string,\n  selected?: string,\n  classNameSelected?: string,\n};\n\ntype State = {\n  overscanHeight: number,\n  height: number,\n  topOffset: number,\n};\n\ntype RowData = {\n  row: Row,\n  hasVisibleChildren: boolean,\n};\n\nexport default class VirtualList extends Component<Props, State> {\n\n  state = {\n    overscanHeight: 100,\n    height: 0,\n    topOffset: 0,\n  };\n\n  container: ?HTMLElement;\n\n  componentDidUpdate() {\n    this._setHeight();\n  }\n\n  componentDidMount() {\n    this._setHeight();\n    window.addEventListener(\"resize\", this._setHeight);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this._setHeight);\n  }\n\n  render() {\n    const { root, columns, onToggle, className, classNameColumn, onRowClick, classNamePartlyVisible, classNameMover, classNameRow, selected, classNameSelected, classNameInner} = this.props;\n    const { overscanHeight, height, topOffset } = this.state;\n\n    const startYMax = Math.max(0, root.getHeight() - height - (overscanHeight * 2));\n    const startY = Math.min(startYMax, Math.max(0, topOffset - overscanHeight));\n    let startIndex = root.getIndexAtY(startY);\n\n    const endY = Math.min(root.getHeight(), topOffset + height + overscanHeight);\n    let endIndex = root.getIndexAtY(endY);\n\n    const contentTopOffset =  root.getYAtIndex(startIndex);\n\n    let visibleRowsData: Array<RowData> = [], lastVisibleRowIndex;\n    root.mapRange(startIndex, endIndex - startIndex, (row: Row) => {\n      if (row.isVisible()) {\n        if (lastVisibleRowIndex != null && !visibleRowsData[lastVisibleRowIndex].hasVisibleChildren) {\n          const data = visibleRowsData[lastVisibleRowIndex];\n          \n          if (data != null && data.row.depth === row.depth - 1 && !data.hasVisibleChildren) {\n            visibleRowsData[lastVisibleRowIndex].hasVisibleChildren = true;\n          }\n        }\n\n        lastVisibleRowIndex = visibleRowsData.length;\n        visibleRowsData.push({\n          row: row,\n          hasVisibleChildren: false,\n        });\n      }\n    });\n\n    let visibleRows = [];\n    let relativeIndex = 0;\n    visibleRowsData.forEach((data: RowData) => {\n        (data.row.data.visible === undefined || data.row.data.visible || data.row.data.hasVisibleChildren) && visibleRows.push(\n        <VirtualListRow\n          row={data.row}\n          columns={columns}\n          selected={selected}\n          onRowClick={onRowClick}\n          classNameSelected={classNameSelected}\n          classNameColumn={classNameColumn}\n          classNameRow={classNameRow + (!data.row.data.visible && classNamePartlyVisible && data.row.data.hasVisibleChildren ? ' ' + classNamePartlyVisible : '')}\n          hasVisibleChildren={data.hasVisibleChildren}\n          index={relativeIndex}\n          key={relativeIndex++}\n          onToggle={() => onToggle(data.row)}/>\n      );\n    });\n\n    return (\n      <div className={className}\n        style={{ ...STYLE_LIST, height: this.props.height + 'px', }}\n        ref={elem => {this.container = elem}}\n        onScroll={this._handleScroll}>\n\n        <div style={{ ...STYLE_WRAPPER, height: (root.getHeight()) + 'px', }} className={classNameInner || ''}>\n          <div style={{ ...STYLE_CONTENT, top: (contentTopOffset) + 'px' }}\n            className={'cp_tree-table_mover ' + (classNameMover || '')}>\n            {visibleRows}\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n\n  scrollTop(posY: number = 0) {\n    if (this.container) {\n      this.container.parentNode.scrollTop = posY;\n    }\n  }\n\n  // virtual scroll\n  _handleScroll = () => {\n    const { onScroll } = this.props;\n\n    if (this.container) {\n      const { scrollTop } = this.container;\n\n      onScroll(scrollTop);\n\n      this.setState({\n        topOffset: scrollTop\n      });\n    }\n  };\n\n  // virtual scroll\n  _setHeight = () => {\n    const { height } = this.state;\n    \n    if (this.container) {\n      const { offsetHeight } = this.container;\n\n      if (height !== offsetHeight) {\n        this.setState({\n          height: offsetHeight\n        });\n      }\n    }\n  };\n}\n\nconst STYLE_LIST = {\n  overflow: 'auto',\n  WebkitOverflowScrolling: 'touch',\n};\n\nconst STYLE_WRAPPER = {\n  position: 'relative',\n  overflow: 'hidden',\n  width: '100%',\n  minHeight: '100%',\n};\n\nconst STYLE_CONTENT = {\n  position: 'absolute',\n  overflow: 'visible',\n  height: '100%',\n  width: '100%',\n  top: '0',\n  left: '0',\n};\n","// @flow\nimport React, { Component } from 'react';\nimport type { ChildrenArray, Element } from 'react';\n\nimport Column from './Column';\nimport VirtualList from './VirtualList';\n\nimport BTRoot from '../model/bt_root';\nimport Row from '../model/row';\nimport type { TreeDataRow  } from '../model/row';\n\nimport { processData, noop, findNodeData } from '../util';\n\n\ntype TreeChange = {\n  root: BTRoot,\n  hasChange: boolean,\n};\n\ntype Props = {\n  data: Array<TreeDataRow>,\n  children: ChildrenArray<Element<typeof Column>>,\n  classNameColumn?: string,\n  classNamePartlyVisible?: string,\n  classNameMover?: string,\n  classNameInner?: string,\n  classNameRow?: string,\n  selected?: string,\n  classNameSelected?: string,\n  selected?: string,\n  height?: number,\n  rowHeight?: number,\n  onScroll?: (scrollTop: number) => void,\n  onRowClick?: (data: object) => void,\n  className?: string,\n};\n\ntype State = {\n  root: BTRoot,\n};\n\nexport default class TreeDataTable extends Component<Props, State> {\n  static Column = Column;\n\n  virtualList: ?VirtualList;\n\n  constructor(props: Props) {\n    super(props);\n    const { rowHeight } = props;\n    this.depth = 0;\n    this.state = {\n      root: new BTRoot(processData(this.props.data, rowHeight)),\n    };\n  }\n\n  render() {\n    const { height, children, onScroll, className, classNameRow, classNamePartlyVisible, classNameColumn, classNameMover, classNameInner, selected, classNameSelected } = this.props;\n    \n    const baseClass = className ? `cp_tree-table ${className}`: 'cp_tree-table';\n    return (\n      <VirtualList className={baseClass}\n                   classNameSelected={classNameSelected}\n                   selected={selected}\n                   classNameRow={classNameRow}\n                   classNamePartlyVisible={classNamePartlyVisible}\n                   classNameColumn={classNameColumn}\n                   classNameMover={classNameMover}\n                   onRowClick={this.props.onRowClick}\n                   classNameInner={classNameInner}\n        ref={elem => {this.virtualList = elem}}\n\n        columns={children}\n\n        height={height || 200}\n        root={this.state.root}\n        \n        onScroll={onScroll || noop}\n        onToggle={(row) => this._handleOnToggle(row)}/>\n    );\n  }\n\n  // Public API\n  scrollIntoView(node: TreeDataRow, expandAncestors: boolean = true) {\n    const { root } = this.state;\n\n    const row = node && findNodeData(root, node);\n    if (row) {\n      const rowIndex = root.getRowIndex(row);\n      if (expandAncestors && !row.isVisible()) {\n        let ancestors: Array<Row> = [];\n        for (let currentRowIndex = Math.max(rowIndex - 1, 0), previousDepth = row.depth; currentRowIndex >= 0; currentRowIndex--) {\n          const currentRow = root.getRow(currentRowIndex);\n          \n          if (currentRow.depth === previousDepth - 1) {  // Parent\n            ancestors.push(currentRow);\n            previousDepth = currentRow.depth;\n\n            if (currentRow.isVisible()) { // From here up, all the ancestors are visible\n              break;\n            }\n          }\n\n          if (currentRow.depth === 0) {\n            break;\n          }\n        }\n\n        // Batch changes\n        let currentRoot = root;\n        let hasChange: boolean = false;\n        for (let i = 0; i < ancestors.length; i++) {\n          const currentRow = ancestors[i];\n          const delta = this._toggleRow(currentRoot, currentRow);\n\n          if (!hasChange) {\n            hasChange = delta.hasChange;\n          }\n        }\n\n        if (hasChange) {\n          this.setState({ root: currentRoot }, () => {\n            const posY = root.getYAtIndex(rowIndex);\n            this.scrollTo(posY);\n          });\n        }\n      } else {\n        const posY = root.getYAtIndex(rowIndex);\n        this.scrollTo(posY);\n      }\n    }\n  }\n\n  // Public API\n  scrollTo(posY: number) {\n    if (this.virtualList) {\n      this.virtualList.scrollTop(posY);\n    }\n  }\n\n  // Makes rows in the given range that don't represent root nodes (row.depth == 0) visible\n  _showRowsInRange(from?: number, to?: number) {\n    const { root } = this.state;\n\n    let _from = (from != null) ? from : 0;\n    let _to = (to != null) ? to : root.getSize();\n\n    // Validation\n    if (!this._isOpRangeValid(_from, _to)) {\n      return;\n    }\n\n    // Expand op\n    let hasChange: boolean = false;\n    root.mapRange(_from, _to, (row: Row) => {\n      if (row.depth > 0 && !row.isVisible()) {\n        row.show();\n        hasChange = true;\n      }\n    });\n\n    if (hasChange) {\n      this.setState({ root: root });\n    }\n  }\n\n  _walkOne(root: BTRoot, depth: number) {\n    let hasChanged;\n    if (root.rows) {\n        for (let i = 0; i < root.rows.length; i++) {\n          if (root.rows[i].depth <= depth) {\n            if (!root.rows[i].isVisible()) {\n              hasChanged = true;\n              root.rows[i].show();\n            }\n          } else if (root.rows[i].isVisible()) {\n              hasChanged = true;\n              root.rows[i].hide();\n          }\n        }\n    } else if (root.children) {\n        for (let i = 0; i < root.children.length; i++) {\n            const changed = this._walkOne(root.children[i], depth);\n            if (changed) {\n                hasChanged = true;\n            }\n        }\n    }\n    return hasChanged;\n  }\n\n  // Public API\n  expandAll(expandOrCollapse?: boolean) { // _showRowsInRange alias with the default arguments\n    if (expandOrCollapse === undefined) {\n        this._showRowsInRange();\n    } else {\n      if (expandOrCollapse === true || expandOrCollapse === false) {\n          this.depth = expandOrCollapse ? this.depth + 1 : this.depth - 1;\n      } else {\n          this.depth = expandOrCollapse;\n      }\n      if (this.depth < 0) {\n          this.depth = 0;\n      }\n        if (this._walkOne(this.state.root, this.depth)) {\n            this.setState({root: this.state.root});\n        }\n    }\n  }\n\n  // Hides rows in the given range that don't represent root nodes (row.depth == 0)\n  _hideRowsInRange(from?: number, to?: number) {\n    const { root } = this.state;\n\n    let _from = (from != null) ? from : 0;\n    let _to = (to != null) ? to : root.getSize();\n\n    // Validation\n    if (!this._isOpRangeValid(_from, _to)) {\n      return;\n    }\n\n    // Expand op\n    let hasChange: boolean = false;\n    root.mapRange(_from, _to, (row: Row) => {\n      if (row.depth > 0 && row.isVisible()) {\n        row.hide();\n        hasChange = true;\n      }\n    });\n\n    if (hasChange) {\n      this.setState({ root: root });\n    }\n  }\n\n  // Public API\n  collapseAll() { // _hideRowsInRange alias with the default arguments\n    this._hideRowsInRange();\n  }\n\n  _isOpRangeValid(from: number, to: number): boolean {\n    const { root } = this.state;\n    const maxTo = root.getSize();\n    // Validation\n    if (from < 0) {\n      console.warn('Invalid range: from < 0');\n      return false;\n    }\n    if (from > maxTo) {\n      console.warn('Invalid range: from > max size');\n      return false;\n    }\n    if (to > maxTo) {\n      console.warn('Invalid range: to > max size');\n      return false;\n    }\n    if (from > to) {\n      console.warn('Invalid range: to > from');\n      return false;\n    }\n    return true;\n  }\n\n  _handleOnToggle = (row: Row) => {\n    const { root } = this.state;\n\n    const delta = this._toggleRow(root, row);\n    if (delta.hasChange) {\n      this.setState({ root: delta.root });\n    }\n  }\n\n  _toggleRow = (root: BTRoot, row: Row): TreeChange => {\n    const currentDepth = row.depth;\n    let rowIndex = Math.min(root.getRowIndex(row) + 1, root.getSize());\n\n    let hasChange: boolean = false;\n    let toggleOpen: ?boolean;\n    root.mapRange(rowIndex, root.getSize() - rowIndex, (row: Row) => {\n      if (toggleOpen == null) {\n        toggleOpen = !row.isVisible();\n      }\n\n      if (row.depth >= currentDepth + 1) {\n        if (row.depth === currentDepth + 1) {\n          row.toggle();\n          hasChange = true;\n        } else if (!toggleOpen && row.isVisible()) { // Close all children\n          row.toggle();\n          hasChange = true;\n        }\n        \n        return false;\n      } else {\n        return true;\n      }\n    });\n\n    return {\n      root: root,\n      hasChange: hasChange,\n    };\n  }\n}\n","// @flow\nimport Row from '../model/row';\nimport BTRoot from '../model/bt_root';\nimport type { TreeDataRow  } from '../model/row';\n\n\nexport const findNodeData = (root: BTRoot, dataNode: TreeDataRow): ?Row => {\n  let result;\n\n  root.mapAll((row: Row) => {\n    if (dataNode.data === row.data) {\n      result = row;\n      return true;\n    }\n  });\n  return result;\n}\n","import TreeDataTable from './component/TreeDataTable';\nimport type { TreeDataRow } from './component/TreeDataTable';\nimport type { RowMetadata } from '../model/row';\n\nexport default TreeDataTable;\nexport type { TreeDataRow };\nexport type { RowMetadata };\n","/**\r\n * Copyright 2018 bluefox <dogafox@gmail.com>\r\n *\r\n * Licensed under the Creative Commons Attribution-NonCommercial License, Version 4.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://creativecommons.org/licenses/by-nc/4.0/legalcode.txt\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n **/\r\n\r\nimport React from 'react';\r\nimport I18n from '../i18n';\r\n\r\nconst NAMESPACE = 'material';\r\nconst days = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];\r\nconst months = ['Jan', 'Feb', 'Mar', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\nclass Utils {\r\n    static namespace = NAMESPACE;\r\n    static INSTANCES = 'instances';\r\n    static dateFormat = ['DD', 'MM'];\r\n\r\n    static CapitalWords(name) {\r\n        return (name || '').split(/[\\s_]/)\r\n            .filter(item => item)\r\n            .map(word => word ? word[0].toUpperCase() + word.substring(1).toLowerCase() : '')\r\n            .join(' ');\r\n    }\r\n\r\n    static getObjectName(objects, id, settings, options, isDesc) {\r\n        let item = objects[id];\r\n        let text = id;\r\n        const attr = isDesc ? 'desc' : 'name';\r\n\r\n        options = options || {};\r\n        if (!options.language) {\r\n            options.language = (objects['system.config'] && objects['system.config'].common && objects['system.config'].common.language) || window.sysLang || 'en';\r\n        }\r\n        if (settings && settings.name) {\r\n            text = settings.name;\r\n            if (typeof text === 'object') {\r\n                text = text[options.language] || text.en;\r\n            }\r\n        } else\r\n        if (item && item.common && item.common[attr]) {\r\n            text = item.common[attr];\r\n            if (attr !== 'desc' && !text && item.common.desc) {\r\n                text = item.common.desc;\r\n            }\r\n            if (typeof text === 'object') {\r\n                text = text[options.language] || text.en;\r\n            }\r\n            text = text.replace(/[_.]/g, ' ');\r\n\r\n            if (text === text.toUpperCase()) {\r\n                text = text[0] + text.substring(1).toLowerCase();\r\n            }\r\n        } else {\r\n            let pos = id.lastIndexOf('.');\r\n            text = id.substring(pos + 1).replace(/[_.]/g, ' ');\r\n            text = Utils.CapitalWords(text);\r\n        }\r\n        return text.trim();\r\n    }\r\n\r\n    static getSettingsOrder(obj, forEnumId, options) {\r\n        if (obj && obj.hasOwnProperty('common')) {\r\n            obj = obj.common;\r\n        }\r\n        let settings;\r\n        if (obj && obj.custom) {\r\n            settings = (obj.custom || {})[NAMESPACE];\r\n            const user = options.user || 'admin';\r\n            if (settings && settings[user]) {\r\n                if (forEnumId) {\r\n                    if (settings[user].subOrder && settings[user].subOrder[forEnumId]) {\r\n                        return JSON.parse(JSON.stringify(settings[user].subOrder[forEnumId]));\r\n                    }\r\n                } else {\r\n                    if (settings[user].order) {\r\n                        return JSON.parse(JSON.stringify(settings[user].order));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static getSettingsCustomURLs(obj, forEnumId, options) {\r\n        if (obj && obj.hasOwnProperty('common')) {\r\n            obj = obj.common;\r\n        }\r\n        let settings;\r\n        if (obj && obj.custom) {\r\n            settings = (obj.custom || {})[NAMESPACE];\r\n            const user = options.user || 'admin';\r\n            if (settings && settings[user]) {\r\n                if (forEnumId) {\r\n                    if (settings[user].subURLs && settings[user].subURLs[forEnumId]) {\r\n                        return JSON.parse(JSON.stringify(settings[user].subURLs[forEnumId]));\r\n                    }\r\n                } else {\r\n                    if (settings[user].URLs) {\r\n                        return JSON.parse(JSON.stringify(settings[user].URLs));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static reorder(list, source, dest) {\r\n        const result = Array.from(list);\r\n        const [removed] = result.splice(source, 1);\r\n        result.splice(dest, 0, removed);\r\n        return result;\r\n    };\r\n\r\n    static getSettings(obj, options, defaultEnabling) {\r\n        let settings;\r\n        const id = (obj && obj._id) || (options && options.id);\r\n        if (obj && obj.hasOwnProperty('common')) {\r\n            obj = obj.common;\r\n        }\r\n        if (obj && obj.custom) {\r\n            settings = obj.custom || {};\r\n            settings = settings[NAMESPACE] && settings[NAMESPACE][options.user || 'admin'] ? JSON.parse(JSON.stringify(settings[NAMESPACE][options.user || 'admin'])) : {enabled: true};\r\n        } else {\r\n            settings = {enabled: defaultEnabling === undefined ? true : defaultEnabling, useCustom: false};\r\n        }\r\n\r\n        if (!settings.hasOwnProperty('enabled')) {\r\n            settings.enabled = defaultEnabling === undefined ? true : defaultEnabling;\r\n        }\r\n\r\n        if (false && settings.useCommon) {\r\n            if (obj.color) settings.color = obj.color;\r\n            if (obj.icon)  settings.icon  = obj.icon;\r\n            if (obj.name)  settings.name  = obj.name;\r\n        } else {\r\n            if (options) {\r\n                if (!settings.name  && options.name)  settings.name  = options.name;\r\n                if (!settings.icon  && options.icon)  settings.icon  = options.icon;\r\n                if (!settings.color && options.color) settings.color = options.color;\r\n            }\r\n\r\n            if (obj) {\r\n                if (!settings.color && obj.color) settings.color = obj.color;\r\n                if (!settings.icon  && obj.icon)  settings.icon  = obj.icon;\r\n                if (!settings.name  && obj.name)  settings.name  = obj.name;\r\n            }\r\n        }\r\n\r\n        if (typeof settings.name === 'object') {\r\n            settings.name = settings.name[options.language] || settings.name.en;\r\n\r\n            settings.name = (settings.name || '').replace(/_/g, ' ');\r\n\r\n            if (settings.name === settings.name.toUpperCase()) {\r\n                settings.name = settings.name[0] + settings.name.substring(1).toLowerCase();\r\n            }\r\n        }\r\n        if (!settings.name && id) {\r\n            let pos = id.lastIndexOf('.');\r\n            settings.name = id.substring(pos + 1).replace(/[_.]/g, ' ');\r\n            settings.name = (settings.name || '').replace(/_/g, ' ');\r\n            settings.name = Utils.CapitalWords(settings.name);\r\n        }\r\n\r\n        return settings;\r\n    }\r\n\r\n    static setSettings(obj, settings, options) {\r\n        if (obj) {\r\n            obj.common = obj.common || {};\r\n            obj.common.custom = obj.common.custom || {};\r\n            obj.common.custom[NAMESPACE] = obj.common.custom[NAMESPACE] || {};\r\n            obj.common.custom[NAMESPACE][options.user || 'admin'] = settings;\r\n            const s = obj.common.custom[NAMESPACE][options.user || 'admin'];\r\n            if (s.useCommon) {\r\n                if (s.color !== undefined) {\r\n                    obj.common.color = s.color;\r\n                    delete s.color;\r\n                }\r\n                if (s.icon !== undefined) {\r\n                    obj.common.icon = s.icon;\r\n                    delete s.icon;\r\n                }\r\n                if (s.name !== undefined) {\r\n                    if (typeof obj.common.name !== 'object') {\r\n                        obj.common.name = {};\r\n                        obj.common.name[options.language] = s.name;\r\n                    } else{\r\n                        obj.common.name[options.language] = s.name;\r\n                    }\r\n                    delete s.name;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    static getIcon(settings, style) {\r\n        if (settings && settings.icon) {\r\n            if (settings.icon.startsWith('data:image')) {\r\n                return (<img alt={settings.name} src={settings.icon} style={style || {}}/>);\r\n            } else { // may be later some changes for second type\r\n                return (<img alt={settings.name} src={settings.icon} style={style || {}}/>);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static getObjectIcon(id, obj) {\r\n        if (obj && obj.common && obj.common.icon) {\r\n            let icon = obj.common.icon;\r\n            if (icon.startsWith('data:image')) {\r\n                return icon;\r\n            } else {\r\n                const parts = id.split('.');\r\n                if (parts[0] === 'system') {\r\n                    icon = 'adapter/' + parts[2] + icon;\r\n                } else {\r\n                    icon = 'adapter/' + parts[0] + icon;\r\n                }\r\n\r\n                if (window.location.pathname.match(/material\\/[.\\d]+/)) {\r\n                    icon = '../../' + icon;\r\n                } else\r\n                if (window.location.pathname.match(/material\\//)) {\r\n                    icon = '../' + icon;\r\n                }\r\n                return icon;\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    static splitCamelCase(text) {\r\n        if (false && text !== text.toUpperCase()) {\r\n            const words = text.split(/\\s+/);\r\n            for (let i = 0; i < words.length; i++) {\r\n                let word = words[i];\r\n                if (word.toLowerCase() !== word && word.toUpperCase() !== word) {\r\n                    let z = 0;\r\n                    const ww = [];\r\n                    let start = 0;\r\n                    while (z < word.length) {\r\n                        if (word[z].match(/[A-Z-]/)) {\r\n                            ww.push(word.substring(start, z));\r\n                            start = z;\r\n                        }\r\n                        z++;\r\n                    }\r\n                    if (start !== z) {\r\n                        ww.push(word.substring(start, z));\r\n                    }\r\n                    for (let k = 0; k < ww.length; k++) {\r\n                        words.splice(i + k, 0, ww[k]);\r\n                    }\r\n                    i += ww.length;\r\n                }\r\n            }\r\n\r\n            return words.map(w => {\r\n                w = w.trim();\r\n                if (w) {\r\n                    return w[0].toUpperCase() + w.substring(1).toLowerCase();\r\n                }\r\n                return '';\r\n            }).join(' ');\r\n        } else {\r\n            return Utils.CapitalWords(text);\r\n        }\r\n    }\r\n\r\n    // https://stackoverflow.com/questions/35969656/how-can-i-generate-the-opposite-color-according-to-current-color\r\n    static isUseBright(color, defaultValue) {\r\n        if (color === null || color === undefined || color === '') {\r\n            return defaultValue === undefined ? true : defaultValue;\r\n        }\r\n        color = color.toString();\r\n        if (color.indexOf('#') === 0) {\r\n            color = color.slice(1);\r\n        }\r\n        let r;\r\n        let g;\r\n        let b;\r\n\r\n        const rgb = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\r\n        if (rgb && rgb.length === 4) {\r\n            r = parseInt(rgb[1], 10);\r\n            g = parseInt(rgb[2], 10);\r\n            b = parseInt(rgb[3], 10);\r\n        } else {\r\n            // convert 3-digit hex to 6-digits.\r\n            if (color.length === 3) {\r\n                color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\r\n            }\r\n            if (color.length !== 6) {\r\n                return false;\r\n            }\r\n\r\n            r = parseInt(color.slice(0, 2), 16);\r\n            g = parseInt(color.slice(2, 4), 16);\r\n            b = parseInt(color.slice(4, 6), 16);\r\n        }\r\n\r\n\r\n        // http://stackoverflow.com/a/3943023/112731\r\n        return (r * 0.299 + g * 0.587 + b * 0.114) <= 186;\r\n    };\r\n\r\n    static getTimeString(seconds) {\r\n        seconds = parseFloat(seconds);\r\n        if (isNaN(seconds)) {\r\n            return '--:--';\r\n        }\r\n        const hours = Math.floor(seconds / 3600);\r\n        let minutes = Math.floor((seconds % 3600) / 60);\r\n        let secs = seconds % 60;\r\n        if (hours) {\r\n            if (minutes < 10) minutes = '0' + minutes;\r\n            if (secs < 10) secs = '0' + secs;\r\n            return hours + ':' + minutes + ':' + secs;\r\n        } else {\r\n            if (secs < 10) secs = '0' + secs;\r\n            return minutes + ':' + secs;\r\n        }\r\n    }\r\n\r\n    static getWindDirection(angle) {\r\n        if (angle >= 0 && angle < 11.25) {\r\n            return 'N'\r\n        } else if (angle >= 11.25 && angle < 33.75) {\r\n            return 'NNE'\r\n        } else if (angle >= 33.75 && angle < 56.25) {\r\n            return 'NE'\r\n        } else if (angle >= 56.25 && angle < 78.75) {\r\n            return 'ENE'\r\n        } else if (angle >= 78.75 && angle < 101.25) {\r\n            return 'E'\r\n        } else if (angle >= 101.25 && angle < 123.75) {\r\n            return 'ESE'\r\n        } else if (angle >= 123.75 && angle < 146.25) {\r\n            return 'SE'\r\n        } else if (angle >= 146.25 && angle < 168.75) {\r\n            return 'SSE'\r\n        } else if (angle >= 168.75 && angle < 191.25) {\r\n            return 'S'\r\n        } else if (angle >= 191.25 && angle < 213.75) {\r\n            return 'SSW'\r\n        } else if (angle >= 213.75 && angle < 236.25) {\r\n            return 'SW'\r\n        } else if (angle >= 236.25 && angle < 258.75) {\r\n            return 'WSW'\r\n        } else if (angle >= 258.75 && angle < 281.25) {\r\n            return 'W'\r\n        } else if (angle >= 281.25 && angle < 303.75) {\r\n            return 'WNW'\r\n        } else if (angle >= 303.75 && angle < 326.25) {\r\n            return 'NW'\r\n        } else if (angle >= 326.25 && angle < 348.75) {\r\n            return 'NNW'\r\n        } else if (angle >= 348.75) {\r\n            return 'N'\r\n        }\r\n    }\r\n\r\n    static padding(num) {\r\n        if (typeof num === 'string') {\r\n            if (num.length < 2) {\r\n                return '0' + num;\r\n            } else {\r\n                return num;\r\n            }\r\n        } else if (num < 10) {\r\n            return '0' + num;\r\n        } else {\r\n            return num;\r\n        }\r\n    }\r\n\r\n    static setDataFormat(format) {\r\n        if (format) {\r\n            Utils.dateFormat = format.toUpperCase().split(/[.-/]/);\r\n            Utils.dateFormat.splice(Utils.dateFormat.indexOf('YYYY'), 1);\r\n        }\r\n    }\r\n\r\n    static date2string(now) {\r\n        if (typeof now === 'string') {\r\n            now = now.trim();\r\n            if (!now) return '';\r\n            // only letters\r\n            if (now.match(/^[\\w\\s]+$/)) {\r\n                // Day of week\r\n                return now;\r\n            }\r\n            let m = now.match(/(\\d{1,4})[-./](\\d{1,2})[-./](\\d{1,4})/);\r\n            if (m) {\r\n                let a = [parseInt(m[1], 10), parseInt(m[2], 10), parseInt(m[3], 10)];\r\n                let year = a.find(y => y > 31);\r\n                a.splice(a.indexOf(year), 1);\r\n                let day = a.find(m => m > 12);\r\n                if (day) {\r\n                    a.splice(a.indexOf(day), 1);\r\n                    now = new Date(year, a[0] - 1, day);\r\n                } else {\r\n                    // MM DD\r\n                    if (Utils.dateFormat[0][0] === 'M' && Utils.dateFormat[1][0] === 'D') {\r\n                        now = new Date(year, a[0] - 1, a[1]);\r\n                        if (Math.abs(now.getTime - Date.now()) > 3600000 * 24 * 10) {\r\n                            now = new Date(year, a[1] - 1, a[0]);\r\n                        }\r\n                    } else\r\n                    // DD MM\r\n                    if (Utils.dateFormat[0][0] === 'D' && Utils.dateFormat[1][0] === 'M') {\r\n                        now = new Date(year, a[1] - 1, a[0]);\r\n                        if (Math.abs(now.getTime - Date.now()) > 3600000 * 24 * 10) {\r\n                            now = new Date(year, a[0] - 1, a[1]);\r\n                        }\r\n                    } else {\r\n                        now = new Date(now);\r\n                    }\r\n                }\r\n            } else {\r\n                now = new Date(now);\r\n            }\r\n        } else {\r\n            now = new Date(now);\r\n        }\r\n\r\n        let date = I18n.t('dow_' + days[now.getDay()]).replace('dow_', '');\r\n        date += '. ' + now.getDate() + ' ' + I18n.t('month_' + months[now.getMonth()]).replace('month_', '');\r\n        return date;\r\n    }\r\n}\r\n\r\nexport default Utils;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport TreeDataTable from './cp-react-tree-table/src';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport secondary from '@material-ui/core/colors/orange';\r\n\r\nimport {FaFolder as IconClosed} from 'react-icons/fa';\r\nimport {FaFolderOpen as IconOpen} from 'react-icons/fa';\r\nimport {FaFileAlt as IconState} from 'react-icons/fa';\r\nimport {FaFile as IconDocument} from 'react-icons/fa';\r\nimport {MdPerson as IconExpert} from 'react-icons/md';\r\n//import {MdContentCopy as IconCopy} from 'react-icons/md';\r\nimport IconDefaultState from './assets/state.png';\r\nimport IconDefaultChannel from './assets/channel.png';\r\nimport IconDefaultDevice from './assets/device.png';\r\nimport IconDefault from './assets/empty.png';\r\n\r\nimport I18n from '../i18n';\r\nimport Utils from './Utils';\r\n\r\nimport CopyContentImg from '../assets/copy-content.svg';\r\n\r\nconst styles = theme => ({\r\n    toolbar: {\r\n        minHeight: 38,//Theme.toolbar.height,\r\n//        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\r\n    },\r\n    toolbarButtons: {\r\n        padding: 4,\r\n        marginLeft: 4\r\n    },\r\n    treeTable: {\r\n        background: '#ffffff',\r\n        borderTop: '1px solid #999',\r\n        borderBottom: '1px solid #999'\r\n    },\r\n    treeTableRow: {\r\n        boxShadow: 'inset 0 1px 0 #eeeeee',\r\n        display: 'block'\r\n    },\r\n    mainDiv: {\r\n        width: '100%',\r\n        height: '100%',\r\n        overflow: 'hidden'\r\n    },\r\n    tableDiv: {\r\n        width: '100%',\r\n        height: 'calc(100% - 34px - 38px)',\r\n        overflow: 'auto'\r\n    },\r\n    cellDiv: {\r\n        display: 'inline-block',\r\n        fontSize: 12,\r\n        height: 26,\r\n        verticalAlign: 'top'\r\n    },\r\n    cellDivId: {\r\n        display: 'inline-block',\r\n        height: 26,\r\n        verticalAlign: 'top'\r\n    },\r\n    cellWrapper: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        fontWeight: 300,\r\n        fontSize: 13,\r\n        height: '100%',\r\n        width: '100%',\r\n//        fontFamily: \"'SF Mono', 'Segoe UI Mono', 'Roboto Mono', Menlo, Courier, monospace\",\r\n        lineHeight: '1em'\r\n    },\r\n    selectNone: {\r\n        opacity: 0.5,\r\n    },\r\n    selectIcon: {\r\n        width: 16,\r\n        height: 16,\r\n        paddingRight: 5\r\n    },\r\n    cellWrapperElement: {\r\n        flexGrow: 1,\r\n        cursor: 'default'\r\n    },\r\n\r\n    toggleButtonWrapper: {\r\n        width: 16,\r\n        flexGrow: 0,\r\n        color: '#008fff',\r\n        cursor: 'pointer',\r\n        padding: 1,\r\n        borderRadius: 3\r\n    },\r\n    partlyVisible: {\r\n        opacity: 0.3\r\n    },\r\n    /*.toggle-button-wrapper > span:hover {\r\n        background: #d7d7d7;\r\n    }*/\r\n    \r\n    selectSpan: {\r\n//        fontFamily: \"'SF Mono', 'Segoe UI Mono', 'Roboto Mono', Menlo, Courier, monospace\",\r\n        background: '#efefef',\r\n        border: '1px solid #e5e5e5',\r\n        padding: 2,\r\n        borderRadius: 3\r\n    },\r\n    selected: {\r\n        background: '#008fff',\r\n        color: 'white'\r\n    },\r\n    icon: {\r\n        width: 20,\r\n        height: 20,\r\n        paddingTop: 2,\r\n        paddingRight: 2\r\n    },\r\n    header: {\r\n        width: '100%'\r\n    },\r\n    headerCell: {\r\n        display: 'inline-block'\r\n    },\r\n    headerCellInput: {\r\n        width: 'calc(100% - 5px)'\r\n    },\r\n    visibleButtons: {\r\n        color: '#2196f3',\r\n        opacity: 0.7\r\n    },\r\n    depth: {\r\n        position: 'absolute',\r\n        top: 8,\r\n        left: 10,\r\n        color: 'black',\r\n        fontSize: 14\r\n    },\r\n    cellCopy: {\r\n        position: 'absolute',\r\n        top: 3,\r\n        right: 10,\r\n        width: 16,\r\n        height: 16,\r\n        background: 'lightblue',\r\n        cursor: 'grab',\r\n        borderRadius: 2,\r\n        padding: 2,\r\n    },\r\n    cellCopyPressed: {\r\n        cursor: 'grabbing',\r\n        background: secondary.A700,\r\n    }\r\n});\r\n\r\n// d=data, t=target, s=start, e=end, m=middle\r\nfunction binarySearch(d, t, s, e) {\r\n    s = s || 0;\r\n    if (e === undefined) {\r\n        e = d.length - 1;\r\n        if (!e) {\r\n            return d[0] === t;\r\n        }\r\n    }\r\n    const m = Math.floor((s + e) / 2);\r\n    if (t === d[m]) return d[m];\r\n    if (e - 1 === s) return d[s] === t || d[e] === t;\r\n    if (t > d[m]) return binarySearch(d, t, m, e);\r\n    if (t < d[m]) return binarySearch(d, t, s, m);\r\n}\r\n\r\n/* function walkTree(tree, func) {\r\n    func(tree);\r\n    if (tree.children) {\r\n        tree.children.forEach(item => walkTree(item, func));\r\n    }\r\n}\r\n*/\r\nfunction applyFilter(item, filters, lang, objects, context) {\r\n    let filteredOut = false;\r\n    if (!context) {\r\n        context = {};\r\n        if (filters.id) {\r\n            context.id = filters.id.toLowerCase();\r\n        }\r\n        if (filters.name) {\r\n            context.name = filters.name.toLowerCase();\r\n        }\r\n        if (filters.role) {\r\n            context.role = filters.role.toLowerCase();\r\n        }\r\n        if (filters.room) {\r\n            context.room = (objects[filters.room] && objects[filters.room].common && objects[filters.room].common.members) || [];\r\n        }\r\n        if (filters.func) {\r\n            context.func = (objects[filters.func] && objects[filters.func].common && objects[filters.func].common.members) || [];\r\n        }\r\n    }\r\n\r\n    if (item.data.id) {\r\n        if (!filters.expert) {\r\n            filteredOut = item.data.id === 'system' || item.data.id.startsWith('system.') || (item.data.obj && item.data.obj.common && item.data.obj.common.expert);\r\n        }\r\n        if (!filteredOut && context.id) {\r\n            if (item.data.fID === undefined) {\r\n                item.data.fID = item.data.id.toLowerCase();\r\n            }\r\n            filteredOut = item.data.fID.indexOf(context.id) === -1;\r\n        }\r\n        if (!filteredOut && context.name) {\r\n            if (item.data.fName === undefined) {\r\n                item.data.fName = (item.data.obj && item.data.obj.common && getName(item.data.obj.common.name, lang)) || '';\r\n                item.data.fName = item.data.name.toLowerCase();\r\n            }\r\n            filteredOut = item.data.fName.indexOf(context.name) === -1;\r\n        }\r\n        if (!filteredOut && filters.role) {\r\n            filteredOut = !(item.data && item.data.obj && item.data.obj.common && item.data.obj.common.role && item.data.obj.common.role.startsWith(context.role));\r\n        }\r\n        if (!filteredOut && context.room) {\r\n            filteredOut = !context.room.find(id => id === item.data.id || item.data.id.startsWith(id + '.'));\r\n        }\r\n        if (!filteredOut && context.func) {\r\n            filteredOut = !context.func.find(id => id === item.data.id || item.data.id.startsWith(id + '.'));\r\n        }\r\n    }\r\n    item.data.visible = !filteredOut;\r\n    item.data.hasVisibleChildren = false;\r\n    if (item.children) {\r\n        item.children.forEach(_item => {\r\n            const visible = applyFilter(_item, filters, lang, objects, context);\r\n            if (visible) {\r\n                item.data.hasVisibleChildren = true;\r\n            }\r\n        });\r\n    }\r\n    return item.data.visible || item.data.hasVisibleChildren;\r\n}\r\n\r\nfunction buildTree(objects, options) {\r\n    options = options || {};\r\n\r\n    const ids = Object.keys(objects);\r\n    ids.sort((a, b) => {\r\n        if (a === b) return 0;\r\n        a = a.replace(/\\./g, '!!!');\r\n        b = b.replace(/\\./g, '!!!');\r\n        if (a > b) return 1;\r\n        return -1;\r\n    });\r\n\r\n    // find empty nodes and create names for it\r\n    let currentPathArr = [];\r\n    let currentPath = '';\r\n    let currentPathLen = 0;\r\n    let root = {data: {name: '', id: ''}, children: []};\r\n\r\n    let info = {\r\n        funcEnums: [],\r\n        roomEnums: [],\r\n        roles: [],\r\n        ids: [],\r\n        objects\r\n    };\r\n\r\n    let croot = root;\r\n    for (let i = 0; i < ids.length; i++) {\r\n        const id = ids[i];\r\n        const parts = id.split('.');\r\n\r\n        if (objects[id]) {\r\n            if (objects[id].common && objects[id].common.role) {\r\n                if (info.roles.indexOf(objects[id].common.role) === -1) {\r\n                    info.roles.push(objects[id].common.role);\r\n                }\r\n            } else if (id.startsWith('enum.rooms.')) {\r\n                info.roomEnums.push(id);\r\n            } else if (id.startsWith('enum.functions.')) {\r\n                info.funcEnums.push(id);\r\n            }\r\n        }\r\n\r\n        if (options.statesOnly && (!objects[id] || objects[id].type !== 'state')) {\r\n            continue;\r\n        }\r\n        info.ids.push(id);\r\n\r\n        let repeat;\r\n        // if next level\r\n        do {\r\n            repeat = false;\r\n            if (!currentPath || id.substring(0, currentPath.length + 1) === currentPath + '.') {\r\n                if (parts.length - currentPathLen > 1) {\r\n                    let curPath = currentPath;\r\n                    for (let k = currentPathLen; k < parts.length - 1; k++) {\r\n                        curPath += (curPath ? '.' : '') + parts[k];\r\n                        if (!binarySearch(info.ids, curPath)) {\r\n                            const _croot = {data: {name: parts[k], parent: croot, id: curPath, obj: objects[curPath]}};\r\n                            croot.children = croot.children || [];\r\n                            croot.children.push(_croot);\r\n                            croot = _croot;\r\n                            //ids.splice(i, 0, curPath);\r\n                            info.ids.push(curPath);\r\n                            //i++;\r\n                        } else {\r\n                            croot = croot.children.find(item => item.data.name === parts[k]);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                const _croot = {data: {name: parts[parts.length - 1], obj: objects[id], parent: croot, id}, children: []};\r\n                croot.children = croot.children || [];\r\n                croot.children.push(_croot);\r\n                croot = _croot;\r\n\r\n                currentPathLen = parts.length;\r\n                currentPathArr = parts;\r\n                currentPath    = id;\r\n            } else {\r\n                let u = 0;\r\n                while (currentPathArr[u] === parts[u]) u++;\r\n                if (u > 0) {\r\n                    let move = currentPathArr.length;\r\n                    currentPathArr = currentPathArr.splice(0, u);\r\n                    currentPathLen = u;\r\n                    currentPath = currentPathArr.join('.');\r\n                    while (move > u) {\r\n                        croot = croot.data.parent;\r\n                        move--;\r\n                    }\r\n                } else {\r\n                    croot = root;\r\n                    currentPathArr = [];\r\n                    currentPath = '';\r\n                    currentPathLen = 0;\r\n                }\r\n                repeat = true;\r\n            }\r\n        } while(repeat);\r\n    }\r\n\r\n    info.roomEnums.sort();\r\n    info.funcEnums.sort();\r\n    info.roles.sort();\r\n\r\n    return {info, root};\r\n}\r\n\r\nfunction findNode(root, id, _parts, _path, _level) {\r\n    if (root.data.id === id) {\r\n        return root;\r\n    }\r\n    if (!_parts) {\r\n        _parts = id.split('.');\r\n        _level = 0;\r\n        _path = _parts[_level];\r\n    }\r\n    if (!root.children && root.data.id !== id) {\r\n        return null;\r\n    } else {\r\n        let found;\r\n        for (let i = 0; i< root.children.length; i++) {\r\n            const _id = root.children[i].data.id;\r\n            if (_id === _path) {\r\n                found = root.children[i];\r\n                break;\r\n            } else\r\n            if (_id < _path) continue;\r\n            if (_id > _path) break;\r\n        }\r\n        if (found) {\r\n            return findNode(found, id, _parts, _path + '.' + _parts[_level + 1], _level + 1);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nfunction getName(name, lang) {\r\n    if (name && typeof name === 'object') {\r\n        return name[lang] || name.en;\r\n    } else {\r\n        return name || '';\r\n    }\r\n}\r\n\r\nfunction findRoomsForObject(data, id, lang, withParentInfo, rooms) {\r\n    if (!id) {\r\n        return [];\r\n    }\r\n    rooms = rooms || [];\r\n    for (let i = 0; i < data.roomEnums.length; i++) {\r\n        const common = data.objects[data.roomEnums[i]] && data.objects[data.roomEnums[i]].common;\r\n        const name = getName(common.name, lang);\r\n\r\n        if (common.members && common.members.indexOf(id) !== -1 && rooms.indexOf(name) === -1) {\r\n            if (!withParentInfo) {\r\n                rooms.push(name);\r\n            } else {\r\n                rooms.push({name: name, origin: id});\r\n            }\r\n        }\r\n    }\r\n    const parts = id.split('.');\r\n    parts.pop();\r\n    id = parts.join('.');\r\n    if (data.objects[id]) {\r\n        findRoomsForObject(data, id, lang, withParentInfo, rooms);\r\n    }\r\n\r\n    return rooms;\r\n}\r\n\r\n/* function findRoomsForObjectAsIds(data, id, rooms) {\r\n    if (!id) {\r\n        return [];\r\n    }\r\n    rooms = rooms || [];\r\n    for (let i = 0; i < data.roomEnums.length; i++) {\r\n        const common = data.objects[data.roomEnums[i]] && data.objects[data.roomEnums[i]].common;\r\n        if (common && common.members && common.members.indexOf(id) !== -1 &&\r\n            rooms.indexOf(data.roomEnums[i]) === -1) {\r\n            rooms.push(data.roomEnums[i]);\r\n        }\r\n    }\r\n    return rooms;\r\n}\r\n*/\r\nfunction findFunctionsForObject(data, id, lang, withParentInfo, funcs) {\r\n    if (!id) {\r\n        return [];\r\n    }\r\n    funcs = funcs || [];\r\n    for (let i = 0; i < data.funcEnums.length; i++) {\r\n        const common = data.objects[data.funcEnums[i]] && data.objects[data.funcEnums[i]].common;\r\n        const name = getName(common.name, lang);\r\n        if (common && common.members && common.members.indexOf(id) !== -1 && funcs.indexOf(name) === -1) {\r\n            if (!withParentInfo) {\r\n                funcs.push(name);\r\n            } else {\r\n                funcs.push({name: name, origin: id});\r\n            }\r\n        }\r\n    }\r\n    const parts = id.split('.');\r\n    parts.pop();\r\n    id = parts.join('.');\r\n    if (data.objects[id]) {\r\n        findFunctionsForObject(data, id, lang, withParentInfo, funcs);\r\n    }\r\n\r\n    return funcs;\r\n}\r\n\r\n/*function findFunctionsForObjectAsIds(data, id, funcs) {\r\n    if (!id) {\r\n        return [];\r\n    }\r\n    funcs = funcs || [];\r\n    for (let i = 0; i < data.funcEnums.length; i++) {\r\n        const common = data.objects[data.funcEnums[i]] && data.objects[data.funcEnums[i]].common;\r\n        if (common && common.members && common.members.indexOf(id) !== -1 &&\r\n            funcs.indexOf(data.funcEnums[i]) === -1) {\r\n            funcs.push(data.funcEnums[i]);\r\n        }\r\n    }\r\n\r\n    return funcs;\r\n}\r\n*/\r\nfunction getStates(obj) {\r\n    let states;\r\n    if (obj &&\r\n        obj.common &&\r\n        obj.common.states) {\r\n        states = obj.common.states;\r\n    }\r\n    if (states) {\r\n        if (typeof states === 'string' && states[0] === '{') {\r\n            try {\r\n                states = JSON.parse(states);\r\n            } catch (ex) {\r\n                console.error('Cannot parse states: ' + states);\r\n                states = null;\r\n            }\r\n        } else\r\n        // if old format val1:text1;val2:text2\r\n        if (typeof states === 'string') {\r\n            const parts = states.split(';');\r\n            states = {};\r\n            for (let p = 0; p < parts.length; p++) {\r\n                const s = parts[p].split(':');\r\n                states[s[0]] = s[1];\r\n            }\r\n        }\r\n    }\r\n    return states;\r\n}\r\n\r\nfunction quality2text(q) {\r\n    if (!q) return 'ok';\r\n    const custom = q & 0xFFFF0000;\r\n    let text = '';\r\n    if (q & 0x40) text += 'device';\r\n    if (q & 0x80) text += 'sensor';\r\n    if (q & 0x01) text += ' bad';\r\n    if (q & 0x02) text += ' not connected';\r\n    if (q & 0x04) text += ' error';\r\n\r\n    return text + (custom ? '|0x' + (custom >> 16).toString(16).toUpperCase() : '') + ' [0x' + q.toString(16).toUpperCase() + ']';\r\n}\r\n\r\nfunction formatDate(dateObj) {\r\n    //return dateObj.getFullYear() + '-' +\r\n    //    ('0' + (dateObj.getMonth() + 1).toString(10)).slice(-2) + '-' +\r\n    //    ('0' + (dateObj.getDate()).toString(10)).slice(-2) + ' ' +\r\n    //    ('0' + (dateObj.getHours()).toString(10)).slice(-2) + ':' +\r\n    //    ('0' + (dateObj.getMinutes()).toString(10)).slice(-2) + ':' +\r\n    //    ('0' + (dateObj.getSeconds()).toString(10)).slice(-2);\r\n    // Following implementation is 5 times faster\r\n    if (!dateObj) return '';\r\n\r\n    var text = dateObj.getFullYear();\r\n    var v = dateObj.getMonth() + 1;\r\n    if (v < 10) {\r\n        text += '-0' + v;\r\n    } else {\r\n        text += '-' + v;\r\n    }\r\n\r\n    v = dateObj.getDate();\r\n    if (v < 10) {\r\n        text += '-0' + v;\r\n    } else {\r\n        text += '-' + v;\r\n    }\r\n\r\n    v = dateObj.getHours();\r\n    if (v < 10) {\r\n        text += ' 0' + v;\r\n    } else {\r\n        text += ' ' + v;\r\n    }\r\n    v = dateObj.getMinutes();\r\n    if (v < 10) {\r\n        text += ':0' + v;\r\n    } else {\r\n        text += ':' + v;\r\n    }\r\n\r\n    v = dateObj.getSeconds();\r\n    if (v < 10) {\r\n        text += ':0' + v;\r\n    } else {\r\n        text += ':' + v;\r\n    }\r\n\r\n    v = dateObj.getMilliseconds();\r\n    if (v < 10) {\r\n        text += '.00' + v;\r\n    } else if (v < 100) {\r\n        text += '.0' + v;\r\n    } else {\r\n        text += '.' + v;\r\n    }\r\n\r\n    return text;\r\n}\r\n\r\nfunction formatValue(id, state, obj, texts) {\r\n    const states = getStates(obj);\r\n    const isCommon = obj.common;\r\n\r\n    let valText = state.val;\r\n    if (isCommon && isCommon.role && isCommon.role.match(/^value\\.time|^date/)) {\r\n        valText = valText ? (new Date(valText)).toString() : valText;\r\n    }\r\n\r\n    if (states && states[valText] !== undefined) {\r\n        valText = states[valText] + '(' + valText + ')';\r\n    }\r\n\r\n    let valFull;\r\n    if (valText === undefined) {\r\n        valText = '&nbsp;';\r\n    } else {\r\n        // if less 2000.01.01 00:00:00\r\n        if (state.ts < 946681200000) state.ts *= 1000;\r\n        if (state.lc < 946681200000) state.lc *= 1000;\r\n\r\n        if (isCommon && isCommon.unit) {\r\n             valText += ' ' + isCommon.unit;\r\n        }\r\n        valFull =           texts.value   + ': ' + state.val;\r\n        valFull += '\\x0A' + texts.ack     + ': ' + state.ack;\r\n        valFull += '\\x0A' + texts.ts      + ': ' + (state.ts ? formatDate(new Date(state.ts)) : '');\r\n        valFull += '\\x0A' + texts.lc      + ': ' + (state.lc ? formatDate(new Date(state.lc)) : '');\r\n        valFull += '\\x0A' + texts.from    + ': ' + (state.from || '');\r\n        if (state.user) {\r\n            valFull += '\\x0A' + texts.user    + ': ' + (state.user || '');\r\n        }\r\n        valFull += '\\x0A' + texts.quality + ': ' + quality2text(state.q || 0);\r\n    }\r\n    if (valText === null || valText === '') {\r\n        valText = '&nbsp;';\r\n    }\r\n    if (typeof valText === 'string' && valText !== '&nbsp;') {\r\n        valText = valText.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\r\n    }\r\n\r\n    return {\r\n        valText: valText,\r\n        valFull: valFull,\r\n        style: {color: state.ack ? (state.q ? 'orange' : '') : '#c00000'}\r\n    };\r\n}\r\n\r\nfunction getSelectIdIcon(objects, id, prefix) {\r\n    prefix = prefix || 'http://localhost:8081';\r\n    let icon = '';\r\n    let alt  = '';\r\n    const _id_ = 'system.adapter.' + id;\r\n    if (id && objects[_id_] && objects[_id_].common && objects[_id_].common.icon) {\r\n        // if not BASE64\r\n        if (!objects[_id_].common.icon.match(/^data:image\\//)) {\r\n            if (objects[_id_].common.icon.indexOf('.') !== -1) {\r\n                icon = prefix + '/adapter/' + objects[_id_].common.name + '/' + objects[_id_].common.icon;\r\n            } else {\r\n                return null; //'<i class=\"material-icons iob-list-icon\">' + objects[_id_].common.icon + '</i>';\r\n            }\r\n        } else {\r\n            icon = objects[_id_].common.icon;\r\n        }\r\n    } else {\r\n        const obj = objects[id];\r\n\r\n        if (obj && obj.common) {\r\n            if (obj.common.icon) {\r\n                if (!obj.common.icon.match(/^data:image\\//)) {\r\n                    if (obj.common.icon.indexOf('.') !== -1) {\r\n                        var instance;\r\n                        if (obj.type === 'instance') {\r\n                            icon = prefix + '/adapter/' + obj.common.name + '/' + obj.common.icon;\r\n                        } else if (id && id.match(/^system\\.adapter\\./)) {\r\n                            instance = id.split('.', 3);\r\n                            if (obj.common.icon[0] === '/') {\r\n                                instance[2] += obj.common.icon;\r\n                            } else {\r\n                                instance[2] += '/' + obj.common.icon;\r\n                            }\r\n                            icon = prefix + '/adapter/' + instance[2];\r\n                        } else {\r\n                            instance = id.split('.', 2);\r\n                            if (obj.common.icon[0] === '/') {\r\n                                instance[0] += obj.common.icon;\r\n                            } else {\r\n                                instance[0] += '/' + obj.common.icon;\r\n                            }\r\n                            icon = prefix + '/adapter/' + instance[0];\r\n                        }\r\n                    } else {\r\n                        return null; // '<i class=\"material-icons iob-list-icon\">' + obj.common.icon + '</i>';\r\n                    }\r\n                } else {\r\n                    // base 64 image\r\n                    icon = obj.common.icon;\r\n                }\r\n            } else if (obj.type === 'device') {\r\n                icon = IconDefaultDevice;\r\n                alt  = 'device';\r\n            } else if (obj.type === 'channel') {\r\n                icon = IconDefaultChannel;\r\n                alt  = 'channel';\r\n            } else if (obj.type === 'state') {\r\n                icon = IconDefaultState;\r\n                alt  = 'state';\r\n            }\r\n        }\r\n    }\r\n\r\n    if (icon) {\r\n        return {src: icon, alt};\r\n    } else {\r\n        return  {src: IconDefault, alt: ''};\r\n    }\r\n}\r\n\r\nclass SelectID extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: false,\r\n            selected: (this.props.selected || '').replace(/[\"']/g, ''),\r\n            filter: {\r\n                id: '',\r\n                name: '',\r\n                room: '',\r\n                func:  '',\r\n                role: '',\r\n                expert: false\r\n            },\r\n            depth: 0\r\n        };\r\n        this.selectedFound = false;\r\n        this.copyContentImg = CopyContentImg;\r\n        this.treeTableRef = React.createRef();\r\n        this.mainRef = React.createRef();\r\n        this.root = null;\r\n        this.lang = I18n.getLanguage();\r\n\r\n        this.props.connection.getObjects(objects => {\r\n            this.props.connection.getStates(states => {\r\n                this.states = states;\r\n                this.objects = objects;\r\n                const {info, root} = buildTree(this.objects, this.props);\r\n                this.root = root;\r\n                this.info = info;\r\n                applyFilter(this.root, this.state.filter, this.lang, this.objects);\r\n                this.setState({loaded: true});\r\n\r\n                this.state.selected && this.onSelect(this.state.selected);\r\n            });\r\n        });\r\n\r\n        this.texts = {\r\n            value:   I18n.t('tooltip_value'),\r\n            ack:     I18n.t('tooltip_ack'),\r\n            ts:      I18n.t('tooltip_ts'),\r\n            lc:      I18n.t('tooltip_lc'),\r\n            from:    I18n.t('tooltip_from'),\r\n            user:    I18n.t('tooltip_user'),\r\n            quality: I18n.t('tooltip_quality')\r\n        };\r\n    }\r\n\r\n    onSelect(selected, isDouble) {\r\n        selected !== this.state.selected && this.setState({selected});\r\n        const name = selected ? Utils.getObjectName(this.objects, selected, null, {language: this.lang}) : '';\r\n        this.props.onSelect && this.props.onSelect(selected, name, isDouble);\r\n    }\r\n\r\n    onDoubleClick(data, metadata, toggleChildren) {\r\n        if (metadata.hasChildren) {\r\n            toggleChildren();\r\n        } else if (data.obj && data.obj.type === 'state') {\r\n            this.onSelect(data.obj._id, true);\r\n        }\r\n    }\r\n\r\n    onCopy(e, id) {\r\n        const el = window.document.createElement('textarea');\r\n        el.value = id;\r\n        window.document.body.appendChild(el);\r\n        el.select();\r\n        window.document.execCommand('copy');\r\n        window.document.body.removeChild(el);\r\n        console.log(id);\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    }\r\n\r\n    installCopyButtons() {\r\n        if (!this.mainRef.current) return;\r\n        const rows = this.mainRef.current.getElementsByClassName('add-copy-button');\r\n        for (let i = 0; i < rows.length; i++) {\r\n            if (!rows[i].__installed) {\r\n                rows[i].addEventListener('mouseenter', e => {\r\n                    const copy = e.target.getElementsByClassName(this.props.classes.cellCopy);\r\n                    if (!copy || !copy.length) {\r\n                        const div = document.createElement('div');\r\n                        const img = document.createElement('img');\r\n                        img.src = this.copyContentImg;\r\n                        img.width = 16;\r\n                        img.height = 16;\r\n                        img.color = secondary.A200;\r\n                        div.appendChild(img);\r\n                        div.className = this.props.classes.cellCopy;\r\n                        div.addEventListener('click', e => this.onCopy(e, e.target.parentNode.dataset.index), false);\r\n                        div.addEventListener('mousedown', e => {\r\n                            if (e.target.parentNode.className.indexOf(this.props.classes.cellCopyPressed) === -1) {\r\n                                e.target.parentNode.className += ' ' + this.props.classes.cellCopyPressed;\r\n                            }\r\n                        }, false);\r\n                        div.addEventListener('mouseup', e => {\r\n                            let className = e.target.parentNode.className.split(' ');\r\n                            let pos = className.indexOf(this.props.classes.cellCopyPressed);\r\n                            while (pos !== -1) {\r\n                                className.splice(pos);\r\n                                pos = className.indexOf(this.props.classes.cellCopyPressed);\r\n                            }\r\n                            e.target.parentNode.className = className.join(' ');\r\n                        }, false);\r\n                        e.target.appendChild(div);\r\n                    }\r\n                }, false);\r\n                rows[i].addEventListener('mouseleave', e => {\r\n                    const copy = e.target.getElementsByClassName(this.props.classes.cellCopy);\r\n                    if (copy && copy.length) {\r\n                        e.target.removeChild(copy[0]);\r\n                    }\r\n                }, false);\r\n                rows[i].__installed = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.installCopyButtons();\r\n        if (!this.selectedFound) {\r\n            if (this.props.selected && this.treeTableRef.current) {\r\n                const node = findNode(this.root, this.props.selected);\r\n                this.treeTableRef.current.scrollIntoView(node);\r\n                this.selectedFound = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    renderIndexColumn(data, metadata, toggleChildren) {\r\n        const selected = this.state.selected === data.id;\r\n        const isExist = !!this.objects[data.id];\r\n        const isState = isExist && this.objects[data.id].type === 'state';\r\n        // const isChannel = isExist && !isState && this.objects[data.id].type === 'channel';\r\n        // const isDevice = isExist && !isChannel && !isState && this.objects[data.id].type === 'device';\r\n\r\n        const padding = (metadata.depth * 25) + 'px';\r\n        const width = `calc(100% - ${padding})`;\r\n        return (\r\n            <div style={{paddingLeft: padding, width: width}}\r\n                 data-index={data.id}\r\n                 className={this.props.classes.cellWrapper + ' add-copy-button'}\r\n            >\r\n                <span className={(selected ? this.props.classes.selected : '') + ' ' + this.props.classes.toggleButtonWrapper}>\r\n                  {metadata.hasChildren\r\n                      ? (<span onClick={toggleChildren}>{metadata.hasVisibleChildren ? (<IconOpen/>) : (<IconClosed/>)}</span>)\r\n                      : (isState ? (<IconState/>) : (<IconDocument/>))\r\n                  }\r\n                </span>\r\n                <span className={this.props.classes.cellWrapperElement} style={{fontWeight: metadata.hasChildren ? 'bold' : 'normal'}}>{data.name}</span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderColumnName(data, metadata, toggleChildren) {\r\n        const icon = getSelectIdIcon(this.objects, data.id);\r\n        return (<span className={this.props.classes.cellWrapper}>\r\n            <img src={icon.src} className={this.props.classes.icon} alt={icon.alt}/>\r\n            {data.obj && Utils.getObjectName(this.objects, data.obj._id, null, {language: this.lang})}\r\n            </span>);\r\n    }\r\n    renderColumnRole(data, metadata, toggleChildren) {\r\n        if (!data.obj) return null;\r\n        return (<span className={this.props.classes.cellWrapper}>{(data.obj.common && data.obj.common.role) || ''}</span>);\r\n    }\r\n    renderColumnRoom(data, metadata, toggleChildren) {\r\n        if (!data.obj) return null;\r\n        const list = findRoomsForObject(this.info, data.obj._id, this.lang) || [];\r\n        return (<span className={this.props.classes.cellWrapper}>{list.join(', ')}</span>);\r\n    }\r\n    renderColumnFunc(data, metadata, toggleChildren) {\r\n        if (!data.obj) return null;\r\n        const list = findFunctionsForObject(this.info, data.obj._id, this.lang) || [];\r\n        return (<span className={this.props.classes.cellWrapper}>{list.join(', ')}</span>);\r\n    }\r\n    renderColumnValue(data, metadata, toggleChildren) {\r\n        if (!data.obj || !data.obj._id || this.states || !this.states[data.obj._id]) return null;\r\n        const id = data.obj._id;\r\n        const state = this.states[id];\r\n        const info = formatValue(id, state, data.obj, this.texts);\r\n        return (<span className={this.props.classes.cellWrapper} style={info.style} title={info.valFull}>{info.valText}</span>);\r\n    }\r\n\r\n    onFilter(name, value) {\r\n        if (this.state.filter[name] !== value) {\r\n            const filter = JSON.parse(JSON.stringify(this.state.filter));\r\n            filter[name] = value;\r\n            this.filterTimer && clearTimeout(this.filterTimer);\r\n            this.filterTimer = setTimeout(() => {\r\n                applyFilter(this.root, filter, this.lang, this.objects);\r\n                this.forceUpdate();\r\n            }, 400);\r\n            this.setState({filter});\r\n        }\r\n    }\r\n\r\n    getFilterInput(name) {\r\n        return (<FormControl className={this.props.classes.headerCellInput} style={{marginTop: 0, marginBottom: 0}} margin=\"dense\">\r\n            <Input\r\n                classes={{underline: 'no-underline'}}\r\n                id={name}\r\n                placeholder={I18n.t('filter_' + name)}\r\n                value={this.state.filter[name]}\r\n                onChange={e => this.onFilter(name, e.target.value)}\r\n                autoComplete=\"off\"\r\n            />\r\n        </FormControl>);\r\n    }\r\n    getFilterSelect(name, values) {\r\n        //<!--InputLabel htmlFor=\"demo-controlled-open-select\">Age</InputLabel-->\r\n        return (\r\n            <Select className={this.props.classes.headerCellInput + ' no-underline'}\r\n                value={this.state.filter[name]}\r\n                onChange={e => this.onFilter(name, e.target.value)}\r\n                inputProps={{name, id: name,}}\r\n                displayEmpty={true}\r\n            >\r\n                <MenuItem key=\"empty\" value=\"\"><span className={this.props.classes.selectNone}>{I18n.t('filter_' + name)}</span></MenuItem>\r\n                {values.map(item => {\r\n                    let id;\r\n                    let name;\r\n                    let icon;\r\n                    if (typeof item === 'object') {\r\n                        id = item.value;\r\n                        name = item.name;\r\n                        icon = getSelectIdIcon(this.objects, id);\r\n                    } else {\r\n                        id = item;\r\n                        name = item;\r\n                    }\r\n\r\n                    return (\r\n                        <MenuItem key={id} value={id}>\r\n                            {icon && (<img className={this.props.classes.selectIcon} src={icon.src} alt={name}/>)}\r\n                            {name}\r\n                        </MenuItem>)\r\n                })}\r\n            </Select>);\r\n    }\r\n    getFilterSelectRole() {\r\n        return this.getFilterSelect('role', this.info.roles);\r\n    }\r\n    getFilterSelectRoom() {\r\n        const rooms = this.info.roomEnums.map(id => {\r\n            return {name: getName((this.objects[id] && this.objects[id].common && this.objects[id].common.name) || id.split('.').pop()), value: id};\r\n        });\r\n\r\n        return this.getFilterSelect('room', rooms);\r\n\r\n    }\r\n    getFilterSelectFunction() {\r\n        const func = this.info.funcEnums.map(id => {\r\n            return {name: getName((this.objects[id] && this.objects[id].common && this.objects[id].common.name) || id.split('.').pop()), value: id};\r\n        });\r\n        return this.getFilterSelect('func', func);\r\n\r\n    }\r\n    onExpandAll() {\r\n        this.treeTableRef.current.expandAll();\r\n    }\r\n    onCollapseAll() {\r\n        this.treeTableRef.current.collapseAll();\r\n    }\r\n    onExpandVisible() {\r\n        if (this.state.depth < 9) {\r\n            const depth = this.state.depth + 1;\r\n            this.setState({depth: depth}, () => {\r\n                this.treeTableRef.current.expandAll(depth);\r\n            });\r\n        }\r\n    }\r\n    onCollapseVisible() {\r\n        if (this.state.depth > 0) {\r\n            const depth = this.state.depth - 1;\r\n            this.setState({depth: depth}, () => {\r\n                this.treeTableRef.current.expandAll(depth);\r\n            });\r\n        }\r\n    }\r\n\r\n    getToolbar() {\r\n        return (\r\n            <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar\">\r\n                <IconButton key=\"expert\" variant=\"contained\" className={this.props.classes.toolbarButtons} color={this.state.filter.expert ? 'secondary' : 'primary'} onClick={() => this.onFilter('expert', !this.state.filter.expert)}><IconExpert /></IconButton>\r\n                <IconButton key=\"expandAll\" variant=\"contained\" className={this.props.classes.toolbarButtons} onClick={() => this.onExpandAll()}><IconOpen /></IconButton>\r\n                <IconButton key=\"collapseAll\" variant=\"contained\" className={this.props.classes.toolbarButtons} onClick={() => this.onCollapseAll()}><IconClosed /></IconButton>\r\n                <IconButton key=\"expandVisible\" variant=\"contained\" className={this.props.classes.toolbarButtons + ' ' + this.props.classes.visibleButtons} onClick={() => this.onExpandVisible()}><IconOpen />{this.state.depth ? (<div className={this.props.classes.depth}>{this.state.depth}</div>) : null}</IconButton>\r\n                <IconButton key=\"collapseVisible\" variant=\"contained\" className={this.props.classes.toolbarButtons + ' ' + this.props.classes.visibleButtons} onClick={() => this.onCollapseVisible()}><IconClosed />{this.state.depth ? (<div className={this.props.classes.depth}>{this.state.depth}</div>) : null}</IconButton>\r\n            </Toolbar>);\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.loaded) {\r\n            return (<CircularProgress/>);\r\n        } else {\r\n            const classes = this.props.classes;\r\n            const idWidth = 300;\r\n            const width = `calc(20% - ${idWidth / 5}px)`;\r\n            return (<div className={classes.mainDiv} ref={this.mainRef}>\r\n                {this.getToolbar()}\r\n                <div key=\"header\" className={classes.header}>\r\n                    <div className={classes.headerCell} style={{width: idWidth}}>{this.getFilterInput('id')}</div>\r\n                    <div className={classes.headerCell} style={{width: width}}>{this.getFilterInput('name')}</div>\r\n                    <div className={classes.headerCell} style={{width: width}}>{this.getFilterSelectRole()}</div>\r\n                    <div className={classes.headerCell} style={{width: width}}>{this.getFilterSelectRoom()}</div>\r\n                    <div className={classes.headerCell} style={{width: width}}>{this.getFilterSelectFunction()}</div>\r\n                    <div className={classes.headerCell} style={{width: width}}>{I18n.t('Value')}</div>\r\n                </div>\r\n                <div className={classes.tableDiv}>\r\n                <TreeDataTable\r\n                    ref={this.treeTableRef}\r\n                    key=\"table\"\r\n                    data={this.root.children}\r\n                    height={'100%'}\r\n                    selected={this.state.selected}\r\n                    classNameSelected={classes.selected}\r\n                    classNamePartlyVisible={classes.partlyVisible}\r\n                    className={classes.treeTable}\r\n                    classNameRow={classes.treeTableRow}\r\n                    onRowClick={(data, metadata, toggleChildren, isDoubleClick) => isDoubleClick ?\r\n                        this.onDoubleClick(data, metadata, toggleChildren) :\r\n                        this.onSelect(data.id)}\r\n                >\r\n                    <TreeDataTable.Column grow={0} renderCell={this.renderIndexColumn.bind(this)} className={classes.cellDivId} width={idWidth} />\r\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnName.bind(this)}  className={classes.cellDiv} width={width}/>\r\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnRole.bind(this)}  className={classes.cellDiv} width={width}/>\r\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnRoom.bind(this)}  className={classes.cellDiv} width={width}/>\r\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnFunc.bind(this)}  className={classes.cellDiv} width={width}/>\r\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnValue.bind(this)} className={classes.cellDiv} width={width}/>\r\n                </TreeDataTable></div>\r\n            </div>);\r\n        }\r\n    }\r\n}\r\n\r\nSelectID.propTypes = {\r\n    classes: PropTypes.object,\r\n    statesOnly: PropTypes.bool,\r\n    selected: PropTypes.string,\r\n    onSelect: PropTypes.func,\r\n    connection: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(SelectID);\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\nimport I18n from '../i18n';\r\nimport SelectID from '../Components/SelectID';\r\nimport {withStyles} from '@material-ui/core/styles/index';\r\n\r\nconst styles = theme => ({\r\n    headerID: {\r\n        fontWeight: 'bold',\r\n        fontStyle: 'italic'\r\n    },\r\n    dialog: {\r\n        height: '95%'\r\n    },\r\n    content: {\r\n        height: '100%',\r\n        overflow: 'hidden'\r\n    }\r\n});\r\n\r\nclass DialogSelectID extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state =  {\r\n            selected: this.props.selected || '',\r\n            name:     ''\r\n        };\r\n    }\r\n\r\n    handleCancel() {\r\n        this.props.onClose();\r\n    };\r\n\r\n    handleOk() {\r\n        this.props.onOk(this.state.selected, this.state.name);\r\n        this.props.onClose();\r\n    };\r\n\r\n    render() {\r\n        let title;\r\n        if (this.state.name || this.state.selected) {\r\n            title = [(<span key=\"selected\">{I18n.t('Selected')} </span>), (<span key=\"id\" className={this.props.classes.headerID}>{\r\n                (this.state.name || this.state.selected) + (this.state.name ? ' [' + this.state.selected + ']' : '')\r\n            }</span>)];\r\n        } else {\r\n            title = this.props.title || I18n.t('Please select object ID...');\r\n        }\r\n\r\n        return (\r\n            <Dialog\r\n                disableBackdropClick\r\n                disableEscapeKeyDown\r\n                maxWidth=\"lg\"\r\n                classes={{paper: this.props.classes.dialog}}\r\n                fullWidth={true}\r\n                open={true}\r\n                aria-labelledby=\"selectid-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"selectid-dialog-title\">{title}</DialogTitle>\r\n                <DialogContent className={this.props.classes.content}>\r\n                    <SelectID\r\n                        statesOnly={this.props.statesOnly}\r\n                        style={{width: '100%', height: '100%'}}\r\n                        connection={this.props.connection}\r\n                        selected={this.state.selected}\r\n                        name={this.state.name}\r\n                        onSelect={(selected, name, isDouble) => {\r\n                            selected !== this.state.selected && this.setState({selected, name});\r\n                            isDouble && this.handleOk();\r\n                        }}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => this.handleOk()} disabled={!this.state.selected} color=\"primary\">{this.props.ok || I18n.t('Ok')}</Button>\r\n                    <Button onClick={() => this.handleCancel()} color=\"primary\">{this.props.cancel || I18n.t('Cancel')}</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nDialogSelectID.propTypes = {\r\n    classes: PropTypes.object,\r\n    onClose: PropTypes.func,\r\n    onOk: PropTypes.func.isRequire,\r\n    title: PropTypes.string,\r\n    selected: PropTypes.string,\r\n    statesOnly: PropTypes.boolean,\r\n    connection: PropTypes.object.isRequire,\r\n    cancel: PropTypes.string,\r\n    ok: PropTypes.string\r\n\r\n};\r\n\r\nexport default withStyles(styles)(DialogSelectID);\r\n","/**\n * Given a cronspec, return the human-readable string.\n * @param {string} cronspec\n * @param withSeconds\n * @param {Object=} locale\n */\nfunction cronToText(cronspec, withSeconds, locale) {\n\n\n    // Constant array to convert valid names to values\n    const NAMES = {\n        JAN: 1, FEB: 2, MAR: 3, APR: 4, MAY: 5, JUN: 6, JUL: 7, AUG: 8,\n        SEP: 9, OCT: 10, NOV: 11, DEC: 12,\n        SUN: 1, MON: 2, TUE: 3, WED: 4, THU: 5, FRI: 6, SAT: 7\n    };\n\n    // Parsable replacements for common expressions\n    const REPLACEMENTS = {\n        '* * * * * *': '0/1 * * * * *',\n        '@YEARLY': '0 0 1 1 *',\n        '@ANNUALLY': '0 0 1 1 *',\n        '@MONTHLY': '0 0 1 * *',\n        '@WEEKLY': '0 0 * * 0',\n        '@DAILY': '0 0 * * *',\n        '@HOURLY': '0 * * * *'\n    };\n\n    // Contains the index, min, and max for each of the constraints\n    const FIELDS = {\n        s: [0, 0, 59], // seconds\n        m: [1, 0, 59], // minutes\n        h: [2, 0, 23], // hours\n        D: [3, 1, 31], // day of month\n        M: [4, 1, 12], // month\n        Y: [6, 1970, 2099], // year\n        d: [5, 1, 7, 1] // day of week\n    };\n\n    /**\n     * Returns the value + offset if value is a number, otherwise it\n     * attempts to look up the value in the NAMES table and returns\n     * that result instead.\n     *\n     * @param {Number,String} value: The value that should be parsed\n     * @param {Number=} offset: Any offset that must be added to the value\n     * @param {Number=} max\n     * @returns {Number|null}\n     */\n    function getValue(value) {\n        const offset = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n        const max = arguments.length <= 2 || arguments[2] === undefined ? 9999 : arguments[2];\n\n        return isNaN(value) ? NAMES[value] || null : Math.min(+value + offset, max);\n    }\n\n    /**\n     * Returns a deep clone of a schedule skipping any day of week\n     * constraints.\n     *\n     * @param {Object} sched: The schedule that will be cloned\n     * @returns {Object}\n     */\n    function cloneSchedule(sched) {\n        const clone = {};\n        let field;\n\n        for (field in sched) {\n            if (field !== 'dc' && field !== 'd') {\n                clone[field] = sched[field].slice(0);\n            }\n        }\n\n        return clone;\n    }\n\n    /**\n     * Adds values to the specified constraint in the current schedule.\n     *\n     * @param {Object} sched: The schedule to add the constraint to\n     * @param {String} name: Name of constraint to add\n     * @param {Number} min: Minimum value for this constraint\n     * @param {Number} max: Maximum value for this constraint\n     */\n    function add(sched, name, min, max) {\n        const inc = arguments.length <= 4 || arguments[4] === undefined ? 0 : arguments[4];\n\n        let i = min;\n\n        if (!sched[name]) {\n            sched[name] = [];\n        }\n\n        while (i <= max) {\n            if (sched[name].indexOf(i) < 0) {\n                sched[name].push(i);\n            }\n            i += inc || 1;\n        }\n\n        sched[name].sort(function (a, b) {\n            return a - b;\n        });\n    }\n\n    /**\n     * Adds a hash item (of the form x#y or xL) to the schedule.\n     *\n     * @param {Object} schedules: The current schedule array to add to\n     * @param {Object} curSched: The current schedule to add to\n     * @param {Number} value: The value to add (x of x#y or xL)\n     * @param {Number} hash: The hash value to add (y of x#y)\n     */\n    function addHash(schedules, curSched, value, hash) {\n        // if there are any existing day of week constraints that\n        // aren't equal to the one we're adding, create a new\n        // composite schedule\n        if ((curSched.d && !curSched.dc) || (curSched.dc && curSched.dc.indexOf(hash) < 0)) {\n            schedules.push(cloneSchedule(curSched));\n            curSched = schedules[schedules.length - 1];\n        }\n\n        add(curSched, 'd', value, value);\n        add(curSched, 'dc', hash, hash);\n    }\n\n    /**\n     *\n     * @param {Object} s: The existing set of schedules\n     * @param {Object} curSched: The current schedule to add to\n     * @param {Number} value\n     */\n    function addWeekday(s, curSched, value) {\n        const except1 = {},\n            except2 = {};\n        if (value === 1) {\n            // cron doesn't pass month boundaries, so if 1st is a\n            // weekend then we need to use 2nd or 3rd instead\n            add(curSched, 'D', 1, 3);\n            add(curSched, 'd', NAMES.MON, NAMES.FRI);\n            add(except1, 'D', 2, 2);\n            add(except1, 'd', NAMES.TUE, NAMES.FRI);\n            add(except2, 'D', 3, 3);\n            add(except2, 'd', NAMES.TUE, NAMES.FRI);\n        } else {\n            // normally you want the closest day, so if v is a\n            // Saturday, use the previous Friday.  If it's a\n            // sunday, use the following Monday.\n            add(curSched, 'D', value - 1, value + 1);\n            add(curSched, 'd', NAMES.MON, NAMES.FRI);\n            add(except1, 'D', value - 1, value - 1);\n            add(except1, 'd', NAMES.MON, NAMES.THU);\n            add(except2, 'D', value + 1, value + 1);\n            add(except2, 'd', NAMES.TUE, NAMES.FRI);\n        }\n        s.exceptions.push(except1);\n        s.exceptions.push(except2);\n    }\n\n    /**\n     * Adds a range item (of the form x-y/z) to the schedule.\n     *\n     * @param {String} item: The cron expression item to add\n     * @param {Object} curSched: The current schedule to add to\n     * @param {String} name: The name to use for this constraint\n     * @param {Number} min: The min value for the constraint\n     * @param {Number} max: The max value for the constraint\n     * @param {Number} offset: The offset to apply to the cron value\n     */\n    function addRange(item, curSched, name, min, max, offset) {\n        // parse range/x\n        const incSplit = item.split('/'),\n            inc = +incSplit[1],\n            range = incSplit[0];\n\n        // parse x-y or * or 0\n        if (range !== '*' && range !== '0') {\n            const rangeSplit = range.split('-');\n            min = getValue(rangeSplit[0], offset, max);\n\n            // fix for issue #13, range may be single digit\n            max = getValue(rangeSplit[1], offset, max) || max;\n        }\n\n        add(curSched, name, min, max, inc);\n    }\n\n    /**\n     * Parses a particular item within a cron expression.\n     *\n     * @param {String} item: The cron expression item to parse\n     * @param {Object} s: The existing set of schedules\n     * @param {String} name: The name to use for this constraint\n     * @param {Number} min: The min value for the constraint\n     * @param {Number} max: The max value for the constraint\n     * @param {Number} offset: The offset to apply to the cron value\n     */\n    function parse(item, s, name, min, max, offset) {\n        let value,\n            split,\n            schedules = s.schedules,\n            curSched = schedules[schedules.length - 1];\n\n        // L just means min - 1 (this also makes it work for any field)\n        if (item === 'L') {\n            item = (min - 1).toString(10);\n        }\n\n        // parse x\n        if ((value = getValue(item, offset, max)) !== null) {\n            add(curSched, name, value, value);\n        }\n        // parse xW\n        else if ((value = getValue(item.replace('W', ''), offset, max)) !== null) {\n            addWeekday(s, curSched, value);\n        }\n        // parse xL\n        else if ((value = getValue(item.replace('L', ''), offset, max)) !== null) {\n            addHash(schedules, curSched, value, min - 1);\n        }\n        // parse x#y\n        else if ((split = item.split('#')).length === 2) {\n            value = getValue(split[0], offset, max);\n            addHash(schedules, curSched, value, getValue(split[1]));\n        }\n        // parse x-y or x-y/z or */z or 0/z\n        else {\n            addRange(item, curSched, name, min, max, offset);\n        }\n    }\n\n    /**\n     * Returns true if the item is either of the form x#y or xL.\n     *\n     * @param {String} item: The expression item to check\n     */\n    function isHash(item) {\n        return item.indexOf('#') > -1 || item.indexOf('L') > 0;\n    }\n\n    function itemSorter(a, b) {\n        return isHash(a) && !isHash(b) ? 1 : a - b;\n    }\n\n    /**\n     * Parses each of the fields in a cron expression.  The expression must\n     * include the seconds field, the year field is optional.\n     *\n     * @param {String} expr: The cron expression to parse\n     */\n    function parseExpr(expr) {\n        const schedule = { schedules: [{}], exceptions: [] };\n        const components = expr.replace(/(\\s)+/g, ' ').split(' ');\n        let field;\n        let f;\n        let component;\n        let items;\n\n        for (field in FIELDS) {\n            f = FIELDS[field];\n            component = components[f[0]];\n            if (component && component !== '*' && component !== '?') {\n                // need to sort so that any #'s come last, otherwise\n                // schedule clones to handle # won't contain all of the\n                // other constraints\n                items = component.split(',').sort(itemSorter);\n                let i;\n                const length = items.length;\n                for (i = 0; i < length; i++) {\n                    parse(items[i], schedule, field, f[1], f[2], f[3]);\n                }\n            }\n        }\n\n        return schedule;\n    }\n\n    /**\n     * Make cron expression parsable.\n     *\n     * @param {String} expr: The cron expression to prepare\n     */\n    function prepareExpr(expr) {\n        const prepared = expr.toUpperCase();\n        return REPLACEMENTS[prepared] || prepared;\n    }\n\n    function parseCron(expr, hasSeconds) {\n        const e = prepareExpr(expr);\n        return parseExpr(hasSeconds ? e : '0 ' + e);\n    }\n\n    const schedule = parseCron(cronspec, withSeconds);\n\n    function absFloor(number) {\n        if (number < 0) {\n            return Math.ceil(number);\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        const coercedNumber = +argumentForCoercion;\n        let value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    function ordinal(number) {\n        const b = number % 10,\n            output = (toInt(number % 100 / 10) === 1) ? locale.ORDINALS.th :\n                (b === 1) ? locale.ORDINALS.st :\n                    (b === 2) ? locale.ORDINALS.nd :\n                        (b === 3) ? locale.ORDINALS.rd : locale.ORDINALS.th;\n        return number + output;\n    }\n\n    /**\n     * For an array of numbers, e.g. a list of hours in a schedule,\n     * return a string listing out all of the values (complete with\n     * \"and\" plus ordinal text on the last item).\n     * @param {Number[]} numbers\n     * @returns {string}\n     */\n    function numberList(numbers) {\n        if (numbers.length < 2) {\n            return ordinal(numbers);\n        }\n\n        const lastVal = numbers.pop();\n        return numbers.join(', ') + ' ' + locale['and'] + ' ' + ordinal(lastVal);\n    }\n\n    /**\n     * Parse a number into day of week, or a month name;\n     * used in dateList below.\n     * @param {Number|String} value\n     * @param {String} type\n     * @returns {String}\n     */\n    function numberToDateName(value, type) {\n        if (type === 'dow') {\n            return locale.DOW[value - 1];\n        } else if (type === 'mon') {\n            return locale.MONTH[value - 1];\n        }\n    }\n\n    /**\n     * From an array of numbers corresponding to dates (given in type: either\n     * days of the week, or months), return a string listing all the values.\n     * @param {Number[]} numbers\n     * @param {String} type\n     * @returns {String}\n     */\n    function dateList(numbers, type) {\n        if (numbers.length < 2) {\n            return numberToDateName('' + numbers[0], type);\n        }\n\n        const lastVal = '' + numbers.pop();\n        let outputText = '';\n\n        for (let i = 0, value; (value = numbers[i]); i++) {\n            if (outputText.length > 0) {\n                outputText += ', ';\n            }\n            outputText += numberToDateName(value, type);\n        }\n        return outputText + ' ' + locale['and'] + ' ' + numberToDateName(lastVal, type);\n    }\n\n    /**\n     * Pad to equivalent of sprintf('%02d').\n     * @param {Number} x\n     * @returns {string}\n     */\n    function zeroPad(x) {\n        return (x < 10) ? '0' + x : x;\n    }\n\n    //----------------\n\n    /**\n     * Given a schedule, generate a friendly sentence description.\n     * @param {Object} schedule\n     * @param {boolean} withSeconds\n     * @returns {string}\n     */\n    function scheduleToSentence(schedule, withSeconds) {\n        let outputText = locale.Every + ' ';\n\n        if (schedule['h'] && schedule['m'] && schedule['h'].length <= 2 && schedule['m'].length <= 2 && withSeconds && schedule['s'] && schedule['s'].length <= 2 ) {\n            // If there are only one or two specified values for\n            // hour or minute, print them in HH:MM:SS format\n\n            const hm = [];\n            for (let i = 0; i < schedule['h'].length; i++) {\n                for (let j = 0; j < schedule['m'].length; j++) {\n                    for (let k = 0; k < schedule['s'].length; k++) {\n                        hm.push(zeroPad(schedule['h'][i]) + ':' + zeroPad(schedule['m'][j]) + ':' + zeroPad(schedule['s'][k]));\n                    }\n                }\n            }\n            if (hm.length < 2) {\n                outputText = locale['At'] + ' ' + hm[0];\n            } else {\n                const lastVal = hm.pop();\n                outputText = locale['At'] + ' ' + hm.join(', ') + ' ' + locale.and + ' ' + lastVal;\n            }\n            if (!schedule['d'] && !schedule['D']) {\n                outputText += ' ' + locale['every day'] + ' ';\n            }\n        } else\n        if (schedule['h'] && schedule['m'] && schedule['h'].length <= 2 && schedule['m'].length <= 2) {\n            // If there are only one or two specified values for\n            // hour or minute, print them in HH:MM format\n\n            const hm = [];\n            for (let i = 0; i < schedule['h'].length; i++) {\n                for (let j = 0; j < schedule['m'].length; j++) {\n                    hm.push(zeroPad(schedule['h'][i]) + ':' + zeroPad(schedule['m'][j]));\n                }\n            }\n            if (hm.length < 2) {\n                outputText = locale['At'] + ' ' + hm[0];\n            } else {\n                const lastVal = hm.pop();\n                outputText = locale['At'] + ' ' + hm.join(', ') + ' ' + locale.and + ' ' + lastVal;\n            }\n\n            if (!schedule['d'] && !schedule['D']) {\n                outputText += ' ' + locale['every day'] + ' ';\n            }\n        } else {\n            // Otherwise, list out every specified hour/minute value.\n\n            if (schedule['h']) { // runs only at specific hours\n                if (schedule['m']) { // and only at specific minutes\n                    if (withSeconds) {\n                        if (!schedule['s'] || schedule['s'].length === 60) {\n                            outputText += locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        } else {\n                            outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' +numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        }\n                    } else {\n                        outputText += numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                    }\n                } else { // specific hours, but every minute\n                    if (withSeconds) {\n                        if (!schedule['s'] || schedule['s'].length === 60) {\n                            outputText += locale['second of every'] + ' ' + locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        } else {\n                            outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' + locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        }\n                    } else {\n                        outputText += locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                    }\n                }\n            } else if (schedule['m']) { // every hour, but specific minutes\n                if (withSeconds) {\n                    if (!schedule['s'] || schedule['s'].length === 60) {\n                        outputText += locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                    } else {\n                        outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                    }\n                } else {\n                    outputText += numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                }\n            } else if (withSeconds) {\n                if (!schedule['s'] || schedule['s'].length === 60) {\n                    outputText += locale['second'];\n                } else {\n                    outputText += numberList(schedule['s']) + ' ' + locale['second'];\n                }\n            } else { // cronspec has \"*\" for both hour and minute\n                outputText += locale['minute'];\n            }\n        }\n\n        if (schedule['D']) { // runs only on specific day(s) of month\n            outputText += (locale['on the'] ? ' ' + locale['on the'] + ' ' : ' ') + numberList(schedule['D']);\n            if (!schedule['M']) {\n                outputText += ' ' + locale['of every month'];\n            }\n        }\n\n        if (schedule['d']) { // runs only on specific day(s) of week\n            if (schedule['D']) {\n                // if both day fields are specified, cron uses both; superuser.com/a/348372\n                outputText += ' ' + locale['and every'] + ' ';\n            } else {\n                outputText += ' ' + locale['on'] + ' ';\n            }\n            outputText += dateList(schedule['d'], 'dow');\n        }\n\n        if (schedule['M']) {\n            // runs only in specific months; put this output last\n            outputText += ' ' + locale['in'] + ' ' + dateList(schedule['M'], 'mon');\n        }\n\n        return outputText;\n    }\n\n    return scheduleToSentence(schedule.schedules[0], withSeconds);\n}\n\nexport default cronToText;\n","var JQUERY_CRON_LOCALE = {};\n\nJQUERY_CRON_LOCALE.en = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Sun',\n        'Mon',\n        'Tue',\n        'Wed',\n        'Thu',\n        'Fri',\n        'Sat'\n    ],\n    'Every':            'Every', // start of expression\n    'and':              'and', // 1, 2, 3 and 15th\n    'every day':        'every day',\n    'minute past the':  'minute past the',\n    'hour':             'hour',\n    'minute':           'minute',\n    'minute of':        'minute of',\n    'second':           'second',\n    'second in minute': 'second in minute',\n    'second of every':  'second of every',\n    'minute every hour': 'minute every hour',\n    'on the':           'on the',\n    'of every month':   'of every month',\n    'and every':        'and every',\n    'At':               'At',\n    'on':               'on', // on sun, mon\n    'in':               'in' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.de = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Januar',\n        'Februar',\n        'Mrz',\n        'April',\n        'Mai',\n        'Juni',\n        'Juli',\n        'August',\n        'September',\n        'Oktober',\n        'November',\n        'Dezember'\n    ],\n    DOW: [\n        'Sonntag',\n        'Montag',\n        'Dienstag',\n        'Mittwoch',\n        'Donnerstag',\n        'Freitag',\n        'Samstag'\n    ],\n    'Every':            'Jede(r)', // start of expression\n    'and':              'und', // 1, 2, 3 and 15th\n    'every day':        'jeden Tag',\n    'minute past the':  'Minuten nach',\n    'hour':             'Stunde',\n    'minute':           'Minute',\n    'minute of':        'Minuten von',\n    'second':           'Sekunde',\n    'second in minute': 'Sekunde in der Minute',\n    'second of every':  'Sekunde in',\n    'minute every hour': 'Minute jede Stunde',\n    'on the':           'am',\n    'of every month':   'im jeden Monat',\n    'and every':        'und am jeden',\n    'At':               'Um',\n    'on':               'am', // on sun, mon\n    'in':               'im' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.ru = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ],\n    DOW: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ],\n    'Every':            '()', // start of expression\n    'and':              '', // 1, 2, 3 and 15th\n    'every day':        ' ',\n    'minute past the':  ' ',\n    'hour':             '()',\n    'minute':           '',\n    'minute of':        '() ',\n    'second':           '',\n    'second in minute': '  ',\n    'second of every':  ' ()',\n    'minute every hour': '  ',\n    'on the':           '',\n    'of every month':   '  ',\n    'and every':        ' ',\n    'At':               '',\n    'on':               '', // on sun, mon\n    'in':               '' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.fr = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [\n        'Fv',\n        'Mar',\n        'Avr',\n        'Mai',\n        'Jun',\n        'Juil',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dc'\n\n    ],\n    DOW: [\n        'Dim',\n        'Lun',\n        'Mar',\n        'Mer',\n        'Jeu',\n        'Ven',\n        'Sam'\n\n    ],\n    'Every':            'Chaque',\n    'and':              'et',\n    'every day':        'tous les jours',\n    'minute past the':  'minute aprs le',\n    'hour':             'heure',\n    'minute':           'minute',\n    'minute of':        'minute de',\n    'second':           'seconde',\n    'second in minute': 'seconde en minute',\n    'second of every':  'deuxime de tous',\n    'minute every hour':'minute toutes les heures',\n    'on the':           'sur le',\n    'of every month':   'de chaque mois',\n    'and every':        'et tous',\n    'At':               '',\n    'on':               'sur',\n    'in':               'dans'\n};\n\nJQUERY_CRON_LOCALE.it = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'Pot',\n        'Giu',\n        'Lug',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dic'\n    ],\n    DOW: [\n        'Dom',\n        'Mon',\n        'Mar',\n        'Mer',\n        'Gio',\n        'Ve',\n        'Sat'\n    ],\n    'Every':             'Ogni',\n    'and':               'e',\n    'every day':         'ogni giorno',\n    'minute past the':   'minuto dopo',\n    'hour':              'ora',\n    'minute':            'Minuto',\n    'minute of':         'minuto di',\n    'second':            'secondo',\n    'second in minute':  \"secondo in minuto\",\n    'second of every':   'secondo di ogni',\n    'minute every hour': 'minuto ogni ora',\n    'on the':            'sul',\n    'of every month':    'di ogni mese',\n    'and every':         'e ogni',\n    'At':                'A',\n    'on':                'sopra',\n    'in':                'in'\n};\n\nJQUERY_CRON_LOCALE.pt = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Abr',\n        'Pod',\n        'Jun',\n        'Jul',\n        'Ago',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Dom',\n        'Seg',\n        'Ter',\n        'Qua',\n        'Qui',\n        'Sex',\n        'Sen'\n    ],\n    'Every':                'Cada',\n    'and':                  'e',\n    'every day':            'todo dia',\n    'minute past the':      'minuto aps o',\n    'hour':                 'hora',\n    'minute':               'minuto',\n    'minute of':            'minuto de',\n    'second':               'segundo',\n    'second in minute':     'segundo em minuto',\n    'second of every':      'segundo de cada',\n    'minute every hour':    'minuto a cada hora',\n    'on the':               'no',\n    'of every month':       'de todos os meses',\n    'and every':            'e todos',\n    'At':                   'At',\n    'on':                   'em',\n    'in':                   'dentro'\n};\n\nJQUERY_CRON_LOCALE.es = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Ene',\n        'Feb',\n        'Mar',\n        'Abr',\n        'Mayo',\n        'Jun',\n        'Jul',\n        'Ago',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dic'\n    ],\n    DOW: [\n        'Sol',\n        'Lun',\n        'Mar',\n        'Mie',\n        'Jue',\n        'Vie',\n        'Sab'\n    ],\n    'Every':                'Cada',\n    'and':                  'y',\n    'every day':            'cada da',\n    'minute past the':      'minuto pasado el',\n    'hour':                 'hora',\n    'minute':               'minuto',\n    'minute of':            'minuto de',\n    'second':               'segundo',\n    'second in minute':     'segundo en minuto',\n    'second of every':      'segundo de cada',\n    'minute every hour':    'minuto cada hora',\n    'on the':               'sobre el',\n    'of every month':       'de cada mes',\n    'and every':            'y cada',\n    'At':                   'A',\n    'on':                   'en',\n    'in':                   'en'\n};\n\nJQUERY_CRON_LOCALE.nl = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'Mei',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Okt',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Zon',\n        'Mon',\n        'Di',\n        'Wo',\n        'Don',\n        'Vrij',\n        'Za'\n    ],\n    'Every':                'Elke',\n    'and':                  'en',\n    'every day':            'elke dag',\n    'minute past the':      'minuut voorbij de',\n    'hour':                 'uur',\n    'minute':               'minuut',\n    'minute of':            'minuut van',\n    'second':               'tweede',\n    'second in minute':     'tweede in minuut',\n    'second of every':      'tweede van alles',\n    'minute every hour':    'minuut elk uur',\n    'on the':               'op de',\n    'of every month':       'van elke maand',\n    'and every':            'en elke',\n    'At':                   'Op',\n    'on':                   'op',\n    'in':                   'in'\n};\n\nexport default JQUERY_CRON_LOCALE;","import cronToText from './cron2text';\r\nimport JQUERY_CRON_LOCALE from './jquery.cron.locale';\r\n\r\nfunction correctCasus(text, seconds) {\r\n    text = text.replace('() ',    ' ');\r\n    text = text.replace('() ()',  ' ');\r\n    text = text.replace('() ',       ' ');\r\n    text = text.replace('() ',   ' ');\r\n    text = text.replace(/ (\\d{1,2}) /,     ' $1 ');\r\n\r\n    text = text.replace(/ (\\d{1,2})  /,  ' $1   ');\r\n    text = text.replace(/ (\\d{1,2})  /, ' $1   ');\r\n    text = text.replace(/ (\\d{1,2})  /,   ' $1   ');\r\n    text = text.replace(/ (\\d{1,2})  /,  ' $1   ');\r\n    text = text.replace(/ (\\d{1,2})  /,    ' $1   ');\r\n    text = text.replace(/ (\\d{1,2})  /,    ' $1   ');\r\n    text = text.replace(/ (\\d{1,2})  /,    ' $1   ');\r\n    text = text.replace(/ (\\d{1,2})  /,  ' $1   ');\r\n    text = text.replace(/ (\\d{1,2})  /,  ' $1   ');\r\n    text = text.replace(/ (\\d{1,2})  /,  ' $1   ');\r\n    text = text.replace(/ (\\d{1,2})  /,  ' $1   ');\r\n    text = text.replace(/ (\\d{1,2})  /,  ' $1   ');\r\n\r\n    text = text.replace('() 0 ',   '  ');\r\n    text = text.replace(/\\(\\) ([\\d\\s,]+) /, ' $1 ');\r\n\r\n    text = text.replace(/\\(\\) ([\\d\\s,]+) /, ' $1 ');\r\n    text = text.replace('() ()',  ' ');\r\n\r\n    text = text.replace(' 0 ()',           ' 0 ');\r\n    text = text.replace(' 1 ()',           ' 1 ');\r\n    text = text.replace(' 2 ()',           ' 2 ');\r\n    text = text.replace(' 3 ()',           ' 3 ');\r\n    text = text.replace(' 4 ()',           ' 4 ');\r\n    text = text.replace(/ (\\d{1,2}) \\(\\)/, ' $1 ');\r\n\r\n    text = text.replace('Jede(r) Sekunde',      'Jede Sekunde');\r\n    text = text.replace(/Jede\\(r\\) ([\\d\\sund,]+) Sekunde/, 'Jede $1 Sekunde');\r\n    text = text.replace('Jede(r) Minute',       'Jede Minute');\r\n    text = text.replace('Jede Minuten',         'Jede Minute');\r\n    text = text.replace('Jede Stunde',          'Jede Stunde');\r\n    text = text.replace('Jede(r) Stunde',       'Jede Stunde');\r\n    text = text.replace(/Jede\\(r\\) ([\\d\\sund,]+) Minute/, 'Jede $1 Minute');\r\n    text = text.replace('Jede Sekunde in Minuten', 'Jede Sekunde in jeder Minute');\r\n\r\n    return text;\r\n}\r\n\r\nfunction convertCronToText(cron, lang) {\r\n    const withSeconds = cron.split(' ').length === 6;\r\n    let text = cronToText(cron, withSeconds, JQUERY_CRON_LOCALE[lang]);\r\n    return correctCasus(text, withSeconds);\r\n}\r\n\r\nexport default convertCronToText;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport I18n from '../i18n';\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport convertCronToText from './simple-cron/cronText';\r\n\r\nconst styles = theme => ({\r\n    mainDiv: {\r\n        width: '100%',\r\n        height: '100%',\r\n        overflow: 'auto'\r\n    },\r\n    periodSelect: {\r\n        //margin: '0 10px 60px 10px',\r\n        display: 'block',\r\n        width: 200\r\n    },\r\n    slider: {\r\n        marginTop: 20,\r\n        display: 'block',\r\n        width: '100%'\r\n    },\r\n    tabContent: {\r\n        padding: 20\r\n    },\r\n    numberButton: {\r\n        padding: 4,\r\n        minWidth: 40,\r\n        margin: 5\r\n    },\r\n    numberButtonBreak: {\r\n        display: 'block'\r\n    },\r\n    appBar: {\r\n        color: 'white'\r\n    }\r\n});\r\n\r\nconst WEEKDAYS = [\r\n    'Sunday',\r\n    'Monday',\r\n    'Tuesday',\r\n    'Wednesday',\r\n    'Thursday',\r\n    'Friday',\r\n    'Saturday',\r\n    'Sunday',\r\n];\r\nconst MONTHS = [\r\n    'January',\r\n    'February',\r\n    'March',\r\n    'April',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'August',\r\n    'September',\r\n    'October',\r\n    'November',\r\n    'December'\r\n];\r\n\r\n// 5-7,9-11 => [5,6,7,9,10,11]\r\nfunction convertMinusIntoArray(value, max) {\r\n    let result = [];\r\n    if (value === '*') {\r\n        for (let i = 1; i <= max; i++) {\r\n            result.push(i);\r\n        }\r\n        return result; // array with entries max\r\n    }\r\n    const parts = (value || '').toString().split(',');\r\n    for (let p = 0; p < parts.length; p++) {\r\n        if (! parts[p].trim().length) continue;\r\n        const items = parts[p].trim().split('-');\r\n        if (items.length > 1) {\r\n            let iMax = parseInt(items[1], 10);\r\n            for (let i = parseInt(items[0], 10); i <= iMax; i++) {\r\n                result.push(i);\r\n            }\r\n        } else {\r\n            result.push(parseInt(parts[p], 10));\r\n        }\r\n    }\r\n    result = result.map(a => parseInt(a, 10));\r\n\r\n    result.sort();\r\n\r\n\r\n    // remove double entries\r\n    for (let p = result.length - 1; p >= 0; p--) {\r\n        if (result[p] === result[p + 1]) {\r\n            result.splice(p + 1, 1);\r\n        }\r\n    }\r\n\r\n\r\n    return result;\r\n}\r\n\r\n// [5,6,7,9,10,11] => 5-7,9-11\r\nfunction convertArrayIntoMinus(value, max) {\r\n    if (typeof value !== 'object') {\r\n        value = [value];\r\n    }\r\n    if (value.length === max) {\r\n        return '*';\r\n    }\r\n    const newParts = [];\r\n    if (!value.length) {\r\n        return '';\r\n    }\r\n    value = value.map(a => parseInt(a, 10));\r\n\r\n    value.sort((a, b) => a -b);\r\n\r\n    let start = value[0];\r\n    let end = value[0];\r\n    for (let p = 1; p < value.length; p++) {\r\n        if (value[p] - 1 !== parseInt(value[p - 1], 10)) {\r\n            if (start === end) {\r\n                newParts.push(start)\r\n            } else if (end - 1 === start) {\r\n                newParts.push(start + ',' + end);\r\n            } else {\r\n                newParts.push(start + '-' + end);\r\n            }\r\n            start = value[p];\r\n            end = value[p];\r\n        } else {\r\n            end = value[p];\r\n        }\r\n    }\r\n\r\n    if (start === end) {\r\n        newParts.push(start)\r\n    } else if (end - 1 === start) {\r\n        newParts.push(start + ',' + end);\r\n    } else {\r\n        newParts.push(start + '-' + end);\r\n    }\r\n\r\n    return newParts.join(',');\r\n}\r\n\r\nclass ComplexCron extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let cron = (typeof this.props.cronExpression === 'string') ? this.props.cronExpression.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '') : '';\r\n        if (cron[0] === '{') {\r\n            cron = '';\r\n        }\r\n        const state = ComplexCron.cron2state(cron || '* * * * *');\r\n\r\n        this.state = {\r\n            extended: false,\r\n            tab: state.seconds !== false ? 1 : 0,\r\n            cron: ComplexCron.state2cron(state),\r\n            modes: {\r\n                seconds: null,\r\n                minutes: null,\r\n                hours: null,\r\n                dates: null,\r\n                months: null,\r\n                dows: null\r\n            }\r\n        };\r\n        Object.assign(this.state, state);\r\n    }\r\n\r\n    static cron2state(cron) {\r\n        cron = cron.replace(/['\"]/g, '').trim();\r\n        const cronParts = cron.split(' ').map(p => p.trim());\r\n        const options = {};\r\n\r\n        if (cronParts.length === 6) {\r\n            options.seconds = cronParts[0] || '*';\r\n            options.minutes = cronParts[1] || '*';\r\n            options.hours = cronParts[2] || '*';\r\n            options.dates = cronParts[3] || '*';\r\n            options.months = cronParts[4] || '*';\r\n            options.dows = cronParts[5] || '*';\r\n        } else {\r\n            options.seconds = false;\r\n            options.minutes = cronParts[0] || '*';\r\n            options.hours = cronParts[1] || '*';\r\n            options.dates = cronParts[2] || '*';\r\n            options.months = cronParts[3] || '*';\r\n            options.dows = cronParts[4] || '*';\r\n        }\r\n        return options;\r\n    }\r\n    static state2cron(state) {\r\n        let text = `${state.minutes} ${state.hours} ${state.dates} ${state.months} ${state.dows}`;\r\n        if (state.seconds !== false) {\r\n            text = state.seconds + ' ' + text;\r\n        }\r\n        return text;\r\n    }\r\n\r\n    recalcCron() {\r\n        let cron = ComplexCron.state2cron(this.state);\r\n        if (cron !== this.state.cron) {\r\n            this.setState({cron});\r\n        }\r\n    }\r\n\r\n    onChange(cron) {\r\n        if (cron !== this.state.cron) {\r\n            this.setState({cron});\r\n            this.props.onChange && this.props.onChange(cron);\r\n        }\r\n    }\r\n\r\n    onToggle(i, type, max) {\r\n        if (i === true) {\r\n            this.setState({[type]: '*'}, () => this.recalcCron());\r\n        } else if (i === false) {\r\n            this.setState({[type]: ''}, () => this.recalcCron());\r\n        } else {\r\n            let nums = convertMinusIntoArray(this.state[type], max);\r\n            const pos = nums.indexOf(i);\r\n            if (pos !== -1) {\r\n                nums.splice(pos, 1);\r\n            } else {\r\n                nums.push(i);\r\n                nums.sort();\r\n            }\r\n            this.setState({[type]: convertArrayIntoMinus(nums, max)}, () => this.recalcCron());\r\n        }\r\n    }\r\n\r\n    getDigitsSelector(type, max) {\r\n        let values = [];\r\n        if (max === 7) {\r\n            values = [1,2,3,4,5,6,0];\r\n        } else {\r\n            for (let i = 1; i <= max; i++) {\r\n                values.push(i);\r\n            }\r\n        }\r\n        const parts = convertMinusIntoArray(this.state[type], max);\r\n        return [\r\n            (<Button\r\n                key=\"removeall\"\r\n                variant={'outlined'}\r\n                className={this.props.classes.numberButton}\r\n                style={{paddingBottom: 20}}\r\n                color={'primary'}\r\n                onClick={() => this.onToggle(false, type, max)}>{I18n.t('Deselect all')}</Button>),\r\n            (<Button\r\n                key=\"addall\"\r\n                variant={'contained'}\r\n                style={{paddingBottom: 20}}\r\n                className={this.props.classes.numberButton}\r\n                color={'secondary'}\r\n                onClick={() => this.onToggle(true, type, max)}>{I18n.t('Select all')}</Button>),\r\n            (<div key=\"all\">\r\n                {values.map(i =>\r\n                    [((max === 7 && i === 4) ||\r\n                    (max === 12 && i === 7) ||\r\n                    (max === 31 && !((i - 1) % 10)) ||\r\n                    (max === 60 && !((i - 1) % 10)) ||\r\n                    (max === 24 && !((i - 1) % 6))) &&\r\n                    (<div key={'allInner' + i} style={{width: '100%'}}/>),\r\n                        (<Button\r\n                            key={'_' + i}\r\n                            variant={parts.indexOf(i) !== -1 ? 'contained' : 'outlined'}\r\n                            className={this.props.classes.numberButton}\r\n                            color={parts.indexOf(i) !== -1 ? 'secondary' : 'primary'}\r\n                            onClick={() => this.onToggle(i, type, max)}>{max === 7 ? I18n.t(WEEKDAYS[i]) : (max === 12 ? MONTHS[i - 1] : i)}</Button>\r\n                    )])}\r\n                    </div>)];\r\n    }\r\n\r\n    getPeriodsTab(type, max) {\r\n        let value = this.state[type];\r\n        let every = value === '*';\r\n        let everyN = value.toString().indexOf('/') !== -1;\r\n        let select;\r\n        if (this.state.modes[type] === null) {\r\n            select = every ? 'every' : (everyN ? 'everyN' : 'specific');\r\n            const modes = JSON.parse(JSON.stringify(this.state.modes));\r\n            modes[type] = select;\r\n            return setTimeout(() => this.setState({modes}), 100);\r\n        } else {\r\n            every = this.state.modes[type] === 'every';\r\n            everyN = this.state.modes[type] === 'everyN';\r\n            select = this.state.modes[type];\r\n        }\r\n\r\n        if (everyN) {\r\n            value = parseInt(value.replace('*/', ''), 10) || 1;\r\n        }\r\n\r\n        return (<div>\r\n            <Select\r\n                className={this.props.classes.periodSelect}\r\n                style={{verticalAlign: 'bottom'}}\r\n                value={select}\r\n                onChange={e => {\r\n                    const modes = JSON.parse(JSON.stringify(this.state.modes));\r\n                    modes[type] = e.target.value;\r\n                    if (e.target.value === 'every') {\r\n                        this.setState({[type]: '*', modes}, () => this.recalcCron());\r\n                    } else if (e.target.value === 'everyN') {\r\n                        const num = parseInt(this.state[type].toString().replace('*/', ''), 10) || 1;\r\n                        this.setState({[type]: '*/' + num, modes}, () => this.recalcCron());\r\n                    } else if (e.target.value === 'specific') {\r\n                        const num = parseInt(this.state[type].split(',')[0]) || 1;\r\n                        this.setState({[type]: convertArrayIntoMinus(num, max), modes}, () => this.recalcCron());\r\n                    }\r\n                }}>\r\n                <MenuItem key='every' value='every'>{I18n.t('sc_every_' + type)}</MenuItem>\r\n                <MenuItem key='everyN' value='everyN'>{I18n.t('sc_everyN_' + type)}</MenuItem>\r\n                <MenuItem key='specific' value='specific'>{I18n.t('sc_specific_' + type)}</MenuItem>\r\n            </Select>\r\n            {everyN && false && (<span>{value}</span>)}\r\n            {everyN && (<TextField\r\n                key=\"interval\"\r\n                label={I18n.t('sc_' + type)}\r\n                value={value}\r\n                min={1}\r\n                max={max}\r\n                onChange={e => {\r\n                    this.setState({[type]: '*/' + e.target.value}, () => this.recalcCron());\r\n                }}\r\n                InputLabelProps={{shrink: true,}}\r\n                type=\"number\"\r\n                margin=\"normal\"\r\n            />)}\r\n            {!every && !everyN && this.getDigitsSelector(type, max)}\r\n        </div>);\r\n    }\r\n\r\n    render() {\r\n        const tab = this.state.seconds !== false ? this.state.tab : this.state.tab + 1;\r\n        return (\r\n            <div className={this.props.classes.mainDiv}>\r\n                <div style={{paddingLeft: 8, width: '100%'}}><TextField style={{width: '100%'}} value={this.state.cron} disabled={true}/></div>\r\n                <div style={{paddingLeft: 8, width: '100%', height: 60}}>{convertCronToText(this.state.cron, this.props.language || 'en')}</div>\r\n                <FormControlLabel\r\n                    control={<Checkbox checked={this.state.seconds}\r\n                                       onChange={e => this.setState({seconds: e.target.checked ? '*' : false})}/>}\r\n                    label={I18n.t('use seconds')}\r\n                />\r\n                <AppBar position=\"static\" classes={{root: this.props.classes.appBar}} color=\"secondary\">\r\n                    <Tabs value={this.state.tab} className={this.props.classes.appBar} color=\"secondary\" onChange={(active, tab) =>\r\n                        this.setState({tab})}>\r\n                        {this.state.seconds !== false && <Tab id=\"sc_seconds\" label={I18n.t('sc_seconds')}/>}\r\n                        <Tab  id=\"minutes\" label={I18n.t('sc_minutes')}/>\r\n                        <Tab  id=\"hours\" label={I18n.t('sc_hours')}/>\r\n                        <Tab  id=\"dates\" label={I18n.t('sc_dates')}/>\r\n                        <Tab  id=\"months\" label={I18n.t('sc_months')}/>\r\n                        <Tab  id=\"dows\" label={I18n.t('sc_dows')}/>\r\n                    </Tabs>\r\n                </AppBar>\r\n                {tab === 0 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('seconds', 60)}</div>)}\r\n                {tab === 1 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('minutes', 60)}</div>)}\r\n                {tab === 2 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('hours', 24)}</div>)}\r\n                {tab === 3 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('dates', 31)}</div>)}\r\n                {tab === 4 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('months', 12)}</div>)}\r\n                {tab === 5 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('dows', 7)}</div>)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nComplexCron.propTypes = {\r\n    cronExpression: PropTypes.string,\r\n    onChange: PropTypes.func,\r\n    language: PropTypes.string,\r\n};\r\n\r\nexport default withStyles(styles)(ComplexCron);\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport convertCronToText from './cronText';\r\n\r\nimport I18n from '../../i18n';\r\n\r\nconst styles = theme => ({\r\n    mainDiv: {\r\n        width: '100%',\r\n        height: '100%',\r\n        overflow: 'auto'\r\n    },\r\n    formControl: {\r\n        margin: 0,\r\n        minWidth: 120,\r\n    },\r\n});\r\n\r\nconst PERIODIC = {\r\n    once: 'once',\r\n    interval: 'interval',\r\n    intervalBetween: 'intervalBetween',\r\n    specific: 'specific'\r\n};\r\nconst PERIODIC_TYPES = {\r\n    seconds: 'seconds',\r\n    minutes: 'minutes',\r\n    //hours: 'hours',\r\n};\r\nconst WEEKDAYS = [\r\n    'Sunday',\r\n    'Monday',\r\n    'Tuesday',\r\n    'Wednesday',\r\n    'Thursday',\r\n    'Friday',\r\n    'Saturday',\r\n    'Sunday',\r\n];\r\n\r\nfunction padding(num) {\r\n    if (num < 10) return '0' + num;\r\n    return '' + num;\r\n}\r\nconst DEFAULT_STATE = {\r\n    mode: PERIODIC.interval,\r\n    interval: {\r\n        period: 1,\r\n        unit: PERIODIC_TYPES.minutes\r\n    }\r\n};\r\n\r\nclass SimpleCron extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let cron = (typeof this.props.cronExpression === 'string') ? this.props.cronExpression.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '') : '';\r\n        if (cron[0] === '{') {\r\n            cron = '';\r\n        }\r\n        const state = SimpleCron.cron2state(cron || '* * * * *') || DEFAULT_STATE;\r\n\r\n        this.state = {\r\n            extended: false,\r\n            cron: SimpleCron.state2cron(state),\r\n            mode: 'interval',\r\n            once: {\r\n                time: '00:00',\r\n                date: ''\r\n            },\r\n            interval: {\r\n                period: 1,\r\n                unit: PERIODIC_TYPES.minutes\r\n            },\r\n            intervalBetween: {\r\n                period: 1,\r\n                unit: PERIODIC_TYPES.minutes,\r\n                timeFrom: 0,\r\n                timeTo: 24,\r\n                weekdays: [0, 1, 2, 3, 4, 5, 6]\r\n            },\r\n            specific: {\r\n                time: '00:00',\r\n                weekdays: [0, 1, 2, 3, 4, 5, 6]\r\n            }\r\n        };\r\n        Object.assign(this.state, state);\r\n    }\r\n\r\n    static periodArray2text(list, max) {\r\n        max = max || 7;\r\n        if (list.length === max) {\r\n            return '*'\r\n        } else {\r\n            let text = [];\r\n            let start = null;\r\n            let end = null;\r\n            for (let i = 0; i < list.length; i++) {\r\n                if (start === null) {\r\n                    start = list[i];\r\n                    end = list[i];\r\n                } else if (list[i - 1] + 1 === list[i]) {\r\n                    end = list[i];\r\n                } else {\r\n                    if (start !== end) {\r\n                        text.push(start + '-' + end);\r\n                    } else {\r\n                        text.push(start);\r\n                    }\r\n                    start = list[i];\r\n                    end = list[i];\r\n                }\r\n            }\r\n            if (start !== end) {\r\n                text.push(start + '-' + end);\r\n            } else {\r\n                text.push(start);\r\n            }\r\n            return text.join(',');\r\n        }\r\n    }\r\n\r\n    static text2weekdays(text) {\r\n        if (text === '*') {\r\n            return [0,1,2,3,4,5,6];\r\n        }\r\n        const parts = text.split(',');\r\n        const list = [];\r\n        parts.forEach(part => {\r\n            const _parts = part.split('-');\r\n            if (_parts.length === 2) {\r\n                const start = parseInt(_parts[0], 10);\r\n                const end = parseInt(_parts[1], 10);\r\n                for (let day = start; day <= end; day++) {\r\n                    if (list.indexOf(day === 7 ? 0 : day) === -1) {\r\n                        list.push(day === 7 ? 0 : day);\r\n                    }\r\n                }\r\n            } else {\r\n                if (part === '7') {\r\n                    part = 0;\r\n                }\r\n                part = parseInt(part, 10);\r\n                if (list.indexOf(part) === -1) {\r\n                    list.push(part);\r\n                }\r\n            }\r\n        });\r\n        list.sort();\r\n        return list;\r\n    }\r\n\r\n    static cron2state(cron) {\r\n        cron = cron.replace(/['\"]/g, '').trim();\r\n        const cronParts = cron.split(' ');\r\n        const options = {};\r\n        const state = {\r\n            mode: ''\r\n        };\r\n        if (cronParts.length === 6) {\r\n            options.seconds = cronParts[0] || '*';\r\n            options.minutes = cronParts[1] || '*';\r\n            options.hours = cronParts[2] || '*';\r\n            options.date = cronParts[3] || '*';\r\n            options.months = cronParts[4] || '*';\r\n            options.dow = cronParts[5] || '*';\r\n        } else {\r\n            options.seconds = null;\r\n            options.minutes = cronParts[0] || '*';\r\n            options.hours = cronParts[1] || '*';\r\n            options.date = cronParts[2] || '*';\r\n            options.months = cronParts[3] || '*';\r\n            options.dow = cronParts[4] || '*';\r\n        }\r\n\r\n        // * * * * *\r\n        if (options.seconds === null &&\r\n            options.minutes === '*' &&\r\n            options.hours === '*' &&\r\n            options.date === '*' &&\r\n            options.months === '*') {\r\n            state.mode = PERIODIC.interval;\r\n            state.interval = {\r\n                period: 1,\r\n                unit: PERIODIC_TYPES.minutes\r\n            };\r\n        } // * * * * * *\r\n        if (options.seconds === '*' &&\r\n            options.minutes === '*' &&\r\n            options.hours === '*' &&\r\n            options.date === '*' &&\r\n            options.months === '*') {\r\n            state.mode = PERIODIC.interval;\r\n            state.interval = {\r\n                period: 1,\r\n                unit: PERIODIC_TYPES.seconds\r\n            };\r\n        } else// */n * * * *\r\n        if (options.seconds === null &&\r\n            options.minutes.indexOf('/') !== -1 &&\r\n            options.hours === '*' &&\r\n            options.date === '*' &&\r\n            options.months === '*') {\r\n            state.mode = PERIODIC.interval;\r\n            state.interval = {\r\n                period: parseInt(options.minutes.split('/')[1], 10),\r\n                unit: PERIODIC_TYPES.minutes\r\n            };\r\n        } else\r\n        // */n * * * * *\r\n        if (options.seconds !== null && options.seconds.indexOf('/') !== -1 &&\r\n            options.minutes === '*' &&\r\n            options.hours === '*' &&\r\n            options.date === '*' &&\r\n            options.months === '*') {\r\n            state.mode = PERIODIC.interval;\r\n            state.interval = {\r\n                period: parseInt(options.seconds.split('/')[1], 10),\r\n                unit: PERIODIC_TYPES.seconds\r\n            };\r\n        } else\r\n        // */n * 1-24 * * 1-7 or  */n * 1-24 * * *\r\n        if (options.seconds !== null && options.seconds.indexOf('/') !== -1 &&\r\n            options.minutes === '*' &&\r\n            options.hours.indexOf('-') !== -1 &&\r\n            options.date === '*' &&\r\n            options.months === '*') {\r\n            state.mode = PERIODIC.intervalBetween;\r\n            state.intervalBetween = {\r\n                period: parseInt(options.seconds.split('/')[1], 10),\r\n                unit: PERIODIC_TYPES.seconds,\r\n                timeFrom: parseInt(options.hours.split('-')[0], 10),\r\n                timeTo: parseInt(options.hours.split('-')[1], 10),\r\n                weekdays: SimpleCron.text2weekdays(options.dow)\r\n            };\r\n        } else\r\n        // */n 1-24 * * 1-7 or  */n 1-24 * * *\r\n        if (options.seconds === null &&\r\n            options.minutes.indexOf('/') !== -1 &&\r\n            options.hours.indexOf('-') !== -1 &&\r\n            options.date === '*' &&\r\n            options.months === '*') {\r\n            state.mode = PERIODIC.intervalBetween;\r\n            state.intervalBetween = {\r\n                period: parseInt(options.minutes.split('/')[1], 10),\r\n                unit: PERIODIC_TYPES.minutes,\r\n                timeFrom: parseInt(options.hours.split('-')[0], 10),\r\n                timeTo: parseInt(options.hours.split('-')[1], 10),\r\n                weekdays: SimpleCron.text2weekdays(options.dow)\r\n            };\r\n        } else\r\n        // m h * * 1-7 or m h * * *\r\n        if (options.seconds === null &&\r\n            parseInt(options.minutes, 10).toString() === options.minutes &&\r\n            parseInt(options.hours, 10).toString() === options.hours &&\r\n            options.date === '*' &&\r\n            options.months === '*') {\r\n            state.mode = PERIODIC.specific;\r\n            state.intervalBetween = {\r\n                time: padding(parseInt(options.minutes, 10)) + ':' + padding(parseInt(options.hours, 10)),\r\n                weekdays: SimpleCron.text2weekdays(options.dow)\r\n            };\r\n        } else\r\n        // m h d M *\r\n        if (options.seconds === null &&\r\n            parseInt(options.minutes, 10).toString() === options.minutes &&\r\n            parseInt(options.hours, 10).toString() === options.hours &&\r\n            parseInt(options.date, 10).toString() === options.date &&\r\n            parseInt(options.months, 10).toString() === options.months &&\r\n            options.dow === '*') {\r\n            state.mode = PERIODIC.once;\r\n            state.intervalBetween = {\r\n                time: padding(parseInt(options.minutes, 10)) + ':' + padding(parseInt(options.hours, 10)),\r\n                date: padding(parseInt(options.date, 10)) + '.' + padding(parseInt(options.months, 10)),\r\n                weekdays: SimpleCron.text2weekdays(options.dow)\r\n            };\r\n        }\r\n\r\n        if (state.mode) {\r\n            return state;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    static state2cron(state) {\r\n        let cron = '* * * * *';\r\n        if (state.mode === PERIODIC.interval) {\r\n            const settings = state.interval || {};\r\n            if (settings.period > 60) settings.period = 60;\r\n            if (settings.period < 1) settings.period = 1;\r\n\r\n            if (settings.minutes > 60) settings.minutes = 60;\r\n            if (settings.minutes < 1) settings.minutes = 1;\r\n\r\n            if (settings.hours > 24) settings.hours = 24;\r\n            if (settings.hours < 1) settings.hours = 1;\r\n\r\n            if (state.extended) {\r\n                cron = `${settings.minutes > 1 ? '*/' + settings.minutes : '*'} ${settings.hours > 1 ? '*/' + settings.hours : '*'} * * *`;\r\n            } else {\r\n                switch (settings.unit) {\r\n                    case PERIODIC_TYPES.seconds:\r\n                        cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * * * * *`;\r\n                        break;\r\n                    case PERIODIC_TYPES.minutes:\r\n                        cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * * * *`;\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        } else if (state.mode === PERIODIC.intervalBetween) {\r\n            const settings = state.intervalBetween || {};\r\n            let hours;\r\n            settings.timeFrom = settings.timeFrom || 0;\r\n            settings.timeTo = settings.timeTo === undefined ? 24 : settings.timeTo;\r\n            if (settings.timeFrom === 0 && settings.timeTo === 24) {\r\n                hours = '*'\r\n            } else {\r\n                hours = settings.timeFrom !== settings.timeTo ? settings.timeFrom + '-' + settings.timeTo : '*';\r\n            }\r\n            if (settings.period > 60) settings.period = 60;\r\n            if (settings.period < 1) settings.period = 1;\r\n            settings.unit = settings.unit || PERIODIC_TYPES.minutes;\r\n            switch (settings.unit) {\r\n                case PERIODIC_TYPES.seconds:\r\n                    cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * ${hours} * * ${this.periodArray2text(settings.weekdays)}`;\r\n                    break;\r\n                case PERIODIC_TYPES.minutes:\r\n                    cron = `${settings.period > 1 ? '*/' + settings.period : '*'} ${hours} * * ${this.periodArray2text(settings.weekdays)}`;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        } else if (state.mode === PERIODIC.specific) {\r\n            const settings = state.specific || {};\r\n            const parts = (settings.time || '00:00').split(':');\r\n            let minutes = parseInt(parts[1], 10) || 0;\r\n            if (minutes > 59) minutes = 59;\r\n            if (minutes < 0) minutes = 0;\r\n            let hours = parseInt(parts[0], 10) || 0;\r\n            if (hours > 23) hours = 59;\r\n            if (hours < 0) hours = 0;\r\n\r\n            cron = `${minutes} ${hours} * * ${this.periodArray2text(settings.weekdays || [])}`;\r\n        } else if (state.mode === PERIODIC.once) {\r\n            const settings = state.once || {};\r\n            if (!settings.date) {\r\n                settings.date = new Date().getDate() + '.' + padding(new Date().getMonth() + 1);\r\n            }\r\n            const parts = (settings.time || '00:00').split(':');\r\n            const partsDate = settings.date.split('.');\r\n            let minutes = parseInt(parts[1], 10) || 0;\r\n            if (minutes > 59) minutes = 59;\r\n            if (minutes < 0) minutes = 0;\r\n            let hours = parseInt(parts[0], 10) || 0;\r\n            if (hours > 23) hours = 59;\r\n            if (hours < 0) hours = 0;\r\n            let date = parseInt(partsDate[0], 10) || 1;\r\n            if (date > 31) date = 31;\r\n            if (date < 1) hours = 1;\r\n            let month = parseInt(partsDate[1], 10) || 1;\r\n            if (month > 12) month = 12;\r\n            if (month < 1) month = 1;\r\n\r\n            cron = `${minutes} ${hours} ${date} ${month} *`;\r\n        }\r\n        return cron;\r\n    }\r\n\r\n    recalcCron() {\r\n        this.onChange(SimpleCron.state2cron(this.state));\r\n    }\r\n\r\n    getControlsWeekdaysElements(type) {\r\n        const settings = this.state[type];\r\n        return (<div key=\"weekdays\" style={{paddingLeft: 8, width: '100%', maxWidth: 600}}>\r\n            <h5>{I18n.t('On weekdays')}</h5>\r\n            {[1,2,3,4,5,6,0].map(day => (\r\n                <FormControlLabel\r\n                    key={WEEKDAYS[day]}\r\n                    control={\r\n                        <Checkbox\r\n                            checked={settings.weekdays.indexOf(day) !== -1}\r\n                            onChange={e => {\r\n                                const settings = JSON.parse(JSON.stringify(this.state[type]));\r\n                                const pos = settings.weekdays.indexOf(day);\r\n                                e.target.checked && pos === -1 && settings.weekdays.push(day);\r\n                                !e.target.checked && pos !== -1 && settings.weekdays.splice(pos, 1);\r\n                                settings.weekdays.sort();\r\n                                this.setState({[type]: settings}, () => this.recalcCron());\r\n                            }}\r\n                            value={day.toString()}\r\n                        />\r\n                    }\r\n                    label={I18n.t(WEEKDAYS[day])}\r\n                />))\r\n            }</div>);\r\n    }\r\n\r\n    getControlsPeriodElements(type) {\r\n        const settings = this.state[type];\r\n\r\n        if (this.state.extended) {\r\n            return (<div key=\"period\" style={{paddingLeft: 8, display: 'inline-block'}}>\r\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_period')}</h5>\r\n                <TextField\r\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\r\n                    key=\"value\"\r\n                    label={I18n.t('sc_minutes')}\r\n                    value={settings.minutes}\r\n                    onChange={e => {\r\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\r\n                        settings.minutes = parseInt(e.target.value, 10);\r\n                        this.setState({[type]: settings}, () => this.recalcCron());\r\n                    }}\r\n                    min={1}\r\n                    max={60}\r\n                    type=\"number\"\r\n                    InputLabelProps={{shrink: true,}}\r\n                    margin=\"normal\"\r\n                />\r\n                <TextField\r\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\r\n                    key=\"value\"\r\n                    label={I18n.t('sc_hours')}\r\n                    value={settings.hours}\r\n                    onChange={e => {\r\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\r\n                        settings.hours = parseInt(e.target.value, 10);\r\n                        this.setState({[type]: settings}, () => this.recalcCron());\r\n                    }}\r\n                    min={1}\r\n                    max={24}\r\n                    type=\"number\"\r\n                    InputLabelProps={{shrink: true,}}\r\n                    margin=\"normal\"\r\n                />\r\n            </div>);\r\n        } else {\r\n            return (<div key=\"period\" style={{paddingLeft: 8, display: 'inline-block'}}>\r\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_period')}</h5>\r\n                <TextField\r\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\r\n                    key=\"value\"\r\n                    label={I18n.t('sc_every')}\r\n                    value={settings.period}\r\n                    onChange={e => {\r\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\r\n                        settings.period = parseInt(e.target.value, 10);\r\n                        this.setState({[type]: settings}, () => this.recalcCron());\r\n                    }}\r\n                    min={1}\r\n                    max={60}\r\n                    type=\"number\"\r\n                    InputLabelProps={{shrink: true,}}\r\n                    margin=\"normal\"\r\n                /><Select\r\n                style={{verticalAlign: 'bottom'}}\r\n                value={settings.unit}\r\n                onChange={e => {\r\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\r\n                    settings.unit = e.target.value;\r\n                    this.setState({[type]: settings}, () => this.recalcCron());\r\n                }}>\r\n                {Object.keys(PERIODIC_TYPES).map(mode => (<MenuItem key={PERIODIC_TYPES[mode]} value={PERIODIC_TYPES[mode]}>{I18n.t('sc_' + PERIODIC_TYPES[mode])}</MenuItem>))}\r\n            </Select></div>);\r\n        }\r\n\r\n    }\r\n\r\n    getControlsTime(type) {\r\n        const settings = this.state[type];\r\n        return (<FormControl className={this.props.classes.formControl}>\r\n            <TextField\r\n                key=\"at\"\r\n                label={I18n.t('sc_time')}\r\n                value={settings.time}\r\n                onChange={e => {\r\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\r\n                    settings.time = e.target.value;\r\n                    this.setState({[type]: settings}, () => this.recalcCron());\r\n                }}\r\n                InputLabelProps={{shrink: true,}}\r\n                margin=\"normal\"\r\n            />\r\n        </FormControl>);\r\n    }\r\n\r\n    getControlsDate(type) {\r\n        const settings = this.state[type];\r\n\r\n        if (!settings.date) {\r\n            const d = new Date();\r\n            settings.date = d.getDate() + '.'  + padding(d.getMonth() + 1);\r\n        }\r\n\r\n        //<InputLabel htmlFor=\"formatted-text-mask-input\">{I18n.t('sc_at')}</InputLabel>\r\n        return (<FormControl className={this.props.classes.formControl}>\r\n            <TextField\r\n                key=\"date\"\r\n                label={I18n.t('sc_date')}\r\n                value={settings.date}\r\n                onChange={e => {\r\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\r\n                    settings.date = e.target.value;\r\n                    this.setState({[type]: settings}, () => this.recalcCron());\r\n                }}\r\n                InputLabelProps={{shrink: true,}}\r\n                margin=\"normal\"\r\n            />\r\n        </FormControl>);\r\n    }\r\n\r\n    getOnceElements() {\r\n        return (<div style={{marginLeft: 8}}>\r\n            {this.getControlsTime('once')}\r\n            {this.getControlsDate('once')}\r\n            </div>);\r\n    }\r\n\r\n    getIntervalElements() {\r\n        return this.getControlsPeriodElements('interval');\r\n    }\r\n\r\n    getIntervalBetweenElements() {\r\n        const settings = this.state.intervalBetween;\r\n        return [\r\n            this.getControlsPeriodElements('intervalBetween'),\r\n            (<div key=\"between\" style={{paddingLeft: 8, display: 'inline-block', verticalAlign: 'top'}}>\r\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_hours')}</h5>\r\n                <FormControl className={this.props.classes.formControl}>\r\n                    <InputLabel shrink htmlFor=\"age-label-placeholder\">{I18n.t('sc_from')}</InputLabel>\r\n                    <Select\r\n                    style={{width: 100}}\r\n                    value={settings.timeFrom}\r\n                    onChange={e => {\r\n                        const settings = JSON.parse(JSON.stringify(this.state.intervalBetween));\r\n                        settings.timeFrom = parseInt(e.target.value, 10);\r\n                        this.setState({intervalBetween: settings}, () => this.recalcCron());\r\n                    }}>\r\n                    {[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23].map(hour => (<MenuItem key={'B_' + hour} value={hour}>{padding(hour) + ':00'}</MenuItem>))}\r\n                </Select>\r\n                </FormControl>\r\n                <FormControl className={this.props.classes.formControl}>\r\n                    <InputLabel shrink htmlFor=\"age-label-placeholder\">{I18n.t('sc_to')}</InputLabel>\r\n                    <Select\r\n                        style={{width: 100}}\r\n                        value={settings.timeTo}\r\n                        onChange={e => {\r\n                            const settings = JSON.parse(JSON.stringify(this.state.intervalBetween));\r\n                            settings.timeTo = parseInt(e.target.value, 10);\r\n                            this.setState({intervalBetween: settings}, () => this.recalcCron());\r\n                        }}>\r\n                        {[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map(hour => (<MenuItem key={'A_' + hour} value={hour}>{padding(hour) + ':00'}</MenuItem>))}\r\n                    </Select>\r\n                </FormControl>\r\n            </div>),\r\n            this.getControlsWeekdaysElements('intervalBetween')\r\n        ];\r\n    }\r\n\r\n    getSpecificTimeElements() {\r\n        return [\r\n            (<div key=\"time\" style={{marginLeft: 8}}>{this.getControlsTime('specific')}</div>),\r\n            this.getControlsWeekdaysElements('specific')\r\n        ]\r\n    }\r\n\r\n    onModeChange(mode) {\r\n        if (mode !== this.state.mode) {\r\n            this.setState({mode}, () => this.recalcCron());\r\n        }\r\n    }\r\n\r\n    onChange(cron) {\r\n        if (cron !== this.state.cron) {\r\n            this.setState({cron});\r\n            this.props.onChange && this.props.onChange(cron);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.props.classes.mainDiv}>\r\n                <div style={{paddingLeft: 8, width: '100%'}}><TextField style={{width: '100%'}} value={this.state.cron} disabled={true}/></div>\r\n                <div style={{paddingLeft: 8, width: '100%', height: 60}}>{convertCronToText(this.state.cron, this.props.language || 'en')}</div>\r\n                <div><FormControl style={{marginLeft: 8, marginTop: 8}} className={this.props.classes.formControl}>\r\n                    <InputLabel>{I18n.t('Repeat')}</InputLabel>\r\n                    <Select\r\n                        value={this.state.mode}\r\n                        onChange={e => this.onModeChange(e.target.value)}\r\n                        inputProps={{name: 'mode', id: 'mode',}}>\r\n                        {Object.keys(PERIODIC).map(mode => (<MenuItem key={PERIODIC[mode]} value={PERIODIC[mode]}>{I18n.t('sc_' + PERIODIC[mode])}</MenuItem>))}\r\n                    </Select>\r\n                </FormControl></div>\r\n                {this.state.mode === PERIODIC.once && this.getOnceElements()}\r\n                {this.state.mode === PERIODIC.interval && this.getIntervalElements()}\r\n                {this.state.mode === PERIODIC.intervalBetween && this.getIntervalBetweenElements()}\r\n                {this.state.mode === PERIODIC.specific && this.getSpecificTimeElements()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nSimpleCron.propTypes = {\r\n    cronExpression: PropTypes.string,\r\n    onChange: PropTypes.func,\r\n    language: PropTypes.string,\r\n};\r\n\r\nexport default withStyles(styles)(SimpleCron);\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport Input from '@material-ui/core/Input';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport MaskedInput from 'react-text-mask';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport I18n from '../i18n';\r\n\r\nconst styles = theme => ({\r\n    hr: {\r\n        border: 0,\r\n        borderTop: '1px solid gray'\r\n    },\r\n    scrollWindow: {\r\n        width: '100%',\r\n        overflow: 'auto',\r\n        height: 'calc(100% - 22px)'\r\n    },\r\n    rowDiv: {\r\n        width: '100%',\r\n    },\r\n    modeDiv: {\r\n        width: 200,\r\n        display: 'inline-block',\r\n        verticalAlign: 'top'\r\n    },\r\n    settingsDiv: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top'\r\n    },\r\n    inputTime: {\r\n        width: 90,\r\n        marginTop: 0,\r\n        marginLeft: 5\r\n    },\r\n    inputDate: {\r\n        width: 140,\r\n        marginTop: 0,\r\n        marginLeft: 5\r\n    },\r\n    inputEvery: {\r\n        width: 40,\r\n        marginLeft: 5,\r\n        marginRight: 5,\r\n    },\r\n    inputRadio: {\r\n        padding: '4px 12px',\r\n        verticalAlign: 'top'\r\n    },\r\n    inputGroup: {\r\n        maxWidth: 400,\r\n        display: 'inline-block'\r\n    },\r\n    inputGroupElement: {\r\n        width: 120,\r\n    },\r\n    inputDateDay: {\r\n        width: 60,\r\n    },\r\n    inputDateDayCheck: {\r\n        padding: 4,\r\n    },\r\n    inputSmallCheck: {\r\n        padding: 0,\r\n    },\r\n    rowOnce: {\r\n\r\n    },\r\n\r\n    rowDays: {\r\n        background: '#ddeaff'\r\n    },\r\n    rowDows: {\r\n        background: '#DDFFDD'\r\n    },\r\n    rowDates: {\r\n        background: '#DDDDFF'\r\n    },\r\n    rowWeeks: {\r\n        background: '#DDDDFF'\r\n    },\r\n    rowMonths: {\r\n        background: '#DDFFFF'\r\n    },\r\n    rowMonthsDates: {\r\n        background: '#EEFFFF',\r\n        maxWidth: 600\r\n    },\r\n    rowYears: {\r\n        background: '#fbffdd'\r\n    },\r\n    rowDaysDows: {\r\n        background: '#EEEAFF',\r\n        paddingLeft: 10,\r\n        paddingBottom: 10\r\n    },\r\n    rowDowsDows: {\r\n        background: '#EEFFEE',\r\n        paddingLeft: 10,\r\n        paddingBottom: 10\r\n    }\r\n});\r\n\r\nconst WEEKDAYS = [\r\n    'Sunday',\r\n    'Monday',\r\n    'Tuesday',\r\n    'Wednesday',\r\n    'Thursday',\r\n    'Friday',\r\n    'Saturday',\r\n    'Sunday',\r\n];\r\nconst MONTHS = [\r\n    'January',\r\n    'February',\r\n    'March',\r\n    'April',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'August',\r\n    'September',\r\n    'October',\r\n    'November',\r\n    'December'\r\n];\r\nconst PERIODS = {\r\n    'minutes': 'minutes',\r\n    'hours': 'hours',\r\n};\r\nconst ASTRO = [\r\n    'sunrise',\r\n    'sunriseEnd',\r\n    'goldenHourEnd',\r\n    'solarNoon',\r\n    'goldenHour',\r\n    'sunsetStart',\r\n    'sunset',\r\n    'dusk',\r\n    'nauticalDusk',\r\n    'night',\r\n    'nightEnd',\r\n    'nauticalDawn',\r\n    'dawn',\r\n    'nadir',\r\n];\r\n\r\nfunction padding(num) {\r\n    if (num < 10) return '0' + num;\r\n    return '' + num;\r\n}\r\n\r\nfunction TextTime(props) {\r\n    const { inputRef, ...other } = props;\r\n\r\n    return (\r\n        <MaskedInput\r\n            {...other}\r\n            ref={inputRef}\r\n            mask={[/[0-2]/, /[0-9]/, ':', /[0-5]/, /[0-9]/]}\r\n            placeholderChar={props.placeholder || '00:00'}\r\n            showMask\r\n        />\r\n    );\r\n}\r\n\r\nTextTime.propTypes = {\r\n    inputRef: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction TextDate(props) {\r\n    const { inputRef, ...other } = props;\r\n\r\n    return (\r\n        <MaskedInput\r\n            {...other}\r\n            ref={inputRef}\r\n            mask={[/[0-3]/, /[0-9]/, '.', /[0-1]/, /[0-9]/, '.', '2', '0', /[0-9]/, /[0-9]/]}\r\n            placeholderChar={props.placeholder || '01.01.2019'}\r\n            showMask\r\n        />\r\n    );\r\n}\r\n\r\nTextDate.propTypes = {\r\n    inputRef: PropTypes.func.isRequired,\r\n};\r\n\r\nconst DEFAULT = {\r\n    time: {\r\n        exactTime: false,\r\n\r\n        start: '00:00',\r\n        end: '23:59',\r\n\r\n        mode: 'hours',\r\n        interval: 1,\r\n    },\r\n    period: {\r\n        once: '',\r\n        days: 1,\r\n        dows: '',\r\n        dates: '',\r\n        weeks: 0,\r\n        months: '',\r\n\r\n        years: 0,\r\n        yearMonth: 0,\r\n        yearDate: 0,\r\n    },\r\n    valid: {\r\n        from: '',\r\n        to: ''\r\n    }\r\n};\r\nfunction string2USdate(date) {\r\n    const parts = date.split('.');\r\n    if (parts.length === 3) {\r\n        return parts[2] + '-' + parts[1] + '-' + parts[0];\r\n    }\r\n\r\n}\r\nclass Schedule extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let schedule;\r\n        if (this.props.schedule && typeof this.props.schedule === 'string' && this.props.schedule[0] === '{') {\r\n            try {\r\n                schedule = JSON.parse(this.props.schedule);\r\n            } catch (e) {\r\n\r\n            }\r\n        }\r\n\r\n        if ((!schedule || !Object.keys(schedule).length) && this.props.onChange) {\r\n            setTimeout(() => this.onChange(this.state.schedule, true), 200);\r\n        }\r\n        schedule = schedule || {};\r\n        schedule = Object.assign({}, DEFAULT, schedule);\r\n        schedule.valid.from = schedule.valid.from || this.now2string();\r\n\r\n        this.state = {\r\n            schedule,\r\n            desc: this.state2text(schedule)\r\n        };\r\n    }\r\n\r\n    onChange(schedule, force) {\r\n        const isDiff = JSON.stringify(schedule) !== JSON.stringify(this.state.schedule);\r\n        if (force || isDiff) {\r\n            isDiff && this.setState({schedule, desc: this.state2text(schedule)});\r\n            const copy = JSON.parse(JSON.stringify(schedule));\r\n            if (copy.period.once) {\r\n                let once = copy.period.once;\r\n                delete copy.period;\r\n                copy.period = {once};\r\n                delete copy.valid;\r\n            } else\r\n            if (copy.period.days) {\r\n                let days = copy.period.days;\r\n                let dows = copy.period.dows;\r\n                delete copy.period;\r\n                copy.period = {days};\r\n                if (dows && dows !== '[]') {\r\n                    copy.period.dows = dows;\r\n                }\r\n            } else\r\n            if (copy.period.weeks) {\r\n                let weeks = copy.period.weeks;\r\n                let dows = copy.period.dows;\r\n                delete copy.period;\r\n                copy.period = {weeks};\r\n                if (dows && dows !== '[]') {\r\n                    copy.period.dows = dows;\r\n                }\r\n            } else\r\n            if (copy.period.months) {\r\n                let months = copy.period.months;\r\n                let dates = copy.period.dates;\r\n                delete copy.period;\r\n                copy.period = {months};\r\n                if (dates && dates !== '[]') {\r\n                    copy.period.dates = dates;\r\n                }\r\n            } else\r\n            if (copy.period.years) {\r\n                let years = copy.period.years;\r\n                let yearMonth = copy.period.yearMonth;\r\n                let yearDate = copy.period.yearDate;\r\n                delete copy.period;\r\n                copy.period = {years, yearDate};\r\n                if (yearMonth) {\r\n                    copy.period.yearMonth = yearMonth;\r\n                }\r\n            }\r\n\r\n            if (copy.time.exactTime) {\r\n                delete copy.time.end;\r\n                delete copy.time.mode;\r\n                delete copy.time.interval;\r\n            } else {\r\n                delete copy.time.exactTime;\r\n            }\r\n            if (copy.valid) {\r\n                if (!copy.valid.to) {\r\n                    delete copy.valid.to;\r\n                }\r\n                if (copy.period.days === 1 || copy.period.weeks === 1 || copy.period.months === 1 || copy.period.years === 1) {\r\n                    const from = this.string2date(copy.valid.from);\r\n                    const today = new Date();\r\n                    today.setHours(0);\r\n                    today.setMinutes(0);\r\n                    today.setSeconds(0);\r\n                    today.setMilliseconds(0);\r\n                    if (from <= today) {\r\n                        delete copy.valid.from;\r\n                    }\r\n                }\r\n                if (!copy.valid.from && !copy.valid.to) {\r\n                    delete copy.valid;\r\n                }\r\n            }\r\n\r\n            this.props.onChange && this.props.onChange(JSON.stringify(copy));\r\n        }\r\n    }\r\n\r\n    state2text(schedule) {\r\n        let desc = [];\r\n        let validFrom = this.string2date(schedule.valid.from);\r\n        if (schedule.period.once) {\r\n            // once\r\n            let once = this.string2date(schedule.period.once);\r\n            let now = new Date();\r\n            now.setMilliseconds(0);\r\n            now.setSeconds(0);\r\n            now.setMinutes(0);\r\n            now.setHours(0);\r\n\r\n            //\r\n            if (once < now) {\r\n                // will ne be not executed any more, because start is in the past\r\n                return I18n.t('sch_desc_onceInPast');\r\n            } else {\r\n                // only once\r\n                desc.push(I18n.t('sch_desc_once_on', schedule.period.once));\r\n            }\r\n        } else\r\n        if (schedule.period.days) {\r\n            if (schedule.period.days === 1) {\r\n                if (schedule.period.dows) {\r\n                    const dows = JSON.parse(schedule.period.dows);\r\n                    if (dows.length === 2 && dows[0] === 0 && dows[1] === 6) {\r\n                        // on weekends\r\n                        desc.push(I18n.t('sch_desc_onWeekends'));\r\n                    } else if (dows.length === 5 && dows[0] === 1 && dows[1] === 2 && dows[2] === 3 && dows[3] === 4 && dows[4] === 5) {\r\n                        // on workdays\r\n                        desc.push(I18n.t('sch_desc_onWorkdays'));\r\n                    } else {\r\n                        const tDows = dows.map(day => I18n.t(WEEKDAYS[day]));\r\n                        if (tDows.length === 1) {\r\n                            // on Monday\r\n                            desc.push(I18n.t('sch_desc_onWeekday', tDows[0]));\r\n                        } else if (tDows.length === 7) {\r\n                            // on every day\r\n                            desc.push(I18n.t('sch_desc_everyDay'));\r\n                        } else {\r\n                            const last = tDows.pop();\r\n                            // on Monday and Sunday\r\n                            desc.push(I18n.t('sch_desc_onWeekdays', tDows.join(', '), last));\r\n                        }\r\n                    }\r\n                } else {\r\n                    desc.push(I18n.t('sch_desc_everyDay'));\r\n                }\r\n            } else {\r\n                desc.push(I18n.t('sch_desc_everyNDay', schedule.period.days));\r\n            }\r\n        } else\r\n        if (schedule.period.weeks) {\r\n            if (schedule.period.weeks === 1) {\r\n                desc.push(I18n.t('sch_desc_everyWeek'));\r\n            } else {\r\n                desc.push(I18n.t('sch_desc_everyNWeeks', schedule.period.weeks));\r\n            }\r\n\r\n            if (schedule.period.dows) {\r\n                const dows = JSON.parse(schedule.period.dows);\r\n                if (dows.length === 2 && dows[0] === 0 && dows[1] === 6) {\r\n                    // on weekends\r\n                    desc.push(I18n.t('sch_desc_onWeekends'));\r\n                } else if (dows.length === 5 && dows[0] === 1 && dows[1] === 2 && dows[2] === 3 && dows[3] === 4 && dows[4] === 5) {\r\n                    // on workdays\r\n                    desc.push(I18n.t('sch_desc_onWorkdays'));\r\n                } else {\r\n                    const tDows = dows.map(day => I18n.t(WEEKDAYS[day]));\r\n                    if (tDows.length === 1) {\r\n                        // on Monday\r\n                        desc.push(I18n.t('sch_desc_onWeekday', tDows[0]));\r\n                    } else if (tDows.length === 7) {\r\n                        // on every day\r\n                        desc.push(I18n.t('sch_desc_everyDay'));\r\n                    } else {\r\n                        const last = tDows.pop();\r\n                        // on Monday and Sunday\r\n                        desc.push(I18n.t('sch_desc_onWeekdays', tDows.join(', '), last));\r\n                    }\r\n                }\r\n            } else {\r\n                return I18n.t('sch_desc_never');\r\n            }\r\n        } else\r\n        if (schedule.period.months) {\r\n            if (schedule.period.dates) {\r\n                const dates = JSON.parse(schedule.period.dates);\r\n                if (dates.length === 1) {\r\n                    // in 1 of month\r\n                    desc.push(I18n.t('sch_desc_onDate', dates[0]));\r\n                } else if (dates.length === 31) {\r\n                    desc.push(I18n.t('sch_desc_onEveryDate'));\r\n                } else if (!dates.length) {\r\n                    return I18n.t('sch_desc_never');\r\n                } else {\r\n                    const last = dates.pop();\r\n                    // in 1 and 4 of month\r\n                    desc.push(I18n.t('sch_desc_onDates', dates.join(', '), last));\r\n                }\r\n            } else {\r\n                desc.push(I18n.t('sch_desc_onEveryDate'));\r\n            }\r\n\r\n            if (schedule.period.months === 1) {\r\n                desc.push(I18n.t('sch_desc_everyMonth'));\r\n            } else if (typeof schedule.period.months === 'number') {\r\n                desc.push(I18n.t('sch_desc_everyNMonths', schedule.period.months));\r\n            } else {\r\n                const months = JSON.parse(schedule.period.months);\r\n                const tMonths = months.map(month => I18n.t(MONTHS[month - 1]));\r\n                if (!tMonths.length) {\r\n                    // in January\r\n                    return I18n.t('sch_desc_never');\r\n                } else if (tMonths.length === 1) {\r\n                    // in January\r\n                    desc.push(I18n.t('sch_desc_onMonth', tMonths[0]));\r\n                } else if (tMonths.length === 12) {\r\n                    // every month\r\n                    desc.push(I18n.t('sch_desc_everyMonth'));\r\n                } else {\r\n                    const last = tMonths.pop();\r\n                    // in January and May\r\n                    desc.push(I18n.t('sch_desc_onMonths', tMonths.join(', '), last));\r\n                }\r\n            }\r\n        }\r\n        else\r\n        if (schedule.period.years) {\r\n            if (schedule.period.years === 1) {\r\n                desc.push(I18n.t('sch_desc_everyYear'));\r\n            } else {\r\n                desc.push(I18n.t('sch_desc_everyNYears', schedule.period.years));\r\n            }\r\n            desc.push(I18n.t('sch_desc_onDate', schedule.period.yearDate, schedule.period.yearMonth ? I18n.t(MONTHS[schedule.period.yearMonth - 1]) : I18n.t('sch_desc_everyMonth')));\r\n        }\r\n\r\n        // time\r\n        if (schedule.time.exactTime) {\r\n            if (ASTRO.indexOf(schedule.time.start) !== -1) {\r\n                // at sunset\r\n                desc.push(I18n.t('sch_desc_atTime', I18n.t('sch_astro_' + schedule.time.start)));\r\n            } else {\r\n                // at HH:MM\r\n                desc.push(I18n.t('sch_desc_atTime', schedule.time.start));\r\n            }\r\n        } else {\r\n            if (schedule.time.mode === PERIODS.minutes) {\r\n                if (schedule.time.interval === 1) {\r\n                    // every minute\r\n                    desc.push(I18n.t('sch_desc_everyMinute'));\r\n                } else {\r\n                    // every N minutes\r\n                    desc.push(I18n.t('sch_desc_everyNMinutes', schedule.time.interval));\r\n                }\r\n            } else {\r\n                if (schedule.time.interval === 1) {\r\n                    // every minute\r\n                    desc.push(I18n.t('sch_desc_everyHour'));\r\n                } else {\r\n                    // every N minutes\r\n                    desc.push(I18n.t('sch_desc_everyNHours', schedule.time.interval));\r\n                }\r\n            }\r\n            const start = ASTRO.indexOf(schedule.time.start) !== -1 ? I18n.t('sch_astro_' + schedule.time.start) : schedule.time.start;\r\n            const end = ASTRO.indexOf(schedule.time.end) !== -1 ? I18n.t('sch_astro_' + schedule.time.end) : schedule.time.end;\r\n            if (start !== '00:00' || (end !== '24:00' && end !== '23:59')) {\r\n                // from HH:mm to HH:mm\r\n                desc.push(I18n.t('sch_desc_intervalFromTo', start, end));\r\n            }\r\n        }\r\n\r\n        if (!schedule.period.once) {\r\n            // valid\r\n            if (validFrom.getTime() > Date.now() && schedule.valid.to) {\r\n                // from XXX to XXXX\r\n                desc.push(I18n.t('sch_desc_validFromTo', schedule.valid.from, schedule.valid.to));\r\n            } else if (validFrom.getTime() > Date.now()) {\r\n                // from XXXX\r\n                desc.push(I18n.t('sch_desc_validFrom', schedule.valid.from));\r\n            } else if (schedule.valid.to) {\r\n                // till XXXX\r\n                desc.push(I18n.t('sch_desc_validTo', schedule.valid.to));\r\n            }\r\n        }\r\n        return desc.join(' ');\r\n    }\r\n\r\n    getTimePeriodElements() {\r\n        const schedule = this.state.schedule;\r\n        let wholeDay = false;\r\n        let day = false;\r\n        let night = false;\r\n        let fromTo = true;\r\n        if (schedule.time.start === '00:00' && schedule.time.end === '24:00') {\r\n            wholeDay = true;\r\n            fromTo = false;\r\n        } else if (schedule.time.start === 'sunrise') {\r\n            day = true;\r\n            fromTo = false;\r\n        } else if (schedule.time.start === 'sunset') {\r\n            night = true;\r\n            fromTo = false;\r\n        }\r\n\r\n        return (\r\n            <div key=\"timePeriod\" className={this.props.classes.rowDiv}>\r\n                <div className={this.props.classes.modeDiv}>\r\n                    <FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={!schedule.time.exactTime} onClick={() => {\r\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                        _schedule.time.exactTime = false;\r\n                        this.onChange(_schedule);\r\n                    }}/>} label={I18n.t('sch_intervalTime')} />\r\n                </div>\r\n                <div className={this.props.classes.settingsDiv}>\r\n                    <div className={this.props.classes.settingsDiv}>\r\n                        {!schedule.time.exactTime && (<div>\r\n                            <div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={fromTo} onClick={() => {\r\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                _schedule.time.start = '00:00';\r\n                                _schedule.time.end = '23:59';\r\n                                this.onChange(_schedule);\r\n                            }}/>} label={!fromTo ? I18n.t('sch_fromTo') : ''} />\r\n                                {fromTo && [\r\n                                    (<TextField\r\n                                        className={this.props.classes.inputTime}\r\n                                        style={{marginRight: 10}}\r\n                                        key=\"exactTimeFrom\"\r\n                                        type=\"time\"\r\n                                        value={this.state.schedule.time.start}\r\n                                        //InputProps={{inputComponent: TextTime}}\r\n                                        onChange={e => {\r\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                            _schedule.time.start = e.target.value;\r\n                                            this.onChange(_schedule);\r\n                                        }}\r\n                                        InputLabelProps={{shrink: true,}}\r\n                                        label={I18n.t('sch_from')}\r\n                                        margin=\"normal\"\r\n                                    />),\r\n                                    (<TextField\r\n                                        className={this.props.classes.inputTime}\r\n                                        key=\"exactTimeTo\"\r\n                                        type=\"time\"\r\n                                        value={this.state.schedule.time.end}\r\n                                        //InputProps={{inputComponent: TextTime}}\r\n                                        onChange={e => {\r\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                            _schedule.time.end = e.target.value;\r\n                                            this.onChange(_schedule);\r\n                                        }}\r\n                                        InputLabelProps={{shrink: true,}}\r\n                                        label={I18n.t('sch_to')}\r\n                                        margin=\"normal\"\r\n                                    />)\r\n                                ]}\r\n                            </div>\r\n                        </div>)}\r\n\r\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={wholeDay} onClick={() => {\r\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                            _schedule.time.start = '00:00';\r\n                            _schedule.time.end = '24:00';\r\n                            this.onChange(_schedule);\r\n                        }}/>} label={I18n.t('sch_wholeDay')} /></div>) }\r\n\r\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={day} onClick={() => {\r\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                            _schedule.time.start = 'sunrise';\r\n                            _schedule.time.end = 'sunset';\r\n                            this.onChange(_schedule);\r\n                        }}/>} label={I18n.t('sch_astroDay')} /></div>) }\r\n\r\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={night} onClick={() => {\r\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                            _schedule.time.start = 'sunset';\r\n                            _schedule.time.end = 'sunrise';\r\n                            this.onChange(_schedule);\r\n                        }}/>} label={I18n.t('sch_astroNight')} /></div>) }\r\n                    </div>\r\n                    {!schedule.time.exactTime && this.getPeriodSettingsMinutes()}\r\n                </div>\r\n            </div>);\r\n    }\r\n\r\n    getTimeExactElements() {\r\n        const isAstro = ASTRO.indexOf(this.state.schedule.time.start) !== -1;\r\n\r\n        return (<div key=\"timeExact\"  className={this.props.classes.rowDiv}>\r\n            <div className={this.props.classes.modeDiv}>\r\n                <FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={this.state.schedule.time.exactTime} onClick={() => {\r\n                    const schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                    schedule.time.exactTime = true;\r\n                    this.onChange(schedule);\r\n                }}/>} label={I18n.t('sch_exactTime')} />\r\n            </div>\r\n            {this.state.schedule.time.exactTime &&\r\n                (<Select value={isAstro ? this.state.schedule.time.start : '00:00'}\r\n                         onChange={e => {\r\n                             const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                             _schedule.time.start = e.target.value;\r\n                             this.onChange(_schedule);\r\n                         }}\r\n                >\r\n                    <MenuItem key=\"specific\" value={'00:00'}>{I18n.t('sch_specificTime')}</MenuItem>\r\n                    {ASTRO.map(event => (<MenuItem key={event} value={event}>{I18n.t('sch_astro_' + event)}</MenuItem>))}\r\n                </Select>)\r\n            }\r\n            {this.state.schedule.time.exactTime && !isAstro &&\r\n                (<div className={this.props.classes.settingsDiv}><TextField\r\n                    className={this.props.classes.inputTime}\r\n                    key=\"exactTimeValue\"\r\n                    value={this.state.schedule.time.start}\r\n                    type=\"time\"\r\n                    // inputComponent={TextTime}\r\n                    onChange={e => {\r\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                        _schedule.time.start = e.target.value;\r\n                        this.onChange(_schedule);\r\n                    }}\r\n                    InputLabelProps={{shrink: true,}}\r\n                    margin=\"normal\"\r\n                /></div>)\r\n            }\r\n        </div>)\r\n    }\r\n\r\n    getDivider() {\r\n        return (<hr className={this.props.classes.hr}/>);\r\n    }\r\n\r\n    getPeriodModes() {\r\n        const schedule = this.state.schedule;\r\n        const isOnce = !schedule.period.dows && !schedule.period.months && !schedule.period.dates && !schedule.period.years && !schedule.period.days && !schedule.period.weeks;\r\n        if (isOnce && !schedule.period.once) {\r\n            schedule.period.once = this.now2string(true);\r\n        }\r\n\r\n        return [\r\n            // ----- once ---\r\n            (<div key=\"once\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowOnce}>\r\n                <div className={this.props.classes.modeDiv}>\r\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={isOnce} onClick={() => {\r\n                                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                    _schedule.period.once = _schedule.period.once || this.now2string(true);\r\n                                    _schedule.period.dows = '';\r\n                                    _schedule.period.months = '';\r\n                                    _schedule.period.dates = '';\r\n                                    _schedule.period.years = 0;\r\n                                    _schedule.period.yearDate = 0;\r\n                                    _schedule.period.yearMonth = 0;\r\n                                    _schedule.period.weeks = 0;\r\n                                    _schedule.period.days = 0;\r\n                                    this.onChange(_schedule);\r\n                                }}/>)}\r\n                              label={I18n.t('sch_periodOnce')} />\r\n                </div>\r\n                {isOnce && (<div className={this.props.classes.settingsDiv}>\r\n                    {<TextField\r\n                        className={this.props.classes.inputDate}\r\n                        type=\"date\"\r\n                        key=\"exactDateAt\"\r\n                        value={string2USdate(schedule.period.once)}\r\n                        //InputProps={{inputComponent: TextTime}}\r\n                        onChange={e => {\r\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                            const date = this.string2date(e.target.value);\r\n                            _schedule.period.once = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\r\n                            this.onChange(_schedule);\r\n                        }}\r\n                        InputLabelProps={{shrink: true,}}\r\n                        label={I18n.t('sch_at')}\r\n                        margin=\"normal\"\r\n                    />}\r\n                </div>)}\r\n            </div>),\r\n\r\n\r\n            // ----- days ---\r\n            (<div key=\"days\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDays}>\r\n                <div className={this.props.classes.modeDiv}>\r\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.days} onClick={() => {\r\n                               const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                _schedule.period.days = 1;\r\n                                _schedule.period.dows = '';\r\n                                _schedule.period.months = '';\r\n                                _schedule.period.dates = '';\r\n                                _schedule.period.years = 0;\r\n                                _schedule.period.yearDate = 0;\r\n                                _schedule.period.yearMonth = 0;\r\n                                _schedule.period.weeks = 0;\r\n                                _schedule.period.once = '';\r\n                               this.onChange(_schedule);\r\n                           }}/>)}\r\n                           label={I18n.t('sch_periodDaily')} />\r\n                </div>\r\n                <div className={this.props.classes.settingsDiv}>\r\n                    {this.getPeriodSettingsDaily()}\r\n                    {schedule.period.days ? this.getPeriodSettingsWeekdays() : null}\r\n                </div>\r\n            </div>),\r\n\r\n\r\n            // ----- days of weeks ---\r\n            /*!schedule.period.days && (\r\n                <div key=\"dows\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDows}>\r\n                    <div className={this.props.classes.modeDiv}>\r\n                        <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.dows} onClick={() => {\r\n                            const schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                            schedule.period.dows = schedule.period.dows ? '' : '[0,1,2,3,4,5,6]';\r\n                            this.onChange(schedule);\r\n                        }}/>)}\r\n                        label={I18n.t('sch_periodWeekdays')} />\r\n                    </div>\r\n                    <div className={this.props.classes.settingsDiv}>\r\n                        {this.getPeriodSettingsWeekdays()}\r\n                    </div>\r\n                </div>),\r\n*/\r\n            // ----- weeks ---\r\n            (<div key=\"weeks\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDows}>\r\n                <div className={this.props.classes.modeDiv}>\r\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.weeks} onClick={() => {\r\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                        _schedule.period.weeks = schedule.period.weeks ? 0 : 1;\r\n                        _schedule.period.dows = schedule.period.dows || '[0]';\r\n                        _schedule.period.months = '';\r\n                        _schedule.period.dates = '';\r\n                        _schedule.period.years = 0;\r\n                        _schedule.period.yearDate = 0;\r\n                        _schedule.period.yearMonth = 0;\r\n                        _schedule.period.days = 0;\r\n                        _schedule.period.once = '';\r\n                        this.onChange(_schedule);\r\n                    }}/>)}\r\n                    label={I18n.t('sch_periodWeekly')} />\r\n                </div>\r\n                <div className={this.props.classes.settingsDiv}>\r\n                    <div className={this.props.classes.settingsDiv}>{this.getPeriodSettingsWeekly()}</div>\r\n                    <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowDowsDows}>{this.state.schedule.period.weeks ? this.getPeriodSettingsWeekdays() : null}</div>\r\n                </div>\r\n            </div>),\r\n\r\n\r\n            // ----- months ---\r\n            (<div key=\"months\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowMonths}>\r\n                <div className={this.props.classes.modeDiv}>\r\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.months} onClick={() => {\r\n                           const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                            _schedule.period.months = 1;\r\n                            _schedule.period.dows = '';\r\n                            _schedule.period.dates = '';\r\n                            _schedule.period.years = 0;\r\n                            _schedule.period.yearDate = 0;\r\n                            _schedule.period.yearMonth = 0;\r\n                            _schedule.period.weeks = 0;\r\n                            _schedule.period.days = 0;\r\n                            _schedule.period.once = '';\r\n                           this.onChange(_schedule);\r\n                       }}/>)}\r\n                       label={I18n.t('sch_periodMonthly')} />\r\n                </div>\r\n                <div className={this.props.classes.settingsDiv}>\r\n                    {this.getPeriodSettingsMonthly()}\r\n                    {schedule.period.months ? (<div>\r\n                        <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowMonthsDates}>\r\n                            <FormControlLabel control={(<Checkbox className={this.props.classes.inputRadio} checked={!!schedule.period.dates} onClick={() => {\r\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                _schedule.period.months = _schedule.period.months || 1;\r\n                                const dates = [];\r\n                                for (let i = 1; i <= 31; i++) {\r\n                                    dates.push(i);\r\n                                }\r\n                                _schedule.period.dates = _schedule.period.dates || JSON.stringify(dates);\r\n                                _schedule.period.dows = '';\r\n                                _schedule.period.years = 0;\r\n                                _schedule.period.yearDate = 0;\r\n                                _schedule.period.yearMonth = 0;\r\n                                _schedule.period.weeks = 0;\r\n                                _schedule.period.days = 0;\r\n                                _schedule.period.once = '';\r\n\r\n                                this.onChange(_schedule);\r\n                            }}/>)}\r\n                            label={I18n.t('sch_periodDates')} /></div>\r\n                        <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowMonthsDates}>\r\n                            {this.getPeriodSettingsDates()}\r\n                        </div>\r\n                    </div>) : null}\r\n                </div>\r\n            </div>),\r\n\r\n\r\n            // ----- years ---\r\n            (<div key=\"years\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowYears}>\r\n                <div className={this.props.classes.modeDiv}>\r\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.years} onClick={() => {\r\n                       const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                        _schedule.period.years = 1;\r\n                        _schedule.period.yearDate = 1;\r\n                        _schedule.period.yearMonth = 1;\r\n                        _schedule.period.dows = '';\r\n                        _schedule.period.months = 0;\r\n                        _schedule.period.dates = '';\r\n                        _schedule.period.weeks = 0;\r\n                        _schedule.period.days = 0;\r\n                        _schedule.period.once = '';\r\n                       this.onChange(_schedule);\r\n                   }}/>)}\r\n                   label={I18n.t('sch_periodYearly')} />\r\n                </div>\r\n                <div className={this.props.classes.settingsDiv}>\r\n                    <div className={this.props.classes.settingsDiv}>{this.getPeriodSettingsYearly()}</div>\r\n                    {!!schedule.period.years && (<div className={this.props.classes.settingsDiv}>\r\n                        <span>{I18n.t('sch_on')}</span>\r\n                        <Input key=\"input\" value={this.state.schedule.period.yearDate} className={this.props.classes.inputEvery} type=\"number\" min=\"1\" max=\"31\" onChange={e => {\r\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                            _schedule.period.yearDate = parseInt(e.target.value, 10);\r\n                            this.onChange(_schedule);\r\n                        }} />\r\n                        <Select value={schedule.period.yearMonth}\r\n                             onChange={e => {\r\n                                 const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                 _schedule.period.yearMonth = e.target.value;\r\n                                 this.onChange(_schedule);\r\n                             }}\r\n                        >\r\n                            <MenuItem key=\"every\" value={0}>{I18n.t('sch_yearEveryMonth')}</MenuItem>\r\n                            {MONTHS.map((month, i) => (<MenuItem key={month} value={i + 1}>{I18n.t(month)}</MenuItem>))}\r\n                        </Select>\r\n                    </div>)}\r\n                </div>\r\n            </div>),\r\n        ];\r\n    }\r\n\r\n    getPeriodSettingsMinutes() {\r\n        return (<div style={{display: 'inline-block'}}>\r\n            <label>{I18n.t('sch_every')}</label>\r\n            <Input value={this.state.schedule.time.interval}\r\n                   style={{ verticalAlign: 'bottom'}}\r\n                   className={this.props.classes.inputEvery} type=\"number\" min=\"1\" onChange={e => {\r\n                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                _schedule.time.interval = parseInt(e.target.value, 10);\r\n                this.onChange(_schedule);\r\n            }} />\r\n            <Select value={this.state.schedule.time.mode}\r\n                    onChange={e => {\r\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                        _schedule.time.mode = e.target.value;\r\n                        this.onChange(_schedule);\r\n                    }}\r\n            >\r\n                <MenuItem value={PERIODS.minutes}>{I18n.t('sch_periodMinutes')}</MenuItem>\r\n                <MenuItem value={PERIODS.hours}>{I18n.t('sch_periodHours')}</MenuItem>\r\n            </Select>\r\n        </div>);\r\n    }\r\n\r\n    getPeriodSettingsWeekdays() {\r\n        // || this.state.schedule.period.dows === '[1, 2, 3, 4, 5]' || this.state.schedule.period.dows === '[0, 6]'\r\n        const schedule = this.state.schedule;\r\n        const isSpecific = schedule.period.dows && schedule.period.dows !== '[1, 2, 3, 4, 5]' && schedule.period.dows !== '[0, 6]';\r\n        return [\r\n            (<div key=\"workdays\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.dows === '[1, 2, 3, 4, 5]'} onClick={() => {\r\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                    _schedule.period.dows = '[1, 2, 3, 4, 5]';\r\n                    if (_schedule.period.days) {\r\n                        _schedule.period.days = 1;\r\n                    }\r\n                    this.onChange(_schedule);\r\n                }}/>)}\r\n                label={I18n.t('sch_periodWorkdays')} /></div>),\r\n\r\n            (<div key=\"weekend\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.dows === '[0, 6]'} onClick={() => {\r\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                    _schedule.period.dows = '[0, 6]';\r\n                    if (_schedule.period.days) {\r\n                        _schedule.period.days = 1;\r\n                    }\r\n                    this.onChange(_schedule);\r\n                }}/>)}\r\n                label={I18n.t('sch_periodWeekend')} /></div>),\r\n\r\n            (<div key=\"specific\" style={{verticalAlign: 'top'}}><FormControlLabel style={{verticalAlign: 'top'}}\r\n                                                                   control={(<Radio className={this.props.classes.inputRadio} checked={isSpecific} onClick={() => {\r\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                    _schedule.period.dows = '[0,1,2,3,4,5,6]';\r\n                    if (_schedule.period.days) {\r\n                        _schedule.period.days = 1;\r\n                    }\r\n                    this.onChange(_schedule);\r\n                }}/>)\r\n                }\r\n                label={I18n.t('sch_periodWeekdays')} />\r\n                {isSpecific && (schedule.period.days === 1 || schedule.period.weeks) && (<FormGroup row className={this.props.classes.inputGroup} style={{width: 150}}>\r\n                    {[1,2,3,4,5,6,0].map(i =>\r\n                        (<FormControlLabel key={'specific_' + i} className={this.props.classes.inputGroupElement} control={\r\n                              <Checkbox className={this.props.classes.inputSmallCheck} checked={schedule.period.dows.indexOf('' + i) !== -1}\r\n                                    onChange={e => {\r\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                        let dows;\r\n                                        try {\r\n                                            dows = JSON.parse(_schedule.period.dows);\r\n                                        } catch (e) {\r\n                                            dows = [];\r\n                                        }\r\n                                        if (e.target.checked && dows.indexOf(i) === -1) {\r\n                                            dows.push(i);\r\n                                        } else if (!e.target.checked && dows.indexOf(i) !== -1) {\r\n                                            dows.splice(dows.indexOf(i), 1);\r\n                                        }\r\n                                        dows.sort((a, b) => a - b);\r\n                                        _schedule.period.dows = JSON.stringify(dows);\r\n                                        if (_schedule.period.days) {\r\n                                            _schedule.period.days = 1;\r\n                                        }\r\n                                        this.onChange(_schedule);\r\n                                    }}\r\n                              />\r\n                          }\r\n                          label={I18n.t(WEEKDAYS[i])}\r\n                        />))}\r\n                </FormGroup>)}\r\n            </div>),\r\n            ];\r\n    }\r\n\r\n    getPeriodSettingsDaily() {\r\n        if (!this.state.schedule.period.days) {\r\n            return;\r\n        }\r\n        const schedule = this.state.schedule;\r\n        return [\r\n            (<div key=\"every_day\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.days === 1 && !schedule.period.dows} onClick={() => {\r\n                                   const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                    _schedule.period.days = 1;\r\n                                    _schedule.period.dows = '';\r\n                                   this.onChange(_schedule);\r\n                               }}/>)}\r\n                                    label={I18n.t('sch_periodEveryDay')} /></div>),\r\n            (<div key=\"everyN_day\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.days > 1} onClick={() => {\r\n                                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                    _schedule.period.days = 2;\r\n                                    _schedule.period.dows = '';\r\n                                    this.onChange(_schedule);\r\n                               }}/>)}\r\n                                    label={I18n.t('sch_periodEvery')} />\r\n                {schedule.period.days > 1 && [(<Input key=\"input\" value={this.state.schedule.period.days} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\r\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                    _schedule.period.days = parseInt(e.target.value, 10);\r\n                    _schedule.period.dows = '';\r\n                    this.onChange(_schedule);\r\n                }} />), (<span key=\"span\" style={{paddingRight: 10}}>{I18n.t('sch_periodDay')}</span>)]}\r\n            </div>),\r\n            ];\r\n    }\r\n\r\n    getPeriodSettingsWeekly() {\r\n        if (!this.state.schedule.period.weeks) {\r\n            return;\r\n        }\r\n        const schedule = this.state.schedule;\r\n        return [\r\n            (<div key=\"radios\" style={{display: 'inline-block', verticalAlign: 'top'}}>\r\n                    <div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.weeks === 1} onClick={() => {\r\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                            _schedule.period.weeks = 1;\r\n                                            this.onChange(_schedule);\r\n                                        }}/>)\r\n                                        }\r\n                                             label={I18n.t('sch_periodEveryWeek')} /></div>\r\n                    <div>\r\n                        <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.weeks > 1} onClick={() => {\r\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                            _schedule.period.weeks = 2;\r\n                                            this.onChange(_schedule);\r\n                                        }}/>)\r\n                                        }\r\n                                        label={I18n.t('sch_periodEvery')} />\r\n                        {schedule.period.weeks > 1 && [(<Input value={this.state.schedule.period.weeks} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\r\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                            _schedule.period.weeks = parseInt(e.target.value, 10);\r\n                            this.onChange(_schedule);\r\n                        }} />), (<span>{I18n.t('sch_periodWeek')}</span>)]}\r\n                    </div>\r\n                </div>),\r\n            ];\r\n    }\r\n\r\n    getPeriodSettingsDates() {\r\n        if (!this.state.schedule.period.dates) {\r\n            return;\r\n        }\r\n        const schedule = this.state.schedule;\r\n\r\n        const dates = [];\r\n        for (let i = 1; i <= 31; i++) {\r\n            dates.push(i);\r\n        }\r\n\r\n        const parsedDates = JSON.parse(schedule.period.dates);\r\n\r\n        return (\r\n            <FormGroup row className={this.props.classes.inputGroup} style={{maxWidth: 620}}>\r\n                <FormControlLabel className={this.props.classes.inputDateDay}\r\n                    control={\r\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={parsedDates.length === 31}\r\n                            onChange={e => {\r\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                const dates = [];\r\n                                for (let i = 1; i <= 31; i++) {\r\n                                    dates.push(i);\r\n                                }\r\n                                _schedule.period.dates = JSON.stringify(dates);\r\n                                this.onChange(_schedule);\r\n                            }}\r\n                      />\r\n                    } label={I18n.t('sch_all')}\r\n                />\r\n                <FormControlLabel className={this.props.classes.inputDateDay}\r\n                    control={\r\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={!parsedDates.length}\r\n                            onChange={e => {\r\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                _schedule.period.dates = '[]';\r\n                                this.onChange(_schedule);\r\n                            }}\r\n                        />\r\n                    } label={I18n.t('sch_no_one')}\r\n                />\r\n                {parsedDates.length !== 31 && !!parsedDates.length && (<FormControlLabel className={this.props.classes.inputDateDay}\r\n                    control={\r\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={false}\r\n                            onChange={e => {\r\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                const result = [];\r\n                                const parsedDates = JSON.parse(_schedule.period.dates);\r\n                                for (let i = 1; i <= 31; i++) {\r\n                                    if (parsedDates.indexOf(i) === -1) {\r\n                                        result.push(i);\r\n                                    }\r\n                                }\r\n                                result.sort((a, b) => a - b);\r\n                                _schedule.period.dates = JSON.stringify(result);\r\n                                this.onChange(_schedule);\r\n                            }}\r\n                        />\r\n                    } label={I18n.t('sch_invert')}\r\n                />)}\r\n                <div/>\r\n            {dates.map(i =>\r\n                (<FormControlLabel key={'date_' + i} className={this.props.classes.inputDateDay} style={!i ? {opacity: 0, cursor: 'default', userSelect: 'none', pointerEvents: 'none'}: {}}\r\n                      control={\r\n                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={JSON.parse(schedule.period.dates).indexOf(i) !== -1}\r\n                                    onChange={e => {\r\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                        let dates;\r\n                                        try {\r\n                                            dates = JSON.parse(_schedule.period.dates);\r\n                                        } catch (e) {\r\n                                            dates = [];\r\n                                        }\r\n                                        if (e.target.checked && dates.indexOf(i) === -1) {\r\n                                            dates.push(i);\r\n                                        } else if (!e.target.checked && dates.indexOf(i) !== -1) {\r\n                                            dates.splice(dates.indexOf(i), 1);\r\n                                        }\r\n                                        dates.sort((a, b) => a - b);\r\n                                        _schedule.period.dates = JSON.stringify(dates);\r\n                                        this.onChange(_schedule);\r\n                                    }}\r\n                          />\r\n                      } label={i < 10 ? [(<span key=\"0\" style={{opacity: 0}}>0</span>), (<span key=\"num\">{i}</span>)] : i}\r\n                />))}\r\n            </FormGroup>);\r\n    }\r\n\r\n    getPeriodSettingsMonthly() {\r\n        if (!this.state.schedule.period.months) {\r\n            return;\r\n        }\r\n        const schedule = this.state.schedule;\r\n        const parsedMonths = typeof schedule.period.months === 'string' ? JSON.parse(schedule.period.months)  : [];\r\n\r\n        return [\r\n            (<div key=\"every\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'number' && schedule.period.months === 1} onClick={() => {\r\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                        _schedule.period.months = 1;\r\n                                        this.onChange(schedule);\r\n                                    }}/>)\r\n                                    }\r\n                                    label={I18n.t('sch_periodEveryMonth')} /></div>),\r\n            (<div key=\"everyN\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'number' && schedule.period.months > 1} onClick={() => {\r\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                        _schedule.period.months = 2;\r\n                                        this.onChange(_schedule);\r\n                                    }}/>)\r\n                                    }\r\n                                    label={I18n.t('sch_periodEvery')} />\r\n                {typeof schedule.period.months === 'number' && schedule.period.months > 1 && [(<Input value={schedule.period.months} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\r\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                    _schedule.period.months = parseInt(e.target.value, 10);\r\n                    this.onChange(_schedule);\r\n                }} />), (<span>{I18n.t('sch_periodMonth')}</span>)]}\r\n            </div>),\r\n            (<div  key=\"specific\" style={{verticalAlign: 'top'}}><FormControlLabel style={{verticalAlign: 'top'}} control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'string'} onClick={() => {\r\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                        _schedule.period.months = '[1,2,3,4,5,6,7,8,9,10,11,12]';\r\n                                        this.onChange(_schedule);\r\n                                    }}/>)\r\n                                    }\r\n                                    label={I18n.t('sch_periodSpecificMonths')} />\r\n                {typeof schedule.period.months === 'string' &&\r\n                (<FormGroup row className={this.props.classes.inputGroup}>\r\n                    <FormControlLabel className={this.props.classes.inputDateDay}\r\n                                      control={\r\n                                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={parsedMonths.length === 12}\r\n                                                    onChange={e => {\r\n                                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                                        const months = [];\r\n                                                        for (let i = 1; i <= 12; i++) {\r\n                                                            months.push(i);\r\n                                                        }\r\n                                                        _schedule.period.months = JSON.stringify(months);\r\n                                                        this.onChange(_schedule);\r\n                                                    }}\r\n                                          />\r\n                                      } label={I18n.t('sch_all')}\r\n                    />\r\n                    <FormControlLabel className={this.props.classes.inputDateDay}\r\n                                      control={\r\n                                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={!parsedMonths.length}\r\n                                                    onChange={e => {\r\n                                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                                        _schedule.period.months = '[]';\r\n                                                        this.onChange(_schedule);\r\n                                                    }}\r\n                                          />\r\n                                      } label={I18n.t('sch_no_one')}\r\n                    />\r\n                    {parsedMonths.length !== 12 && !!parsedMonths.length && (<FormControlLabel className={this.props.classes.inputDateDay}\r\n                                                                                             control={\r\n                                                                                                 <Checkbox className={this.props.classes.inputDateDayCheck} checked={false}\r\n                                                                                                           onChange={e => {\r\n                                                                                                               const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                                                                                               const result = [];\r\n                                                                                                               const parsedMonths = JSON.parse(_schedule.period.months);\r\n                                                                                                               for (let i = 1; i <= 12; i++) {\r\n                                                                                                                   if (parsedMonths.indexOf(i) === -1) {\r\n                                                                                                                       result.push(i);\r\n                                                                                                                   }\r\n                                                                                                               }\r\n                                                                                                               result.sort((a, b) => a - b);\r\n                                                                                                               _schedule.period.months = JSON.stringify(result);\r\n                                                                                                               this.onChange(_schedule);\r\n                                                                                                           }}\r\n                                                                                                 />\r\n                                                                                             } label={I18n.t('sch_invert')}\r\n                    />)}\r\n                    <div/>\r\n                    {MONTHS.map((month, i) => (<FormControlLabel className={this.props.classes.inputGroupElement}\r\n                        control={\r\n                            <Checkbox className={this.props.classes.inputSmallCheck} checked={JSON.parse(schedule.period.months).indexOf(i + 1) !== -1}\r\n                                      onChange={e => {\r\n                                          const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                          let months;\r\n                                          try {\r\n                                              months = JSON.parse(_schedule.period.months);\r\n                                          } catch (e) {\r\n                                              months = [];\r\n                                          }\r\n                                          if (e.target.checked && months.indexOf(i + 1) === -1) {\r\n                                              months.push(i + 1);\r\n                                          } else if (!e.target.checked && months.indexOf(i + 1) !== -1) {\r\n                                              months.splice(months.indexOf(i + 1), 1);\r\n                                          }\r\n                                          months.sort((a, b) => a - b);\r\n                                          _schedule.period.months = JSON.stringify(months);\r\n                                          this.onChange(_schedule);\r\n                                      }}\r\n                            />\r\n                        }\r\n                        label={I18n.t(month)}\r\n                    />))}\r\n                </FormGroup>)}\r\n            </div>),\r\n        ];\r\n    }\r\n\r\n    getPeriodSettingsYearly() {\r\n        if (!this.state.schedule.period.years) {\r\n            return;\r\n        }\r\n        const schedule = this.state.schedule;\r\n        return [\r\n            (<div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.years === 1} onClick={() => {\r\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                        _schedule.period.years = 1;\r\n                                        this.onChange(_schedule);\r\n                                    }}/>)\r\n                                    }\r\n                                    label={I18n.t('sch_periodEveryYear')} /></div>),\r\n            (<div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.years > 1} onClick={() => {\r\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                        _schedule.period.years = 2;\r\n                                        this.onChange(_schedule);\r\n                                    }}/>)\r\n                                    }\r\n                                    label={I18n.t('sch_periodEvery')} />\r\n                {schedule.period.years > 1 && [(<Input value={this.state.schedule.period.years} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\r\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                    _schedule.period.years = parseInt(e.target.value, 10);\r\n                    this.onChange(_schedule);\r\n                }} />), (<span>{I18n.t('sch_periodYear')}</span>)]}\r\n            </div>),\r\n        ];\r\n    }\r\n\r\n    now2string(isEnd) {\r\n        const d = new Date();\r\n        d.setHours(0);\r\n        d.setMinutes(0);\r\n        d.setSeconds(0);\r\n        d.setMilliseconds(0);\r\n        if (isEnd) {\r\n            d.setDate(d.getDate() + 2);\r\n            d.setMilliseconds(d.getMilliseconds() - 1);\r\n        }\r\n\r\n        return padding(d.getDate()) + '.' + padding(d.getMonth() + 1) + '.' + padding(d.getFullYear());\r\n    }\r\n\r\n    string2date(str) {\r\n        let parts = str.split('.'); // 31.12.2019\r\n        if (parts.length === 1) {\r\n            parts = str.split('-'); // 2018-12-31\r\n            return new Date(parseInt(parts[0], 10), parseInt(parts[1], 10) - 1, parseInt(parts[2], 10));\r\n        } else {\r\n            return new Date(parseInt(parts[2], 10), parseInt(parts[1], 10) - 1, parseInt(parts[0], 10));\r\n        }\r\n    }\r\n\r\n    getValidSettings() {\r\n        const schedule = this.state.schedule;\r\n        // ----- from ---\r\n        return (\r\n            <div className={this.props.classes.rowDiv}>\r\n                <div className={this.props.classes.modeDiv} style={{verticalAlign: 'middle'}}>\r\n                    <span style={{fontWeight: 'bold', paddingRight: 10}}>{I18n.t('sch_valid')}</span>\r\n                    <span>{I18n.t('sch_validFrom')}</span>\r\n                </div>\r\n                <div className={this.props.classes.settingsDiv}>\r\n                    <TextField\r\n                        className={this.props.classes.inputDate}\r\n                        style={{marginRight: 10}}\r\n                        key=\"exactTimeFrom\"\r\n                        value={string2USdate(schedule.valid.from)}\r\n                        type=\"date\"\r\n                        //inputComponent={TextDate}\r\n                        onChange={e => {\r\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                            const date = this.string2date(e.target.value);\r\n                            _schedule.valid.from = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\r\n                            this.onChange(_schedule);\r\n                        }}\r\n                        InputLabelProps={{shrink: true,}}\r\n                        margin=\"normal\"\r\n                    />\r\n                    <FormControlLabel control={(<Checkbox className={this.props.classes.inputRadio} checked={!!schedule.valid.to} onClick={() => {\r\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                        _schedule.valid.to = _schedule.valid.to ? '' : this.now2string(true);\r\n                        this.onChange(_schedule);\r\n                    }}/>)}\r\n                        label={I18n.t('sch_validTo')} />\r\n                        {!!schedule.valid.to && (\r\n                            <TextField\r\n                                className={this.props.classes.inputDate}\r\n                                style={{marginRight: 10}}\r\n                                key=\"exactTimeFrom\"\r\n                                type=\"date\"\r\n                                value={string2USdate(schedule.valid.to)}\r\n                                //inputComponent={TextDate}\r\n                                onChange={e => {\r\n                                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\r\n                                    const date = this.string2date(e.target.value);\r\n                                    _schedule.valid.to = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\r\n                                    this.onChange(_schedule);\r\n                                }}\r\n                                InputLabelProps={{shrink: true,}}\r\n                                margin=\"normal\"\r\n                            />)}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (<div style={{height: 'calc(100% - 48px)', width: '100%', overflow: 'hidden'}}>\r\n            <div>{this.state.desc}</div>\r\n            <div className={this.props.classes.scrollWindow}>\r\n                <h5>{I18n.t('sch_time')}</h5>\r\n                {this.getTimePeriodElements()}\r\n                {this.getTimeExactElements()}\r\n                {this.getDivider()}\r\n                <h5>{I18n.t('sch_period')}</h5>\r\n                {this.getPeriodModes()}\r\n                {!this.state.schedule.period.once && this.getDivider()}\r\n                {!this.state.schedule.period.once && this.getValidSettings()}\r\n            </div>\r\n        </div>);\r\n    }\r\n}\r\n\r\nSchedule.propTypes = {\r\n    schedule: PropTypes.string,\r\n    onChange: PropTypes.func\r\n};\r\n\r\nexport default withStyles(styles)(Schedule);\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/core/styles/index';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Radio from '@material-ui/core/Radio';\r\n\r\nimport ComplexCron from '../Components/ComplexCron';\r\nimport SimpleCron from '../Components/simple-cron/SimpleCron';\r\nimport Schedule from '../Components/Schedule';\r\n\r\nimport I18n from '../i18n';\r\n\r\n// Generate cron expression\r\n\r\nconst styles = theme => ({\r\n    headerID: {\r\n        fontWeight: 'bold',\r\n        fontStyle: 'italic'\r\n    },\r\n    radio: {\r\n        display: 'inline-block'\r\n    },\r\n    dialogPaper: {\r\n        height: 'calc(100% - 96px)'\r\n    }\r\n});\r\n\r\nclass DialogCron extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let cron;\r\n        if (this.props.cron && typeof this.props.cron === 'string' && this.props.cron.replace(/^[\"']/, '')[0] !== '{') {\r\n            cron = this.props.cron.replace(/['\"]/g, '').trim();\r\n        } else {\r\n            cron = this.props.cron || '{}';\r\n            if (typeof cron === 'string') {\r\n                cron = cron.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '');\r\n            }\r\n        }\r\n\r\n        this.state =  {\r\n            cron,\r\n            mode: this.props.simple ?\r\n                'simple' :\r\n                (typeof cron === 'object' || cron[0] === '{' ?\r\n                    'wizard' :\r\n                    (SimpleCron.cron2state(this.props.cron || '* * * * *') ? 'simple' : 'complex'))\r\n        };\r\n    }\r\n\r\n    handleCancel() {\r\n        this.props.onClose();\r\n    };\r\n\r\n    handleOk() {\r\n        this.props.onOk(this.state.cron);\r\n        this.props.onClose();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Dialog\r\n                disableBackdropClick\r\n                disableEscapeKeyDown\r\n                maxWidth=\"md\"\r\n                fullWidth={true}\r\n                classes={{paper: this.props.classes.dialogPaper}}\r\n                open={true}\r\n                aria-labelledby=\"cron-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"cron-dialog-title\">{this.props.title || I18n.t('Define schedule...')}</DialogTitle>\r\n                <DialogContent style={{height: '100%', overflow: 'hidden'}}>\r\n                    {!this.props.simple && (<div>\r\n                        <Radio\r\n                            key=\"wizard\"\r\n                            checked={this.state.mode === 'wizard'}\r\n                            onChange={e => this.setState({mode: 'wizard'})}\r\n                        /><label onClick={e => this.setState({mode: 'wizard'})}\r\n                                 style={this.state.mode !== 'wizard' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_wizard')}</label>\r\n\r\n                        <Radio\r\n                            key=\"simple\"\r\n                            checked={this.state.mode === 'simple'}\r\n                            onChange={e => this.setState({mode: 'simple'})}\r\n                        /><label onClick={e => this.setState({mode: 'simple'})}\r\n                                 style={this.state.mode !== 'simple' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_simple')}</label>\r\n                        <Radio\r\n                            key=\"complex\"\r\n                            checked={this.state.mode === 'complex'}\r\n                            onChange={e => this.setState({mode: 'complex'})}\r\n                        /><label onClick={e => this.setState({mode: 'complex'})} style={this.state.mode !== 'complex' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_cron')}</label></div>)}\r\n\r\n                    {this.state.mode === 'simple' &&\r\n                    (<SimpleCron\r\n                        cronExpression={this.state.cron}\r\n                        onChange={cron => this.setState({cron})}\r\n                        language={I18n.getLanguage()}\r\n                    />)}\r\n                    {this.state.mode === 'wizard' &&\r\n                        (<Schedule\r\n                            schedule={this.state.cron}\r\n                            onChange={cron => this.setState({cron})}\r\n                            language={I18n.getLanguage()}\r\n                        />)}\r\n                    {this.state.mode === 'complex' &&\r\n                    (<ComplexCron\r\n                        cronExpression={this.state.cron}\r\n                        onChange={cron => this.setState({cron})}\r\n                        language={I18n.getLanguage()}\r\n                    />)}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => this.handleOk()}     color=\"primary\">{this.props.ok || I18n.t('Ok')}</Button>\r\n                    <Button onClick={() => this.handleCancel()} color=\"secondary\">{this.props.cancel || I18n.t('Cancel')}</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nDialogCron.propTypes = {\r\n    classes: PropTypes.object,\r\n    onClose: PropTypes.func,\r\n    onOk: PropTypes.func.isRequire,\r\n    title: PropTypes.string,\r\n    cron: PropTypes.string,\r\n    cancel: PropTypes.string,\r\n    ok: PropTypes.string,\r\n    simple: PropTypes.bool,\r\n    language: PropTypes.string\r\n\r\n};\r\n\r\nexport default withStyles(styles)(DialogCron);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nimport {MdPalette as IconDark} from 'react-icons/md';\r\nimport {MdSave as IconSave} from 'react-icons/md';\r\nimport {MdCancel as IconCancel} from 'react-icons/md';\r\nimport {MdClose as IconClose} from 'react-icons/md';\r\nimport {MdRefresh as IconRestart} from 'react-icons/md';\r\nimport {MdInput as IconDoEdit} from 'react-icons/md';\r\nimport {FaClock as IconCron} from 'react-icons/fa';\r\nimport {FaClipboardList as IconSelectId} from 'react-icons/fa';\r\nimport {FaFileExport as IconExport} from 'react-icons/fa';\r\nimport {FaFileImport as IconImport} from 'react-icons/fa';\r\nimport {FaFlagCheckered as IconCheck} from 'react-icons/fa';\r\nimport {MdGpsFixed as IconLocate} from 'react-icons/md';\r\n\r\nimport ImgJS from './assets/js.png';\r\nimport ImgBlockly from './assets/blockly.png';\r\nimport ImgTypeScript from './assets/typescript.png';\r\nimport ImgBlockly2Js from './assets/blockly2js.png'\r\n\r\nimport I18n from './i18n';\r\nimport Theme from './Theme';\r\nimport ScriptEditor from './ScriptEditorVanilaMonaco';\r\nimport BlocklyEditor from './BlocklyEditor';\r\nimport DialogConfirm from './Dialogs/Confirmation';\r\nimport DialogSelectID from './Dialogs/SelectID';\r\nimport DialogCron from './Dialogs/Cron';\r\n\r\nconst images = {\r\n    'Blockly': ImgBlockly,\r\n    'Javascript/js': ImgJS,\r\n    def: ImgJS,\r\n    'TypeScript/ts': ImgTypeScript,\r\n};\r\n\r\nconst styles = theme => ({\r\n    toolbar: {\r\n        minHeight: 38,//Theme.toolbar.height,\r\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\r\n    },\r\n    toolbarButtons: {\r\n        padding: 4,\r\n        marginLeft: 4\r\n    },\r\n    editorDiv: {\r\n        height: `calc(100% - ${Theme.toolbar.height + 38/*Theme.toolbar.height */ + 1}px)`,\r\n        width: '100%',\r\n        overflow: 'hidden',\r\n        position: 'relative'\r\n    },\r\n    textButton: {\r\n        marginRight: 10\r\n    },\r\n    tabIcon: {\r\n        width: 24,\r\n        height: 24,\r\n        verticalAlign: 'middle',\r\n        marginBottom: 2,\r\n        marginRight: 2,\r\n        borderRadius: 3\r\n    },\r\n    hintIcon: {\r\n        //fontSize: 32,\r\n        padding: '0 8px 0 8px'\r\n    },\r\n    hintText: {\r\n        //fontSize: 18\r\n    },\r\n    hintButton: {\r\n        marginTop: 8,\r\n        marginLeft: 10\r\n    },\r\n    tabChanged: {\r\n        color: theme.palette.secondary.main\r\n    },\r\n    tabText: {\r\n        maxWidth: 160,\r\n        textOverflow: 'ellipsis',\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n    },\r\n    closeButton: {\r\n        padding: 8,\r\n        verticalAlign: 'middle',\r\n        cursor: 'grabbing'\r\n    },\r\n    notRunning: {\r\n        color: '#ffbc00'\r\n    }\r\n});\r\n\r\nclass Editor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const selected = window.localStorage.getItem('Editor.selected') || '';\r\n        let editing = window.localStorage.getItem('Editor.editing') || '[]';\r\n        try {\r\n            editing = JSON.parse(editing);\r\n        } catch (e) {\r\n            editing = [];\r\n        }\r\n        if (selected && editing.indexOf(selected) === -1) {\r\n            editing.push(selected);\r\n        }\r\n\r\n        this.state = {\r\n            selected: selected,\r\n            editing: editing, // array of opened scripts\r\n            changed: false,\r\n            blockly: null,\r\n            showBlocklyCode: false,\r\n            showSelectId: false,\r\n            showCron: false,\r\n            insert: '',\r\n            isDark: window.localStorage ? (window.localStorage.getItem('Editor.dark') === 'true') : false,\r\n            visible: props.visible,\r\n            cmdToBlockly: '',\r\n            runningInstances: this.props.runningInstances || {}\r\n        };\r\n        /* ----------------------- */\r\n        // required by selectIdDialog in Blockly\r\n        this.selectId = {\r\n            initValue: null,\r\n            callback: null\r\n        };\r\n        this.cron = {\r\n            initValue: null,\r\n            callback: null\r\n        };\r\n\r\n        /*const instances = [];\r\n        for (let id in this.props.objects) {\r\n            if (this.props.objects.hasOwnProperty(id) && id.startsWith('system.adapter.') && this.props.objects[id] && this.props.objects[id].type === 'instance') {\r\n                instances.push(id);\r\n            }\r\n        }\r\n        // remove non-existing scripts\r\n        for (let i = editing.length; i >= 0; i --) {\r\n            if (!this.props.objects[editing[i]]) {\r\n                editing.splice(i, 1);\r\n            }\r\n        }*/\r\n\r\n        window.systemLang = I18n.getLanguage();\r\n        window.main = {\r\n            objects: this.props.objects,\r\n            instances: [],\r\n            selectIdDialog: (initValue, cb) => {\r\n                this.selectId.callback = cb;\r\n                this.selectId.initValue = initValue;\r\n                this.setState({showSelectId: true});\r\n            },\r\n            cronDialog: (initValue, cb) => {\r\n                this.cron.callback = cb;\r\n                this.cron.initValue = initValue;\r\n                this.setState({showCron: true});\r\n            }\r\n        };\r\n        this.objects = props.objects;\r\n        /* ----------------------- */\r\n\r\n        this.scripts = {};\r\n\r\n        if (!this.state.selected && this.state.editing.length) {\r\n            this.state.selected = this.state.editing[0];\r\n        }\r\n\r\n        // to enable logging\r\n        if (this.props.onSelectedChange && this.state.selected) {\r\n            setTimeout(() => this.props.onSelectedChange(this.state.selected, this.state.editing));\r\n        }\r\n        this.onBrowserCloseBound = this.onBrowserClose.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('beforeunload', this.onBrowserCloseBound, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('beforeunload', this.onBrowserCloseBound);\r\n    }\r\n\r\n    onBrowserClose(e) {\r\n        const isChanged = Object.keys(this.scripts).find(id =>\r\n            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[this.state.selected].common));\r\n\r\n        if (!!isChanged) {\r\n            console.log('Script ' + JSON.stringify(isChanged));\r\n            const message = I18n.t('Configuration not saved.');\r\n            e = e || window.event;\r\n            // For IE and Firefox\r\n            if (e) {\r\n                e.returnValue = message;\r\n            }\r\n\r\n            // For Safari\r\n            return message;\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        const newState = {};\r\n        let _changed = false;\r\n        if (JSON.stringify(nextProps.runningInstances) !== JSON.stringify(this.state.runningInstances)) {\r\n            _changed = true;\r\n            newState.runningInstances = nextProps.runningInstances;\r\n        }\r\n\r\n        // if objects read\r\n        if (this.objects !== nextProps.objects) {\r\n            this.objects = nextProps.objects;\r\n            window.main.objects = nextProps.objects;\r\n\r\n            // if script is blockly\r\n            if (this.state.selected && this.objects[this.state.selected]) {\r\n                this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.objects[this.state.selected].common));\r\n                newState.blockly = this.scripts[this.state.selected].engineType === 'Blockly';\r\n            }\r\n\r\n            // remove non-existing scripts\r\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\r\n            for (let i = editing.length - 1; i >= 0; i--) {\r\n                if (!this.objects[editing[i]]) {\r\n                    _changed = true;\r\n                    editing.splice(i, 1);\r\n                }\r\n            }\r\n            if (this.state.selected && !this.objects[this.state.selected]) {\r\n                newState.selected = editing[0] || '';\r\n            }\r\n            if (_changed) {\r\n                newState.editing = editing;\r\n            }\r\n        }\r\n\r\n        if (this.state.selected !== nextProps.selected && nextProps.selected) {\r\n            if (nextProps.selected) {\r\n                this.scripts[nextProps.selected] = this.scripts[nextProps.selected] || JSON.parse(JSON.stringify(this.props.objects[nextProps.selected].common));\r\n            }\r\n\r\n            const nextCommon = this.props.objects[nextProps.selected] && this.props.objects[nextProps.selected].common;\r\n\r\n            const changed = nextCommon && JSON.stringify(this.scripts[nextProps.selected]) !== JSON.stringify(nextCommon);\r\n\r\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\r\n            if (nextProps.selected && editing.indexOf(nextProps.selected) === -1) {\r\n                editing.push(nextProps.selected);\r\n                this.props.onSelectedChange(nextProps.selected, editing);\r\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\r\n            }\r\n\r\n            _changed = true;\r\n            newState.changed = changed;\r\n            newState.editing = editing;\r\n            newState.selected = nextProps.selected;\r\n            newState.blockly = this.scripts[nextProps.selected].engineType === 'Blockly';\r\n            newState.showBlocklyCode = false;\r\n        } else {\r\n\r\n        }\r\n\r\n        if (this.state.visible !== nextProps.visible) {\r\n            _changed = true;\r\n            newState.visible = nextProps.visible;\r\n        }\r\n        _changed && this.setState(newState);\r\n    }\r\n\r\n    onRestart() {\r\n        this.props.onRestart && this.props.onRestart(this.state.selected);\r\n    }\r\n\r\n    onSave() {\r\n        if (this.state.changed) {\r\n            this.setState({changed: false}, () =>\r\n                this.props.onChange && this.props.onChange(this.state.selected, this.scripts[this.state.selected]));\r\n        }\r\n    }\r\n\r\n    onCancel() {\r\n        this.scripts[this.state.selected] = JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\r\n        this.setState({changed: false});\r\n    }\r\n\r\n    onRegisterSelect(func) {\r\n        this.getSelect = func;\r\n    }\r\n\r\n    onConvert2JS() {\r\n        this.showConfirmDialog(I18n.t('It will not be possible to revert this operation.'), result => {\r\n            if (result) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    onChange(newValue) {\r\n        this.scripts[this.state.selected].source = newValue;\r\n        const changed = JSON.stringify(this.scripts[this.state.selected]) !== JSON.stringify(this.props.objects[this.state.selected].common);\r\n        if (changed !== this.state.changed) {\r\n            this.setState({changed});\r\n        }\r\n    }\r\n\r\n    onTabChange(event, selected) {\r\n        window.localStorage && window.localStorage.setItem('Editor.selected', selected);\r\n        const common = this.scripts[selected] || (this.props.objects[selected] && this.props.objects[selected].common);\r\n        this.setState({selected, blockly: common.engineType === 'Blockly', showBlocklyCode: false});\r\n        this.props.onSelectedChange && this.props.onSelectedChange(selected, this.state.editing);\r\n    }\r\n\r\n    isScriptChanged(id) {\r\n        return this.scripts[id] && this.props.objects[id] && JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common);\r\n    }\r\n\r\n    onTabClose(id, e) {\r\n        e && e.stopPropagation();\r\n\r\n        const pos = this.state.editing.indexOf(id);\r\n        if (this.state.editing.indexOf(id) !== -1) {\r\n            if (this.isScriptChanged(id)) {\r\n                this.showConfirmDialog(I18n.t('Discard changes for %s', this.props.objects[id].common.name), ok => {\r\n                    if (ok) {\r\n                        delete this.scripts[id];\r\n                        this.onTabClose(id);\r\n                    }\r\n                });\r\n            } else {\r\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\r\n                editing.splice(pos, 1);\r\n                const newState = {editing};\r\n                if (id === this.state.selected) {\r\n                    if (editing.length) {\r\n                        if (pos === 0 || editing.length === 1) {\r\n                            newState.selected = editing[0];\r\n                        } else {\r\n                            newState.selected = editing[pos - 1];\r\n                        }\r\n                    } else {\r\n                        newState.selected = '';\r\n                    }\r\n                } else if (this.state.selected && !editing.length) {\r\n                    newState.selected = '';\r\n                }\r\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\r\n                if (newState.selected !== undefined) {\r\n                    newState.changed = this.isScriptChanged(newState.selected);\r\n                    const common = newState.selected && (this.scripts[newState.selected] || (this.props.objects[newState.selected] && this.props.objects[newState.selected].common));\r\n                    newState.blockly = common ? common.engineType === 'Blockly' : false;\r\n                    newState.showBlocklyCode = false;\r\n                }\r\n\r\n                this.setState(newState, () =>  {\r\n                    if (newState.selected !== undefined) {\r\n                        this.props.onSelectedChange && this.props.onSelectedChange(newState.selected, this.state.editing);\r\n                        window.localStorage && window.localStorage.setItem('Editor.selected', newState.selected);\r\n                    } else {\r\n                        this.props.onSelectedChange && this.props.onSelectedChange(this.state.selected, this.state.editing);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    showConfirmDialog(question, cb) {\r\n        this.confirmCallback = cb;\r\n        this.setState({confirm: question});\r\n    }\r\n\r\n    sendCommandToBlockly(cmd) {\r\n        this.setState({cmdToBlockly: cmd}, () =>\r\n            setTimeout(() =>\r\n                this.setState({cmdToBlockly: ''}), 200));\r\n    }\r\n\r\n    getTabs() {\r\n        if (this.state.editing.length) {\r\n            return (<Tabs\r\n                key=\"tabs\"\r\n                value={this.state.selected}\r\n                onChange={(event, value) => this.onTabChange(event, value)}\r\n                indicatorColor=\"primary\"\r\n                textColor=\"primary\"\r\n                scrollable\r\n                scrollButtons=\"auto\"\r\n            >\r\n                {this.state.editing.map(id => {\r\n                    if (!this.props.objects[id]) {\r\n                        return (<Tab key={id} label={id.split('.').pop()} value={id}/>);\r\n                    } else {\r\n                        let text = this.props.objects[id].common.name;\r\n                        let title = '';\r\n                        if (text.length > 18) {\r\n                            title = text;\r\n                            text = text.substring(0, 15) + '...';\r\n                        }\r\n                        const label = [\r\n                            (<img key=\"icon\" alt={\"\"} src={images[this.props.objects[id].common.engineType] || images.def} className={this.props.classes.tabIcon}/>),\r\n                            (<span key=\"text\" className={this.props.classes.tabText + ' ' + (this.isScriptChanged(id) ? this.props.classes.tabChanged : '')}>{text}</span>),\r\n                            (<IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} className={this.props.classes.closeButton} fontSize=\"small\"/>)];\r\n\r\n                        return (<Tab key={id} label={label} value={id} title={title}/>);\r\n                    }\r\n                })}\r\n            </Tabs>)\r\n        } else {\r\n            return (<div className={this.props.classes.toolbar}>\r\n                <Button disabled={true} className={this.props.classes.hintButton}>{I18n.t('Click on this icon')}<IconDoEdit className={this.props.classes.hintIcon}/>{I18n.t('for edit or create script')}</Button></div>);\r\n        }\r\n    }\r\n\r\n    getToolbar() {\r\n        const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\r\n        const isScriptRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].enabled;\r\n\r\n        if (this.state.selected) {\r\n            return (\r\n                <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar\">\r\n                    {this.props.onLocate && (<IconButton key=\"locate\" title={I18n.t('Locate file')} onClick={() => this.props.onLocate(this.state.selected)}><IconLocate/></IconButton>)}\r\n                    {!this.state.changed && !isScriptRunning && (<span className={this.props.classes.notRunning}>{I18n.t('Script is not running')}</span>)}\r\n                    {!this.state.changed && isScriptRunning && !isInstanceRunning && (<span className={this.props.classes.notRunning}>{I18n.t('Instance is disabled')}</span>)}\r\n                    {!this.state.changed && isInstanceRunning && (<IconButton key=\"restart\" variant=\"contained\" className={this.props.classes.toolbarButtons} onClick={() => this.onRestart()} title={I18n.t('Restart')}><IconRestart /></IconButton>)}\r\n                    {this.state.changed && (<Button key=\"save\" variant=\"contained\" color=\"secondary\" className={this.props.classes.textButton} onClick={() => this.onSave()}>{I18n.t('Save')}<IconSave /></Button>)}\r\n                    {this.state.changed && (<Button key=\"cancel\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onCancel()}>{I18n.t('Cancel')}<IconCancel /></Button>)}\r\n                    <div style={{flex: 2}}/>\r\n\r\n                    {!this.state.blockly && (<IconButton key=\"dark\" aria-label=\"Dark style\"\r\n                                                         color={this.state.isDark ? 'secondary' : 'inherit'}\r\n                                                         className={this.props.classes.toolbarButtons}\r\n                                                         onClick={() => {\r\n                                                             this.setState({isDark: !this.state.isDark});\r\n                                                             window.localStorage && window.localStorage.setItem('Editor.dark', this.state.isDark ? 'false' : 'true');\r\n                                                         }}>\r\n                        <IconDark /></IconButton>)}\r\n\r\n                    {this.state.blockly && !this.state.showBlocklyCode &&\r\n                        (<IconButton key=\"export\" aria-label=\"Export Blocks\"\r\n                                     title={I18n.t('Export blocks')}\r\n                             className={this.props.classes.toolbarButtons}\r\n                             onClick={() => this.sendCommandToBlockly('export')}>\r\n                        <IconExport /></IconButton>)}\r\n\r\n                    {this.state.blockly && !this.state.showBlocklyCode &&\r\n                        (<IconButton key=\"import\" aria-label=\"Import Blocks\"\r\n                                     title={I18n.t('Import blocks')}\r\n                                     className={this.props.classes.toolbarButtons}\r\n                                     onClick={() => this.sendCommandToBlockly('import')}>\r\n                            <IconImport /></IconButton>)}\r\n\r\n                    {this.state.blockly && !this.state.showBlocklyCode &&\r\n                        (<IconButton key=\"check\" aria-label=\"Check code\"\r\n                                     title={I18n.t('Check blocks')}\r\n                                     className={this.props.classes.toolbarButtons}\r\n                                     onClick={() => this.sendCommandToBlockly('check')}>\r\n                            <IconCheck /></IconButton>)}\r\n\r\n                    {!this.state.blockly && !this.state.showBlocklyCode && (<IconButton key=\"select-cron\" aria-label=\"select ID\"\r\n                                                                                        className={this.props.classes.toolbarButtons}\r\n                                                                                        onClick={() => this.setState({showCron: true})}><IconCron/></IconButton>)}\r\n\r\n                    {!this.state.blockly && !this.state.showBlocklyCode && (<IconButton key=\"select-id\" aria-label=\"select ID\"\r\n                                                                                        className={this.props.classes.toolbarButtons}\r\n                                                                                        onClick={() => this.setState({showSelectId: true})}><IconSelectId/></IconButton>)}\r\n\r\n                    {this.state.blockly && this.state.showBlocklyCode && (<Button key=\"convert2js\" aria-label=\"convert to javascript\"\r\n                                                                                  onClick={() => this.onConvert2JS()}\r\n                    >Blockly=>JS</Button>)}\r\n\r\n                    {this.state.blockly && (<Button key=\"blockly-code\" aria-label=\"blockly\"\r\n                                                    className={this.props.classes.toolbarButtons}\r\n                                                    color={this.state.showBlocklyCode ? 'secondary' : 'inherit'}\r\n                                                    style={{padding: '0 5px'}}\r\n                                                    onClick={() => this.setState({showBlocklyCode: !this.state.showBlocklyCode})}>\r\n                        <img alt=\"blockly2js\" src={ImgBlockly2Js} /></Button>)}\r\n                </Toolbar>);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    getScriptEditor() {\r\n        if (this.state.selected && this.props.objects[this.state.selected] && (!this.state.blockly || this.state.showBlocklyCode)) {\r\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\r\n\r\n            return (<div className={this.props.classes.editorDiv} key=\"scriptEditorDiv\">\r\n                <ScriptEditor\r\n                    key=\"scriptEditor\"\r\n                    name={this.state.selected}\r\n                    insert={this.state.insert}\r\n                    onInserted={() => this.setState({insert: ''})}\r\n                    onForceSave={() => this.onSave()}\r\n                    onRegisterSelect={func => this.onRegisterSelect(func)}\r\n                    readOnly={this.state.showBlocklyCode}\r\n                    code={this.scripts[this.state.selected].source || ''}\r\n                    isDark={this.state.isDark}\r\n                    connection={this.props.connection}\r\n                    onChange={newValue => this.onChange(newValue)}\r\n                    language={this.scripts[this.state.selected].engineType === 'TypeScript/ts' ? 'typescript' : 'javascript'}\r\n                />\r\n            </div>);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    getBlocklyEditor() {\r\n        if (this.state.selected && this.props.objects[this.state.selected] && (this.state.blockly && !this.state.showBlocklyCode) && this.state.visible) {\r\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\r\n\r\n            return (<div className={this.props.classes.editorDiv} key=\"BlocklyEditorDiv\">\r\n                <BlocklyEditor\r\n                    command={this.state.cmdToBlockly}\r\n                    key=\"BlocklyEditor\"\r\n                    resizing={this.props.resizing}\r\n                    code={this.scripts[this.state.selected].source || ''}\r\n                    onChange={newValue => this.onChange(newValue)}\r\n                />\r\n            </div>);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    getConfirmDialog() {\r\n        if (this.state.confirm) {\r\n            return (<DialogConfirm\r\n                key=\"DialogConfirm\"\r\n                question={this.state.confirm}\r\n                onClose={() => {\r\n                    this.setState({confirm: ''});\r\n                    if (this.confirmCallback) {\r\n                        const cb = this.confirmCallback;\r\n                        this.confirmCallback = null;\r\n                        cb(false);\r\n                    }\r\n                }}\r\n                onOk={() => {\r\n                    if (this.confirmCallback) {\r\n                        const cb = this.confirmCallback;\r\n                        this.confirmCallback = null;\r\n                        cb(true);\r\n                    }\r\n                }}\r\n            />);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    getSelectIdDialog() {\r\n        if (this.state.showSelectId) {\r\n            return (<DialogSelectID\r\n                key=\"DialogSelectID\"\r\n                connection={this.props.connection}\r\n                selected={this.selectId.callback ? this.selectId.initValue || '' : this.getSelect ? this.getSelect() : ''}\r\n                statesOnly={true}\r\n                onClose={() => this.setState({showSelectId: false})}\r\n                onOk={(selected, name) => {\r\n                    this.selectId.initValue = null;\r\n                    if (this.selectId.callback) {\r\n                        this.selectId.callback(selected);\r\n                        this.selectId.callback = null;\r\n                    } else {\r\n                        this.setState({insert: `'${selected}'/*${name}*/`})\r\n                    }\r\n                }}\r\n            />);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    getCronDialog() {\r\n        if (this.state.showCron) {\r\n            return (<DialogCron\r\n                key=\"DialogCron\"\r\n                cron={this.cron.callback ? this.cron.initValue || '' : this.getSelect ? this.getSelect() : '* * * * *'}\r\n                onClose={() => this.setState({showCron: false})}\r\n                onOk={cron => {\r\n                    this.cron.initValue = null;\r\n                    if (this.cron.callback) {\r\n                        this.cron.callback(cron);\r\n                        this.cron.callback = null;\r\n                    } else {\r\n                        this.setState({insert: `'${cron}'`})\r\n                    }\r\n                }}\r\n            />);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.selected && this.props.objects[this.state.selected] && this.state.blockly === null) {\r\n            setTimeout(() => this.setState({blockly: this.scripts[this.state.selected].engineType === 'Blockly', showBlocklyCode: false}), 100);\r\n        }\r\n\r\n        return [\r\n            this.getTabs(),\r\n            this.getToolbar(),\r\n            this.getScriptEditor(),\r\n            this.getBlocklyEditor(),\r\n            this.getConfirmDialog(),\r\n            this.getSelectIdDialog(),\r\n            this.getCronDialog()\r\n        ];\r\n    }\r\n}\r\n\r\nEditor.propTypes = {\r\n    objects: PropTypes.object.isRequired,\r\n    selected: PropTypes.string.isRequired,\r\n    onSelectedChange: PropTypes.func.isRequired,\r\n    onRestart: PropTypes.func,\r\n    onChange: PropTypes.func.isRequired,\r\n    visible: PropTypes.bool,\r\n    onLocate: PropTypes.func,\r\n    runningInstances: PropTypes.object,\r\n    connection: PropTypes.object\r\n};\r\n\r\nexport default withStyles(styles)(Editor);\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const PROGRESS = {\r\n    CONNECTING: 0,\r\n    CONNECTED: 1,\r\n    OBJECTS_LOADED: 2,\r\n    READY: 3\r\n};\r\n\r\nclass Connection {\r\n    constructor(props) {\r\n        props = props || {};\r\n        this.props = props;\r\n        this.autoSubscribes = this.props.autoSubscribes || [];\r\n        this.autoSubscribeLog = this.props.autoSubscribeLog;\r\n        this.socket = window.io.connect(\r\n            window.location.protocol + '//' + window.location.host.replace('3000', 8081),\r\n            {query: 'ws=true'});\r\n        this.states = {};\r\n        this.objects = null;\r\n        this.scripts = {\r\n            list: [],\r\n            hosts: [],\r\n            groups: [],\r\n            instances: []\r\n        };\r\n        this.acl = null;\r\n        this.firstConnect = true;\r\n        this.waitForRestart = false;\r\n        this.systemLang = 'en';\r\n        this.connected = false;\r\n        this.statesSubscribes = {}; // subscribe for states\r\n        this.onProgress = this.props.onProgress || function () {};\r\n        this.onError = this.props.onError || function (err) {console.error(err);};\r\n\r\n        this.socket.on('connect', () => {\r\n            this.connected = true;\r\n            if (this.firstConnect) {\r\n                this.onProgress(PROGRESS.CONNECTED);\r\n                this.firstConnect = false;\r\n                this.socket.emit('getUserPermissions', (err, acl) => {\r\n                    this.acl = acl;\r\n                    // Read system configuration\r\n                    this.socket.emit('getObject', 'system.config', (err, data) => {\r\n                        this.systemConfig = data;\r\n                        if (!err && this.systemConfig && this.systemConfig.common) {\r\n                            this.systemLang = this.systemConfig.common.language;\r\n                        } else {\r\n                            this.systemLang = window.navigator.userLanguage || window.navigator.language;\r\n\r\n                            if (this.systemLang !== 'en' && this.systemLang !== 'de' && this.systemLang !== 'ru') {\r\n                                this.systemConfig.common.language = 'en';\r\n                                this.systemLang = 'en';\r\n                            }\r\n                        }\r\n                        this.props.onLanguage && this.props.onLanguage(this.systemLang);\r\n\r\n                        this.getObjects(() => {\r\n                            this.onProgress(PROGRESS.READY);\r\n                            this.props.onReady && this.props.onReady(this.objects, this.scripts);\r\n                        });\r\n                    });\r\n                });\r\n            } else {\r\n                this.onProgress(PROGRESS.READY);\r\n            }\r\n\r\n            this.subscribe(true);\r\n\r\n            if (this.waitForRestart) {\r\n                window.location.reload();\r\n            }\r\n        });\r\n        this.socket.on('disconnect', () => {\r\n            this.connected = false;\r\n            this.subscribed = false;\r\n            this.onProgress(PROGRESS.CONNECTING)\r\n        });\r\n        this.socket.on('reconnect', () => {\r\n            this.onProgress(PROGRESS.READY);\r\n            if (this.waitForRestart) {\r\n                window.location.reload();\r\n            }\r\n        });\r\n        this.socket.on('reauthenticate', () => window.location.reload());\r\n        this.socket.on('log', message => {\r\n            this.props.onLog && this.props.onLog(message);\r\n            this.onLogHandler && this.onLogHandler(message);\r\n        });\r\n\r\n        this.socket.on('permissionError', err =>\r\n            this.onError({message: 'no permission', operation: err.operation, type: err.type, id: (err.id || '')}));\r\n\r\n        this.socket.on('objectChange', (id, obj) => setTimeout(() => this.objectChange(id, obj), 0));\r\n        this.socket.on('stateChange', (id, state) => setTimeout(() => this.stateChange(id, state), 0))\r\n    }\r\n\r\n    subscribeState(id, cb) {\r\n        if (!this.statesSubscribes[id]) {\r\n            this.statesSubscribes[id] = {reg: new RegExp(id.replace(/\\./g, '\\\\.').replace(/\\*/g, '.*')), cbs: []};\r\n            this.statesSubscribes[id].cbs.push(cb);\r\n            if (this.connected) {\r\n                this.socket.emit('subscribe', id);\r\n            }\r\n        } else {\r\n            this.statesSubscribes[id].cbs.indexOf(cb) === -1 && this.statesSubscribes[id].cbs.push(cb);\r\n        }\r\n        this.getState(id, cb);\r\n    }\r\n\r\n    objectChange(id, obj) {\r\n        // update main.objects cache\r\n        if (!this.objects) return;\r\n\r\n        let changed = false;\r\n        if (obj) {\r\n            if (obj._rev && this.objects[id]) {\r\n                this.objects[id]._rev = obj._rev;\r\n            }\r\n\r\n            if (!this.objects[id] || JSON.stringify(this.objects[id]) !== JSON.stringify(obj)) {\r\n                this.objects[id] = obj;\r\n                changed = true;\r\n                let pos;\r\n                if (obj.type === 'instance') {\r\n                    pos = this.scripts.instances.indexOf(id);\r\n                    if (pos === -1) this.scripts.instances.push(id);\r\n                } else\r\n                if (obj.type === 'script') {\r\n                    pos = this.scripts.list.indexOf(id);\r\n                    if (pos === -1) this.scripts.list.push(id);\r\n                } else\r\n                if (id.match(/^script\\.js\\./) && obj.type === 'channel') {\r\n                    pos = this.scripts.groups.indexOf(id);\r\n                    if (pos === -1) this.scripts.groups.push(id);\r\n                }\r\n            }\r\n        } else if (this.objects[id]) {\r\n            const oldObj = {_id: id, type: this.objects[id].type};\r\n            delete this.objects[id];\r\n            let pos;\r\n            if (oldObj.type === 'instance') {\r\n                pos = this.scripts.instances.indexOf(id);\r\n                if (pos !== -1) this.scripts.instances.splice(pos, 1);\r\n            } else\r\n            if (oldObj.type === 'script') {\r\n                pos = this.scripts.list.indexOf(id);\r\n                if (pos !== -1) this.scripts.list.splice(pos, 1);\r\n            } else\r\n            if (id.match(/^script\\.js\\./) && oldObj.type === 'channel') {\r\n                pos = this.scripts.groups.indexOf(id);\r\n                if (pos !== -1) this.scripts.groups.splice(pos, 1);\r\n            }\r\n            changed = true;\r\n        }\r\n\r\n        if (changed) {\r\n            this.props.onObjectChange && this.props.onObjectChange(this.objects, this.scripts);\r\n        }\r\n    }\r\n\r\n    stateChange(id, state) {\r\n        id = id ? id.replace(/[\\s'\"]/g, '_') : '';\r\n        for (const task in this.statesSubscribes) {\r\n            if (this.statesSubscribes.hasOwnProperty(task) && this.statesSubscribes[task].reg.test(id)) {\r\n                this.statesSubscribes[task].cbs.forEach(cb => cb(id, state));\r\n            }\r\n        }\r\n    }\r\n\r\n    getStates(cb) {\r\n        this.socket.emit('getStates', (err, res) => {\r\n            this.states = res;\r\n            this.onProgress(PROGRESS.STATES_LOADED);\r\n            cb && setTimeout(() => cb(this.states), 0);\r\n        });\r\n    }\r\n\r\n    getState(id, cb) {\r\n        if (!cb) {\r\n            return new Promise((resolve, reject) =>\r\n                this.getState(id, (err, state) => err ? reject(err) : resolve(state)));\r\n        } else {\r\n            this.socket.emit('getState', id, cb);\r\n        }\r\n    }\r\n\r\n    getObjects(refresh, cb) {\r\n        if (typeof refresh === 'function') {\r\n            cb = refresh;\r\n            refresh = false;\r\n        }\r\n\r\n        if (!refresh && this.objects) {\r\n            return setTimeout(() => cb && cb(this.objects), 0);\r\n        }\r\n\r\n        this.socket.emit('getAllObjects', (err, res) => {\r\n            setTimeout(() => {\r\n                let obj;\r\n                this.objects = res;\r\n                for (const id in this.objects) {\r\n                    if (!this.objects.hasOwnProperty(id) || id.slice(0, 7) === '_design') continue;\r\n\r\n                    obj = res[id];\r\n                    if (obj.type === 'instance') {\r\n                        console.log(id);\r\n                        id.startsWith('system.adapter.javascript.') && this.scripts.instances.push(parseInt(id.split('.').pop()));\r\n                    }\r\n                    if (obj.type === 'script')   this.scripts.list.push(id);\r\n                    if (obj.type === 'channel' && id.match(/^script\\.js\\./)) this.scripts.groups.push(id);\r\n                    if (obj.type === 'host')     this.scripts.hosts.push(id);\r\n                }\r\n                this.onProgress(PROGRESS.OBJECTS_LOADED);\r\n\r\n                cb && cb(this.objects);\r\n            }, 0);\r\n        });\r\n    }\r\n\r\n    subscribe(isEnable) {\r\n        if (isEnable && !this.subscribed) {\r\n            this.subscribed = true;\r\n            console.log('Subscribe logs');\r\n            this.autoSubscribes.forEach(id => this.socket.emit('subscribeObjects', id));\r\n            this.autoSubscribeLog && this.socket.emit('requireLog', true);\r\n\r\n            Object.keys(this.statesSubscribes).forEach(id => this.socket.emit('subscribe', id));\r\n        } else if (!isEnable && this.subscribed) {\r\n            this.subscribed = false;\r\n            console.log('Unsubscribe logs');\r\n            this.autoSubscribes.forEach(id => this.socket.emit('unsubscribeObjects', id));\r\n            this.autoSubscribeLog && this.socket.emit('requireLog', false);\r\n\r\n            Object.keys(this.statesSubscribes).forEach(id => this.socket.emit('unsubscribe', id));\r\n        }\r\n    }\r\n\r\n    delObject(id) {\r\n        return new Promise((resolve, reject) => {\r\n            this.socket.emit('delObject', id, err => {\r\n                err ? reject(err) : resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    setObject(id, obj) {\r\n        return new Promise((resolve, reject) => {\r\n            this.socket.emit('setObject', id, obj, err => {\r\n                err ? reject(err) : resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    updateScript(oldId, newId, newCommon) {\r\n        return new Promise((resolve, reject) => {\r\n            this.socket.emit('getObject', oldId, (err, _obj) => {\r\n                setTimeout(() => {\r\n                    const obj = {common: {}};\r\n\r\n                    if (newCommon.engine  !== undefined) obj.common.engine  = newCommon.engine;\r\n                    if (newCommon.enabled !== undefined) obj.common.enabled = newCommon.enabled;\r\n                    if (newCommon.source  !== undefined) obj.common.source  = newCommon.source;\r\n                    if (newCommon.debug   !== undefined) obj.common.debug   = newCommon.debug;\r\n                    if (newCommon.verbose !== undefined) obj.common.verbose = newCommon.verbose;\r\n\r\n                    if (oldId === newId && _obj && _obj.common && newCommon.name === _obj.common.name) {\r\n                        if (!newCommon.engineType || newCommon.engineType !== _obj.common.engineType) {\r\n                            if (newCommon.engineType !== undefined) obj.common.engineType  = newCommon.engineType || 'Javascript/js';\r\n\r\n                            this.socket.emit('extendObject', oldId, obj, err => err ? reject(err) : resolve());\r\n                        } else {\r\n                            this.socket.emit('extendObject', oldId, obj, err => err ? reject(err) : resolve());\r\n                        }\r\n                    } else {\r\n                        // let prefix;\r\n\r\n                        // let parts = _obj.common.engineType.split('/');\r\n\r\n                        // prefix = 'script.' + (parts[1] || parts[0]) + '.';\r\n\r\n                        if (_obj && _obj.common) {\r\n                            _obj.common.engineType = newCommon.engineType || _obj.common.engineType || 'Javascript/js';\r\n                            this.socket.emit('delObject', oldId, err => {\r\n                                if (err) {\r\n                                    reject(err);\r\n                                } else {\r\n                                    if (obj.common.engine  !== undefined) _obj.common.engine  = obj.common.engine;\r\n                                    if (obj.common.enabled !== undefined) _obj.common.enabled = obj.common.enabled;\r\n                                    if (obj.common.source  !== undefined) _obj.common.source  = obj.common.source;\r\n                                    if (obj.common.name    !== undefined) _obj.common.name    = obj.common.name;\r\n                                    if (obj.common.debug   !== undefined) _obj.common.debug   = obj.common.debug;\r\n                                    if (obj.common.verbose !== undefined) _obj.common.verbose = obj.common.verbose;\r\n\r\n                                    delete _obj._rev;\r\n\r\n                                    // Name must always exist\r\n                                    _obj.common.name = newCommon.name;\r\n\r\n                                    _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\r\n\r\n                                    this.socket.emit('setObject', newId, _obj, err => err ? reject(err) : resolve());\r\n                                }\r\n                            });\r\n                            return;\r\n                        } else {\r\n                            _obj = obj;\r\n                        }\r\n\r\n                        // Name must always exist\r\n                        _obj.common.name = newCommon.name;\r\n\r\n                        _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\r\n\r\n                        this.socket.emit('setObject', newId, _obj, err => err ? reject(err) : resolve());\r\n                    }\r\n                }, 0);\r\n            });\r\n        });\r\n    }\r\n\r\n    _deleteGroup(id, originalGroup, confirmed, deleted) {\r\n        if (confirmed.indexOf(id) === -1) {\r\n            confirmed.push(id);\r\n        }\r\n\r\n        return new Promise((resolve, reject) => {\r\n            // find all elements\r\n            for (let l = 0; l < this.scripts.list.length; l++) {\r\n                if (this.scripts.list[l].substring(0, id.length + 1) === id + '.' &&\r\n                    (!deleted || deleted.indexOf(this.scripts.list[l]) === -1)) {\r\n                    return this.deleteId(this.scripts.list[l], id, confirmed, deleted);\r\n                }\r\n            }\r\n\r\n            for (let g = 0; g < this.scripts.groups.length; g++) {\r\n                if (this.scripts.groups[g].substring(0, id.length + 1) === id + '.') {\r\n                    return this.deleteId(this.scripts.groups[g], id, confirmed, deleted);\r\n                }\r\n            }\r\n\r\n            this.socket.emit('delObject', id, err => {\r\n                if (err) {\r\n                    reject(err);\r\n                } else if (originalGroup !== id) {\r\n                    return this.deleteId(originalGroup, null, confirmed, deleted);\r\n                } else {\r\n                    // finish\r\n                    resolve();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    deleteId(id, originalGroup, confirmed, deleted) {\r\n        originalGroup = originalGroup || id;\r\n        confirmed     = confirmed     || [];\r\n        deleted       = deleted       || [];\r\n\r\n        return new Promise((resolve, reject) => {\r\n            if (this.objects[id] && this.objects[id].type === 'script') {\r\n                if (this.props.onConfirmDelete) {\r\n                    this.props.onConfirmDelete(false, this.objects[id].common.name, result => {\r\n                        if (result) {\r\n                            this.socket.emit('delObject', id, err => {\r\n                                if (err) {\r\n                                    reject(err);\r\n                                } else {\r\n                                    deleted.push(id);\r\n                                    return this.deleteId(originalGroup, null, confirmed, deleted);\r\n                                }\r\n                            });\r\n                        } else {\r\n                            // Do nothing\r\n                            reject('canceled');\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.socket.emit('delObject', id, err => {\r\n                        if (err) {\r\n                            reject(err);\r\n                        } else {\r\n                            deleted.push(id);\r\n                            return this.deleteId(originalGroup, null, confirmed, deleted);\r\n                        }\r\n                    });\r\n                }\r\n            } else {\r\n                let name = id;\r\n                if (confirmed.indexOf(id) === -1) {\r\n                    if (this.objects[id] && this.objects[id].common && this.objects[id].common.name) {\r\n                        name = this.objects[id].common.name;\r\n                    }\r\n\r\n                    if (this.props.onConfirmDelete) {\r\n                        this.props.onConfirmDelete(true, name, result => {\r\n                            if (result) {\r\n                                return this._deleteGroup(id, originalGroup, confirmed, deleted);\r\n                            } else {\r\n                                reject('canceled');\r\n                            }\r\n                        });\r\n                    } else {\r\n                        return this._deleteGroup(id, originalGroup, confirmed, deleted);\r\n                    }\r\n                } else {\r\n                    return this._deleteGroup(id, originalGroup, confirmed, deleted);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    renameGroup(id, newId, newName, _list) {\r\n        return new Promise((resolve, reject) => {\r\n            if (!_list) {\r\n                _list = [];\r\n\r\n                // collect all elements to rename\r\n                // find all elements\r\n                for (let l = 0; l < this.scripts.list.length; l++) {\r\n                    if (this.scripts.list[l].substring(0, id.length + 1) === id + '.') {\r\n                        _list.push(this.scripts.list[l]);\r\n                    }\r\n                }\r\n                for (let g = 0; g < this.scripts.groups.length; g++) {\r\n                    if (this.scripts.groups[g].substring(0, id.length + 1) === id + '.') {\r\n                        _list.push(this.scripts.list[g]);\r\n                    }\r\n                }\r\n\r\n                this.socket.emit('getObject', id, (err, obj) => {\r\n                    if (err) {\r\n                        reject(err);\r\n                    } else {\r\n                        obj = obj || {common: {}};\r\n                        obj.common.name = newName;\r\n                        obj._id = newId;\r\n\r\n                        this.socket.emit('delObject', id, err => {\r\n                            if (err) {\r\n                                reject(err);\r\n                            } else {\r\n                                this.socket.emit('setObject', newId, obj, err => {\r\n                                    if (err) {\r\n                                        reject(err);\r\n                                    } else {\r\n                                        return this.renameGroup(id, newId, newName, _list);\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            } else {\r\n                if (_list.length) {\r\n                    let nId = _list.pop();\r\n\r\n                    this.socket.emit('getObject', nId, (err, obj) => {\r\n                        if (err) {\r\n                            reject(err);\r\n                        } else {\r\n                            this.socket.emit('delObject', nId, err => {\r\n                                if (err) {\r\n                                    reject(err);\r\n                                } else {\r\n                                    nId = newId + nId.substring(id.length);\r\n                                    this.socket.emit('setObject', nId, obj, err => {\r\n                                        if (err) {\r\n                                            reject(err);\r\n                                        } else {\r\n                                            return this.renameGroup(id, newId, newName, _list);\r\n                                        }\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                } else {\r\n                    resolve();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    getScripts() {\r\n        return this.scripts;\r\n    }\r\n\r\n    sendTo(instance, command, data, cb) {\r\n        this.socket.emit('sendTo', instance, command, data, cb);\r\n    }\r\n    extendObject(id, obj, cb) {\r\n        this.socket.emit('extendObject', id, obj, cb);\r\n    }\r\n\r\n    registerLogHandler(handler) {\r\n        this.onLogHandler = handler;\r\n    }\r\n    unregisterLogHandler(handler) {\r\n        this.onLogHandler = null;\r\n    }\r\n\r\n}\r\n\r\nConnection.Connection = {\r\n    onLog: PropTypes.func,\r\n    onReady: PropTypes.func,\r\n    onProgress: PropTypes.func,\r\n};\r\n\r\nexport default Connection;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport './loader.css'\r\n\r\nconst styles = theme => ({\r\n\r\n});\r\n\r\nclass Loader extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.size = this.props.size || 234;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"logo-back logo-background\">\r\n                <div className=\"logo-div\" style={{width: this.size, height: this.size}}>\r\n                    <div className=\"logo-top logo-background\" style={{left: '37%'}}/>\r\n                    <div className=\"logo-top logo-background\" style={{left: '57%'}}/>\r\n                    <div\r\n                        className=\"logo-border logo-background logo-animate-wait\"\r\n                        style={{borderWidth: this.size * 0.132}}\r\n                    />\r\n                    <div className=\"logo-i logo-animate-color-inside\"/>\r\n                    <div className=\"logo-i-top logo-animate-color-inside\" style={{top: '17.5%'}}/>\r\n                    <div className=\"logo-i-top logo-animate-color-inside\" style={{bottom: '17.5%'}}/>\r\n                </div>\r\n                <div className=\"logo-animate-grow\"\r\n                     style={{width: this.size + 11, height: this.size + 11}}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nLoader.propTypes = {\r\n    size: PropTypes.number\r\n};\r\n\r\nexport default withStyles(styles)(Loader);\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Dropzone from 'react-dropzone';\r\nimport DialogError from './Error';\r\nimport {MdFileUpload as IconUpload} from 'react-icons/md';\r\nimport {MdCancel as IconNo} from 'react-icons/md';\r\nimport {MdPlusOne as IconPlus} from 'react-icons/md';\r\n\r\nimport I18n from '../i18n';\r\n\r\nconst styles = theme => ({\r\n    dialog: {\r\n        height: '95%'\r\n    },\r\n    fullHeight: {\r\n        height: '100%',\r\n        overflow: 'hidden'\r\n    },\r\n    dropzone: {\r\n        marginTop: 20,\r\n        width: '100%',\r\n        borderWidth: 5,\r\n        borderStyle: 'dashed',\r\n        borderColor: '#d0cccc',\r\n        textAlign: 'center',\r\n        boxSizing: 'border-box',\r\n        paddingTop: 45,\r\n        borderRadius: 10,\r\n        height: 'calc(100% - 10px)'\r\n    },\r\n    dropzoneRejected: {\r\n        borderColor: '#970000',\r\n    },\r\n    dropzoneAccepted: {\r\n        borderColor: '#17cd02',\r\n    },\r\n    icon: {\r\n        height: '30%',\r\n        width: '30%',\r\n        color: '#eeeeee',\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%,-50%)',\r\n        zIndex: 0,\r\n    },\r\n    text: {\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%,-50%)',\r\n        color: '#868686',\r\n        position: 'absolute',\r\n        zIndex: 1,\r\n    }\r\n});\r\nclass DialogImportFile extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: '',\r\n            imageStatus: ''\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        setTimeout(() => {\r\n            try {\r\n                window.document.getElementById('import-text-area').focus();\r\n            } catch (e) {\r\n\r\n            }\r\n        }, 100);\r\n    }\r\n\r\n    handleCancel () {\r\n        this.props.onClose();\r\n    }\r\n\r\n    onChange(e) {\r\n        this.setState({text: e.target.value});\r\n    }\r\n\r\n    static readFileDataUrl(file, cb) {\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n            cb(null, {data: reader.result, name: file.name});\r\n        };\r\n        reader.onabort = () => {\r\n            console.error('file reading was aborted');\r\n            cb('file reading was aborted');\r\n        };\r\n        reader.onerror = (e) => {\r\n            console.error('file reading has failed');\r\n            cb('file reading has failed: ' + e);\r\n        };\r\n\r\n        reader.readAsDataURL(file)\r\n    }\r\n\r\n    handleDropFile(files) {\r\n        if (files && files.hasOwnProperty('target')) {\r\n            files = files.target.files;\r\n        }\r\n\r\n        if (!files && !files.length) {\r\n            return;\r\n        }\r\n\r\n        const file = files[files.length - 1];\r\n\r\n        if (!file) {\r\n            return;\r\n        }\r\n        DialogImportFile.readFileDataUrl(file, (err, result) => {\r\n            if (err) {\r\n                this.setState({error: err})\r\n            } else {\r\n                this.props.onClose(result && result.data);\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const classes = this.props.classes;\r\n        const className = classes.dropzone + ' ' + (this.state.imageStatus === 'accepted' ? classes.dropzoneAccepted : (this.state.imageStatus === 'rejected' ? classes.dropzoneRejected : ''));\r\n\r\n        return (\r\n            <Dialog\r\n                disableBackdropClick\r\n                disableEscapeKeyDown\r\n                maxWidth=\"lg\"\r\n                classes={{paper: classes.dialog}}\r\n                fullWidth={true}\r\n                open={true}\r\n                aria-labelledby=\"import-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"import-dialog-title\">{I18n.t('Import scripts')}</DialogTitle>\r\n                <DialogContent className={classes.fullHeight}>\r\n                    <Dropzone   key='image-drop'\r\n\r\n                                maxSize={50000000}\r\n                                acceptClassName={classes.dropzoneAccepted}\r\n                                rejectClassName={classes.dropzoneRejected}\r\n                                onDrop={files =>\r\n                                    this.handleDropFile(files)}\r\n                                multiple={false}\r\n                                accept='application/x-zip-compressed'\r\n                                className={className}>\r\n                        {\r\n                            ({isDragActive, isDragReject}) => {\r\n\r\n                                if (isDragReject) {\r\n                                    if (this.state.imageStatus !== 'rejected') {\r\n                                        this.setState({imageStatus: 'rejected'});\r\n                                    }\r\n                                    return [(<span key=\"text\" className={this.props.classes.text}>{I18n.t('Some files will be rejected')}</span>),\r\n                                        (<IconNo key=\"icon\" className={this.props.classes.icon}/>)];\r\n                                } else if (isDragActive) {\r\n                                    if (this.state.imageStatus !== 'accepted') {\r\n                                        this.setState({imageStatus: 'accepted'});\r\n                                    }\r\n\r\n                                    return [(<span key=\"text\" className={this.props.classes.text}>{I18n.t('All files will be accepted')}</span>),\r\n                                        (<IconPlus key=\"icon\" className={this.props.classes.icon}/>)];\r\n                                } else {\r\n                                    if (this.state.imageStatus !== 'wait') {\r\n                                        this.setState({imageStatus: 'wait'});\r\n                                    }\r\n                                    return [(<span key=\"text\" className={this.props.classes.text}>{I18n.t('Drop some files here or click...')}</span>),\r\n                                        (<IconUpload key=\"icon\" className={this.props.classes.icon}/>)];\r\n                                }\r\n                            }\r\n                        }\r\n                    </Dropzone>\r\n                    {this.state.error ? (<DialogError text={this.state.error} onClose={() => this.setState({error: ''})}/>) : null}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={() => this.handleCancel()} color=\"secondary\">{I18n.t('Close')}</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nDialogImportFile.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    onClose: PropTypes.func,\r\n};\r\n\r\nexport default withStyles(styles)(DialogImportFile);\r\n","import React, {Component} from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport SplitterLayout from 'react-splitter-layout';\nimport {MdMenu as IconMenuClosed} from 'react-icons/md';\nimport {MdClose as IconMenuOpened} from 'react-icons/md';\n\nimport SideMenu from './SideMenu';\nimport Log from './Log';\nimport Editor from './Editor';\nimport Theme from './Theme';\nimport Connection from './Connection';\nimport {PROGRESS} from './Connection';\nimport Loader from './Components/Loader'\nimport I18n from './i18n';\nimport DialogMessage from './Dialogs/Message';\nimport DialogError from './Dialogs/Error';\nimport DialogConfirm from './Dialogs/Confirmation';\nimport DialogImportFile from \"./Dialogs/ImportFile\";\n\nconst styles = theme => ({\n    root: Theme.root,\n    menuTransition: {\n        transitionProperty: 'margin-left',\n        transitionDuration: '0.3s'\n    },\n    appSideMenuWithMenu: {\n        marginLeft: 0,\n        width: Theme.menu.width,\n        height: '100%',\n    },\n    appSideMenuWithoutMenu: {\n        marginLeft: -Theme.menu.width,\n        width: Theme.menu.width,\n        height: '100%',\n    },\n    /*appBarWithMenu: {\n        width: `calc(100% - ${Theme.menu.width}px)`,\n        marginLeft: Theme.menu.width,\n    },\n    appBarWithoutMenu: {\n        width: `100%`,\n        marginLeft: 0,\n    },*/\n    content: {\n        width: '100%',\n        height: '100%',\n        backgroundColor: theme.palette.background.default,\n        position: 'relative'\n    },\n    splitterDivWithMenu: {\n        width: `calc(100% - ${Theme.menu.width}px)`,\n        height: '100%'\n    },\n    splitterDivWithoutMenu: {\n        width: `100%`,\n        height: '100%'\n    },\n    progress: {\n        margin: 100\n    },\n    menuOpenCloseButton: {\n        position: 'absolute',\n        left: 0,\n        borderRadius: '0 5px 5px 0',\n        top: 6,\n        paddingTop: 8,\n        cursor: 'pointer',\n        zIndex: 1,\n        height: 25,\n        width: 20,\n        background: Theme.colors.secondary,\n        color: Theme.colors.primary,\n        paddingLeft: 3,\n        '&:hover': {\n            color: 'white'\n        }\n    }\n});\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.objects = {};\n        this.state = {\n            connected: false,\n            progress: 0,\n            ready: false,\n            updateScripts: 0,\n            scriptsHash: 0,\n            instances: [],\n            updating: false,\n            resizing: false,\n            selected: null,\n            logMessage: {},\n            editing: [],\n            menuOpened: window.localStorage ? window.localStorage.getItem('App.menuOpened') !== 'false' : true,\n            menuSelectId: '',\n            errorText: '',\n            expertMode: window.localStorage ? window.localStorage.getItem('App.expertMode') === 'true' : false,\n            runningInstances: {},\n            confirm: '',\n            importFile: false,\n            message: ''\n        };\n        // this.logIndex = 0;\n        this.logSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.logSize')) || 150 : 150;\n        this.scripts = {};\n        this.hosts = [];\n        this.importFile = null;\n\n        this.socket = new Connection({\n            autoSubscribes: ['script.*', 'system.adapter.javascript.*'],\n            autoSubscribeLog: true,\n            onProgress: progress => {\n                if (progress === PROGRESS.CONNECTING) {\n                    this.setState({connected: false});\n                } else if (progress === PROGRESS.READY) {\n                    this.setState({connected: true, progress: 100});\n                } else {\n                    this.setState({connected: true, progress: Math.round(PROGRESS.READY / progress * 100)});\n                }\n            },\n            onReady: (objects, scripts) => {\n                this.setState({ready: true});\n                this.onObjectChange(objects, scripts);\n            },\n            onObjectChange: (objects, scripts) => this.onObjectChange(objects, scripts),\n            onError: err => {\n                console.error(err);\n            },\n            onLog: message => {\n                //this.logIndex++;\n                //this.setState({logMessage: {index: this.logIndex, message}})\n            }\n        });\n\n        this.socket.subscribeState('system.adapter.javascript.*.alive', (id, state) => {\n            id = id && id.substring(0, id.length - 6); // - .alive\n            if (this.state.runningInstances[id] !== (state ? state.val : false)) {\n                const runningInstances = JSON.parse(JSON.stringify(this.state.runningInstances));\n                runningInstances[id] = (state ? state.val : false);\n                this.setState({runningInstances});\n            }\n        });\n    }\n\n    onObjectChange(objects, scripts) {\n        this.objects = objects;\n        // extract scripts and instances\n        const nScripts = {};\n\n        scripts.list.forEach(id => nScripts[id] = objects[id]);\n        scripts.groups.forEach(id => nScripts[id] = objects[id]);\n        this.hosts = scripts.hosts;\n\n        let scriptsHash = this.state.scriptsHash;\n        if (this.compareScripts(scripts)) {\n            scriptsHash++;\n        }\n        this.scripts = nScripts;\n\n        this.setState({instances: scripts.instances, scriptsHash});\n    }\n\n    compareScripts(newScripts) {\n        const oldIds = Object.keys(this.scripts);\n        const newIds = Object.keys(newScripts);\n        if (oldIds.length !== newIds.length) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        if (JSON.stringify(oldIds) !== JSON.stringify(newIds)) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        for (let i = 0; i < oldIds.length; i++) {\n            let oldScript = this.scripts[oldIds[i]].common;\n            let newScript = newScripts[oldIds[i]].common;\n            if (oldScript.name !== newScript.name) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engine !== newScript.engine) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engineType !== newScript.engineType) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.enabled !== newScript.enabled) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n        }\n    }\n\n    onRename(oldId, newId, newName, newInstance) {\n        console.log(`Rename ${oldId} => ${newId}`);\n        let promise;\n        this.setState({updating: true});\n        if (this.scripts[oldId] && this.scripts[oldId].type === 'script') {\n            const common = JSON.parse(JSON.stringify(this.scripts[oldId].common));\n            common.name = newName || common.name;\n            if (newInstance !== undefined) {\n                common.engine = 'system.adapter.javascript.' + newInstance;\n            }\n            promise = this.socket.updateScript(oldId, newId, common);\n        } else {\n            promise = this.socket.renameGroup(oldId, newId, newName);\n        }\n\n        promise\n            .then(() => this.setState({updating: false}))\n            .catch(err => err !== 'canceled' && this.showError(err));\n    }\n\n    onUpdateScript(id, common) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            this.socket.updateScript(id, id, common)\n                .then(() => {})\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    onSelect(selected) {\n        if (this.objects[selected] && this.objects[selected].common && this.objects[selected].type === 'script') {\n            this.setState({selected, menuSelectId: selected}, () =>\n                setTimeout(() => this.setState({menuSelectId: ''})), 300);\n        }\n    }\n\n    onExpertModeChange(expertMode) {\n        if (this.state.expertMode !== expertMode) {\n            window.localStorage && window.localStorage.setItem('App.expertMode', expertMode ? 'true' : 'false');\n            this.setState({expertMode});\n        }\n    }\n\n    showError(err) {\n        this.setState({errorText: err});\n    }\n\n    showMessage(message) {\n        this.setState({message});\n    }\n\n    onDelete(id) {\n        this.socket.delObject(id)\n        .then(() => {})\n        .catch(err => {\n            this.showError(err);\n        });\n    }\n\n    onEdit(id) {\n        if (this.state.selected !== id) {\n            this.setState({selected: id});\n        }\n    }\n\n    onAddNew(id, name, isFolder, instance, type) {\n        if (this.objects[id]) {\n            this.showError(I18n.t('Yet exists!'));\n            return;\n        }\n\n        if (isFolder) {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true\n                },\n                type: 'channel'\n            }).then(() => {\n                setTimeout(() => this.setState({menuSelectId: id}, () =>\n                    setTimeout(() => this.setState({menuSelectId: ''})), 300), 1000);\n            }).catch(err => {\n                this.showError(err);\n            });\n        } else {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true,\n                    engineType: type,\n                    engine: 'system.adapter.javascript.' + (instance || 0),\n                    source: '',\n                    debug: false,\n                    verbose: false\n                },\n                type: 'script'\n            }).then(() => {\n                setTimeout(() => this.onSelect(id), 1000);\n            }).catch(err => {\n                this.showError(err);\n            });\n        }\n    }\n\n    onEnableDisable(id, enabled) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            const common = this.objects[id].common;\n            common.enabled = enabled;\n            common.expert = true;\n            this.socket.updateScript(id, id, common)\n                .then(() => {})\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    getLiveHost(cb, _list) {\n        if (!_list) {\n            _list = JSON.parse(JSON.stringify(this.hosts)) || [];\n        }\n\n        if (_list.length) {\n            const id = _list.shift();\n            this.socket.getState(id + '.alive', (err, state) => {\n                if (!err && state && state.val) {\n                    cb(id);\n                } else {\n                    setTimeout(() => this.getLiveHost(cb, _list));\n                }\n            });\n        } else {\n            cb();\n        }\n    }\n\n    onExport() {\n        this.getLiveHost(host => {\n            if (!host) {\n                this.showError(I18n.t('No active host found'));\n                return;\n            }\n\n            const d = new Date();\n            let date = d.getFullYear();\n            let m = d.getMonth() + 1;\n            if (m < 10) m = '0' + m;\n            date += '-' + m;\n            m = d.getDate();\n            if (m < 10) m = '0' + m;\n            date += '-' + m + '-';\n\n            this.socket.socket.emit('sendToHost', host, 'readObjectsAsZip', {\n                adapter: 'javascript',\n                id: 'script.js',\n                link: date + 'scripts.zip' // request link to file and not the data itself\n            }, data => {\n                if (typeof data === 'string') {\n                    // it is a link to created file\n                    const a = document.createElement('a');\n                    a.href = '/zip/' + date + 'scripts.zip';\n                    document.body.appendChild(a);\n                    a.click();\n                    a.remove();\n                } else {\n                    data.error && this.showError(data.error);\n                    if (data.data) {\n                        const a = document.createElement('a');\n                        a.href = 'data: application/zip;base64,' + data.data;\n                        a.download = date + 'scripts.zip';\n                        document.body.appendChild(a);\n                        a.click();\n                        a.remove();\n                    }\n                }\n            });\n        });\n    }\n\n    onImport(data) {\n        this.importFile = data;\n        if (data) {\n            this.setState({importFile: false, confirm: I18n.t('Existing scripts will be overwritten.')});\n        } else {\n            this.setState({importFile: false});\n        }\n    }\n\n    onImportConfirmed(ok) {\n        let data = this.importFile;\n        this.importFile = null;\n        this.setState({confirm: ''});\n        if (ok && data) {\n            data = data.split(',')[1];\n            this.getLiveHost(host => {\n                if (!host) {\n                    this.showError(I18n.t('No active host found'));\n                    return;\n                }\n                this.socket.socket.emit('sendToHost', host, 'writeObjectsAsZip', {\n                    data: data,\n                    adapter: 'javascript',\n                    id: 'script.js'\n                }, data => {\n                    if (data === 'permissionError') {\n                        this.showError(I18n.t(data));\n                    } else if (!data || data.error) {\n                        this.showError(data ? I18n.t(data.error) : I18n.t('Unknown error'));\n                    } else {\n                        this.showMessage(I18n.t('Done'));\n                    }\n                });\n            });\n        }\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        if (!this.state.ready) {\n            //return (<CircularProgress className={classes.progress} size={50} />);\n            return (<Loader />);\n        }\n\n        return (\n            <div className={classes.root}>\n                <nav className={classes.menuTransition + ' ' + (this.state.menuOpened ? classes.appSideMenuWithMenu : classes.appSideMenuWithoutMenu)} key=\"menu\">\n                    <SideMenu\n                        key=\"sidemenu\"\n                        scripts={this.scripts}\n                        scriptsHash={this.state.scriptsHash}\n                        instances={this.state.instances}\n                        update={this.state.updateScripts}\n                        onRename={this.onRename.bind(this)}\n                        onSelect={this.onSelect.bind(this)}\n                        selectId={this.state.menuSelectId}\n                        onEdit={this.onEdit.bind(this)}\n                        expertMode={this.state.expertMode}\n                        runningInstances={this.state.runningInstances}\n                        onExpertModeChange={this.onExpertModeChange.bind(this)}\n                        onDelete={this.onDelete.bind(this)}\n                        onAddNew={this.onAddNew.bind(this)}\n                        onEnableDisable={this.onEnableDisable.bind(this)}\n                        onExport={this.onExport.bind(this)}\n                        onImport={() => this.setState({importFile: true})}\n                    />\n                </nav>\n                <div className={classes.content} key=\"main\">\n                    <div className={classes.menuOpenCloseButton} onClick={() => {\n                        window.localStorage && window.localStorage.setItem('App.menuOpened', this.state.menuOpened ? 'false' : 'true');\n                        this.setState({menuOpened: !this.state.menuOpened, resizing: true});\n                        setTimeout(() => this.setState({resizing: false}), 300);\n                    }}>\n                        {this.state.menuOpened ? (<IconMenuOpened />) : (<IconMenuClosed />)}\n                    </div>\n                    <SplitterLayout\n                        key=\"splitterLayout\"\n                        vertical={true}\n                        primaryMinSize={100}\n                        secondaryInitialSize={this.logSize}\n                        customClassName={classes.menuTransition + ' ' + classes.splitterDivWithoutMenu}\n                        onDragStart={() => this.setState({resizing: true})}\n                        onSecondaryPaneSizeChange={size => this.logSize = parseFloat(size)}\n                        onDragEnd={() => {\n                            this.setState({resizing: false});\n                            window.localStorage && window.localStorage.setItem('App.logSize', this.logSize.toString());\n                        }}\n                    >\n                        <Editor\n                            key=\"editor\"\n                            visible={!this.state.resizing}\n                            connection={this.socket}\n                            onLocate={menuSelectId => this.setState({menuSelectId})}\n                            runningInstances={this.state.runningInstances}\n                            onChange={(id, common) => this.onUpdateScript(id, common)}\n                            onSelectedChange={(id, editing) => {\n                                const newState = {};\n                                let changed = false;\n                                if (id !== this.state.selected) {\n                                    changed = true;\n                                    newState.selected = id;\n                                }\n                                if (JSON.stringify(editing) !== JSON.stringify(this.state.editing)) {\n                                    changed = true;\n                                    newState.editing = JSON.parse(JSON.stringify(editing));\n                                }\n                                changed && this.setState(newState);\n                            }}\n                            onRestart={id => this.socket.extendObject(id, {})}\n                            selected={this.state.selected && this.objects[this.state.selected] && this.objects[this.state.selected].type === 'script' ? this.state.selected : ''}\n                            objects={this.objects}\n                        />\n                        <Log key=\"log\" editing={this.state.editing} connection={this.socket} selected={this.state.selected}/>\n                    </SplitterLayout>\n                </div>\n                {this.state.message ? (<DialogMessage onClose={() => this.setState({message: ''})} text={this.state.message}/>) : null}\n                {this.state.errorText ? (<DialogError onClose={() => this.setState({errorText: ''})} text={this.state.errorText}/>) : null}\n                {this.state.importFile ? (<DialogImportFile onClose={data => this.onImport(data)} />) : null}\n                {this.state.confirm ? (<DialogConfirm onClose={() => this.onImportConfirmed()} onOk={() => this.onImportConfirmed(true)} question={this.state.confirm}/>) : null}\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            light: '#5F6975',\n            main: '#164477',\n            dark: '#053C72',\n            contrastText: '#C00',\n        },\n        secondary: {\n            light: '#7EB2CC',\n            main: '#3399CC',\n            dark: '#068ACC',\n            contrastText: '#E00',\n        },\n    }\n});\n\nReactDOM.render(<MuiThemeProvider theme={theme}><App /></MuiThemeProvider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}