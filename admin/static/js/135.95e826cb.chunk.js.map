{"version":3,"file":"static/js/135.95e826cb.chunk.js","mappings":"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","sources":["Dialogs/Rename.jsx","Dialogs/Delete.jsx","Dialogs/AddNewScript.jsx","Dialogs/New.jsx","Dialogs/Error.jsx","Dialogs/AdapterDebug.jsx","SideMenu.jsx","Log.jsx","assets/blockly2js.svg","assets/rules2js.svg","Components/ScriptEditorVanilaMonaco.jsx","Dialogs/Export.jsx","Dialogs/Import.jsx","Components/BlocklyEditor.jsx","Dialogs/ScriptEditor.jsx","webpack://js/./src/Components/RulesEditor/style.module.scss?d9e3","webpack://js/./src/Components/RulesEditor/components/CardMenu/style.module.scss?24d8","Components/RulesEditor/helpers/MaterialDynamicIcon.jsx","Components/RulesEditor/components/CardMenu/index.jsx","webpack://js/./src/Components/RulesEditor/components/CurrentItem/style.module.scss?3318","Components/RulesEditor/helpers/deepCopy.jsx","Components/RulesEditor/helpers/filterElement.jsx","webpack://js/./src/Components/RulesEditor/components/GenericBlock/style.module.scss?9124","webpack://js/./src/Components/RulesEditor/components/CustomButton/style.module.scss?0052","Components/RulesEditor/components/CustomButton/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomCheckbox/style.module.scss?0cc5","Components/RulesEditor/components/CustomCheckbox/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomInput/style.module.scss?7193","Components/RulesEditor/components/CustomInput/index.jsx","Components/RulesEditor/components/CustomInstance/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomModal/style.module.scss?7408","Components/RulesEditor/components/CustomModal/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomSelect/style.module.scss?40f6","Components/RulesEditor/components/CustomSelect/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomSlider/style.module.scss?f41a","Components/RulesEditor/components/CustomSlider/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomSwitch/style.module.scss?0c1c","Components/RulesEditor/components/CustomSwitch/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomTime/style.module.scss?880f","Components/RulesEditor/components/CustomTime/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomDate/style.module.scss?8a42","Components/RulesEditor/components/CustomDate/index.jsx","Components/RulesEditor/helpers/utils.jsx","Components/RulesEditor/helpers/Tour.jsx","Components/RulesEditor/components/GenericBlock/index.jsx","Components/RulesEditor/components/Blocks/ActionSayText.jsx","Components/RulesEditor/components/Blocks/ActionSendEmail.jsx","Components/RulesEditor/components/Blocks/ActionTelegram.jsx","Components/RulesEditor/components/Blocks/ActionPushover.jsx","Components/RulesEditor/components/Blocks/ActionWhatsappcmb.jsx","Components/RulesEditor/components/Blocks/ActionPushsafer.jsx","Components/RulesEditor/helpers/Compile.jsx","Components/RulesEditor/components/Blocks/TriggerScriptSave.jsx","Components/RulesEditor/components/Blocks/TriggerSchedule.jsx","Components/RulesEditor/components/Blocks/TriggerState.jsx","Components/RulesEditor/components/Blocks/ConditionState.jsx","Components/RulesEditor/components/Blocks/ConditionTime.jsx","Components/RulesEditor/components/Blocks/ConditionAstronomical.jsx","Components/RulesEditor/components/Blocks/ActionSetState.jsx","Components/RulesEditor/components/StandardBlocks/index.jsx","Components/RulesEditor/components/Blocks/ActionExec.jsx","Components/RulesEditor/components/Blocks/ActionHTTPCall.jsx","Components/RulesEditor/components/Blocks/ActionPrintText.jsx","Components/RulesEditor/components/Blocks/ActionPause.jsx","Components/RulesEditor/components/Blocks/ActionFunction.jsx","Components/RulesEditor/components/Blocks/ActionSetStateDelayed.jsx","Components/RulesEditor/components/Blocks/ActionOperateStates.jsx","Components/RulesEditor/components/ContextWrapper/index.jsx","Components/RulesEditor/components/CurrentItem/index.jsx","Components/RulesEditor/helpers/findElement.jsx","Components/RulesEditor/components/CustomDragLayer/index.jsx","webpack://js/./src/Components/RulesEditor/components/ContentBlockItems/style.module.scss?385e","Components/RulesEditor/hooks/useStateLocal.jsx","Components/RulesEditor/helpers/cardSort.jsx","webpack://js/./src/Components/RulesEditor/components/DragWrapper/style.module.scss?b1b7","Components/RulesEditor/components/DragWrapper/index.jsx","Components/RulesEditor/components/ContentBlockItems/DialogHelp.jsx","Components/RulesEditor/components/ContentBlockItems/DialogCondition.jsx","Components/RulesEditor/components/ContentBlockItems/index.jsx","webpack://js/./src/Components/RulesEditor/components/Menu/style.module.scss?9893","Components/RulesEditor/components/CardMenu/CustomDragItem.jsx","webpack://js/./src/Components/RulesEditor/components/HamburgerMenu/hamburgerMenu.module.scss?ab25","Components/RulesEditor/components/HamburgerMenu/index.jsx","Components/RulesEditor/components/Menu/index.jsx","Components/RulesEditor/index.jsx","Components/Debugger/Editor.jsx","Components/Debugger/Console.jsx","Components/Debugger/Stack.jsx","Components/Debugger/index.jsx","OpenAi/OpenAiPrompt.jsx","OpenAi/OpenAiDialog.jsx","Editor.jsx","Dialogs/ImportFile.jsx","App.jsx","serviceWorker.jsx","bootstrap.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    TextField,\n    FormControl,\n    Select,\n    InputLabel,\n    MenuItem,\n} from '@mui/material';\n\nimport {\n    Cancel as IconCancel,\n    Check as IconOk,\n} from '@mui/icons-material';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nclass DialogRename extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n            instance: props.instance || 0\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n        this.prefix = this.getPrefix(props.id);\n        this.oldId = props.id;\n    }\n\n    getPrefix(id) {\n        const parts = (id || '').split('.');\n        parts.pop();\n        return parts.join('.');\n    }\n\n    getId(name) {\n        name = (name || '').replace(/[\\\\/\\][*,;'\"`<>?\\s]/g, '_');\n        return this.prefix + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.prefix = this.getPrefix(nextProps.id);\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onRename(this.oldId, this.state.id, this.state.name, this.state.instance);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        this.setState({name, id: this.getId(name)});\n    };\n\n    render() {\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"md\"\n            fullWidth\n            open={!0}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Rename')}</DialogTitle>\n            <DialogContent>\n                <form noValidate autoComplete=\"off\">\n                    <TextField\n                        variant=\"standard\"\n                        style={{width: '100%'}}\n                        id=\"standard-name\"\n                        autoFocus\n                        label={I18n.t('Name')}\n                        value={this.state.name}\n                        onKeyPress={(ev) => {\n                            if (ev.key === 'Enter') {\n                                // Do code here\n                                ev.preventDefault();\n                                setTimeout(() => this.handleOk(), 200);\n                            }\n                        }}\n                        onChange={e => this.handleChange(e.target.value)}\n                        margin=\"normal\"\n                    />\n                    <TextField\n                        variant=\"standard\"\n                        id=\"standard-name-id\"\n                        style={{width: '100%'}}\n                        label={I18n.t('ID')}\n                        value={this.state.id}\n                        disabled\n                        margin=\"normal\"\n                    />\n                    {\n                        this.isShowInstance && (\n                            <FormControl variant=\"standard\">\n                                <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                <Select\n                                    variant=\"standard\"\n                                    value={this.state.instance}\n                                    onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                    inputProps={{name: 'instance', id: 'instance'}}\n                                >\n                                    {this.props.instances.map(instance => <MenuItem key={instance} value={instance}>{instance || '0'}</MenuItem>)}\n                                </Select>\n                            </FormControl>)\n                    }\n                </form>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={this.handleOk} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Ok')}</Button>\n                <Button color=\"grey\" variant=\"contained\" onClick={this.handleCancel} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogRename.propTypes = {\n    onClose: PropTypes.func,\n    onRename: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    folder: PropTypes.bool,\n};\n\nexport default DialogRename;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    Button,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Dialog,\n} from '@mui/material';\n\nimport {\n    Check as IconOk,\n    Cancel as IconCancel,\n    Delete as IconDelete,\n} from '@mui/icons-material';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nclass DialogDelete extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose(null);\n    };\n\n    handleOk = () => {\n        this.props.onDelete(this.state.id);\n        this.props.onClose(this.props.value);\n    };\n\n    render() {\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"md\"\n            open={!0}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Are you sure?')}</DialogTitle>\n            <DialogContent>\n                <IconDelete/>\n                <span style={{fontSize: 14, fontWeight: 'bold'}}>{I18n.t('Delete %s', this.state.name)}</span>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={this.handleOk} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Ok')}</Button>\n                <Button color=\"grey\" variant=\"contained\" onClick={this.handleCancel} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogDelete.propTypes = {\n    onClose: PropTypes.func,\n    onDelete: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n};\n\nexport default DialogDelete;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    Button,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Dialog,\n    Card,\n    CardActionArea,\n    CardActions,\n    CardContent,\n    CardMedia,\n} from '@mui/material';\n\nimport { Cancel as IconCancel } from '@mui/icons-material';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nimport ImgJS from '../assets/tileJS.png';\nimport ImgTS from '../assets/tileTS.png';\nimport ImgBlockly from '../assets/tileBlockly.png';\nimport ImgRules from '../assets/tileRules.png';\n\nconst styles = {\n    card: {\n        maxWidth: 345,\n        minWidth: 250,\n        display: 'inline-block',\n        margin: '0 10px 0 10px',\n    },\n    media: {\n        height: 122,\n    },\n    text: {\n        maxWidth: 218,\n        minHeight: 30,\n    },\n    complexity: {\n        fontWeight: 'bold',\n        fontStyle: 'italic',\n        marginBottom: 8,\n    },\n};\n\nclass DialogAddNew extends React.Component {\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = type => {\n        this.props.onClose(type);\n    };\n\n    openHtml(html) {\n        const lang = I18n.getLanguage();\n        if (!html.includes('javascript.md') && (lang === 'de' || lang === 'ru')) {\n            html = html.replace(/\\/en\\//, `/${lang}/`);\n        }\n        const win = window.open(html, '_blank');\n        win.focus();\n    }\n\n    getJSCard() {\n        return <Card style={styles.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>\n                <CardMedia\n                    style={styles.media}\n                    image={ImgJS}\n                    title=\"JavaScript\"\n                />\n                <CardContent>\n                    <h2>JavaScript</h2>\n                    <div style={styles.complexity}>{I18n.t('for programmers')}</div>\n                    <div style={styles.text}>{I18n.t('JS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" variant=\"contained\" onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"secondary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>;\n    }\n\n    getTSCard() {\n        return <Card style={styles.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>\n                <CardMedia\n                    style={styles.media}\n                    image={ImgTS}\n                    title=\"TypeScript\"\n                />\n                <CardContent>\n                    <h2>TypeScript</h2>\n                    <div style={styles.complexity}>{I18n.t('for professionals')}</div>\n                    <div style={styles.text}>{I18n.t('TS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" variant=\"contained\" onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"secondary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>;\n    }\n\n    getBlocklyCard() {\n        return <Card style={styles.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Blockly')}>\n                <CardMedia\n                    style={styles.media}\n                    image={ImgBlockly}\n                    title=\"Blockly\"\n                />\n                <CardContent>\n                    <h2>Blockly</h2>\n                    <div style={styles.complexity}>{I18n.t('normal')}</div>\n                    <div style={styles.text}>{I18n.t('Blockly description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" variant=\"contained\" onClick={() => this.props.onClose && this.props.onClose('Blockly')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"secondary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/blockly.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>;\n    }\n\n    getRulesCard() {\n        return <Card style={styles.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Rules')}>\n                <CardMedia\n                    style={styles.media}\n                    image={ImgRules}\n                    title=\"Rules\"\n                />\n                <CardContent>\n                    <h2>Rules</h2>\n                    <div style={styles.complexity}>{I18n.t('easy')}</div>\n                    <div style={styles.text}>{I18n.t('Rules description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" variant=\"contained\" onClick={() => this.props.onClose && this.props.onClose('Rules')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"secondary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>;\n    }\n\n    render() {\n        return <Dialog\n            onClose={() => false}\n            maxWidth=\"lg\"\n            fullWidth\n            open={!0}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Add new script')}</DialogTitle>\n            <DialogContent style={{ textAlign: 'center' }}>\n                {this.getRulesCard()}\n                {this.getBlocklyCard()}\n                {this.getJSCard()}\n                {this.getTSCard()}\n            </DialogContent>\n            <DialogActions>\n                <Button color=\"grey\" onClick={this.handleCancel} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogAddNew.propTypes = {\n    onClose: PropTypes.func,\n};\n\nexport default DialogAddNew;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    Button,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Dialog,\n    TextField,\n    FormControl,\n    Select,\n    InputLabel,\n    MenuItem,\n} from '@mui/material';\n\nimport {\n    Check as IconOk,\n    Cancel as IconCancel,\n} from '@mui/icons-material';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nclass DialogNew extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name || 'Script',\n            instance: props.instance || 0,\n            parent: props.parent,\n            error: '',\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n    }\n\n    getId(name) {\n        name = name || this.state.name || '';\n        name = name.replace(/[\\\\/\\][.*,;'\"`<>?\\s]/g, '_').trim().replace(/\\.$/, '_');\n        return (this.state ? this.state.parent : this.props.parent) + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({ name: nextProps.name });\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onAdd(this.getId(this.state.name), this.state.name, this.state.instance, this.props.type);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        const id = this.getId(name);\n        if (!name) {\n            this.setState({ name, id, error: I18n.t('Empty name is not allowed') });\n        } else if (this.props.existingItems && this.props.existingItems.indexOf(id) !== -1) {\n            this.setState({ name, id, error: I18n.t('Duplicate name') });\n        } else {\n            this.setState({ name, id, error: '' });\n        }\n    };\n\n    render() {\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"md\"\n            fullWidth\n            open={!0}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Create new')}</DialogTitle>\n            <DialogContent>\n                <form noValidate autoComplete=\"off\">\n                    <TextField\n                        variant=\"standard\"\n                        style={{ width: '100%' }}\n                        id=\"standard-name\"\n                        autoFocus\n                        error={!!this.state.error}\n                        label={I18n.t('Name')}\n                        value={this.state.name}\n                        helperText={this.state.error}\n                        onKeyPress={ev => {\n                            if (ev.key === 'Enter') {\n                                // Do code here\n                                ev.preventDefault();\n                                setTimeout(() => this.handleOk(), 200);\n                            }\n                        }}\n                        onChange={e => this.handleChange(e.target.value)}\n                        margin=\"normal\"\n                    />\n                    <FormControl variant=\"standard\" style={{ width: '100%' }}>\n                        <InputLabel htmlFor=\"parent\">{I18n.t('Folder')}</InputLabel>\n                        <Select\n                            variant=\"standard\"\n                            style={{ width: '100%' }}\n                            value={this.state.parent}\n                            onChange={e => this.setState({parent: e.target.value})}\n                            inputProps={{ name: 'parent', id: 'parent' }}\n                        >\n                            {this.props.parents.map(parent => {\n                                const parts = parent.id.split('.');\n                                parts.splice(0, 2); // remove script.js\n                                const names = [];\n                                let id = 'script.js';\n                                parts.forEach((n, i) => {\n                                    id += `.${n}`;\n                                    const el = this.props.parents.find(item => item.id === id);\n                                    if (el) {\n                                        names.push(el.name);\n                                    } else {\n                                        names.push(n);\n                                    }\n                                });\n                                if (!names.length) {\n                                    names.push(parent.name);\n                                }\n                                return (<MenuItem key={parent.id} value={parent.id}>{names.join(' / ')}</MenuItem>);\n                            })}\n                        </Select>\n                    </FormControl>\n                    <TextField\n                        variant=\"standard\"\n                        id=\"standard-name-id\"\n                        style={{ width: '100%' }}\n                        label={I18n.t('ID')}\n                        value={this.getId()}\n                        disabled\n                        margin=\"normal\"\n                    />\n                    {\n                        this.isShowInstance && (\n                            <FormControl variant=\"standard\">\n                                <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                <Select\n                                    variant=\"standard\"\n                                    value={this.state.instance}\n                                    onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                    inputProps={{ name: 'instance', id: 'instance' }}>\n                                    {this.props.instances.map(instance => (<MenuItem key={`instance${instance}`} value={instance}>{instance || '0'}</MenuItem>))}\n                                </Select>\n                            </FormControl>)\n                    }\n                </form>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={this.handleOk} disabled={!!this.state.error} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Ok')}</Button>\n                <Button color=\"grey\" variant=\"contained\" onClick={this.handleCancel} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogNew.propTypes = {\n    onClose: PropTypes.func,\n    onAdd: PropTypes.func,\n    name: PropTypes.string,\n    title: PropTypes.string,\n    parent: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    parents: PropTypes.array,\n    existingItems: PropTypes.array,\n    folder: PropTypes.bool,\n    type: PropTypes.string,\n    source: PropTypes.string,\n};\n\nexport default DialogNew;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n} from '@mui/material';\n\nimport { Check as IconOk } from '@mui/icons-material';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst styles = {\n    title: theme => ({\n        background: theme.palette.error.main,\n        color: theme.palette.error.contrastText,\n        '&>h2': {\n            color: theme.palette.error.contrastText,\n        }\n    }),\n};\n\nclass DialogError extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log('Error created')\n    }\n    handleOk = () => {\n        this.props.onClose && this.props.onClose();\n    };\n\n    render() {\n        return <Dialog\n            open={!0}\n            maxWidth=\"sm\"\n            fullWidth\n            onClose={() => this.handleOk()}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle\n                sx={styles.title}\n                id=\"alert-dialog-title\">\n                {this.props.title || I18n.t('Error')}\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    {this.props.text || I18n.t('Unknown error!')}\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={() => this.handleOk()} color=\"primary\" autoFocus startIcon={<IconOk/>}>{I18n.t('Ok')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogError.propTypes = {\n    onClose: PropTypes.func,\n    title: PropTypes.string,\n    text: PropTypes.string,\n    icon: PropTypes.object\n};\n\nexport default DialogError;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    Button,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Dialog,\n    ListItemIcon,\n    List,\n    ListItem,\n    Grid,\n    ListItemText,\n    Input,\n    InputAdornment,\n    IconButton,\n} from '@mui/material';\n\nimport {\n    Check as IconOk,\n    Cancel as IconCancel,\n    Close as IconClose,\n} from '@mui/icons-material';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst styles = {\n    buttonIcon: {\n        marginRight: 8,\n    },\n    icon: {\n        width: 24,\n        height: 24,\n    },\n    filter: {\n        width: '100%',\n    },\n    filterWithButton: {\n        width: '100%',\n    },\n    title: {\n        fontWeight: 'bold',\n        marginTop: 16,\n    }\n};\n\nclass DialogAdapterDebug extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            instances: [],\n            filter: window.localStorage.getItem('javascript.debug.filter') || '',\n            showAskForStop: false,\n            jsInstance: window.localStorage.getItem('javascript.debug.instance') || '',\n            jsInstanceHost: '',\n            adapterToDebug: window.localStorage.getItem('javascript.debug.adapter') || '',\n        };\n    }\n\n    componentDidMount() {\n        this.props.socket.getAdapterInstances()\n            .then(instances => {\n                instances = instances.filter(i => i && !i.common?.onlyWWW).map(item =>  {\n                    const name = item._id.replace(/^system\\.adapter\\./, '');\n                    const [adapter] = name.split('.');\n                    return {\n                        id: name,\n                        enabled: item.common?.enabled,\n                        host: item.common?.host,\n                        icon: item.common?.icon ? `../../adapter/${adapter}/${item.common.icon}` : '',\n                    };\n                });\n                instances.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0));\n                let jsInstance = this.state.jsInstance || '';\n                let jsInstanceObj = this.state.jsInstance && instances.find(item => item.id === this.state.jsInstance);\n                let jsInstanceHost;\n\n                // check if selected instance is in the list\n                if (!this.state.jsInstance || !jsInstanceObj) {\n                    jsInstance = instances.find(item => item.id.startsWith('javascript.')); // take the first one\n                    jsInstanceHost = jsInstance ? jsInstance.host : '';\n                    jsInstance = jsInstance ? jsInstance.id : '';\n                } else {\n                    jsInstanceHost = jsInstanceObj ? jsInstanceObj.host : '';\n                }\n\n                let adapterToDebug = this.state.adapterToDebug || '';\n                if (adapterToDebug && !instances.find(item => item.id === adapterToDebug)) {\n                    adapterToDebug = '';\n                }\n\n                this.setState({instances, jsInstance, adapterToDebug, jsInstanceHost});\n            });\n    }\n\n    handleOk = () => {\n        // TODO\n        if (this.state.instances.find(item => item.id === this.state.adapterToDebug).enabled) {\n            return this.props.socket.getObject(`system.adapter.${this.state.adapterToDebug}`)\n                .then(obj => {\n                    obj.common.enabled = false;\n                    this.props.socket.setObject(obj._id, obj)\n                        .then(() =>\n                            this.props.onDebug(this.state.jsInstance, this.state.adapterToDebug));\n                })\n        } else {\n            this.props.onDebug(this.state.jsInstance, this.state.adapterToDebug);\n        }\n    };\n\n\n    renderJavascriptList() {\n        const js = this.state.instances.filter(item => item.id.startsWith('javascript.'));\n        if (js.length < 2) {\n            return null;\n        }\n        return <Grid item>\n            <div style={styles.title}>{I18n.t('Host')}</div>\n            <List component=\"nav\">\n                {js.map(item => <ListItem\n                    button\n                    selected={this.state.jsInstance === item.id}\n                    onClick={this.setState({ jsInstance: item.id, jsInstanceHost: item.host })}\n                >\n                    <ListItemIcon>\n                        <img src={item.icon} alt={item.id} style={styles.icon} />\n                    </ListItemIcon>\n                    <ListItemText primary={item.id} />\n                </ListItem>)}\n            </List>\n        </Grid>;\n    }\n\n    renderInstances() {\n        if (!this.state.jsInstance) {\n            return <Grid item/>;\n        }\n        const instances = this.state.instances.filter(item =>\n            item.id !== this.state.jsInstance && item.host === this.state.jsInstanceHost && (!this.state.filter || item.id.includes(this.state.filter.toLowerCase()) ));\n\n        return <Grid item>\n            <div style={styles.title}>{I18n.t('Instances')}</div>\n            <List component=\"nav\">\n                {instances.map(item => <ListItem\n                    button\n                    selected={this.state.adapterToDebug === item.id}\n                    onDoubleClick={() => this.setState({adapterToDebug: item.id}, () => this.handleOk())}\n                    onClick={() => this.setState({adapterToDebug: item.id})}\n                >\n                    <ListItemIcon>\n                        <img src={item.icon} alt={item.id} style={styles.icon} />\n                    </ListItemIcon>\n                    <ListItemText primary={item.id} />\n                </ListItem>)}\n            </List>\n        </Grid>;\n    }\n\n    render() {\n        return <Dialog\n            maxWidth=\"md\"\n            fullWidth={false}\n            open={!0}\n            onClose={(event, reason) => false}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Debug instance')}</DialogTitle>\n            <DialogContent>\n                <Grid container direction=\"column\">\n                    <Grid item>\n                        <Input\n                            style={styles.filterWithButton}\n                            value={this.state.filter}\n                            placeholder={I18n.t('Filter')}\n                            onChange={e => {\n                                this.setState({filter: e.target.value});\n                                window.localStorage.setItem('javascript.debug.filter', e.target.value);\n                            }}\n                            endAdornment={<InputAdornment position=\"end\">\n                                {this.state.filter ? <IconButton\n                                    size=\"small\"\n                                    aria-label=\"toggle password visibility\"\n                                    onClick={() => this.setState({ filter: '' })}\n                                >\n                                    <IconClose />\n                                </IconButton> : ''}\n                            </InputAdornment>}\n                        />\n                    </Grid>\n                    <Grid item>\n                        <Grid container>\n                            {this.renderJavascriptList()}\n                            {this.renderInstances()}\n                        </Grid>\n                    </Grid>\n                </Grid>\n\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={this.handleOk} disabled={!this.state.jsInstance || !this.state.adapterToDebug} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Start')}</Button>\n                <Button color=\"grey\" variant=\"contained\" onClick={() => this.props.onClose()} startIcon={<IconCancel/>}>{I18n.t('Close')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogAdapterDebug.propTypes = {\n    socket: PropTypes.object.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onDebug: PropTypes.func.isRequired,\n};\n\nexport default DialogAdapterDebug;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDrag, useDrop, DndProvider as DragDropContext  } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\n\nimport {\n    Drawer,\n    Divider,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    IconButton,\n    Menu,\n    MenuItem,\n    Input,\n    ListItemSecondaryAction, Box,\n} from '@mui/material';\n\nimport {\n    MdMoreVert as IconMore,\n    MdContentCopy as IconCopy,\n    MdDelete as IconDelete,\n    MdInput as IconDoEdit,\n    MdClose as IconClear,\n    MdFormatClear as IconClose,\n    MdPlayArrow as IconPlay,\n    MdAdd as IconAdd,\n    MdCreateNewFolder as IconAddFolder,\n    MdPause as IconPause,\n    MdSwapVert as IconReorder,\n    MdEdit as IconEdit,\n    MdSearch as IconFind,\n    MdPersonPin as IconExpert,\n    MdPalette as IconDark,\n    MdUnfoldMore as IconExpandAll,\n    MdUnfoldLess as IconCollapseAll,\n    MdBugReport as IconDebug,\n} from 'react-icons/md';\n\nimport {\n    FaFolder as IconFolder,\n    FaFolderOpen as IconFolderOpened,\n    FaFileExport as IconExport,\n    FaFileImport as IconImport,\n} from 'react-icons/fa';\n\nimport { red, green, yellow } from '@mui/material/colors';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgRules from './assets/rules.png';\n\nimport DialogRename from './Dialogs/Rename';\nimport DialogDelete from './Dialogs/Delete';\nimport DialogAddNewScript from './Dialogs/AddNewScript';\nimport DialogNew from './Dialogs/New';\nimport DialogError from './Dialogs/Error';\nimport DialogAdapterDebug from './Dialogs/AdapterDebug';\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_RUN = green[400];\nconst COLOR_PROBLEM = yellow[400];\nconst COLOR_PAUSE = red[400];\nconst ROOT_ID = 'script.js';\nconst COMMON_ID = `${ROOT_ID}.common`;\nconst GLOBAL_ID = `${ROOT_ID}.global`;\nconst NARROW_WIDTH = 350;\nconst LEVEL_PADDING = 16;\n\nconst SELECTED_STYLE = {\n    background: '#164477',\n    color: 'white'\n};\n\nconst styles = {\n    drawerPaper: {\n        position: 'relative',\n        width: '100%', //Theme.menu.width,\n        height: '100%',\n        overflow: 'hidden',\n    },\n    toolbar: theme => ({\n        height: theme.toolbar.height,\n    }),\n    toolbarButtons: theme => ({\n        color: theme.palette.mode === 'dark'? 'white !important' : 'black !important',\n    }),\n    iconButtonsDisabled: {\n        filter: 'grayscale(100%)',\n        opacity: 0.5,\n    },\n    toolbarSearch: {\n        width: 'calc(100% - 105px)',\n        lineHeight: '34px',\n        marginLeft: 5,\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 2,\n    },\n    iconDropdownMenu: {\n        paddingRight: 5,\n    },\n    iconOnTheRight: {\n        position: 'absolute',\n        right: 10,\n        top: 'calc(50% - 8px)',\n    },\n    menu: {\n        width: '100%',\n        height: '100%',\n    },\n    innerMenu: {\n        width: '100%',\n        height: 'calc(100% - 76px)',\n        overflowX: 'hidden',\n        overflowY: 'auto',\n    },\n    listItemIcon: {\n        minWidth: 32,\n    },\n    filterIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5,\n    },\n    scriptIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginTop: 4,\n        marginBottom: 4,\n        marginLeft: 8,\n        marginRight: 4,\n    },\n    folder: {\n        //background: theme.palette.mode === 'dark' ? '#6a6a6a' : '#e2e2e2',\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none',\n    },\n    folderReorder: {\n        opacity: 0.3,\n        transitionDuration: '0.5s',\n        transitionProperty: 'opacity',\n    },\n    folderIcon: {\n        width: 20,\n        height: 20,\n    },\n    folderIconReorder: {\n        paddingTop: 4,\n        paddingBottom: 4,\n        paddingLeft: 8,\n        paddingRight: 4,\n    },\n    folderIconNoReorder: {\n        cursor: 'pointer',\n        paddingTop: 4,\n        paddingBottom: 4,\n        paddingLeft: 8,\n        paddingRight: 4,\n    },\n    script: {\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none',\n    },\n    scriptReorder: {\n        opacity: 1,\n        transitionDuration: '0.5s',\n        transitionProperty: 'opacity',\n    },\n    reorder: {\n        //padding: '9px 16px 9px 9px',\n    },\n    expandButton: {\n        width: 37,\n        height: 37,\n    },\n    selected: SELECTED_STYLE,\n    instances: {\n        color: 'gray',\n        fontSize: 'smaller',\n    },\n    childrenCount: {\n        fontSize: 10,\n        opacity: 0.4,\n    },\n    footer: {\n        height: 24,\n        display: 'flex',\n    },\n    footerButtons: theme => ({\n        '& img': {\n            color: theme.palette.mode === 'dark' ? '#ffffff' : '#111111',\n            cursor: 'pointer',\n            mt: '1px',\n            mr: '2px',\n            height: 22,\n            width: 22,\n            '&:hover': {\n                backgroundColor: '#dbdbdb',\n            },\n        },\n        '& svg': {\n            color: theme.palette.mode === 'dark' ? '#ffffff' : '#111111',\n            cursor: 'pointer',\n            mt: '1px',\n            mr: '2px',\n            height: 22,\n            width: 22,\n            '&:hover': {\n                backgroundColor: '#dbdbdb',\n            },\n        }\n    }),\n    footerButtonsRight: {\n        float: 'right',\n    },\n\n    mainList: {\n        '& .js-folder-dragover>div>li>.folder-reorder': {\n            background: '#40adff',\n        },\n        '& .js-folder-dragging .folder-reorder': {\n            opacity: 1,\n        },\n        '& .js-folder-dragging .script-reorder': {\n            opacity: 0.3,\n        },\n    },\n};\n\nconst images = {\n    Blockly: ImgBlockly,\n    'Javascript/js': ImgJS,\n    def: ImgJS,\n    Rules: ImgRules,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst getObjectName = (id, obj, lang) => {\n    lang = lang || I18n.getLanguage();\n    if (obj && obj.common && obj.common.name) {\n        if (typeof obj.common.name === 'object') {\n            return (obj.common.name[lang] || obj.common.name.en || id.replace(/^script\\.js./, '')).toString();\n        }\n\n        return obj.common.name.toString();\n    }\n\n    return id.replace(/^script\\.js./, '');\n};\n\nconst prepareList = data => {\n    const result = [{\n        id: ROOT_ID,\n        depth: 0,\n        index: 0,\n        parent: null,\n        title: 'root',\n        type: 'folder',\n    }];\n    const ids = Object.keys(data);\n\n    /*ids.sort((a, b) => {\n        if ((a === 'script.js.common' || a === 'script.js.global') && (b === 'script.js.common' || b === 'script.js.global')) {\n            return a > b ? 1 : -1;\n        } else if (a === 'script.js.common' || a === 'script.js.global' || b === 'script.js.common' || b === 'script.js.global') {\n            return 1;\n        } else {\n            return a > b ? 1 : -1;\n        }\n    });*/\n\n    for (let i = 0; i < ids.length; i++) {\n        const obj = data[ids[i]];\n        const parts = ids[i].split('.');\n        parts.pop();\n        result.push({\n            id: ids[i],\n            title: getObjectName(ids[i], obj),\n            enabled: obj && obj.common && obj.common.enabled,\n            depth: parts.length - 1,\n            type: obj.type === 'script' ? obj.common.engineType : 'folder',\n            parent: parts.length > 1 ? parts.join('.') : null,\n            instance: obj.common.engine ? parseInt(obj.common.engine.split('.').pop(), 10) || 0 : null,\n        });\n    }\n\n    // Place all folder-less scripts at start\n    /*result.sort((a, b) => {\n        // without folders => always at start\n        if (!a.parent && a.type !== 'folder' && !b.parent && b.type !== 'folder') {\n            if (a.id === b.id) {\n                return 0;\n            } else {\n                return a.id > b.id ? 1 : -1;\n            }\n        } else if (!a.parent && a.type !== 'folder') {\n            return -1;\n        } else if (!b.parent && b.type !== 'folder') {\n            return 1;\n        } else {\n            // common and global are always at the end\n            if ((a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) &&\n                (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global'))) {\n                if (a.id === b.id) {\n                    return 0;\n                } else {\n                    return a.id > b.id ? 1 : -1;\n                }\n            } else if (a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) {\n                return 1;\n            } else if (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global')) {\n                return -1;\n            } else {\n                if (a.id === b.id) {\n                    return 0;\n                } else {\n                    return a.id > b.id ? 1 : -1;\n                }\n            }\n        }\n    });*/\n\n    let modified;\n    do {\n        modified = false;\n        // check if all parents exist\n        // eslint-disable-next-line\n        result.forEach(item => {\n            if (item.parent) {\n                const parent = result.find(it => it.id === item.parent);\n                if (!parent) {\n                    const parts = item.parent.split('.');\n                    parts.pop();\n                    result.push({\n                        id: item.parent,\n                        title: item.parent.split('.').pop(),\n                        depth: parts.length - 1,\n                        type: 'folder',\n                        parent: parts.length > 1 ? parts.join('.') : null\n                    });\n                    modified = true;\n                }\n            }\n        });\n    } while (modified);\n\n    // Folders first\n    result.sort((a, b) => {\n        const idA = a.id.toLowerCase();\n        const idB = b.id.toLowerCase();\n        if (a.type === 'folder' && b.type !== 'folder') {\n            return -1;\n        } else if (b.type === 'folder' && a.type !== 'folder') {\n            return 1;\n        }\n\n        if (idA > idB) {\n            return 1;\n        } else if (idA < idB) {\n            return -1;\n        } else {\n            return 0;\n        }\n    });\n\n    // Fill all indexes\n    result.forEach((item, i) => item.index = i);\n\n    // Fill all parentIndex\n    result.forEach(item => {\n        if (item.parent) {\n            const parent = result.find(it => it.id === item.parent);\n            if (parent) {\n                item.parentIndex = parent.index;\n            }\n        }\n    });\n\n    return result;\n};\n\nexport const Droppable = (props) => {\n    const { onDrop} = props;\n\n    const [{ isOver, isOverAny}, drop] = useDrop({\n        accept: ['script'],\n        drop: e => isOver ? onDrop(e) : undefined,\n        collect: monitor => ({\n            isOver: monitor.isOver({ shallow: true }),\n            isOverAny: monitor.isOver(),\n        }),\n    });\n\n    return <div ref={drop} className={Utils.clsx(isOver && 'js-folder-dragover', isOverAny && 'js-folder-dragging')}>\n        {props.children}\n    </div>;\n};\n\nexport const Draggable = props => {\n    const { name } = props;\n    const [{ opacity }, drag] = useDrag({\n        type: 'script',\n        item: () => ({name}),\n        collect: monitor => ({opacity: monitor.isDragging() ? 0.3 : 1,}),\n    });\n    // About transform: https://github.com/react-dnd/react-dnd/issues/832#issuecomment-442071628\n    return <div ref={drag} style={{ opacity, transform: 'translate3d(0, 0, 0)' }}>\n        {props.children}\n    </div>;\n};\n\nclass SideDrawer extends React.Component {\n    constructor(props) {\n        super(props);\n\n        let expanded = window.localStorage ? window.localStorage.getItem('SideMenu.expanded') : '[]';\n        try {\n            expanded = JSON.parse(expanded) || [];\n        } catch (e) {\n            expanded = [];\n        }\n\n        this.inputRef = new React.createRef();\n\n        this.state = {\n            listItems: prepareList(props.scripts || {}),\n            expanded,\n            problems: [],\n            reorder: false,\n            themeName: this.props.themeName,\n            selected: window.localStorage ? window.localStorage.getItem('SideMenu.selected') || null : null,\n            creatingScript: false,\n            creatingFolder: false,\n            copingScript: '',\n            renaming: null,\n            deleting: null,\n            choosingType: null,\n            errorText: '',\n            instances: props.instances || [],\n            menuOpened: false,\n            menuAnchorEl: null,\n            searchMode: false,\n            expertMode: this.props.expertMode,\n            searchText: '',\n            width: this.props.width || 300,\n            typeFilter: window.localStorage ? window.localStorage.getItem('SideMenu.typeFilter') || '' : '', // blockly, js, ts\n            statusFilter: window.localStorage ? window.localStorage.getItem('SideMenu.statusFilter') || '' : '',\n            runningInstances: this.props.runningInstances || {},\n            scriptsHash: props.scriptsHash,\n            showAdapterDebug: false,\n        };\n\n        const newExp = this.ensureSelectedIsVisible();\n        if (newExp) {\n            this.state.expanded = newExp;\n        }\n\n        // debounce search process\n        this.filterTimer = null;\n\n        this.state.isAllZeroInstances = this.getIsAllZeroInstances();\n\n        this.problems = null; //cache\n        this.problemsTimer = null;\n        this.onProblemUpdatedBound = this.onProblemUpdated.bind(this);\n    }\n\n    readProblems(cb, tasks) {\n        if (!tasks) {\n            tasks = Object.keys(this.props.scripts);\n        }\n        if (!tasks || !tasks.length) {\n            cb && cb();\n        } else {\n            const id = tasks.shift();\n            if (this.props.scripts[id] &&\n                this.props.scripts[id].type === 'script' &&\n                this.props.scripts[id].common &&\n                this.props.scripts[id].common.enabled &&\n                !id.match(/^script\\.js\\.global\\./) // GLOBAL_ID\n            ) {\n                const instance = this.props.scripts[id].common.engine.split('.').pop();\n                const that = this; // sometimes lambda does not work\n                const _id = `javascript.${instance}.scriptProblem.${id.substring(ROOT_ID.length + 1)}`;\n\n                this.props.socket.getState(_id, (err, state) => {\n                    that.onProblemUpdated(_id, state);\n                    setTimeout(() => that.readProblems(cb, tasks), 0);\n                });\n            } else {\n                setTimeout(() => this.readProblems(cb, tasks), 0);\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.readProblems(() =>  {\n            this.props.instances.forEach(instance => {\n                this.props.socket.subscribeState(`javascript.${instance}.scriptProblem.*`, this.onProblemUpdatedBound);\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        this.props.instances.forEach(instance => {\n            this.props.socket.unsubscribeState(`javascript.${instance}.scriptProblem.*`, this.onProblemUpdatedBound);\n        });\n    }\n\n    onProblemUpdated(id, state) {\n        if (!state || !id) return;\n        id = `${ROOT_ID}.${id.replace(/^javascript\\.\\d+\\.scriptProblem\\./, '')}`;\n\n        if (!this.problems) {\n            this.problems = JSON.parse(JSON.stringify(this.state.problems));\n        }\n        let changed = false;\n\n        if (state.val) {\n            if (this.problems.indexOf(id) === -1) {\n                this.problems.push(id);\n                changed = true;\n            }\n        } else {\n            const pos = this.problems.indexOf(id);\n            if (pos !== -1) {\n                this.problems.splice(pos, 1);\n                changed = true;\n            }\n        }\n\n        if (changed && !this.problemsTimer) {\n            this.problemsTimer = setTimeout(() => {\n                this.problemsTimer = null;\n                this.setState({ problems: this.problems });\n                this.problems = null;\n            }, 300);\n        }\n    }\n\n    static filterListStatic(isSearchEnabled, listItems, searchMode, searchText, objects) {\n        listItems = JSON.parse(JSON.stringify(listItems));\n        let changed = false;\n        let newState = {listItems};\n        if (isSearchEnabled !== false && searchMode && searchText) {\n            const text = searchText.toLowerCase();\n            listItems.forEach(item => {\n                const id = item.title.toLowerCase();\n                item.filteredPartly = false;\n                let found = id.includes(text);\n                if (!found && (objects && objects[item.id] && objects[item.id].common && objects[item.id].common.source)) {\n                    if (objects[item.id].common.engineType === 'Blockly') {\n                        const pos = objects[item.id].common.source.lastIndexOf('//');\n                        found = objects[item.id].common.source.substring(0, pos).toLowerCase().includes(text);\n                    } else {\n                        found = objects[item.id].common.source.toLowerCase().includes(text);\n                    }\n                }\n                if (found) {\n                    if (item.filtered) {\n                        item.filtered = false;\n                        changed = true;\n                    }\n                } else if (!item.filtered) {\n                    item.filtered = true;\n                    changed = true;\n                }\n            });\n\n            if (changed) {\n                // check that all parents of every non-filtered item are visible\n                for (let i = listItems.length - 1; i >= 0; i--) {\n                    const item = listItems[i];\n                    if (!item.filtered || item.filteredPartly) {\n                        let it = item;\n                        do {\n                            if (it.parent && listItems[it.parentIndex]) {\n                                changed = true;\n                                listItems[it.parentIndex].filteredPartly = true;\n                            }\n                            it = it.parent && listItems[it.parentIndex] ? listItems[it.parentIndex] : null;\n                        } while(it);\n                    }\n                }\n            }\n        } else {\n            listItems.forEach(item => {\n                if (item.filtered || item.filteredPartly) {\n                    item.filtered = false;\n                    item.filteredPartly = false;\n                    changed = true;\n                }\n            });\n            if (isSearchEnabled === false) {\n                newState.searchText = '';\n                newState.searchMode = false;\n                changed = true;\n            }\n        }\n\n        return changed ? newState : null;\n    }\n\n    filterList(isSearchEnabled, cb) {\n        const newState = SideDrawer.filterListStatic(\n            isSearchEnabled,\n            this.state.listItems,\n            this.state.searchMode,\n            this.state.searchText,\n            this.props.scripts,\n        );\n\n        if (newState) {\n            this.setState(newState, () => cb && cb());\n        } else if (cb) {\n            cb();\n        }\n    }\n\n    static ensureSelectedIsVisibleStatic(selected, expanded, listItems) {\n        expanded = JSON.parse(JSON.stringify(expanded));\n        let changed = false;\n\n        // ensure that the item is visible\n        let el = typeof selected === 'object' ? selected : listItems.find(it => it.id === selected);\n        do {\n            // eslint-disable-next-line\n            el = el && el.parent && listItems.find(it => it.id === el.parent);\n            if (el) {\n                if (!expanded.includes(el.id)) {\n                    expanded.push(el.id);\n                    changed = true;\n                }\n            }\n        } while(el);\n\n        return changed && expanded;\n    }\n\n    ensureSelectedIsVisible(selected, expanded) {\n        return SideDrawer.ensureSelectedIsVisibleStatic(selected || this.state.selected, expanded || this.state.expanded, this.state.listItems);\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const newState = {};\n        let changed = false;\n        if (state.expertMode !== props.expertMode) {\n            changed = true;\n            newState.expertMode = props.expertMode;\n        }\n        if (state.scriptsHash !== props.scriptsHash && props.scripts) {\n            const listItems = prepareList(props.scripts || {});\n\n            newState.listItems = listItems;\n\n            if (state.searchText) {\n                const nState = SideDrawer.filterListStatic(true, listItems, state.searchMode, state.searchText, props.scripts);\n                nState && Object.assign(newState, nState);\n            }\n\n            const isAllZeroInstances = SideDrawer.getIsAllZeroInstancesStatic(listItems, props.instances || []);\n\n            const newExp = SideDrawer.ensureSelectedIsVisibleStatic(state.selected, state.expanded, state.listItems);\n\n            newState.isAllZeroInstances = isAllZeroInstances;\n            if (newExp) {\n                newState.expanded = newExp;\n            }\n            changed = true;\n        }\n\n        if (state.width !== props.width) {\n            changed = true;\n            newState.width = props.width;\n        }\n        if (state.themeName !== props.themeName) {\n            changed = true;\n            newState.themeName = props.themeName;\n        }\n\n        if (props.selectId && state.selected !== props.selectId) {\n            const item = state.listItems.find(item => item.id === props.selectId);\n\n            if (!state.reorder && item) {\n                const expanded = SideDrawer.ensureSelectedIsVisibleStatic(item, state.expanded, state.listItems);\n                newState.selected = item.id;\n                if (expanded) {\n                    newState.expanded = expanded;\n                }\n                changed = true;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n            }\n        }\n\n        if (changed) {\n            return newState;\n        } else {\n            return null;\n        }\n    }\n\n    static getIsAllZeroInstancesStatic(listItems, instances) {\n        let isAllZeroInstances = !instances[0] && instances.length <= 1;\n\n        if (isAllZeroInstances) {\n            listItems.forEach(item => {\n                if (item.type !== 'folder' && item.instance !== 0) {\n                    isAllZeroInstances = false;\n                }\n            });\n        }\n        return isAllZeroInstances;\n    }\n\n    getIsAllZeroInstances(listItems, instances) {\n        listItems = listItems || this.state.listItems;\n        instances = instances || this.state.instances;\n        return SideDrawer.getIsAllZeroInstancesStatic(listItems || this.state.listItems, instances || this.state.instances);\n    }\n\n    saveExpanded(expanded) {\n        window.localStorage.setItem('SideMenu.expanded', JSON.stringify(expanded || this.state.expanded));\n    }\n\n    showError(errorText) {\n        this.setState({ errorText });\n    }\n\n    onToggle(id, e) {\n        e && e.stopPropagation();\n        if (id === ROOT_ID) {\n            return;\n        }\n        const expanded = [...this.state.expanded];\n        const newState = {expanded};\n        const pos = expanded.indexOf(id);\n        if (pos !== -1) {\n            expanded.splice(pos, 1);\n            if (this.state.selected && this.state.selected.startsWith(`${id}.`)) {\n                newState.selected = id;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', id);\n            }\n        } else {\n            expanded.push(id);\n            expanded.sort();\n        }\n        this.setState({ expanded });\n        this.saveExpanded(expanded);\n    }\n\n    renderItemButtonsOnEnd(item, children) {\n        if (this.state.reorder) {\n            return null;\n        }\n        if (item.type !== 'folder') {\n            let color = item.enabled ? COLOR_RUN : COLOR_PAUSE;\n            if (item.enabled && this.state.problems.includes(item.id)) {\n                color = COLOR_PROBLEM;\n            }\n\n            return [\n                <IconButton\n                    onClick={e => {\n                        e.stopPropagation();\n                        this.props.onEnableDisable && this.props.onEnableDisable(item.id, !item.enabled)\n                    }}\n                    title={item.enabled ? I18n.t('Pause script') : I18n.t('Run script')}\n                    disabled={this.props.debugMode}\n                    key=\"startStop\"\n                    style={{\n                        ...styles.iconButtons,\n                        ...(this.props.debugMode ? styles.iconButtonsDisabled : undefined),\n                        color,\n                    }}\n                    size=\"medium\"\n                >\n                    {item.enabled ? <IconPause /> : <IconPlay />}\n                </IconButton>,\n                this.state.width > NARROW_WIDTH ? <IconButton\n                    key=\"delete\"\n                    style={this.props.debugMode ? styles.iconButtonsDisabled : undefined}\n                    title={I18n.t('Delete script')}\n                    disabled={item.id === GLOBAL_ID || item.id === COMMON_ID || this.props.debugMode}\n                    onClick={e => this.onDelete(item, e)}\n                    size=\"medium\"\n                >\n                    <IconDelete/>\n                </IconButton> : null,\n                <IconButton\n                    style={this.props.debugMode ? styles.iconButtonsDisabled : undefined}\n                    disabled={this.props.debugMode}\n                    key=\"openInEdit\"\n                    title={I18n.t('Edit script or just double click')}\n                    onClick={e => this.onEdit(item, e)}\n                    size=\"medium\">\n                    <IconDoEdit/>\n                </IconButton>,\n            ];\n        } else if (this.state.width > NARROW_WIDTH) {\n            if (item.id !== ROOT_ID && item.id !== COMMON_ID && item.id !== GLOBAL_ID && (!children || !children.length)) {\n                return <IconButton\n                    style={this.props.debugMode ? styles.iconButtonsDisabled : undefined}\n                    key=\"delete\"\n                    title={I18n.t('Delete folder')}\n                    disabled={item.id === GLOBAL_ID || item.id === COMMON_ID || this.props.debugMode}\n                    onClick={e => this.onDelete(item, e)}\n                    size=\"medium\"\n                >\n                    <IconDelete />\n                </IconButton>;\n            } else {\n                return null;\n            }\n        }\n    }\n\n    onDelete(item, e) {\n        e && e.stopPropagation();\n        return new Promise(resolve => {\n            if (typeof item !== 'object') {\n                this.setState({ deleting: item }, () => resolve());\n            } else {\n                this.setState({ deleting: item.id }, () => resolve());\n            }\n        });\n    }\n\n    onEdit(item, e) {\n        this.onClick(item, e);\n        this.props.onEdit && this.props.onEdit(item.id);\n    }\n\n    getTextStyle(item) {\n        if (!this.state.reorder && item.type !== 'folder') {\n            return {\n                //width: 130,\n                width: `calc(100% - ${this.state.width > NARROW_WIDTH ? 185 : 137}px)`,\n                overflow: 'hidden',\n                whiteSpace: 'nowrap',\n                flex: 'none',\n                padding: '0 16px 0 0',\n            };\n        }\n\n        return {\n            whiteSpace: 'nowrap',\n            padding: '0 16px 0 0',\n        };\n    }\n\n    onClick(item, e) {\n        e && e.stopPropagation();\n        if (!this.state.reorder && item) {\n            const expanded = this.ensureSelectedIsVisible(item);\n            const newState = {selected: item.id};\n            if (expanded) {\n                newState.expanded = expanded;\n            }\n            this.setState(newState);\n            window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n        }\n    }\n\n    onDblClick(item, e) {\n        e && e.stopPropagation();\n        if (this.state.reorder) {\n            return;\n        }\n        if (item.type === 'folder') {\n            this.onToggle(item.id);\n        } else {\n            this.onEdit(item);\n        }\n    }\n\n    isFilteredOut(item) {\n        if (item.filtered && !item.filteredPartly) {\n            return true;\n        }\n\n        if (this.state.typeFilter && item.type !== 'folder' && item.type !== this.state.typeFilter) {\n            return true;\n        }\n\n        if (this.state.statusFilter &&\n            item.type !== 'folder' &&\n            (\n                (this.state.statusFilter === 'running' && !item.enabled) ||\n                (this.state.statusFilter === 'paused' && item.enabled) ||\n                (this.state.statusFilter === 'problems' && (!item.enabled || this.state.problems.indexOf(item.id) === -1)))\n        ) {\n            return true;\n        }\n\n        return item.id === GLOBAL_ID && !this.state.expertMode;\n    }\n\n    renderListItem(item, children, childrenFiltered) {\n        if (item.id === ROOT_ID && !this.state.reorder) {\n            return null;\n        }\n\n        const depthPx = (this.state.reorder ? item.depth : item.depth - 1) * LEVEL_PADDING;\n\n        let title = item.title;\n\n        if (this.state.searchText) {\n            const pos = title.toLowerCase().indexOf(this.state.searchText.toLowerCase());\n            if (pos !== -1) {\n                title = [\n                    <span key=\"first\">{title.substring(0, pos)}</span>,\n                    <span key=\"second\" style={{ color: 'orange' }}>{title.substring(pos, pos + this.state.searchText.length)}</span>,\n                    <span key=\"third\">{title.substring(pos + this.state.searchText.length)}</span>,\n                ];\n            }\n        }\n\n        if (!this.state.isAllZeroInstances && item.type !== 'folder') {\n            title = [\n                <span key=\"title\">{title}</span>,\n                <span key=\"instance\" title={I18n.t('Instance')} style={styles.instances}>[{item.instance}]</span>,\n            ];\n        }\n        const reorder = this.state.reorder && !this.props.debugMode;\n\n        const style = Object.assign({\n            marginLeft: depthPx,\n            cursor:     item.type === 'folder' && reorder ? 'default' : 'inherit',\n            width:      `calc(100% - ${depthPx}px)`,\n        }, item.id === this.state.selected && !reorder ? SELECTED_STYLE : undefined);\n\n        if (!reorder) {\n            style.opacity = item.filteredPartly ? 0.5 : 1;\n        }\n\n        if (item.id === GLOBAL_ID && item.id !== this.state.selected) {\n            style.color = '#00a200';\n        }\n\n        let isExpanded = item.id === ROOT_ID;\n        if (!isExpanded && children) {\n            isExpanded = this.state.expanded.includes(item.id);\n        }\n\n        let iconStyle;\n        if (item.type === 'folder') {\n            iconStyle = {\n                ...styles.folderIcon,\n                ...(reorder ? styles.folderIconReorder : styles.folderIconNoReorder),\n            };\n        } else {\n            iconStyle = {\n                ...styles.scriptIcon,\n                // ...(reorder ? styles.scriptIconReorder : styles.scriptIconNoReorder),\n            };\n        }\n        if (item.id === GLOBAL_ID) {\n            iconStyle.color = '#356956';\n        } else if (item.id === COMMON_ID) {\n            iconStyle.color = '#4899e1';\n        }\n\n        let childrenCount = null;\n        if ((childrenFiltered && childrenFiltered.length) || (children && children.length)) {\n            childrenCount = <span style={styles.childrenCount}>{childrenFiltered && childrenFiltered.length !== children.length ? `${childrenFiltered.length}(${children.length})` : children.length}</span>;\n        }\n\n        const combinedStyle = {\n            ...(item.type === 'folder' ? styles.folder : styles.script),\n            ...(reorder ? styles.reorder : undefined),\n            ...(reorder && item.type !== 'folder' ? styles.scriptReorder : undefined),\n            ...(reorder && item.type === 'folder' ? styles.folderReorder: undefined),\n            ...style,\n        };\n\n        return <ListItem\n            key={item.id}\n            style={combinedStyle}\n            className={Utils.clsx(\n                reorder && item.type === 'folder' && 'folder-reorder',\n                reorder && item.type !== 'folder' && 'script-reorder',\n            )}\n            onClick={e => this.onClick(item, e)}\n            onDoubleClick={e => this.onDblClick(item, e)}\n        >\n            <ListItemIcon\n                style={styles.listItemIcon}\n            >{\n                item.type === 'folder' ? (\n                        reorder || isExpanded ?\n                            <IconFolderOpened style={iconStyle} onClick={e => !reorder && this.onToggle(item.id, e)} /> :\n                            <IconFolder       style={iconStyle} onClick={e => !reorder && this.onToggle(item.id, e)} />\n                    )\n                    :\n                    <img\n                        style={iconStyle}\n                        alt={item.type}\n                        src={images[item.type] || images.def}\n                    />\n            }</ListItemIcon>\n            <ListItemText\n                sx={{ '& .MuiListItemText-primary': item.id === this.state.selected && !reorder ? styles.selected : undefined }}\n                style={this.getTextStyle(item)}\n                primary={<span style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>{title}{childrenCount}</span>}\n            />\n            <ListItemSecondaryAction>\n                {this.renderItemButtonsOnEnd(item, children)}\n            </ListItemSecondaryAction>\n        </ListItem>;\n    }\n\n    onDragFinish(source, target) {\n        let newId = `${target}.${source.split('.').pop()}`;\n        if (newId !== source) {\n            // If target yet exists => add Copy to\n            if (this.state.listItems.find(item => item.id === newId)) {\n                newId += `_${I18n.t('copy')}`;\n            }\n\n            this.props.onRename && this.props.onRename(source, newId);\n        }\n        return undefined;\n    }\n\n    renderOneItem(items, item /* , dragging */) {\n        let childrenFiltered = (this.state.statusFilter || this.state.typeFilter) && items.filter(i => i.parent === item.id ? !this.isFilteredOut(i) : false);\n        let children = items.filter(i => i.parent === item.id);\n\n        if (this.isFilteredOut(item)) {\n            return;\n        }\n\n        if (item.type === 'folder' && (this.state.statusFilter || this.state.typeFilter) && !childrenFiltered.length) {\n            return;\n        }\n        const reorder = this.state.reorder && !this.props.debugMode;\n\n        const element = this.renderListItem(item, children, childrenFiltered);\n        const result = [];\n        let reactChildren;\n        if (children && (reorder || this.state.expanded.includes(item.id) || item.id === ROOT_ID)) {\n            reactChildren = children.map(it => this.renderOneItem(items, it));\n        }\n\n        if (reorder) {\n            if (item.type === 'folder') {\n                result.push(<Droppable key={`droppable_${item.id}`} onDrop={e => this.onDragFinish(e.name, item.id)}>\n                    <Draggable key={`draggable_${item.id}`} name={item.id}>{element}</Draggable>\n                    {reactChildren || null}\n                </Droppable>);\n            } else {\n                result.push(<Draggable key={`draggable_${item.id}`} name={item.id}>\n                    {element}\n                    {reactChildren || null}\n                </Draggable>);\n            }\n        } else {\n            result.push(element);\n            reactChildren && reactChildren.forEach(e => result.push(e));\n        }\n\n        return result;\n    }\n\n    renderAllItems(items) {\n        const result = items\n            .filter(item => !item.parent)\n            .map(item =>\n                this.renderOneItem(items, item));\n\n        return <List\n            dense\n            disablePadding\n            sx={styles.mainList}\n        >\n            {result}\n        </List>;\n    }\n\n    onAddNew(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({ choosingType: true });\n    }\n\n    onCopy(e, id) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === id);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({ copingScript: id });\n    }\n\n    onAddNewFolder(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({ creatingFolder: true });\n    }\n\n    onRename(e) {\n        e && e.stopPropagation();\n        this.setState({ renaming: this.state.selected });\n    }\n\n    getUniqueName(copyId) {\n        let i = 1;\n        let word = `${I18n.t('Script')} `;\n        if (copyId) {\n            const name = getObjectName(copyId, this.props.scripts[copyId]);\n            const m = name.match(/\\d+$/);\n            if (m) {\n                word = name.replace(/\\d+$/, '');\n                i = parseInt(m[0], 10) + 1;\n            } else {\n                word = name;\n            }\n        }\n\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === `${this.parent}.${word.replace(/\\.\\s/g, '_')}${i}`)) {\n            i++;\n        }\n\n        return word + i;\n    }\n\n    getUniqueFolderName() {\n        let i = 1;\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === `${this.parent}.${I18n.t('Folder')}_${i}`)) {\n            i++;\n        }\n        return `${I18n.t('Folder')} ${i}`;\n    }\n\n    onCloseMenu(cb) {\n        this.setState({ menuOpened: false, menuAnchorEl: null, menuAnchorFilterEl: null }, cb);\n    }\n\n    getFilterBadge() {\n        return [\n            this.state.statusFilter === true && <IconPlay style={{ ...styles.filterIcon, color: COLOR_RUN }} />,\n            this.state.statusFilter === false && <IconPause style={{ ...styles.filterIcon, color: COLOR_PAUSE }} />,\n            this.state.typeFilter === 'Blockly' && 'Bl',\n            this.state.typeFilter === 'Javascript/js' && 'JS',\n            this.state.typeFilter === 'TypeScript/ts' && 'TS',\n        ];\n    }\n\n    getMainMenu(children, selectedItem) {\n        return <Menu\n            key=\"menu\"\n            id=\"long-menu\"\n            anchorEl={this.state.menuAnchorEl}\n            open={this.state.menuOpened}\n            onClose={() => this.setState({ menuOpened: false, menuAnchorEl: null })}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                    // width: 200,\n                },\n            }}\n        >\n            {this.state.width <= NARROW_WIDTH ? <MenuItem\n                key=\"delete\"\n                disabled={this.props.debugMode || !this.state.selected || this.state.selected === GLOBAL_ID || this.state.selected === COMMON_ID || (children && children.length)}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    if (this.state.listItems.find(item => item.parent === this.state.selected)) {\n                        this.showError(I18n.t('Cannot delete non empty item!'));\n                        return;\n                    }\n\n                    this.setState({ menuOpened: false, menuAnchorEl: null }, () =>\n                        this.onDelete(this.state.selected).then(() => {}));\n                }}\n            >\n                <IconDelete style={{ ...styles.iconDropdownMenu, color: 'red' }} />\n                {I18n.t('Delete')}\n            </MenuItem> : null}\n            <MenuItem\n                key=\"expertMode\"\n                disabled={this.props.debugMode}\n                selected={this.state.expertMode}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() =>\n                        this.props.onExpertModeChange && this.props.onExpertModeChange(!this.state.expertMode));\n                }}>\n                <IconExpert style={{ ...styles.iconDropdownMenu, color: this.state.expertMode ? 'orange' : 'inherit' }}/>{I18n.t('Expert mode')}\n            </MenuItem>\n            {this.props.onExport && <MenuItem\n                key=\"exportAll\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() => this.props.onExport());\n                }}\n            >\n                <IconExport style={styles.iconDropdownMenu} />{I18n.t('Export all scripts')}\n            </MenuItem>}\n            {this.props.onImport && <MenuItem\n                disabled={this.props.debugMode}\n                key=\"import\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() => this.props.onImport());\n                }}>\n                <IconImport style={styles.iconDropdownMenu} />{I18n.t('Import scripts')}\n            </MenuItem>}\n            {this.props.onThemeChange && <MenuItem\n                key=\"dark\"\n                onClick={() => this.onCloseMenu(() => {\n                    // TODO: use Utils.toggleTheme(themeName)\n                    // newThemeName = Utils.toggleTheme(themeName);\n                    const newThemeName = this.state.themeName === 'dark' ? 'blue' :\n                        this.state.themeName === 'blue' ? 'colored' : this.state.themeName === 'colored' ? 'light' :\n                            this.state.themeName === 'light' ? 'dark' : 'colored';\n                    this.props.onThemeChange(newThemeName);\n                })}\n            >\n                <IconDark style={styles.iconDropdownMenu} />\n                {I18n.t('Change theme (actual \"%s\")', this.state.themeName)}\n            </MenuItem>}\n            {this.props.onAddNew && <MenuItem\n                key=\"copy\"\n                disabled={!this.state.selected || !selectedItem || selectedItem.type === 'folder'}\n                onClick={event => {\n                    const selected = this.state.selected;\n                    this.onCloseMenu(() => this.onCopy(event, selected));\n                }}\n            >\n                <IconCopy style={styles.iconDropdownMenu} />\n                {I18n.t('Copy script')}\n            </MenuItem>}\n            {this.state.expertMode && <MenuItem\n                disabled={this.props.debugMode}\n                key=\"debugInstance\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() =>\n                        this.setState({ showAdapterDebug: true }));\n                }}\n            >\n                <IconDebug style={styles.iconDropdownMenu} />\n                {I18n.t('Debug instance')}\n            </MenuItem>}\n        </Menu>;\n    }\n\n    // render menu and toolbar\n    getToolbarButtons() {\n        const result = [];\n        const reorder = this.state.reorder && !this.props.debugMode;\n        if (this.state.searchMode && !this.props.debugMode) {\n            result.push(<Input\n                key=\"searchInput\"\n                value={this.state.searchText}\n                style={styles.toolbarSearch}\n                ref={this.inputRef}\n                autoFocus\n                placeholder={I18n.t('Search...')}\n                onChange={e => {\n                    this.setState({ searchText: e.target.value });\n                    this.filterTimer && clearTimeout(this.filterTimer);\n                    this.filterTimer = setTimeout(() => {\n                        this.filterTimer = null;\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    }, 400);\n                }}\n            />);\n\n            result.push(<IconButton\n                key=\"disableSearch\"\n                sx={styles.toolbarButtons}\n                style={{ float: 'right' }}\n                title={I18n.t('End search mode')}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.filterList(false, () => this.props.onSearch && this.props.onSearch(this.state.searchText));\n                }}\n                size=\"medium\"><IconClose /></IconButton>);\n\n            this.state.searchText && result.push(<IconButton\n                key=\"cleanSearch\"\n                mini=\"true\"\n                title={I18n.t('Clear search input')}\n                sx={styles.toolbarButtons}\n                style={{ marginTop: 7, float: 'right' }}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({ searchText: '' }, () => {\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    });\n                }}\n                size=\"medium\"\n            >\n                <IconClear fontSize=\"small\"/>\n            </IconButton>);\n        } else {\n            if (!reorder) {\n                // Open Menu\n                result.push(<IconButton\n                    key=\"menuButton\"\n                    aria-label=\"More\"\n                    aria-owns={this.state.menuOpened ? 'long-menu' : undefined}\n                    title={I18n.t('Menu')}\n                    aria-haspopup=\"true\"\n                    onClick={event => {\n                        event.stopPropagation();\n                        event.preventDefault();\n                        this.setState({ menuOpened: true, menuAnchorEl: event.currentTarget });\n                    }}\n                    size=\"medium\"\n                >\n                    {/*<Badge style={styles.margin} badgeContent={this.getFilterBadge()}>*/}\n                    <IconMore />\n                    {/*</Badge>*/}\n                </IconButton>);\n\n                const selectedItem = this.state.listItems.find(it => it.id === this.state.selected);\n                let children;\n                if (selectedItem && this.state.width <= NARROW_WIDTH && selectedItem.type === 'folder') {\n                    children = this.state.listItems.filter(i => i.parent === this.state.selected);\n                }\n\n                // Menu\n                result.push(this.getMainMenu(children, selectedItem));\n\n                // New Script\n                result.push(<IconButton\n                    disabled={this.props.debugMode}\n                    key=\"new-script\"\n                    title={I18n.t('Create new script')}\n                    sx={{\n                        ...styles.toolbarButtons,\n                        ...(this.props.debugMode ? styles.iconButtonsDisabled : undefined),\n                    }}\n                    style={{ color: reorder ? 'red' : 'inherit' }}\n                    onClick={e => this.onAddNew(e)}\n                    size=\"medium\"\n                >\n                    <IconAdd />\n                </IconButton>);\n\n                // New Folder\n                result.push(<IconButton\n                    disabled={this.props.debugMode}\n                    key=\"new-folder\"\n                    title={I18n.t('Create new folder')}\n                    sx={{\n                        ...styles.toolbarButtons,\n                        ...(this.props.debugMode ? styles.iconButtonsDisabled : undefined),\n                    }}\n                    style={{ color: reorder ? 'red' : 'inherit' }}\n                    onClick={() => this.onAddNewFolder()}\n                    size=\"medium\"\n                >\n                    <IconAddFolder />\n                </IconButton>);\n            }\n\n            // Search\n            result.push(<IconButton\n                key=\"search\"\n                disabled={reorder || this.props.debugMode}\n                sx={{\n                    ...styles.toolbarButtons,\n                    ...(this.props.debugMode ? styles.iconButtonsDisabled : undefined),\n                }}\n                title={I18n.t('Search in scripts')}\n                style={{ float: 'right', opacity: this.props.debugMode ? 0.5 : (reorder ? 0 : 1) }}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({ searchMode: true });\n                }}\n                size=\"medium\"\n            >\n                <IconFind />\n            </IconButton>);\n\n            // Reorder button\n            result.push(<IconButton\n                disabled={this.props.debugMode}\n                key=\"reorder\"\n                title={I18n.t('Reorder scripts in folders')}\n                sx={{\n                    ...styles.toolbarButtons,\n                    ...(this.props.debugMode ? styles.iconButtonsDisabled : undefined),\n                }}\n                style={{ color: reorder ? 'red' : 'inherit', float: 'right' }}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({ reorder: !this.state.reorder });\n                }}\n                size=\"medium\"\n            >\n                <IconReorder />\n            </IconButton>);\n\n            if (!reorder && this.state.selected && this.state.selected !== GLOBAL_ID && this.state.selected !== COMMON_ID) {\n                // Rename\n                result.push(<IconButton\n                    sx={{\n                        ...styles.toolbarButtons,\n                        ...(this.props.debugMode ? styles.iconButtonsDisabled : undefined),\n                    }}\n                    disabled={this.props.debugMode}\n                    title={I18n.t('Rename')}\n                    key=\"rename\"\n                    onClick={e => this.onRename(e)}\n                    size=\"medium\"\n                >\n                    <IconEdit />\n                </IconButton>);\n\n                // const selectedItem = this.state.listItems.find(i => i.id === this.state.selected);\n                // if (selectedItem && selectedItem.type !== 'folder') {\n                //     // Restart\n                //     result.push((<IconButton sx={styles.toolbarButtons}\n                //          key=\"restart\"\n                //          onClick={e => {\n                //              e.stopPropagation();\n                //              this.props.onEnableDisable && this.props.onEnableDisable();\n                //          }}\n                //     ><IconRestart/></IconButton>));\n                // }\n            }\n            result.push(<span key=\"version\" style={{ opacity: 0.5, fontSize: 10 }}>v{this.props.version}</span>);\n        }\n        return result;\n    }\n\n    getFolders() {\n        const folders = [{ id: ROOT_ID, name: I18n.t('Root folder') }];\n        this.state.listItems.forEach(item => {\n            if (item.type === 'folder' && item.id !== ROOT_ID) { // root has been added above\n                if (!item.id.startsWith(GLOBAL_ID) || this.state.expertMode) {\n                    folders.push({ id: item.id, name: item.title });\n                }\n            }\n        });\n        return folders;\n    }\n\n    onCollapseAll() {\n        this.setState({ expanded: [] });\n        this.saveExpanded([]);\n    }\n\n    onExpandAll() {\n        const expanded = [];\n        this.state.listItems.forEach(item =>\n            this.state.listItems.find(it => it.parent === item.id) && expanded.push(item.id));\n        this.setState({ expanded });\n        this.saveExpanded(expanded);\n    }\n\n    getBottomButtons() {\n        if (this.state.reorder || this.props.debugMode) {\n            return null;\n        }\n        return [\n            <Box\n                key=\"filterByRunning\"\n                sx={styles.footerButtons}\n            >\n                <IconPause\n                    style={{ color: COLOR_RUN, opacity: this.state.statusFilter === 'running' ? 1 : 0.3, background: this.state.statusFilter === 'running' ? 'gray' : 'inherit' }}\n                    title={I18n.t('Show only running scripts')}\n                    onClick={event => {\n                        event.stopPropagation();\n                        event.preventDefault();\n                        const statusFilter = this.state.statusFilter === 'running' ? '' : 'running';\n                        window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                        this.setState({ statusFilter });\n                    }}\n                />\n            </Box>,\n            <Box\n                key=\"filterByPaused\"\n                sx={styles.footerButtons}\n            >\n                <IconPlay\n                    title={I18n.t('Show only paused scripts')}\n                    style={{ color: COLOR_PAUSE, opacity: this.state.statusFilter === 'paused' ? 1 : 0.3, background: this.state.statusFilter === 'paused' ? 'gray' : 'inherit' }}\n                    onClick={() => {\n                        const statusFilter = this.state.statusFilter === 'paused' ? '' : 'paused';\n                        window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                        this.setState({ statusFilter });\n                    }}\n                />\n            </Box>,\n            <Box\n                sx={styles.footerButtons}\n                style={{ marginRight: 16 }}\n                key=\"filterByProblem\"\n            >\n                <IconPause\n                    title={I18n.t('Show only scripts with problems')}\n                    style={{ color: COLOR_PROBLEM, opacity: this.state.statusFilter === 'problems' ? 1 : 0.3, background: this.state.statusFilter === 'problems' ? 'gray' : 'inherit' }}\n                    onClick={() => {\n                        const statusFilter = this.state.statusFilter === 'problems' ? '' : 'problems';\n                        window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                        this.setState({ statusFilter });\n                    }}\n                />\n            </Box>,\n            <Box\n                sx={styles.footerButtons}\n                key=\"filterBlockly\"\n            >\n                <img\n                    alt=\"Blockly\"\n                    style={{ opacity: this.state.typeFilter === 'Blockly' ? 1 : 0.3, background: this.state.typeFilter === 'Blockly' ? 'gray' : 'inherit' }}\n                    src={images.Blockly || images.def}\n                    onClick={() => {\n                        const typeFilter = this.state.typeFilter === 'Blockly' ? '' : 'Blockly';\n                        window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                        this.setState({ typeFilter });\n                    }}\n                />\n            </Box>,\n            <Box\n                key=\"filterJS\"\n                sx={styles.footerButtons}\n            >\n                <img\n                    alt=\"Javascript\"\n                    style={{ opacity: this.state.typeFilter === 'Javascript/js' ? 1 : 0.3, background: this.state.typeFilter === 'Javascript/js' ? 'gray' : 'inherit' }}\n                    src={images['Javascript/js'] || images.def}\n                    onClick={() => {\n                        const typeFilter = this.state.typeFilter === 'Javascript/js' ? '' : 'Javascript/js';\n                        window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                        this.setState({ typeFilter });\n                    }}\n                />\n            </Box>,\n            <Box\n                key=\"filterTS\"\n                sx={styles.footerButtons}\n            >\n                <img\n                    alt=\"TypeScript\"\n                    style={{ opacity: this.state.typeFilter === 'TypeScript/ts' ? 1 : 0.3, background: this.state.typeFilter === 'TypeScript/ts' ? 'gray' : 'inherit' }}\n                    src={images['TypeScript/ts'] || images.def}\n                    onClick={() => {\n                        const typeFilter = this.state.typeFilter === 'TypeScript/ts' ? '' : 'TypeScript/ts';\n                        window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({ typeFilter });\n                    }}\n                />\n            </Box>,\n            <Box\n                key=\"filterRules\"\n                sx={styles.footerButtons}\n            >\n                <img\n                    alt=\"Rules\"\n                    style={{ opacity: this.state.typeFilter === 'Rules' ? 1 : 0.3, background: this.state.typeFilter === 'Rules' ? 'gray' : 'inherit' }}\n                    src={images['Rules'] || images.def}\n                    onClick={() => {\n                        const typeFilter = this.state.typeFilter === 'Rules' ? '' : 'Rules';\n                        window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                        this.setState({ typeFilter });\n                    }}\n                />\n            </Box>,\n            <div key=\"padding\" style={{ flexGrow: 1 }} />,\n            <Box\n                key=\"expandAll\"\n                sx={styles.footerButtons}\n            >\n                <IconExpandAll\n                    style={styles.footerButtonsRight}\n                    title={I18n.t('Expand all')}\n                    onClick={() => this.onExpandAll()}\n                />\n            </Box>,\n            this.state.expanded.length ? <Box\n                key=\"collapseAll\"\n                sx={styles.footerButtons}\n            >\n                <IconCollapseAll\n                    style={styles.footerButtonsRight}\n                    title={I18n.t('Collapse all')}\n                    onClick={() => this.onCollapseAll()}\n                />\n            </Box> : <div style={{ height: 22, width: 24 }} />,\n        ];\n    }\n\n    getAdapterDebugDialog() {\n        if (this.state.showAdapterDebug) {\n            return <DialogAdapterDebug\n                key=\"debug\"\n                socket={this.props.socket}\n                onClose={() => this.setState({ showAdapterDebug: false })}\n                onDebug={(instance, adapter) => this.setState({ showAdapterDebug: false }, () => this.props.onDebugInstance({instance, adapter}))}\n            />;\n        }\n    }\n\n    render() {\n        const renamingItem = this.state.renaming && this.state.listItems.find(i => i.id === this.state.renaming);\n        const copingItem = this.state.copingScript && this.props.scripts[this.state.copingScript];\n\n        return [\n            <Drawer\n                key=\"drawer\"\n                variant=\"permanent\"\n                style={styles.menu}\n                sx={{ '& .MuiDrawer-paper': styles.drawerPaper }}\n                anchor='left'\n                onClick={() => this.onClick({id: ''})}\n            >\n                <Box sx={styles.toolbar}>\n                    {this.getToolbarButtons()}\n                </Box>\n\n                <Divider/>\n\n                <DragDropContext backend={HTML5Backend}>\n                    <div style={styles.innerMenu}>\n                        {this.renderAllItems(this.state.listItems)}\n                    </div>\n                </DragDropContext>\n\n                <Divider />\n\n                <div style={styles.footer}>{this.getBottomButtons()}</div>\n            </Drawer>,\n\n            renamingItem ? <DialogRename\n                key=\"dialog-rename\"\n                name={renamingItem.title}\n                title={I18n.t('Rename')}\n                id={this.state.renaming}\n                folder={renamingItem.type === 'folder'}\n                instance={renamingItem.instance}\n                instances={this.props.instances}\n                onClose={() => this.setState({ renaming: false })}\n                onRename={(oldId, newName, newId, newInstance) => this.props.onRename && this.props.onRename(oldId, newName, newId, newInstance)}\n            /> : null,\n\n            this.state.deleting ? <DialogDelete\n                key=\"dialog-delete\"\n                name={this.state.listItems.find(i => i.id === this.state.deleting).title}\n                id={this.state.deleting}\n                onClose={() => this.setState({ deleting: false })}\n                onDelete={id => this.props.onDelete && this.props.onDelete(id)}\n            /> : null,\n\n            this.state.choosingType ? <DialogAddNewScript\n                key=\"dialog-script-type\"\n                onClose={type => {\n                    const newState = { choosingType: false };\n                    if (type) {\n                        newState.creatingScript = type;\n                    }\n                    this.setState(newState);\n                }}\n            /> : null,\n\n            this.state.creatingScript ? <DialogNew\n                key=\"dialog-new-script\"\n                onClose={() => this.setState({ creatingScript: false })}\n                title={I18n.t('Create new script')}\n                name={this.getUniqueName()}\n                parents={this.getFolders()}\n                folder={false}\n                existingItems={this.state.listItems.map(item => item.id)}\n                instance={this.props.instances[0] || 0}\n                instances={this.props.instances}\n                type={this.state.creatingScript}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) =>\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type)}\n            /> : null,\n\n            this.state.copingScript ? <DialogNew\n                key=\"dialog-copy-script\"\n                onClose={() => this.setState({ copingScript: '' })}\n                title={I18n.t('Copy script')}\n                name={this.getUniqueName(this.state.copingScript)}\n                parents={this.getFolders()}\n                folder={false}\n                instance={parseInt((copingItem && copingItem.common && copingItem.common.engine && copingItem.common.engine.split('.').pop()) || 0, 10)}\n                instances={this.props.instances}\n                type={(copingItem && copingItem.common && copingItem.common.engineType) || 'Javascript/js'}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) => {\n                    const copingItem = this.state.copingScript && this.props.scripts[this.state.copingScript];\n                    if (copingItem && copingItem.common) {\n                        // disable script by coping\n                        copingItem.common.enabled = false;\n                    }\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type, copingItem && copingItem.common && copingItem.common.source);\n                }}\n            /> : null,\n\n            this.state.creatingFolder ? <DialogNew\n                key=\"dialog-new-folder\"\n                onClose={() => this.setState({ creatingFolder: false })}\n                title={I18n.t('Create new folder')}\n                parents={this.getFolders()}\n                name={this.getUniqueFolderName()}\n                parent={this.parent}\n                onAdd={(id, name) => this.props.onAddNew && this.props.onAddNew(id, name, true)}\n            /> : null,\n\n            this.state.errorText ? <DialogError key=\"error\" onClose={() => this.setState({ errorText: '' })} text={this.state.errorText} /> : null,\n\n            this.getAdapterDebugDialog(),\n        ];\n    }\n}\n\nSideDrawer.propTypes = {\n    instances: PropTypes.array.isRequired,\n    scripts: PropTypes.object.isRequired,\n    scriptsHash: PropTypes.number,\n    onEdit: PropTypes.func,\n    selectId: PropTypes.string,\n    expertMode: PropTypes.bool,\n    onExpertModeChange: PropTypes.func,\n    onEnableDisable: PropTypes.func,\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    onSelect: PropTypes.func,\n    onAddNew: PropTypes.func,\n    onRename: PropTypes.func,\n    onDelete: PropTypes.func,\n    onImport: PropTypes.func,\n    onExport: PropTypes.func,\n    onSearch: PropTypes.func,\n    onThemeChange: PropTypes.func,\n    onDebugInstance: PropTypes.func,\n    width: PropTypes.number,\n    debugMode: PropTypes.bool,\n    version: PropTypes.string,\n};\n\nexport default SideDrawer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    Box,\n    IconButton,\n} from '@mui/material';\n\nimport {\n    MdDeleteForever as IconDelete,\n    MdVerticalAlignBottom as IconBottom,\n    MdContentCopy as IconCopy,\n    MdVisibilityOff as IconHide,\n} from 'react-icons/md';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\n// replace later with MdHorizontalSplit and MdVerticalSplit\nconst IconVerticalSplit   = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAACFJREFUeAFjAIJRwP////8PYIKWHCigNQdKj/pn1D+jAABTG16wVQqVpQAAAABJRU5ErkJggg==';\nconst IconHorizontalSplit = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAABtJREFUeAFjAIJRwP8fCj7QkENn/4z6Z5QzCgBjbWaoyx1PqQAAAABJRU5ErkJggg==';\n\nfunction getTimeString(d) {\n    let text;\n    let i = d.getHours();\n    if (i < 10) {\n        i = `0${i.toString()}`;\n    }\n    text = `${i}:`;\n\n    i = d.getMinutes();\n    if (i < 10) {\n        i = `0${i.toString()}`;\n    }\n    text += `${i}:`;\n    i = d.getSeconds();\n    if (i < 10) {\n        i = `0${i.toString()}`;\n    }\n    text += `${i}.`;\n    i = d.getMilliseconds();\n    if (i < 10) {\n        i = `00${i.toString()}`;\n    } else if (i < 100) {\n        i = `0${i.toString()}`;\n    }\n    text += i;\n    return text;\n}\nconst TOOLBOX_WIDTH = 34;\n\nconst styles = {\n    logBox: {\n        width: '100%',\n        height: '100%',\n        position: 'relative',\n        overflow: 'hidden',\n    },\n    logBoxInner: theme => ({\n        display: 'inline-block',\n        color: theme.palette.mode === 'dark' ? 'white' : 'black',\n        width: `calc(100% - ${TOOLBOX_WIDTH}px)`,\n        height: '100%',\n        //marginLeft: TOOLBOX_WIDTH,\n        overflow: 'auto',\n        position: 'relative',\n        verticalAlign: 'top',\n    }),\n    info: theme => ({\n        background: theme.palette.mode === 'dark' ? 'darkgrey' : 'lightgrey',\n        color: theme.palette.mode === 'dark' ?  'black' : 'black',\n    }),\n    error: theme => ({\n        background: '#FF0000',\n        color: theme.palette.mode === 'dark' ?  'black' : 'white',\n    }),\n    warn: theme => ({\n        background: '#FF8000',\n        color: theme.palette.mode === 'dark' ?  'black' : 'white',\n    }),\n    debug: theme => ({\n        background: 'gray',\n        opacity: 0.8,\n        color: theme.palette.mode === 'dark' ?  'black' : 'white',\n    }),\n    silly: theme => ({\n        background: 'gray',\n        opacity: 0.6,\n        color: theme.palette.mode === 'dark' ? 'black' : 'white',\n    }),\n    table: {\n        fontFamily: 'monospace',\n        width: '100%',\n    },\n    toolbox: {\n        width: TOOLBOX_WIDTH,\n        height: '100%',\n        boxShadow: '2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0px rgba(0, 0, 0, 0.14), 1px 0px 10px 0px rgba(0, 0, 0, 0.12)',\n        display: 'inline-block',\n        verticalAlign: 'top',\n        overflow: 'hidden',\n    },\n    trFrom: {\n        width: 90,\n    },\n    trTime: {\n        width: 90,\n    },\n    trSeverity: {\n        width: 40,\n        fontWeight: 'bold',\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 4,\n    },\n    layoutIcon: theme => ({\n        '& img': {\n            width: 24,\n            height: 24,\n            background: theme.palette.mode === 'dark' ? '#9d9d9d' : undefined,\n            borderRadius: theme.palette.mode === 'dark' ? '30px' : undefined,\n        },\n    }),\n};\n\nfunction paddingMs(ms) {\n    if (ms < 10) {\n        return `00${ms}`;\n    }\n    if (ms < 100) {\n        return `0${ms}`;\n    }\n    return ms;\n}\n\nlet gText = {};\n\nclass Log extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            lines: {},\n            goBottom: true,\n            selected: null,\n            editing: this.props.editing || [],\n        };\n        this.lastIndex = null;\n        this.messagesEnd = React.createRef();\n    }\n\n    generateLine(row) {\n        let message = row.message || '';\n\n        if (typeof message !== 'object') {\n            const regExp = new RegExp(`${row.from.replace('.', '\\\\.').replace(')', '\\\\)').replace('(', '\\\\(')} \\\\(\\\\d+\\\\) `, 'g');\n            const matches = message.match(regExp);\n\n            if (matches) {\n                message = message.replace(matches[0], '');\n            } else {\n                message = message.replace(`${row.from} `, '');\n            }\n        }\n\n        return <Box\n            component=\"tr\"\n            key={`tr_${row.ts}_${row.message.substr(-10)}`}\n            sx={styles[row.severity]}\n        >\n            <td style={styles.trFrom}>{row.from}</td>\n            <td style={styles.trTime}>{getTimeString(new Date(row.ts))}</td>\n            <td style={styles.trSeverity}>{row.severity}</td>\n            <td>{message}</td>\n        </Box>;\n    }\n\n    scrollToBottom() {\n        this.messagesEnd && this.messagesEnd.current && this.messagesEnd.current.scrollIntoView({ behavior: 'smooth' });\n    }\n\n    logHandler = message => {\n        let allLines = this.state.lines;\n        const scripts = this.state.editing.filter(id => message.message.includes(id));\n        let selected;\n        if (!scripts.length) {\n            return;\n        } else if (scripts.length === 1) {\n            selected = scripts[0];\n        } else {\n            // try to get the script with the longest common substring\n            scripts.sort();\n            selected = scripts[scripts.length - 1];\n        }\n\n        let lines = allLines[selected] || [];\n        let text = gText[selected] || [];\n\n        lines.push(this.generateLine(message));\n        let severity = message.severity;\n        if (severity === 'info' || severity === 'warn') {\n            severity += ' ';\n        }\n        const date = new Date(message.ts);\n        text.push(`${date.toLocaleString()}.${paddingMs(date.getMilliseconds())}\\t[${severity}]: ${message.message}`);\n        if (lines.length > 300) {\n            lines.splice(0, lines.length - 300);\n            text.splice(0, lines.length - 300);\n        }\n        gText[selected] = text;\n        allLines[selected] = lines;\n\n        this.setState({ lines: allLines });\n    };\n\n    componentDidMount() {\n        this.props.socket.registerLogHandler(this.logHandler);\n    }\n\n    componentWillUnmount() {\n        this.props.socket.unregisterLogHandler(this.logHandler);\n    }\n\n    componentDidUpdate() {\n        this.state.goBottom && this.scrollToBottom();\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        let changed = false;\n        let newState = {};\n\n        if (props.selected !== state.selected) {\n            let selected = props.selected;\n            let allLines = state.lines;\n            allLines[selected] = allLines[selected] || [];\n            gText[selected] = gText[selected] || [];\n            newState.selected = selected;\n            changed = true;\n        }\n\n        if (JSON.stringify(props.editing) !== JSON.stringify(state.editing)) {\n            const editing = JSON.parse(JSON.stringify(props.editing));\n            changed = true;\n            let allLines = state.lines;\n\n            for (const id in gText) {\n                if (gText.hasOwnProperty(id)) {\n                    if (!editing.includes(id)) {\n                        delete gText[id];\n                        delete allLines[id];\n                    }\n                }\n            }\n\n            newState.editing = editing;\n        }\n        return changed ? newState : null;\n    }\n\n    onCopy() {\n        Utils.copyToClipboard((gText[this.state.selected] || []).join('\\n'));\n    }\n\n    clearLog() {\n        let allLines = this.state.lines;\n        if (allLines[this.state.selected]) {\n            allLines[this.state.selected] = [];\n        }\n        if (gText[this.state.selected]) {\n            gText[this.state.selected] = [];\n        }\n        this.setState({ lines: allLines });\n    }\n\n    renderLogList(lines) {\n        if (this.state.selected && lines && lines.length) {\n            return <Box sx={styles.logBoxInner} key=\"logList\">\n                <table key=\"logTable\" style={styles.table}><tbody>{lines}</tbody></table>\n                <div key=\"logScrollPoint\" ref={this.messagesEnd} style={{ float: 'left', clear: 'both' }}/>\n            </Box>;\n        }\n\n        return <Box key=\"logList\" sx={styles.logBoxInner} style={{ paddingLeft: 10 }}>{I18n.t('Log outputs')}</Box>;\n    }\n\n    render() {\n        const lines = this.state.selected && this.state.lines[this.state.selected];\n        return <div style={styles.logBox}>\n            <div style={styles.toolbox} key=\"toolbox\">\n                <IconButton\n                    style={styles.iconButtons}\n                    onClick={() => this.setState({ goBottom: !this.state.goBottom })}\n                    color={this.state.goBottom ? 'secondary' : ''}\n                    size=\"medium\"\n                >\n                    <IconBottom />\n                </IconButton>\n                {lines && lines.length ? <IconButton\n                    style={styles.iconButtons}\n                    onClick={() => this.clearLog()}\n                    size=\"medium\">\n                    <IconDelete />\n                </IconButton> : null}\n                {lines && lines.length ? <IconButton\n                    style={styles.iconButtons}\n                    onClick={() => this.onCopy()}\n                    size=\"medium\">\n                    <IconCopy />\n                </IconButton> : null}\n                {this.props.onLayoutChange ? <IconButton\n                    style={styles.iconButtons}\n                    onClick={() => this.props.onLayoutChange()}\n                    title={I18n.t('Change layout')}\n                    size=\"medium\"\n                    sx={styles.layoutIcon}\n                >\n                    <img alt=\"split\" src={this.props.verticalLayout ? IconVerticalSplit : IconHorizontalSplit} />\n                </IconButton> : null}\n                <IconButton\n                    style={styles.iconButtons}\n                    onClick={() => this.props.onHideLog()}\n                    title={I18n.t('Hide logs')}\n                    size=\"medium\">\n                    <IconHide />\n                </IconButton>\n            </div>\n            {this.renderLogList(lines)}\n        </div>;\n    }\n}\n\nLog.propTypes = {\n    selected: PropTypes.string,\n    socket: PropTypes.object,\n    onLayoutChange: PropTypes.func,\n    verticalLayout: PropTypes.bool,\n};\n\nexport default Log;\n","var _defs, _title, _title2, _title3, _title4, _title5;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgBlockly2Js(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 1536 512\",\n    width: \"96px\",\n    height: \"32px\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-2\",\n    d: \"M 82.97724,29.300104 C 82.790583,28.201973 82.006921,27.299698 80.945743,26.961124 79.884564,26.62255 78.723152,26.904241 77.935,27.691354 L 62.465677,43.197917 50.303229,20.042344 C 49.78815,19.063276 48.772957,18.45025 47.666667,18.45025 c -1.106291,0 -2.121484,0.613026 -2.636563,1.592094 L 38.379115,32.703802 21.695781,1.5864062 C 21.090714,0.45617231 19.83044,-0.16023716 18.566804,0.05600004 17.303168,0.27223724 16.319565,1.2726256 16.12474,2.5397396 L 0,105.76042 43.123438,129.93635 c 2.707936,1.51195 6.006125,1.51195 8.714062,0 l 43.495833,-24.17593 z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-4\",\n    d: \"m 106.68711,35.274174 c -0.186,-1.097652 -0.96693,-1.999535 -2.02439,-2.337961 -1.05747,-0.338426 -2.21482,-0.05686 -3.00022,0.729912 L 86.247266,49.165925 74.127344,26.020451 C 73.614066,25.04181 72.602423,24.429052 71.5,24.429052 c -1.102423,0 -2.114066,0.612758 -2.627344,1.591399 L 62.244922,38.676387 45.619922,7.5725628 C 45.01697,6.4428218 43.761103,5.8266812 42.501885,6.0428241 41.242667,6.258967 40.262504,7.2589191 40.068359,8.5254804 L 24,111.70114 66.972656,135.86653 c 2.698469,1.51129 5.985125,1.51129 8.683594,0 L 119,111.70114 Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-1\",\n    d: \"M 82.97724,29.300104 C 82.790583,28.201973 82.006921,27.299698 80.945743,26.961124 79.884564,26.62255 78.723152,26.904241 77.935,27.691354 L 62.465677,43.197917 50.303229,20.042344 C 49.78815,19.063276 48.772957,18.45025 47.666667,18.45025 c -1.106291,0 -2.121484,0.613026 -2.636563,1.592094 L 38.379115,32.703802 21.695781,1.5864062 C 21.090714,0.45617231 19.83044,-0.16023716 18.566804,0.05600004 17.303168,0.27223724 16.319565,1.2726256 16.12474,2.5397396 L 0,105.76042 43.123438,129.93635 c 2.707936,1.51195 6.006125,1.51195 8.714062,0 l 43.495833,-24.17593 z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-3\",\n    d: \"m 106.68711,35.274174 c -0.186,-1.097652 -0.96693,-1.999535 -2.02439,-2.337961 -1.05747,-0.338426 -2.21482,-0.05686 -3.00022,0.729912 L 86.247266,49.165925 74.127344,26.020451 C 73.614066,25.04181 72.602423,24.429052 71.5,24.429052 c -1.102423,0 -2.114066,0.612758 -2.627344,1.591399 L 62.244922,38.676387 45.619922,7.5725628 C 45.01697,6.4428218 43.761103,5.8266812 42.501885,6.0428241 41.242667,6.258967 40.262504,7.2589191 40.068359,8.5254804 L 24,111.70114 66.972656,135.86653 c 2.698469,1.51129 5.985125,1.51129 8.683594,0 L 119,111.70114 Z\"\n  }))), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"blocklyPath\",\n    fill: \"#5b80a5\",\n    d: \"M 125.927 91.541 L 1148.095 91.541 L 1148.095 420.459 L 125.927 420.459 L 125.927 344.559 C 125.927 218.048 24.719 445.762 24.719 249.678 C 24.719 53.584 125.927 281.303 125.927 154.797 L 125.927 91.541 Z\",\n    style: {\n      strokeWidth: 5\n    }\n  }, _title || (_title = /*#__PURE__*/React.createElement(\"title\", null, \"Brick\"))), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 1494.567 91.523 C 1495.672 91.523 1496.567 92.418 1496.567 93.523 L 1496.567 418.433 C 1496.567 419.538 1495.672 420.433 1494.567 420.433 L 1089.542 420.433 C 1088.437 420.433 1087.542 419.538 1087.542 418.433 L 1087.542 392.145 L 1168.093 91.523 Z\",\n    fill: \"#f7df1e\",\n    style: {\n      strokeWidth: 5\n    }\n  }, _title2 || (_title2 = /*#__PURE__*/React.createElement(\"title\", null, \"JS-Rect\"))), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 1355.681 296.404 C 1364.385 310.617 1375.71 321.064 1395.739 321.064 C 1412.565 321.064 1423.314 312.654 1423.314 301.034 C 1423.314 287.11 1412.27 282.178 1393.75 274.077 L 1383.598 269.721 C 1354.295 257.237 1334.828 241.598 1334.828 208.536 C 1334.828 178.08 1358.033 154.896 1394.299 154.896 C 1420.117 154.896 1438.679 163.881 1452.054 187.409 L 1420.433 207.713 C 1413.471 195.229 1405.96 190.311 1394.299 190.311 C 1382.405 190.311 1374.866 197.856 1374.866 207.713 C 1374.866 219.895 1382.411 224.827 1399.834 232.372 L 1409.986 236.721 C 1444.489 251.517 1463.969 266.6 1463.969 300.513 C 1463.969 337.073 1435.249 357.103 1396.679 357.103 C 1358.966 357.103 1334.602 339.131 1322.68 315.576 L 1355.681 296.404 Z M 1212.231 299.923 C 1218.61 311.241 1224.413 320.81 1238.365 320.81 C 1251.706 320.81 1260.123 315.59 1260.123 295.293 L 1260.123 157.214 L 1300.73 157.214 L 1300.73 295.842 C 1300.73 337.89 1276.078 357.027 1240.094 357.027 C 1207.58 357.027 1188.751 340.201 1179.176 319.935 L 1212.231 299.923 Z\",\n    style: {}\n  }, _title3 || (_title3 = /*#__PURE__*/React.createElement(\"title\", null, \"JS\"))), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"blocklyPath\",\n    d: \"M 1168.088 91.541 L 1168.093 91.523 L 1184.595 91.523 L 1096.457 420.459 L 1051.626 420.459 L 1139.759 91.541 Z\",\n    style: {\n      strokeWidth: 5\n    }\n  }, _title4 || (_title4 = /*#__PURE__*/React.createElement(\"title\", null, \"Slash\"))), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 301.727 331.831 L 229.969 331.831 L 229.969 173.491 L 306.883 173.491 C 326.29 173.778 340.04 179.399 348.133 190.356 C 353.003 197.088 355.438 205.145 355.438 214.526 C 355.438 224.194 353.003 231.964 348.133 237.837 C 345.411 241.131 341.401 244.139 336.102 246.86 C 344.194 249.797 350.299 254.452 354.417 260.825 C 358.535 267.199 360.594 274.933 360.594 284.028 C 360.594 293.41 358.23 301.825 353.504 309.272 C 350.496 314.214 346.736 318.368 342.225 321.733 C 337.14 325.6 331.142 328.25 324.232 329.683 C 317.32 331.115 309.819 331.831 301.727 331.831 Z M 300.975 262.114 L 261.551 262.114 L 261.551 304.331 L 300.438 304.331 C 307.384 304.331 312.791 303.4 316.658 301.538 C 323.676 298.101 327.186 291.512 327.186 281.772 C 327.186 273.537 323.784 267.879 316.981 264.8 C 313.185 263.081 307.849 262.186 300.975 262.114 Z M 317.41 231.929 C 321.707 229.35 323.856 224.731 323.856 218.071 C 323.856 210.695 320.991 205.825 315.262 203.462 C 310.32 201.815 304.018 200.991 296.356 200.991 L 261.551 200.991 L 261.551 235.903 L 300.438 235.903 C 307.384 235.903 313.042 234.578 317.41 231.929 Z M 386.477 173.491 L 417.092 173.491 L 417.092 331.831 L 386.477 331.831 L 386.477 173.491 Z M 544.605 229.565 C 554.487 241.954 559.429 256.6 559.429 273.501 C 559.429 290.688 554.487 305.387 544.605 317.598 C 534.722 329.808 519.719 335.913 499.595 335.913 C 479.471 335.913 464.468 329.808 454.585 317.598 C 444.702 305.387 439.761 290.688 439.761 273.501 C 439.761 256.6 444.702 241.954 454.585 229.565 C 464.468 217.176 479.471 210.981 499.595 210.981 C 519.719 210.981 534.722 217.176 544.605 229.565 Z M 499.488 236.87 C 490.536 236.87 483.643 240.039 478.809 246.377 C 473.975 252.715 471.558 261.756 471.558 273.501 C 471.558 285.246 473.975 294.305 478.809 300.679 C 483.643 307.052 490.536 310.239 499.488 310.239 C 508.439 310.239 515.314 307.052 520.113 300.679 C 524.911 294.305 527.31 285.246 527.31 273.501 C 527.31 261.756 524.911 252.715 520.113 246.377 C 515.314 240.039 508.439 236.87 499.488 236.87 Z M 682.638 256.743 L 651.271 256.743 C 650.697 252.374 649.229 248.436 646.867 244.927 C 643.429 240.2 638.093 237.837 630.861 237.837 C 620.548 237.837 613.494 242.957 609.699 253.198 C 607.693 258.641 606.691 265.874 606.691 274.897 C 606.691 283.491 607.693 290.402 609.699 295.63 C 613.351 305.369 620.226 310.239 630.324 310.239 C 637.485 310.239 642.569 308.305 645.577 304.438 C 648.585 300.571 650.411 295.558 651.056 289.399 L 682.316 289.399 C 681.6 298.709 678.234 307.518 672.218 315.825 C 662.622 329.217 648.406 335.913 629.572 335.913 C 610.737 335.913 596.879 330.327 587.999 319.155 C 579.119 307.983 574.679 293.481 574.679 275.649 C 574.679 255.526 579.584 239.878 589.396 228.706 C 599.207 217.534 612.742 211.948 630.001 211.948 C 644.682 211.948 656.695 215.242 666.041 221.831 C 675.387 228.42 680.919 240.057 682.638 256.743 Z M 811.113 331.831 L 774.16 331.831 L 746.123 281.772 L 733.447 294.985 L 733.447 331.831 L 703.369 331.831 L 703.369 174.028 L 733.447 174.028 L 733.447 259.321 L 771.582 215.278 L 809.502 215.278 L 768.574 260.073 L 811.113 331.831 Z M 826.688 173.491 L 857.303 173.491 L 857.303 331.831 L 826.688 331.831 L 826.688 173.491 Z M 934.748 301.108 L 958.918 214.741 L 991.467 214.741 L 951.291 329.897 C 943.557 352.098 937.434 365.866 932.922 371.201 C 928.41 376.536 919.387 379.204 905.852 379.204 C 903.13 379.204 900.946 379.186 899.299 379.15 C 897.651 379.115 895.181 378.989 891.887 378.774 L 891.887 354.282 L 895.754 354.497 C 898.762 354.64 901.626 354.533 904.348 354.175 C 907.069 353.817 909.361 352.993 911.223 351.704 C 913.013 350.487 914.678 347.944 916.218 344.077 C 917.758 340.21 918.384 337.846 918.098 336.987 L 875.129 214.741 L 909.182 214.741 L 934.748 301.108 Z\",\n    style: {\n      fill: \"rgb(255, 255, 255)\"\n    }\n  }, _title5 || (_title5 = /*#__PURE__*/React.createElement(\"title\", null, \"Blockly\"))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBlockly2Js);\nexport default __webpack_public_path__ + \"static/media/blockly2js.8fb8f9319a060341c081277b7b760c74.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _title, _title2, _title3, _title4, _title5;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgRules2Js(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 1536 512\",\n    width: \"96px\",\n    height: \"32px\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-2\",\n    d: \"M 82.97724,29.300104 C 82.790583,28.201973 82.006921,27.299698 80.945743,26.961124 79.884564,26.62255 78.723152,26.904241 77.935,27.691354 L 62.465677,43.197917 50.303229,20.042344 C 49.78815,19.063276 48.772957,18.45025 47.666667,18.45025 c -1.106291,0 -2.121484,0.613026 -2.636563,1.592094 L 38.379115,32.703802 21.695781,1.5864062 C 21.090714,0.45617231 19.83044,-0.16023716 18.566804,0.05600004 17.303168,0.27223724 16.319565,1.2726256 16.12474,2.5397396 L 0,105.76042 43.123438,129.93635 c 2.707936,1.51195 6.006125,1.51195 8.714062,0 l 43.495833,-24.17593 z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-4\",\n    d: \"m 106.68711,35.274174 c -0.186,-1.097652 -0.96693,-1.999535 -2.02439,-2.337961 -1.05747,-0.338426 -2.21482,-0.05686 -3.00022,0.729912 L 86.247266,49.165925 74.127344,26.020451 C 73.614066,25.04181 72.602423,24.429052 71.5,24.429052 c -1.102423,0 -2.114066,0.612758 -2.627344,1.591399 L 62.244922,38.676387 45.619922,7.5725628 C 45.01697,6.4428218 43.761103,5.8266812 42.501885,6.0428241 41.242667,6.258967 40.262504,7.2589191 40.068359,8.5254804 L 24,111.70114 66.972656,135.86653 c 2.698469,1.51129 5.985125,1.51129 8.683594,0 L 119,111.70114 Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-1\",\n    d: \"M 82.97724,29.300104 C 82.790583,28.201973 82.006921,27.299698 80.945743,26.961124 79.884564,26.62255 78.723152,26.904241 77.935,27.691354 L 62.465677,43.197917 50.303229,20.042344 C 49.78815,19.063276 48.772957,18.45025 47.666667,18.45025 c -1.106291,0 -2.121484,0.613026 -2.636563,1.592094 L 38.379115,32.703802 21.695781,1.5864062 C 21.090714,0.45617231 19.83044,-0.16023716 18.566804,0.05600004 17.303168,0.27223724 16.319565,1.2726256 16.12474,2.5397396 L 0,105.76042 43.123438,129.93635 c 2.707936,1.51195 6.006125,1.51195 8.714062,0 l 43.495833,-24.17593 z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-3\",\n    d: \"m 106.68711,35.274174 c -0.186,-1.097652 -0.96693,-1.999535 -2.02439,-2.337961 -1.05747,-0.338426 -2.21482,-0.05686 -3.00022,0.729912 L 86.247266,49.165925 74.127344,26.020451 C 73.614066,25.04181 72.602423,24.429052 71.5,24.429052 c -1.102423,0 -2.114066,0.612758 -2.627344,1.591399 L 62.244922,38.676387 45.619922,7.5725628 C 45.01697,6.4428218 43.761103,5.8266812 42.501885,6.0428241 41.242667,6.258967 40.262504,7.2589191 40.068359,8.5254804 L 24,111.70114 66.972656,135.86653 c 2.698469,1.51129 5.985125,1.51129 8.683594,0 L 119,111.70114 Z\"\n  }))), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"blocklyPath\",\n    d: \"M 125.927 91.541 L 1148.095 91.541 L 1148.095 420.459 L 125.927 420.459 L 125.927 344.559 C 125.927 218.048 24.719 445.762 24.719 249.678 C 24.719 53.584 125.927 281.303 125.927 154.797 L 125.927 91.541 Z\",\n    style: {\n      strokeWidth: 5,\n      fill: \"rgb(1, 35, 92)\"\n    }\n  }, _title || (_title = /*#__PURE__*/React.createElement(\"title\", null, \"Brick\"))), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 1494.567 91.523 C 1495.672 91.523 1496.567 92.418 1496.567 93.523 L 1496.567 418.433 C 1496.567 419.538 1495.672 420.433 1494.567 420.433 L 1089.542 420.433 C 1088.437 420.433 1087.542 419.538 1087.542 418.433 L 1087.542 392.145 L 1168.093 91.523 Z\",\n    fill: \"#f7df1e\",\n    style: {\n      strokeWidth: 5\n    }\n  }, _title2 || (_title2 = /*#__PURE__*/React.createElement(\"title\", null, \"JS-Rect\"))), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 1355.681 296.404 C 1364.385 310.617 1375.71 321.064 1395.739 321.064 C 1412.565 321.064 1423.314 312.654 1423.314 301.034 C 1423.314 287.11 1412.27 282.178 1393.75 274.077 L 1383.598 269.721 C 1354.295 257.237 1334.828 241.598 1334.828 208.536 C 1334.828 178.08 1358.033 154.896 1394.299 154.896 C 1420.117 154.896 1438.679 163.881 1452.054 187.409 L 1420.433 207.713 C 1413.471 195.229 1405.96 190.311 1394.299 190.311 C 1382.405 190.311 1374.866 197.856 1374.866 207.713 C 1374.866 219.895 1382.411 224.827 1399.834 232.372 L 1409.986 236.721 C 1444.489 251.517 1463.969 266.6 1463.969 300.513 C 1463.969 337.073 1435.249 357.103 1396.679 357.103 C 1358.966 357.103 1334.602 339.131 1322.68 315.576 L 1355.681 296.404 Z M 1212.231 299.923 C 1218.61 311.241 1224.413 320.81 1238.365 320.81 C 1251.706 320.81 1260.123 315.59 1260.123 295.293 L 1260.123 157.214 L 1300.73 157.214 L 1300.73 295.842 C 1300.73 337.89 1276.078 357.027 1240.094 357.027 C 1207.58 357.027 1188.751 340.201 1179.176 319.935 L 1212.231 299.923 Z\",\n    style: {}\n  }, _title3 || (_title3 = /*#__PURE__*/React.createElement(\"title\", null, \"JS\"))), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"blocklyPath\",\n    d: \"M 1168.088 91.541 L 1168.093 91.523 L 1184.595 91.523 L 1096.457 420.459 L 1051.626 420.459 L 1139.759 91.541 Z\",\n    style: {\n      strokeWidth: 5\n    }\n  }, _title4 || (_title4 = /*#__PURE__*/React.createElement(\"title\", null, \"Slash\"))), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 296.678 269.741 L 262.518 269.741 L 262.518 331.831 L 230.184 331.831 L 230.184 173.491 L 307.85 173.491 Q 324.5 173.813 333.47 177.573 Q 342.44 181.333 348.67 188.638 Q 353.826 194.653 356.834 201.958 Q 359.842 209.263 359.842 218.608 Q 359.842 229.888 354.149 240.791 Q 348.455 251.694 335.35 256.206 Q 346.307 260.61 350.872 268.721 Q 355.438 276.831 355.438 293.481 L 355.438 304.116 Q 355.438 314.966 356.297 318.833 Q 357.586 324.956 362.313 327.856 L 362.313 331.831 L 325.897 331.831 Q 324.393 326.567 323.748 323.345 Q 322.459 316.685 322.352 309.702 L 322.137 294.985 Q 321.922 279.839 316.605 274.79 Q 311.287 269.741 296.678 269.741 Z M 316.766 240.952 Q 326.649 236.44 326.649 223.12 Q 326.649 208.726 317.088 203.784 Q 311.717 200.991 300.975 200.991 L 262.518 200.991 L 262.518 243.53 L 300.008 243.53 Q 311.18 243.53 316.766 240.952 Z M 481.977 270.815 L 481.977 173.491 L 515.6 173.491 L 515.6 270.815 Q 515.6 296.06 507.758 310.132 Q 493.148 335.913 452.006 335.913 Q 410.863 335.913 396.147 310.132 Q 388.305 296.06 388.305 270.815 L 388.305 173.491 L 421.928 173.491 L 421.928 270.815 Q 421.928 287.143 425.795 294.663 Q 431.811 307.983 452.006 307.983 Q 472.094 307.983 478.109 294.663 Q 481.977 287.143 481.977 270.815 Z M 547.184 173.491 L 580.27 173.491 L 580.27 303.364 L 658.688 303.364 L 658.688 331.831 L 547.184 331.831 Z M 791.781 262.651 L 714.867 262.651 L 714.867 303.364 L 802.524 303.364 L 802.524 331.831 L 682.533 331.831 L 682.533 173.491 L 798.656 173.491 L 798.656 201.528 L 714.867 201.528 L 714.867 235.151 L 791.781 235.151 Z M 885.775 308.95 Q 897.484 308.95 904.789 306.372 Q 918.647 301.431 918.647 288.003 Q 918.647 280.161 911.772 275.864 Q 904.897 271.675 890.18 268.452 L 873.422 264.692 Q 848.715 259.106 839.262 252.554 Q 823.256 241.597 823.256 218.286 Q 823.256 197.017 838.725 182.944 Q 854.193 168.872 884.164 168.872 Q 909.193 168.872 926.864 182.139 Q 944.535 195.405 945.395 220.649 L 913.598 220.649 Q 912.738 206.362 901.137 200.347 Q 893.402 196.372 881.908 196.372 Q 869.125 196.372 861.498 201.528 Q 853.871 206.685 853.871 215.923 Q 853.871 224.409 861.391 228.599 Q 866.225 231.392 882.016 235.151 L 909.301 241.704 Q 927.24 246.001 936.371 253.198 Q 950.551 264.37 950.551 285.532 Q 950.551 307.231 933.954 321.572 Q 917.357 335.913 887.065 335.913 Q 856.127 335.913 838.402 321.787 Q 820.678 307.661 820.678 282.954 L 852.26 282.954 Q 853.764 293.804 858.168 299.175 Q 866.225 308.95 885.775 308.95 Z\",\n    style: {\n      fill: \"rgb(255, 255, 255)\"\n    }\n  }, _title5 || (_title5 = /*#__PURE__*/React.createElement(\"title\", null, \"RULES\"))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRules2Js);\nexport default __webpack_public_path__ + \"static/media/rules2js.a3f8ea14eb2673da17e7611b2299af6f.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Fab } from '@mui/material';\n\nimport { MdGTranslate as IconNoCheck } from 'react-icons/md';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nfunction isIdOfGlobalScript(id) {\n    return /^script\\.js\\.global\\./.test(id);\n}\nlet index = 0;\nclass ScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: 'current',\n            isDark: props.isDark || false,\n            language: props.language || 'javascript',\n            readOnly: props.readOnly || false,\n            alive: true,\n            check: false,\n            searchText: this.props.searchText || '',\n            typingsLoaded: false,\n        };\n        this.runningInstancesStr = JSON.stringify(this.props.runningInstances);\n        this.monacoDiv = null; //ref\n        this.editor = null;\n        this.monaco = window.monaco;\n        this.insert = '';\n        this.originalCode = props.code || '';\n        this.typings = {}; // TypeScript declarations\n        this.lastSearch = '';\n    }\n\n    waitForMonaco(cb) {\n        let monacoLoaded = this.monaco?.languages?.typescript?.typescriptDefaults?.getCompilerOptions;\n        if (!monacoLoaded || !this.props.runningInstances) {\n            this.monaco = window.monaco;\n            monacoLoaded = this.monaco?.languages?.typescript?.typescriptDefaults?.getCompilerOptions;\n            this.monacoCounter = this.monacoCounter || 0;\n            this.monacoCounter++;\n            if (!monacoLoaded && this.monacoCounter < 20) {\n                console.log('wait for monaco loaded');\n                setTimeout(() => this.waitForMonaco(cb), 200);\n                return;\n            }\n            if (this.monacoCounter >= 20) {\n                console.error('Cannot load monaco!');\n            }\n        } else {\n            cb && cb();\n        }\n    }\n\n    loadTypings(runningInstances) {\n        if (!this.editor) {\n            return;\n        }\n        runningInstances = runningInstances || this.props.runningInstances;\n\n        const scriptAdapterInstance = runningInstances && Object.keys(runningInstances).find(id => runningInstances[id]);\n        if (scriptAdapterInstance) {\n            this.props.socket.sendTo(scriptAdapterInstance.replace('system.adapter.', ''), 'loadTypings', null)\n                .then(result => {\n                    this.setState({ alive: true, check: true, typingsLoaded: true });\n                    this.setTypeCheck(true);\n                    if (result.typings) {\n                        this.typings = result.typings;\n                        this.setEditorTypings(this.state.name);\n                    } else {\n                        console.error(`failed to load typings: ${result.error}`);\n                    }\n                });\n        }\n    }\n\n    componentDidMount() {\n        const monacoLoaded = this.monaco?.languages?.typescript?.typescriptDefaults?.getCompilerOptions;\n        if (!monacoLoaded || !this.props.runningInstances) {\n            this.monaco = window.monaco;\n            if (!monacoLoaded) {\n                console.log('wait for monaco loaded...');\n                this.waitForMonaco(() => this.componentDidMount());\n\n                return;\n            }\n        }\n        if (!this.editor && monacoLoaded) {\n            console.log('Init editor');\n            this.props.onRegisterSelect && this.props.onRegisterSelect(() => this.editor.getModel().getValueInRange(this.editor.getSelection()));\n            // For some reason, we have to get the original compiler options\n            // and assign new properties one by one\n            const compilerOptions = this.monaco.languages.typescript.typescriptDefaults['getCompilerOptions']();\n            compilerOptions.target = this.monaco.languages.typescript.ScriptTarget.ES2015;\n            compilerOptions.allowJs = true;\n            compilerOptions.checkJs = this.props.checkJs !== false;\n            compilerOptions.noLib = true;\n            compilerOptions.lib = [];\n            compilerOptions.useUnknownInCatchVariables = false;\n            compilerOptions.moduleResolution = this.monaco.languages.typescript.ModuleResolutionKind.NodeJs;\n            this.monaco.languages.typescript.typescriptDefaults.setCompilerOptions(compilerOptions);\n\n            this.setTypeCheck(false);\n\n            // Create the editor instances\n            this.editor = this.monaco.editor.create(this.monacoDiv, {\n                lineNumbers: 'on',\n                scrollBeyondLastLine: false,\n                automaticLayout: true,\n                glyphMargin: !!this.props.breakpoints,\n            });\n\n            this.editor.onDidChangeModelContent(() =>\n                this.onChange(this.editor.getValue()));\n\n            // Load typings for the JS editor\n            /** @type {string} */\n            this.loadTypings();\n\n            this.editor.addCommand(this.monaco.KeyMod.CtrlCmd | this.monaco.KeyCode.KEY_S, () =>\n                this.onForceSave());\n\n            setTimeout(() => {\n                this.highlightText(this.state.searchText);\n                this.location = this.props.location;\n                this.breakpoints = this.props.breakpoints;\n                this.showDecorators();\n            });\n        }\n        const options = {\n            selectOnLineNumbers: true,\n            scrollBeyondLastLine: false,\n            automaticLayout: true,\n            readOnly: this.state.readOnly,\n            language: this.state.language,\n            isDark: this.state.isDark,\n        };\n\n        this.setEditorOptions(options);\n        this.editor.focus();\n        this.editor.setValue(this.originalCode);\n\n        if (this.props.onToggleBreakpoint) {\n            // add onMouseDown listener to toggle breakpoints\n            this.editor.onMouseDown(e => {\n                if (e.target.detail && e.target.detail.glyphMarginLeft !== undefined) {\n                    this.props.onToggleBreakpoint(e.target.position.lineNumber - 1);\n                }\n            });\n        } else {\n            // remove onMouseDown listener\n            this.editor.onMouseDown(() => { /* nop */ });\n        }\n    }\n\n    /**\n     * Sets some options of the code editor\n     * @param {object} options The editor options to change\n     * @param {Partial<{readOnly: boolean, lineWrap: boolean, language: EditorLanguage, typeCheck: boolean}>} options\n     */\n    setEditorOptions(options) {\n        if (options) {\n            if (options.language) {\n                this.setEditorLanguage(options.language);\n            }\n            if (options.readOnly !== undefined) {\n                this.editor.updateOptions({ readOnly: options.readOnly });\n            }\n            if (options.lineWrap !== undefined) {\n                this.editor.updateOptions({ wordWrap: options.lineWrap ? 'on' : 'off' });\n            }\n            if (options.typeCheck !== undefined) {\n                this.setTypeCheck(options.typeCheck);\n            }\n            if (options.isDark !== undefined) {\n                this.monaco.editor.setTheme(options.isDark ? 'vs-dark' : 'vs');\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(null);\n            this.editor.dispose();\n            this.editor = null;\n        }\n    }\n\n    /** @typedef {\"javascript\" | \"typescript\"} EditorLanguage */\n\n    /**\n     * Sets the language of the code editor\n     * @param {EditorLanguage} language\n     */\n    setEditorLanguage(language) {\n        // we need to recreate the model when changing languages,\n        // so remember its settings\n        const model = this.editor.getModel();\n        const code  = model.getValue();\n        const uri   = model.uri.path;\n\n        const filenameWithoutExtension =\n            typeof uri === 'string' && uri.includes('.')\n                ? uri.substr(0, uri.lastIndexOf('.'))\n                : 'index';\n\n        const extension =\n            language === 'javascript' ? 'js'\n                : (language === 'typescript' ? 'ts' : language);\n\n        // get rid of the original model\n        model.dispose();\n\n        // Both JS and TS need the model to work in TypeScript as the script type\n        // is inferred from the file extension\n        const newLanguage = (language === 'javascript' || language === 'typescript') ? 'typescript' : language;\n\n        const newModel = this.monaco.editor.createModel(\n            code,\n            newLanguage,\n            this.monaco.Uri.from({ path: `${filenameWithoutExtension}${index++}.${extension}` }),\n        );\n\n        this.editor.setModel(newModel);\n    }\n\n    /**\n     * Enables or disables the type checking in the editor\n     * @param {boolean} enabled - Whether type checking is enabled or not\n     */\n    setTypeCheck(enabled) {\n        const options = {\n            noSemanticValidation: !this.state.alive || !enabled, // toggle the type checking\n            noSyntaxValidation: !this.state.alive // always check the syntax\n        };\n        this.monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions(options);\n    }\n\n    /**\n     * @param {string} [currentScriptName] The name of the current script\n     */\n    setEditorTypings(currentScriptName = '') {\n        const isGlobalScript = isIdOfGlobalScript(currentScriptName);\n        // The filename of the declarations this script can see if it is a global script\n        const partialDeclarationsPath = `${currentScriptName}.d.ts`;\n        const wantedTypings = [];\n        for (const path of Object.keys(this.typings)) {\n            // global scripts don't get to see all other global scripts\n            // but only a part of them\n            if (isGlobalScript) {\n                if (path === 'global.d.ts') {\n                    continue;\n                }\n                if (path.startsWith('script.js.global') && path !== partialDeclarationsPath) {\n                    continue;\n                }\n            }\n            wantedTypings.push({\n                filePath: path,\n                content: this.typings[path],\n            });\n        }\n\n        // TODO BF: check https://microsoft.github.io/monaco-editor/playground.html#extending-language-services-semantic-tokens-provider-example\n        // to support 0.21.0\n\n        if (this.monaco?.languages?.typescript?.typescriptDefaults?.setExtraLibs) {\n            this.monaco.languages.typescript.typescriptDefaults.setExtraLibs(wantedTypings);\n        } else if (this.monaco?.languages?.typescript?.typescriptDefaults?.addExtraLib) {\n            const existingLibs = this.monaco.languages.typescript.typescriptDefaults.getExtraLibs();\n            wantedTypings.forEach(lib => {\n                if (!existingLibs[lib.filePath]) {\n                    this.monaco.languages.typescript.typescriptDefaults.addExtraLib(lib, lib.filePath);\n                }\n            });\n        }\n    }\n\n    /**\n     * Inserts some text into the given editor\n     * @param {string} text The text to add\n     */\n    insertTextIntoEditor(text) {\n        const selection = this.editor.getSelection();\n        const range = new this.monaco.Range(\n            selection.startLineNumber,\n            selection.startColumn,\n            selection.endLineNumber,\n            selection.endColumn,\n        );\n        this.editor.executeEdits('', [{ range, text, forceMoveMarkers: true }]);\n        this.editor.focus();\n    }\n\n    highlightText(text) {\n        const range = text && this.editor.getModel().findMatches(text);\n        if (range && range.length) {\n            range.forEach(r => this.editor.setSelection(r.range));\n            this.editor.revealLine(range[0].range.startLineNumber);\n        } else if (this.editor) {\n            const row = this.editor.getPosition().lineNumber;\n            const col = this.editor.getPosition().column;\n            this.editor.setSelection(new this.monaco.Range(row, col, row, col));\n        }\n    }\n\n    showDecorators() {\n        this.decorations = this.decorations || [];\n        const decorations = [];\n        if (this.location) {\n            decorations.push({\n                range: new this.monaco.Range(this.location.lineNumber + 1, this.location.columnNumber + 1, this.location.lineNumber + 1, 1000),\n                options: {\n                    isWholeLine: false,\n                    className: this.props.isDark ? 'monacoCurrentLineDark' : 'monacoCurrentLine',\n                },\n            });\n            decorations.push({\n                range: new this.monaco.Range(this.location.lineNumber + 1, 0, this.location.lineNumber + 1, 0),\n                options: {\n                    isWholeLine: true,\n                    className: this.props.isDark ? 'monacoCurrentFullLineDark' : 'monacoCurrentFullLine',\n                },\n            });\n        }\n\n        if (this.breakpoints) {\n            this.breakpoints.forEach(bp => {\n                decorations.push({\n                    range: new this.monaco.Range(bp.location.lineNumber + 1, 0, bp.location.lineNumber + 1, 100),\n                    options: {\n                        isWholeLine: true,\n                        glyphMarginClassName: this.props.isDark ? 'monacoBreakPointDark' : 'monacoBreakPoint',\n                    },\n                });\n            });\n        }\n        this.editor && (this.decorations =\n            this.editor.deltaDecorations(this.decorations, decorations));\n    }\n\n    initNewScript(name, code) {\n        this.setState({ name });\n        this.originalCode = code || '';\n        this.editor && this.editor.setValue(code);\n        this.highlightText(this.lastSearch);\n        this.showDecorators();\n        // this.setEditorLanguage();\n        // Update the typings because global scripts need different typings than normal scripts\n        // and each global script has different typings\n        this.setEditorTypings(name);\n    }\n\n    scrollToLineIfNeeded(lineNumber) {\n        if (this.editor) {\n            const ranges = this.editor.getVisibleRanges();\n            if (!ranges || !ranges[0] || ranges[0].startLineNumber > lineNumber || lineNumber > ranges[0].endLineNumber) {\n                this.editor.revealLineInCenter(lineNumber);\n            }\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const options = {};\n        if (this.state.name !== nextProps.name) {\n            // A different script was selected\n            this.initNewScript(nextProps.name, nextProps.code);\n        }\n\n        // if some running instance is found and\n        if (JSON.stringify(nextProps.runningInstances) !== this.runningInstancesStr) {\n            this.runningInstancesStr = JSON.stringify(nextProps.runningInstances);\n            if (!this.state.typingsLoaded) {\n                this.loadTypings(nextProps.runningInstances);\n            }\n        }\n\n        // if the code not yet changed, update the new code\n        if (this.editor && !nextProps.changed && (nextProps.code !== this.originalCode || nextProps.code !== this.editor.getValue())) {\n            this.originalCode = nextProps.code;\n            this.editor.setValue(this.originalCode);\n            this.showDecorators();\n            this.location && this.scrollToLineIfNeeded(this.location.lineNumber + 1);\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.highlightText(this.lastSearch);\n        }\n\n        if (JSON.stringify(nextProps.location) !== JSON.stringify(this.location) &&\n            JSON.stringify(nextProps.breakpoints) !== JSON.stringify(this.breakpoints)\n        ) {\n            this.location = nextProps.location;\n            this.breakpoints = nextProps.breakpoints;\n            this.showDecorators();\n            this.editor && this.location && this.scrollToLineIfNeeded(this.location.lineNumber + 1);\n            // this.editor && this.location && this.editor.setPosition(this.location.lineNumber + 1, this.location.columnNumber + 1);\n        } else if (JSON.stringify(nextProps.breakpoints) !== JSON.stringify(this.breakpoints)) {\n            this.breakpoints = nextProps.breakpoints;\n            this.showDecorators();\n        } else if (JSON.stringify(nextProps.location) !== JSON.stringify(this.location)) {\n            this.location = nextProps.location;\n            this.showDecorators();\n            this.editor && this.location && this.scrollToLineIfNeeded(this.location.lineNumber + 1);\n            // this.editor && this.location && this.editor.setPosition(this.location.lineNumber + 1, this.location.columnNumber + 1);\n        }\n\n        if (this.state.language !== (nextProps.language || 'javascript')) {\n            this.setState({ language: nextProps.language || 'javascript' });\n            options.language = nextProps.language || 'javascript';\n        } else if (this.state.readOnly !== (nextProps.readOnly || false)) {\n            this.setState({ readOnly: nextProps.readOnly || false });\n            options.readOnly = nextProps.readOnly;\n        } else if (this.state.isDark !== (nextProps.isDark || false)) {\n            this.setState({ isDark: nextProps.isDark || false });\n            options.isDark = nextProps.isDark;\n        }\n\n        this.setEditorOptions(options);\n\n        if (this.insert !== nextProps.insert) {\n            this.insert = nextProps.insert;\n            if (this.insert) {\n                console.log(`Insert text: ${this.insert}`);\n                setTimeout(insert => {\n                    this.insertTextIntoEditor(insert);\n                    setTimeout(() => this.props.onInserted && this.props.onInserted(), 100);\n                }, 100, this.insert);\n            }\n        }\n    }\n\n    onChange(newValue, e) {\n        if (!this.props.readOnly) {\n            this.props.onChange && this.props.onChange(this.editor.getValue());\n        }\n    }\n\n    render() {\n        if (!this.monaco?.languages?.typescript?.typescriptDefaults || !this.props.runningInstances) {\n            setTimeout(() => {\n                this.monaco = window.monaco;\n                this.forceUpdate();\n            }, 200);\n            return null;\n        }\n\n        return <div ref={el => this.monacoDiv = el} style={{width: '100%', height: '100%', overflow: 'hidden', position: 'relative'}}>\n            {!this.state.check && <Fab\n                size=\"small\"\n                title={I18n.t('Check is not active, because javascript adapter is disabled')}\n                style={{ bottom: 10, right: 10, opacity: 0.5, position: 'absolute', zIndex: 1, background: 'red', color: 'white' }}\n                color=\"secondary\"\n            >\n                <IconNoCheck />\n            </Fab>}\n        </div>;\n    }\n}\n\nScriptEditor.propTypes = {\n    adapterName: PropTypes.string.isRequired,\n    socket: PropTypes.object,\n    runningInstances: PropTypes.object,\n    name: PropTypes.string,\n    onChange: PropTypes.func,\n    onForceSave: PropTypes.func,\n    onInserted: PropTypes.func,\n    isDark: PropTypes.bool,\n    readOnly: PropTypes.bool,\n    code: PropTypes.string,\n    language: PropTypes.string,\n    onRegisterSelect: PropTypes.func,\n    searchText: PropTypes.string,\n    checkJs: PropTypes.bool,\n    changed: PropTypes.bool,\n\n    breakpoints: PropTypes.array,\n    location: PropTypes.object,\n    onToggleBreakpoint: PropTypes.func,\n};\n\nexport default ScriptEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    Button,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Dialog,\n    Popper,\n    Fade,\n    Paper,\n} from '@mui/material';\n\nimport {\n    FileCopy as IconCopy,\n    Cancel as IconCancel,\n} from '@mui/icons-material';\nimport { FaFileExport as IconExport } from 'react-icons/fa';\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nconst styles = {\n    textArea: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto',\n    },\n    textAreaLight: {\n        background: 'lightgray',\n    },\n    dialog: {\n        height: '95%',\n    },\n    typography: {\n        padding: 16,\n    },\n    overflowY: {\n        overflowY: 'hidden',\n    },\n};\n\nclass DialogExport extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null,\n            popper: '',\n        };\n    }\n\n    handleCancel() {\n        this.props.onClose();\n    }\n\n    onCopy(event) {\n        Utils.copyToClipboard(this.props.text);\n        const anchorEl = event.currentTarget;\n\n        setTimeout(() => {\n            this.setState({ popper: I18n.t('Copied'), anchorEl });\n            setTimeout(() => this.setState({ popper: '', anchorEl: null }), 1000);\n        }, 50);\n    }\n\n    render() {\n        const file = new Blob([this.props.text], {type: 'application/xml'});\n        const fileName = this.props.scriptId.substring('scripts.js'.length) + '.xml';\n\n        return <Dialog\n            key=\"export-dialog\"\n            onClose={() => false}\n            maxWidth=\"lg\"\n            sx={{ '& .MuiDialog-paper': styles.dialog }}\n            fullWidth\n            open={this.props.open}\n            aria-labelledby=\"export-dialog-title\"\n        >\n            <DialogTitle id=\"export-dialog-title\">{I18n.t('Export selected blocks')}</DialogTitle>\n            <DialogContent style={styles.overflowY}>\n                <pre\n                    id=\"export-text\"\n                    style={{\n                        ...styles.textArea,\n                        ...(this.props.themeType === 'dark' ? undefined : styles.textAreaLight),\n                    }}\n                >\n                    {this.props.text}\n            </pre>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" color=\"secondary\" startIcon={<IconExport />}>\n                    <a download={fileName} target=\"_blank\" rel=\"noreferrer\" href={URL.createObjectURL(file)} style={{\n                        textDecoration: \"inherit\",\n                        color: \"inherit\",\n                    }}>{I18n.t('Download as file')}</a>\n                </Button>\n                <Button variant=\"contained\" onClick={event => this.onCopy(event)} color=\"secondary\" startIcon={<IconCopy/>}>{I18n.t('Copy to clipboard')}</Button>\n                <Button variant=\"contained\" onClick={() => this.handleCancel()} color=\"primary\" startIcon={<IconCancel/>}>{I18n.t('Close')}</Button>\n\n                <Popper\n                    id=\"popper\"\n                    style={{ zIndex: 10000 }}\n                    open={!!this.state.popper}\n                    placement=\"top\"\n                    anchorEl={this.state.anchorEl} transition>\n                    {({ TransitionProps }) => (\n                        <Fade {...TransitionProps} timeout={350}>\n                            <Paper>\n                                <p style={styles.typography}>{this.state.popper}</p>\n                            </Paper>\n                        </Fade>\n                    )}\n                </Popper>\n                <textarea id=\"copy_input\" readOnly style={{ position: 'absolute', left: -9999 }} tabIndex={-1} aria-hidden value={this.props.text} />\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogExport.defaultProps = {\n    open: true,\n};\n\nDialogExport.propTypes = {\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n    scriptId: PropTypes.string,\n    themeType: PropTypes.string,\n};\n\nexport default DialogExport;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Dropzone from 'react-dropzone';\n\nimport {\n    Button,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Dialog,\n} from '@mui/material';\n\nimport {\n    Check as IconOk,\n    Cancel as IconCancel,\n} from '@mui/icons-material';\nimport {\n    MdFileUpload as IconUpload,\n    MdCancel as IconNo,\n    MdAdd as IconPlus,\n} from 'react-icons/md';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst styles = {\n    textArea: {\n        width: 'calc(100% - 10px)',\n        height: '80%',\n        resize: 'none',\n        fontFamily: 'monospace',\n        fontSize: '1em',\n    },\n    dropzone: {\n        marginTop: 20,\n        width: '100%',\n        borderWidth: 5,\n        borderStyle: 'dashed',\n        borderColor: '#d0cccc',\n        textAlign: 'center',\n        boxSizing: 'border-box',\n        paddingTop: 45,\n        borderRadius: 10,\n        height: 'calc(100% - 10px)',\n    },\n    dropzoneDiv: {\n        width: '100%',\n        height: '20%',\n        position: 'relative',\n    },\n    dropzoneRejected: {\n        borderColor: '#970000',\n    },\n    dropzoneAccepted: {\n        borderColor: '#17cd02',\n    },\n    icon: {\n        height: '30%',\n        width: '30%',\n        color: '#eeeeee',\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        zIndex: 0,\n    },\n    iconError: {\n        color: '#ffc3c6',\n    },\n    iconOk: {\n        color: '#aaeebc',\n    },\n    text: {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        color: '#868686',\n        position: 'absolute',\n        zIndex: 1,\n    },\n    dialog: {\n        height: '95%',\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden',\n    },\n};\n\nclass DialogImport extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    static readFileDataUrl(file, cb) {\n        const reader = new FileReader();\n        reader.onload = () => {\n            cb(null, {data: reader.result, name: file.name});\n        };\n        reader.onabort = () => {\n            console.error('file reading was aborted');\n            cb(I18n.t('file reading was aborted'));\n        };\n        reader.onerror = (e) => {\n            console.error('file reading has failed');\n            cb(I18n.t('file reading has failed: %s', e));\n        };\n\n        reader.readAsText(file);\n    }\n\n    handleDropFile(files) {\n        if (files && files.hasOwnProperty('target')) {\n            files = files.target.files;\n        }\n\n        if (!files && !files.length) {\n            return;\n        }\n\n        const file = files[files.length - 1];\n\n        if (!file) {\n            return;\n        }\n\n        DialogImport.readFileDataUrl(file, (err, result) => {\n            if (err) {\n                this.setState({ error: err });\n            } else {\n                this.setState({ text: result.data });\n            }\n        });\n    }\n\n    handleCancel() {\n        this.props.onClose();\n    }\n\n    handleOk() {\n        this.props.onClose(this.state.text);\n    }\n\n    onChange(e) {\n        this.setState({ text: e.target.value });\n    }\n\n    render() {\n        const style = {\n            ...styles.dropzone,\n            ...(this.state.imageStatus === 'accepted' ? styles.dropzoneAccepted :\n                (this.state.imageStatus === 'rejected' ? styles.dropzoneRejected : undefined)),\n        };\n\n        return <Dialog\n            onClose={() => false}\n            maxWidth=\"lg\"\n            sx={{ '& .MuiDialog-paper': styles.dialog }}\n            fullWidth\n            open={this.props.open}\n            aria-labelledby=\"import-dialog-title\"\n        >\n            <DialogTitle id=\"import-dialog-title\">{I18n.t('Import blocks')}</DialogTitle>\n            <DialogContent style={styles.fullHeight}>\n                <style>\n                    {`\n.dropzoneRejected {\n    borderColor: #970000;\n}\n.dropzoneAccepted: {\n    borderColor: #17cd02;\n}\n`}\n                </style>\n                <textarea\n                    autoFocus\n                    id=\"import-text-area\"\n                    style={styles.textArea}\n                    onChange={e => this.onChange(e)}\n                    value={this.state.text}\n                />\n                <Dropzone\n                    key='image-drop'\n                    maxSize={50000000}\n                    acceptClassName=\"dropzoneAccepted\"\n                    rejectClassName=\"dropzoneRejected\"\n                    onDrop={files => this.handleDropFile(files)}\n                    multiple={false}\n                    accept='text/plain,text/xml,application/xml'\n                    style={style}\n                >\n                    {\n                        ({ getRootProps, getInputProps, isDragActive, isDragReject}) => {\n                            if (isDragReject) {\n                                if (this.state.imageStatus !== 'rejected') {\n                                    this.setState({imageStatus: 'rejected'});\n                                }\n                                return <div style={styles.dropzoneDiv} {...getRootProps()}>\n                                    <input {...getInputProps()} />\n                                    <span key=\"text\" style={styles.text}>{I18n.t('Some files will be rejected')}</span>\n                                    <IconNo key=\"icon\" style={{ ...styles.icon, ...styles.iconError }} />\n                                </div>;\n                            } else if (isDragActive) {\n                                if (this.state.imageStatus !== 'accepted') {\n                                    this.setState({ imageStatus: 'accepted' });\n                                }\n\n                                return (\n                                    <div style={styles.dropzoneDiv} {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <span key=\"text\" style={styles.text}>{I18n.t('All files will be accepted')}</span>\n                                        <IconPlus key=\"icon\" style={{ ...styles.icon, ...styles.iconOk }} />\n                                    </div>);\n                            } else {\n                                if (this.state.imageStatus !== 'wait') {\n                                    this.setState({imageStatus: 'wait'});\n                                }\n                                return (\n                                    <div style={styles.dropzoneDiv} {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <span key=\"text\" style={styles.text}>{I18n.t('Drop some files here or click...')}</span>\n                                        <IconUpload key=\"icon\" style={styles.icon}/>\n                                    </div>);\n                            }\n                        }\n                    }\n                </Dropzone>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" disabled={!this.state.text} onClick={event => this.handleOk()} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Import')}</Button>\n                <Button color=\"grey\" variant=\"contained\" onClick={() => this.handleCancel()} startIcon={<IconCancel/>}>{I18n.t('Close')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogImport.defaultProps = {\n    open: true\n}\n\nDialogImport.propTypes = {\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n};\n\nexport default DialogImport;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { I18n, Message as DialogMessage } from '@iobroker/adapter-react-v5';\nimport DialogError from '../Dialogs/Error';\nimport DialogExport from '../Dialogs/Export';\nimport DialogImport from '../Dialogs/Import';\n\nlet languageBlocklyLoaded = false;\nlet languageOwnLoaded = false;\nlet toolboxText = null;\nlet toolboxXml;\nlet scriptsLoaded = [];\n\n// BF (2020-10-31) I have no Idea, why it does not work as static in BlocklyEditor, but outside of BlocklyEditor it works\nfunction searchXml(root, text, _id, _result) {\n    _result = _result || [];\n    if (root.tagName === 'BLOCK' || root.tagName === 'block') {\n        _id = root.id;\n    }\n    if (root.tagName === 'FIELD' || root.tagName === 'field') {\n        for (let a = 0; a < root.attributes.length; a++) {\n            const val = (root.attributes[a].value || '').toLowerCase();\n            if (root.attributes[a].nodeName === 'name' && (val === 'oid' || val === 'text' || val === 'var')) {\n                if ((root.innerHTML || root.innerText || '').toLowerCase().includes(text)) {\n                    _result.push(_id);\n                }\n            }\n        }\n    }\n    root.childNodes.forEach(node =>\n        searchXml(node, text, _id, _result));\n\n    return _result;\n}\n\nclass BlocklyEditor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.blockly = null;\n        this.blocklyWorkspace = null;\n        this.toolbox = null;\n        this.Blockly = window.Blockly;\n\n        this.state = {\n            languageOwnLoaded,\n            languageBlocklyLoaded,\n            changed: false,\n            message: '',\n            error: '',\n            themeType: this.props.themeType,\n            exportText: '',\n            importText: false,\n            searchText: this.props.searchText || '',\n        };\n        this.originalCode = props.code || '';\n\n        this.someSelected = null;\n        this.changeTimer = null;\n\n        this.onResizeBind = this.onResize.bind(this);\n\n        this.lastCommand = '';\n        this.lastSearch = this.props.searchText || '';\n        this.blinkBlock = null;\n        this.loadLanguages();\n    }\n\n    static loadJS(url, callback, location) {\n        const scriptTag = document.createElement('script');\n        try {\n            scriptTag.src = url;\n\n            scriptTag.onload = callback;\n            scriptTag.onreadystatechange = callback;\n            scriptTag.onerror = callback;\n\n            (location || window.document.body).appendChild(scriptTag);\n        } catch (e) {\n            console.error(`Cannot load ${url}: ${e}`);\n            callback && callback();\n        }\n    }\n\n    static loadScripts(scripts, callback) {\n        if (!scripts || !scripts.length) {\n            return callback && callback();\n        }\n        const adapter = scripts.pop();\n        if (!scriptsLoaded.includes(adapter)) {\n            scriptsLoaded.push(adapter);\n            BlocklyEditor.loadJS(`../../adapter/${adapter}/blockly.js`, (/*data, textStatus, jqxhr*/) =>\n                setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0));\n        } else {\n            setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0);\n        }\n    }\n\n    static loadCustomBlockly(adapters, callback) {\n        // get all adapters, that can have blockly\n        const toLoad = [];\n        for (const id in adapters) {\n            if (!adapters.hasOwnProperty(id) ||\n                !adapters[id] ||\n                !id.match(/^system\\.adapter\\./) ||\n                adapters[id].type !== 'adapter'\n            ) {\n                continue;\n            }\n\n            if (adapters[id].common && adapters[id].common.blockly) {\n                console.log(`Detected custom blockly: ${adapters[id].common.name}`);\n                toLoad.push(adapters[id].common.name);\n            }\n        }\n\n        BlocklyEditor.loadScripts(toLoad, callback);\n    }\n\n    static loadXMLDoc(text) {\n        let parseXml;\n        if (window.DOMParser) {\n            parseXml = xmlStr => (new window.DOMParser()).parseFromString(xmlStr, 'text/xml');\n        } else if (typeof window.ActiveXObject !== 'undefined' && new window.ActiveXObject('Microsoft.XMLDOM')) {\n            parseXml = xmlStr => {\n                const xmlDoc = new window.ActiveXObject('Microsoft.XMLDOM');\n                xmlDoc.async = 'false';\n                xmlDoc.loadXML(xmlStr);\n                return xmlDoc;\n            };\n        } else {\n            parseXml = () => null;\n        }\n        return parseXml(text);\n    }\n\n    searchBlocks(text) {\n        if (this.blocklyWorkspace) {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const ids = searchXml(dom, text.toLowerCase());\n\n            console.log(`Search \"${text}\" found blocks: ${ids.length ? JSON.stringify(ids) : 'none'}`);\n\n            return ids;\n        }\n\n        return [];\n    }\n\n    searchId() {\n        const ids = this.lastSearch && this.searchBlocks(this.lastSearch);\n        if (ids && ids.length) {\n            this.someSelected = ids;\n            this.someSelected.forEach(id => this.blocklyWorkspace.highlightBlock(id, true));\n            this.someSelectedTime = Date.now();\n        } else if (this.someSelected) {\n            // remove selection\n            this.someSelected.forEach(id => this.blocklyWorkspace.highlightBlock(id, false));\n            this.someSelected = null;\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.command && this.lastCommand !== nextProps.command) {\n            this.lastCommand = nextProps.command;\n            setTimeout(() => this.lastCommand = '', 300);\n            if (this.lastCommand === 'check') {\n                this.blocklyCheckBlocks((err, badBlock) => {\n                    if (!err) {\n                        this.setState({ message: I18n.t('Ok') });\n                    } else {\n                        badBlock && this.blocklyBlinkBlock(badBlock);\n                        this.setState({ error: { text: I18n.t(err), title: I18n.t('Error was found') } });\n                        this.blinkBlock = badBlock;\n                    }\n                });\n            } else if (this.lastCommand === 'export') {\n                this.exportBlocks();\n            } else if (this.lastCommand === 'import') {\n                this.importBlocks();\n            }\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.searchId();\n        }\n\n        if (this.state.themeType !== nextProps.themeType) {\n            this.setState({ themeType: nextProps.themeType }, () => this.updateBackground());\n        }\n\n        if (this.originalCode !== nextProps.code) {\n            this.originalCode = nextProps.code || '';\n            this.loadCode();\n            this.searchId();\n        }\n    }\n\n    loadLanguages() {\n        // load blockly language\n        if (!languageBlocklyLoaded) {\n            const fileLang = window.document.createElement('script');\n            fileLang.setAttribute('type', 'text/javascript');\n            fileLang.setAttribute('src', `google-blockly/msg/js/${I18n.getLanguage()}.js`);\n\n            // most browsers\n            fileLang.onload = () => {\n                languageBlocklyLoaded = true;\n                this.setState({languageBlocklyLoaded});\n            };\n            // IE 6 & 7\n            fileLang.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageBlocklyLoaded = true;\n                    this.setState({ languageBlocklyLoaded });\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileLang);\n        }\n        if (!languageOwnLoaded) {\n            const fileCustom = window.document.createElement('script');\n            fileCustom.setAttribute('type', 'text/javascript');\n            fileCustom.setAttribute('src', `google-blockly/own/msg/${I18n.getLanguage()}.js`);\n            // most browsers\n            fileCustom.onload = () => {\n                languageOwnLoaded = true;\n                this.setState({languageOwnLoaded});\n            };\n            // IE 6 & 7\n            fileCustom.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageOwnLoaded = true;\n                    this.setState({ languageOwnLoaded });\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileCustom);\n        }\n    }\n\n    onResize() {\n        this.Blockly.svgResize(this.blocklyWorkspace);\n    }\n\n    jsCode2Blockly(text) {\n        text = text || '';\n        const lines = text.split(/[\\r\\n]+|\\r|\\n/g);\n        let xml = '';\n        for (let l = lines.length - 1; l >= 0; l--) {\n            if (lines[l].substring(0, 2) === '//') {\n                xml = lines[l].substring(2);\n                break;\n            }\n        }\n        if (xml.substring(0, 4) === '<xml') {\n            return xml;\n        }\n\n        let code;\n        try {\n            code = window.decodeURIComponent(window.atob(xml));\n        } catch (e) {\n            code = null;\n            console.error(`cannot decode: ${xml}`);\n            console.error(e);\n        }\n        return code;\n    }\n\n    blocklyBlinkBlock(block) {\n        for (let i = 300; i < 3000; i += 300) {\n            setTimeout(() => block.select(), i);\n            setTimeout(() => block.unselect(), i + 150);\n        }\n    }\n\n    blocklyRemoveOrphanedShadows() {\n        if (this.blocklyWorkspace) {\n            const blocks = this.blocklyWorkspace.getAllBlocks();\n            let block;\n            for (let i = 0; (block = blocks[i]); i++) {\n                if (block.isShadow()) {\n                    const connections = block.getConnections_(true);\n                    let conn;\n                    for (let j = 0; (conn = connections[j]); j++) {\n                        if (!conn.targetConnection) {\n                            // remove it\n                            block.dispose();\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    blocklyCheckBlocks(cb) {\n        let warningText;\n        if (!this.blocklyWorkspace || this.blocklyWorkspace.getAllBlocks().length === 0) {\n            cb && cb('no blocks found');\n            return;\n        }\n        let badBlock = this.blocklyGetUnconnectedBlock();\n        if (badBlock) {\n            warningText = 'not properly connected';\n        } else {\n            badBlock = this.blocklyGetBlockWithWarning();\n            if (badBlock) {\n                warningText = 'warning on this block';\n            }\n        }\n\n        if (badBlock) {\n            if (cb) {\n                cb(warningText, badBlock);\n            } else {\n                this.blocklyBlinkBlock(badBlock);\n            }\n            return false;\n        }\n\n        cb();\n\n        return true;\n    }\n\n    // get unconnected block\n    blocklyGetUnconnectedBlock() {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            const connections = block.getConnections_(true);\n            let conn;\n            for (let j = 0; (conn = connections[j]); j++) {\n                if (!conn.sourceBlock_ || ((conn.type === this.Blockly.INPUT_VALUE || conn.type === this.Blockly.OUTPUT_VALUE) && !conn.targetConnection && !conn._optional)) {\n                    return block;\n                }\n            }\n        }\n        return null;\n    }\n\n    // get block with warning\n    blocklyGetBlockWithWarning() {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            if (block.warning) {\n                return block;\n            }\n        }\n        return null;\n    }\n\n    blocklyCode2JSCode(oneWay) {\n        let code = this.Blockly.JavaScript.workspaceToCode(this.blocklyWorkspace);\n        if (!oneWay) {\n            code += '\\n';\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const text = this.Blockly.Xml.domToText(dom);\n            code += `//${btoa(encodeURIComponent(text))}`;\n        }\n\n        return code;\n    }\n\n    exportBlocks() {\n        let exportText;\n        const selectedBlocks = this.Blockly.getSelected();\n        if (selectedBlocks) {\n            const xmlBlock = this.Blockly.Xml.blockToDom(selectedBlocks);\n            if (this.Blockly.dragMode_ !== this.Blockly.DRAG_FREE) {\n                this.Blockly.Xml.deleteNext(xmlBlock);\n            }\n            // Encode start position in XML.\n            const xy = selectedBlocks.getRelativeToSurfaceXY();\n            xmlBlock.setAttribute('x', selectedBlocks.RTL ? -xy.x : xy.x);\n            xmlBlock.setAttribute('y', xy.y);\n\n            exportText = this.Blockly.Xml.domToPrettyText(xmlBlock);\n        } else {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            exportText = this.Blockly.Xml.domToPrettyText(dom);\n        }\n        this.setState({ exportText });\n    }\n\n    importBlocks() {\n        this.setState({ importText: true });\n    }\n\n    onImportBlocks(xml) {\n        xml = (xml || '').trim();\n        if (xml) {\n            try {\n                if (!xml.startsWith('<xml')) {\n                    xml = `<xml xmlns=\"https://developers.google.com/blockly/xml\">${xml}</xml>`;\n                }\n                /*\n                // TODO: WHY?!\n                const variables = xml.replace(/[\\n\\r]/g, '').match(/<variables>(.*)<\\/variables>/);\n                if (variables) {\n                    const parser = new DOMParser();\n                    const vars = parser.parseFromString(`<variables>${variables[1]}</variables>`, 'text/xml').firstChild;\n                    for (const child of vars.children) {\n                        if (child.tagName === 'variable') {\n                            // e.g. timeout or interval\n                            const varType = child.getAttribute('type');\n                            if (varType) {\n                                this.blocklyWorkspace.createVariable(child.getAttribute('id'), varType);\n                            }\n                        }\n                    }\n                }\n                */\n                xml = xml.replace(/[\\n\\r]/g, '').replace(/<variables>.*<\\/variables>/g, '');\n                window.scripts.loading = true;\n\n                const xmlBlocks = this.Blockly.utils.xml.textToDom(xml);\n                if (xmlBlocks.nodeName === 'xml') {\n                    for (let b = 0; b < xmlBlocks.children.length; b++) {\n                        this.blocklyWorkspace.paste(xmlBlocks.children[b]);\n                    }\n                } else {\n                    this.blocklyWorkspace.paste(xmlBlocks);\n                }\n\n                window.scripts.loading = false;\n\n                this.onBlocklyChanged();\n            } catch (e) {\n                this.setState({ error: { text: e, title: I18n.t('Import error') } });\n            }\n        }\n    }\n\n    loadCode() {\n        if (!this.blocklyWorkspace) {\n            return;\n        }\n\n        this.ignoreChanges = true;\n        this.blocklyWorkspace.clear();\n\n        try {\n            const xml = this.jsCode2Blockly(this.originalCode) || '<xml xmlns=\"https://developers.google.com/blockly/xml\"></xml>';\n            window.scripts.loading = true;\n            const dom = this.Blockly.utils.xml.textToDom(xml);\n            this.Blockly.Xml.domToWorkspace(dom, this.blocklyWorkspace);\n            window.scripts.loading = false;\n        } catch (e) {\n            console.error(e);\n            setTimeout(() => this.setState({ error: I18n.t('Cannot extract Blockly code!') }));\n        }\n        setTimeout(() => this.ignoreChanges = false, 100);\n    }\n\n    onBlocklyChanged() {\n        this.blocklyRemoveOrphanedShadows();\n        this.setState({ changed: true });\n        this.onChange();\n    }\n\n    async componentDidUpdate() {\n        if (!this.blockly) {\n            return;\n        }\n        if (this.didUpdate) {\n            clearTimeout(this.didUpdate);\n            this.didUpdate = null;\n        }\n\n        if (this.blocklyWorkspace) {\n            return;\n        }\n\n        window.addEventListener('resize', this.onResizeBind, false);\n        toolboxText = toolboxText || (await this.getToolbox());\n        toolboxXml  = toolboxXml  || this.Blockly.utils.xml.textToDom(toolboxText);\n\n        this.darkTheme = this.Blockly.Theme.defineTheme('dark', {\n            base: this.Blockly.Themes.Classic,\n            componentStyles: {\n                workspaceBackgroundColour: '#1e1e1e',\n                toolboxBackgroundColour: 'blackBackground',\n                toolboxForegroundColour: '#fff',\n                flyoutBackgroundColour: '#252526',\n                flyoutForegroundColour: '#ccc',\n                flyoutOpacity: 1,\n                scrollbarColour: '#797979',\n                insertionMarkerColour: '#fff',\n                insertionMarkerOpacity: 0.3,\n                scrollbarOpacity: 0.4,\n                cursorColour: '#d0d0d0',\n                blackBackground: '#333',\n            },\n        });\n\n        // https://developers.google.com/blockly/reference/js/blockly.blocklyoptions_interface.md\n        this.blocklyWorkspace = this.Blockly.inject(\n            this.blockly,\n            {\n                renderer: 'thrasos',\n                theme: 'classic',\n                media: 'google-blockly/media/',\n                toolbox: toolboxXml,\n                zoom: {\n                    controls:   true,\n                    wheel:      false,\n                    startScale: 1.0,\n                    maxScale:   3,\n                    minScale:   0.3,\n                    scaleSpeed: 1.2,\n                    pinch: true,\n                },\n                move: {\n                    scrollbars: {\n                        horizontal: true,\n                        vertical: true,\n                    },\n                    drag: true,\n                    wheel: true,\n                },\n                trashcan: true,\n                grid: {\n                    spacing:    25,\n                    length:     1,\n                    snap:       true,\n                },\n                sounds: false, // disable sounds\n            },\n        );\n        // for blockly itself\n        window.scripts = {\n            blocklyWorkspace: this.blocklyWorkspace,\n        };\n\n        // Workaround: Replace procedure category flyout\n        this.blocklyWorkspace.registerToolboxCategoryCallback('PROCEDURE', this.Blockly.Procedures.flyoutCategoryNew);\n\n        // Listen to events on master workspace.\n        this.blocklyWorkspace.addChangeListener(masterEvent => {\n            if (this.someSelected && Date.now() - this.someSelectedTime > 500) {\n                const allBlocks = this.blocklyWorkspace.getAllBlocks();\n                this.someSelected = null;\n                allBlocks.forEach(b => b.removeSelect());\n            }\n\n            if ([this.Blockly.Events.UI, this.Blockly.Events.CREATE, this.Blockly.Events.VIEWPORT_CHANGE].includes(masterEvent.type)) {\n                return;  // Don't mirror UI events.\n            }\n            if (this.ignoreChanges) {\n                return;\n            }\n\n            this.changeTimer && clearTimeout(this.changeTimer);\n            this.changeTimer = setTimeout(() => {\n                this.changeTimer = null;\n                this.onBlocklyChanged();\n            }, 200);\n        });\n        this.loadCode();\n        this.onResize();\n        // Move toolbar to the valid position\n        const toolbar = document.getElementsByClassName('blocklyToolboxDiv')[0];\n        this.blockly.appendChild(toolbar);\n\n        this.updateBackground();\n        setTimeout(() => this.searchId(), 200); // select found blocks\n    }\n\n    updateBackground() {\n        if (this.state.themeType === 'dark' || this.state.themeType === 'blue') {\n            this.blocklyWorkspace.setTheme(this.darkTheme);\n        } else {\n            this.blocklyWorkspace.getThemeManager();\n            this.blocklyWorkspace.setTheme(this.Blockly.Themes.Classic);\n        }\n    }\n\n    componentWillUnmount() {\n        if (!this.blocklyWorkspace) {\n            return;\n        }\n        this.blocklyWorkspace.dispose();\n        this.blocklyWorkspace = null;\n        this.changeTimer && clearTimeout(this.changeTimer);\n        this.changeTimer = null;\n        window.removeEventListener('resize', this.onResizeBind);\n    }\n\n    onChange() {\n        this.originalCode = this.blocklyCode2JSCode();\n        this.props.onChange && this.props.onChange(this.originalCode);\n    }\n\n    async getToolbox(retry) {\n        // Interpolate translated messages into toolbox.\n        const el =  window.document.getElementById('toolbox');\n        let toolboxText = el && el.outerHTML;\n        if (!toolboxText) {\n            if (!retry) {\n                return new Promise(resolve => { setTimeout(() => resolve(this.getToolbox(true)), 500); });\n            }\n\n            console.error('Cannot load blocks!');\n            return '';\n        }\n        toolboxText = toolboxText.replace(/{(\\w+)}/g, (m, p1) => window.MSG[p1]);\n\n        if (this.Blockly.CustomBlocks) {\n            let blocks = '';\n            const lang = I18n.getLanguage();\n            for (let cb = 0; cb < this.Blockly.CustomBlocks.length; cb++) {\n                const name = this.Blockly.CustomBlocks[cb];\n                // add blocks\n                blocks += `<category name=\"${this.Blockly.Words[name][lang]}\" colour=\"${this.Blockly[name].HUE}\">`;\n                for (const _b in this.Blockly[name].blocks) {\n                    if (Object.prototype.hasOwnProperty.call(this.Blockly[name].blocks, _b)) {\n                        blocks += this.Blockly[name].blocks[_b];\n                    }\n                }\n                blocks += '</category>';\n            }\n            toolboxText = toolboxText.replace('<category><block>%%CUSTOM_BLOCKS%%</block></category>', blocks);\n        }\n\n        return toolboxText;\n    }\n\n    renderMessageDialog() {\n        return this.state.message ?\n            <DialogMessage\n                key=\"dialogMessage\"\n                text={typeof this.state.message === 'object' ? this.state.message.text : this.state.message}\n                title={typeof this.state.message === 'object' ? this.state.message.title : ''}\n                onClose={() => this.setState({ message: '' })}\n            /> :\n            null;\n    }\n\n    renderErrorDialog() {\n        return this.state.error ?\n            <DialogError\n                key=\"dialogError\"\n                text={typeof this.state.error === 'object' ? this.state.error.text.toString() : this.state.error}\n                title={typeof this.state.error === 'object' ? this.state.error.title : ''}\n                onClose={() => {\n                    if (this.blinkBlock) {\n                        this.blocklyBlinkBlock(this.blinkBlock);\n                        this.blinkBlock = null;\n                    }\n                    this.setState({ error: '' });\n                }}/> :\n            null;\n    }\n\n    renderExportDialog() {\n        return this.state.exportText ? <DialogExport key=\"dialogExport\" theme={this.state.themeType} onClose={() => this.setState({ exportText: '' })} text={this.state.exportText} scriptId={this.props.scriptId} /> : null;\n    }\n\n    renderImportDialog() {\n        return this.state.importText ? <DialogImport\n            key=\"dialogImport\"\n            onClose={text => {\n                this.setState({ importText: false });\n                this.onImportBlocks(text);\n            }}\n        /> : null;\n    }\n\n    render() {\n        if (this.state.languageBlocklyLoaded && this.state.languageOwnLoaded) {\n            this.didUpdate = setTimeout(() => {\n                this.didUpdate = null;\n                this.componentDidUpdate();\n            }, 100);\n\n            return [\n                <div\n                    key=\"blocklyDOM\"\n                    ref={el => this.blockly = el}\n                    style={{\n                        // marginLeft: 180,\n                        width: '100%', // 'calc(100% - 180px)',\n                        height: '100%',\n                        // overflow: 'hidden',\n                        position: 'relative',\n                    }}\n                />,\n\n                this.renderMessageDialog(),\n                this.renderErrorDialog(),\n                this.renderExportDialog(),\n                this.renderImportDialog(),\n            ];\n        }\n\n        return null;\n    }\n}\n\nBlocklyEditor.propTypes = {\n    command: PropTypes.string,\n    onChange: PropTypes.func,\n    searchText: PropTypes.string,\n    scriptId: PropTypes.string,\n    themeType: PropTypes.string,\n};\n\nexport default BlocklyEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    Button,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Dialog, Box,\n} from '@mui/material';\n\nimport {\n    Save as IconSave,\n    Cancel as IconCancel,\n} from '@mui/icons-material';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nimport ScriptEditorComponent from '../Components/ScriptEditorVanilaMonaco';\n\nconst styles = {\n    textArea: {\n        width: 'calc(100% - 10px)',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    args: theme => ({\n        color: theme.palette.mode === 'dark' ? 'white' : 'black',\n        height: 30,\n        width: '100%',\n        fontSize: 16\n    }),\n    argsTitle: theme => ({\n        color: theme.palette.mode === 'dark' ? 'white' : 'black',\n        fontWeight: 'bold'\n    }),\n};\n\nclass DialogScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            changed: false,\n            source: this.props.source,\n        };\n        if (!this.state.source && this.props.isReturn) {\n            this.state.source = '\\nreturn false';\n        }\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('source-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose(false);\n    }\n\n    handleOk () {\n        if (this.props.isReturn && !this.state.source.includes('return ')) {\n\n        } else {\n            this.props.onClose(this.state.source);\n        }\n    }\n\n    onChange(value) {\n        this.setState({changed: true, source: value});\n    }\n\n    render() {\n        return <Dialog\n            onClose={() => false}\n            maxWidth=\"lg\"\n            sx={{ '& .MuiDialog-paper': styles.dialog }}\n            fullWidth\n            open={!0}\n            aria-labelledby=\"source-dialog-title\"\n        >\n            <DialogTitle id=\"source-dialog-title\">{I18n.t('Function editor')}</DialogTitle>\n            <DialogContent style={styles.fullHeight}>\n                {this.props.args && <Box key=\"arguments\" sx={styles.args}>\n                    <Box component=\"span\" sx={styles.argsTitle}>{I18n.t('function (')}</Box>\n                    {this.props.args}\n                    <Box component=\"span\" sx={styles.argsTitle}>)</Box>\n                </Box>}\n                <ScriptEditorComponent\n                    adapterName={this.props.adapterName}\n                    runningInstances={this.props.runningInstances}\n                    style={{ ...styles.textArea, height: this.props.args ? 'calc(100% - 30px)' : '100%' }}\n                    key=\"scriptEditor\"\n                    name={'blockly'}\n                    socket={this.props.socket}\n                    readOnly={false}\n                    checkJs={false}\n                    changed={this.state.changed}\n                    code={this.state.source}\n                    isDark={this.props.themeType === 'dark'}\n                    onChange={newValue => this.onChange(newValue)}\n                    language={'javascript'}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={() => this.handleOk()} color=\"primary\" startIcon={<IconSave/>}>{I18n.t('Save')}</Button>\n                <Button color=\"grey\" variant=\"contained\" onClick={() => this.handleCancel()} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogScriptEditor.propTypes = {\n    adapterName: PropTypes.string.isRequired,\n    runningInstances: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    source: PropTypes.string,\n    args: PropTypes.string,\n    isReturn: PropTypes.bool,\n    themeType: PropTypes.string,\n    socket: PropTypes.object\n};\n\nexport default DialogScriptEditor;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapperRules\":\"style_wrapperRules__O-oAU\",\"rootWrapper\":\"style_rootWrapper__rXS-l\",\"addClass\":\"style_addClass__4KLUZ\"};","// extracted by mini-css-extract-plugin\nexport default {\"switchesItem\":\"style_switchesItem__DY9Qy\",\"switchesItemActive\":\"style_switchesItemActive__kglCJ\",\"iconTheme\":\"style_iconTheme__AotSq\"};","import { useState, useEffect } from 'react';\nimport * as Icons from '@mui/icons-material/';\n\nconst ICON_CACHE = {};\n\nconst MaterialDynamicIcon = ({ iconName, style, adapter, socket, onClick, className }) => {\n    let [url, setUrl] = useState('');\n\n    useEffect(() => {\n        if (adapter && socket) {\n            ICON_CACHE[adapter] = ICON_CACHE[adapter] || socket.getObject(`system.adapter.${adapter}`);\n            ICON_CACHE[adapter].then(obj =>\n                obj?.common?.icon && setUrl(`../../adapter/${adapter}/${obj.common.icon}`));\n        }\n    }, [adapter, socket]);\n\n    if (adapter) {\n        return <img\n            onClick={e => onClick && onClick(e)}\n            src={url || ''}\n            style={style}\n            className={className}\n            alt=\"\"\n        />;\n    }\n\n    const Element = Icons[iconName || 'Help'];\n    return <Element\n        style={style}\n        onClick={e => onClick && onClick(e)}\n    />;\n}\n\nMaterialDynamicIcon.defaultProps = {\n    style: null,\n    iconName: 'Help'\n};\n\nexport default MaterialDynamicIcon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\n\nconst CardMenu = ({\n    name, id, active, icon, adapter,\n    socket, onDoubleClick, title,\n    onTouchMove, style,\n}) => <div\n    onDoubleClick={onDoubleClick}\n    onTouchMove={onTouchMove}\n    key={id}\n    title={I18n.t(title)}\n    className={Utils.clsx(cls.switchesItem, active && cls.switchesItemActive, `block-${id}`)}\n>\n    <MaterialDynamicIcon\n        iconName={icon}\n        className={cls.iconTheme}\n        adapter={adapter}\n        socket={socket}\n        style={style}\n    />\n    <span>\n        {name ? I18n.t(name) : ''}\n    </span>\n</div>;\n\nCardMenu.defaultProps = {\n    name: '',\n    active: false,\n    id: '',\n    onDoubleClick: () => { },\n};\n\nCardMenu.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    active: PropTypes.bool\n};\n\nexport default CardMenu;\n","// extracted by mini-css-extract-plugin\nexport default {\"cardStyle\":\"style_cardStyle__bzAxQ\",\"cardStyleActive\":\"style_cardStyleActive__BaK+z\",\"controlMenu\":\"style_controlMenu__RxkVe\",\"closeBtn\":\"style_closeBtn__-nF+7\",\"isDelete\":\"style_isDelete__u9OAa\",\"drag_mobile\":\"style_drag_mobile__d9hW5\"};","export function deepCopy(name, userRules, additionalParameter) {\n    let newItemsSwitches;\n    switch (name) {\n        case 'actions':\n            newItemsSwitches = {\n                ...userRules,\n                [name]: {\n                    ...userRules[name],\n                    [additionalParameter]: [...userRules[name][additionalParameter]]\n                }\n            };\n            return newItemsSwitches;\n\n        default:\n            newItemsSwitches = {\n                ...userRules,\n                [name]: [...userRules[name]]\n            };\n            return newItemsSwitches;\n    }\n}","export function filterElement(name, userRules, additionalParameter, _id) {\n    switch (name) {\n        case 'actions':\n            userRules[name][additionalParameter] = userRules[name][additionalParameter].filter(el => el._id !== _id);\n            return userRules;\n        case 'conditions':\n            userRules[name][additionalParameter] = userRules[name][additionalParameter].filter(el => el._id !== _id);\n            return userRules;\n        default:\n            userRules[name] = userRules[name].filter(el => el._id !== _id);\n            return userRules;\n    }\n}","// extracted by mini-css-extract-plugin\nexport default {\"cardStyle\":\"style_cardStyle__Qk8PP\",\"nameCard\":\"style_nameCard__eHe3n\",\"cardStyleActive\":\"style_cardStyleActive__UjCy0\",\"iconThemCard\":\"style_iconThemCard__tMl1-\",\"iconThemCardSelectable\":\"style_iconThemCardSelectable__6mEII\",\"iconHelp\":\"style_iconHelp__b28SN\",\"inputCard\":\"style_inputCard__zwn8V\",\"blockName\":\"style_blockName__T-Ud-\",\"controlMenu\":\"style_controlMenu__kR476\",\"closeBtn\":\"style_closeBtn__7c+6X\",\"controlMenuTop\":\"style_controlMenuTop__OayQd\",\"debugInfo\":\"style_debugInfo__kdwsD\",\"fadeIn\":\"style_fadeIn__jT4pd\",\"tagCard\":\"style_tagCard__n9gJP\",\"displayFlex\":\"style_displayFlex__4QnOf\",\"blockMarginTop\":\"style_blockMarginTop__ZM9lX\",\"nameBlock\":\"style_nameBlock__H2Ujc\",\"frontText\":\"style_frontText__yvugL\",\"backText\":\"style_backText__nuybg\",\"iconTag\":\"style_iconTag__x0Rub\",\"displayItalic\":\"style_displayItalic__LY2l3\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__569oE\",\"square\":\"style_square__rf4cS\",\"icon\":\"style_icon__bnClh\"};","import { Button } from '@mui/material';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Utils, Icon as CustomIcon } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nconst CustomButton = ({ fullWidth, size, onClick, style, className, value, square, icon }) => {\n    return <Button\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={onClick}\n        fullWidth={fullWidth}\n        style={style}\n        className={Utils.clsx(cls.root, className, square ? cls.square : '')}\n        margin=\"normal\"\n        size={size}\n    >{icon ? <CustomIcon className={cls.icon} src={icon} /> : value}</Button>;\n}\n\nCustomButton.defaultProps = {\n    value: '',\n    className: null,\n    variant: 'standard',\n    size: 'medium',\n    fullWidth: false,\n    square: false\n};\n\nCustomButton.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n};\n\nexport default CustomButton;","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__HWP9G\"};","import React, { memo, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Checkbox } from '@mui/material';\n\nimport { Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nconst CustomCheckbox = ({ size, value, style, title, onChange, className, customValue, disabled }) => {\n    const [switchChecked, setSwitchChecked] = useState(false);\n\n    return <>\n        <Checkbox\n            disabled={disabled}\n            checked={Boolean(customValue ? value : switchChecked)}\n            // style={Object.assign(type ? color[type] : null, style)}\n            className={Utils.clsx(cls.root, className)}\n            onChange={e => {\n                customValue && setSwitchChecked(e.target.checked);\n                onChange(e.target.checked);\n            }}\n            size={size}\n        />\n        {title || null}\n    </>;\n}\n\nCustomCheckbox.defaultProps = {\n    value: false,\n    disabled: false,\n    type: null,\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    label: 'all'\n};\n\nCustomCheckbox.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default memo(CustomCheckbox);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__Ohc9u\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    TextField,\n    InputAdornment,\n} from '@mui/material';\n\nimport { Utils, Icon as CustomIcon } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nconst CustomInput = ({ autoFocus, fullWidth, disabled, multiline, rows, autoComplete, label, error, size, variant, value, type, style, onChange, className, customValue, icon }) => {\n    const [inputText, setInputText] = useState('');\n    return <TextField\n        error={!!error}\n        autoFocus={autoFocus}\n        fullWidth={fullWidth}\n        label={label}\n        disabled={disabled}\n        variant={variant}\n        multiline={multiline}\n        rows={rows}\n        value={customValue ? value : inputText}\n        type={type}\n        helperText={error}\n        style={style}\n        className={Utils.clsx(cls.root, className)}\n        autoComplete={autoComplete}\n        onChange={e => {\n            !customValue && setInputText(e.target.value);\n            onChange(e.target.value);\n        }}\n        InputProps={{\n            endAdornment: icon ?\n                <InputAdornment position=\"end\"><CustomIcon className={cls.icon} src={icon} /></InputAdornment>\n                : null\n        }}\n        margin=\"normal\"\n        size={size}\n    />;\n}\n\nCustomInput.defaultProps = {\n    value: '',\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    autoFocus: false,\n    rows: 1\n};\n\nCustomInput.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default CustomInput;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    FormControl, FormHelperText,\n    Input, MenuItem, Select,\n} from '@mui/material';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst styles = {\n    formControl: {\n        m: '10px 0',\n        '& .MuiFormControl-marginNormal': {\n            mt: 0,\n            mb: 0,\n        },\n        '& > *': {\n            color: '#2d0440 !important'\n        },\n        '& .MuiSelect-icon': {\n            color: '#81688c'\n        },\n        '& label.Mui-focused': {\n            color: '#81688c',\n        },\n        '& .MuiInput-underline:after': {\n            borderBottomColor: '#510573',\n        },\n        '& .MuiInput-underline:before': {\n            borderBottomColor: '#81688c',\n        },\n        '& .MuiInput-underline:hover:before': {\n            borderBottomColor: '#81688c',\n        },\n    },\n};\n\nconst CustomInstance = ({ multiple, value, customValue, socket, title, attr, adapter, style, onChange, className, onInstanceHide }) => {\n    const [inputText, setInputText] = useState(value || 'test1');\n    const [options, setOptions] = useState([]);\n\n    useEffect(() => {\n        socket && socket.getAdapterInstances(adapter)\n            .then(instances => {\n                const _options = instances.map(obj => ({value: obj._id.replace('system.adapter.', ''), title: obj._id.replace('system.adapter.', '')}));\n                if (_options.length === 1) {\n                    onInstanceHide(_options[0].value);\n                } else {\n                    _options.unshift({value: adapter, title: I18n.t('All')});\n                }\n                setOptions(_options);\n            });\n    }, [socket, adapter, onInstanceHide]);\n\n    return <FormControl\n        sx={styles.formControl}\n        fullWidth\n        style={style}\n    >\n        <Select\n            variant=\"standard\"\n            value={(customValue ? value : inputText) || '_'}\n            fullWidth\n            multiple={multiple}\n            renderValue={(selected) => multiple && selected.join ? selected.join(', ') : selected}\n            onChange={e => {\n                !customValue && setInputText(e.target.value);\n                onChange(e.target.value);\n            }}\n            input={attr ? <Input name={attr} id={attr + '-helper'} /> : <Input name={attr} />}\n        >\n            {options.map(item =>\n                <MenuItem style={{placeContent:'space-between'}} key={'key-' + item.value} value={item.value || '_'}>{I18n.t(item.title)}{item.title2 && <div>{item.title2}</div>}</MenuItem>)}\n        </Select>\n        <FormHelperText>{I18n.t(title)}</FormHelperText>\n    </FormControl>;\n}\n\nCustomInstance.defaultProps = {\n    value: '',\n    table: false,\n    customValue: false\n};\n\nCustomInstance.propTypes = {\n    title: PropTypes.string,\n    socket: PropTypes.object,\n    attr: PropTypes.string,\n    adapter: PropTypes.string,\n    style: PropTypes.object,\n    onChange: PropTypes.func,\n};\n\nexport default CustomInstance;\n","// extracted by mini-css-extract-plugin\nexport default {\"modalContentWrapper\":\"style_modalContentWrapper__S6fcW\",\"modalButtonBlock\":\"style_modalButtonBlock__xVMKi\",\"modalButtonBlockTwo\":\"style_modalButtonBlockTwo__bJfuc\",\"modalWrapper\":\"style_modalWrapper__mluI5\",\"modalDialog\":\"style_modalDialog__Pki9P\",\"close\":\"style_close__h386v\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n} from '@mui/material';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\nimport CustomInput from '../CustomInput';\n\nconst CustomModal = ({ open, onClose, children, titleButtonApply, titleButtonClose, onApply, className, textInput, defaultValue}) => {\n    let [value, setValue] = useState(defaultValue);\n\n    return <Dialog\n        open={open}\n        maxWidth=\"md\"\n        disableEscapeKeyDown={false}\n        onClose={onClose}\n        classes={{paper: cls.modalDialog, /*paper: classes.background*/}}\n        className={cls.modalWrapper}\n    >\n        <DialogContent>\n            {textInput && <CustomInput\n                className={className}\n                autoComplete=\"off\"\n                fullWidth\n                variant=\"outlined\"\n                size=\"medium\"\n                rows={10}\n                multiline\n                value={value}\n                onChange={setValue}\n                customValue\n            />}\n            {!textInput && children}\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={() => onApply(textInput ? value : null)} variant=\"contained\" color=\"primary\">\n                {I18n.t(titleButtonApply)}\n            </Button>\n            <Button color=\"grey\" onClick={onClose} variant=\"contained\">\n                {I18n.t(titleButtonClose)}\n            </Button>\n        </DialogActions>\n    </Dialog>;\n}\n\nCustomModal.defaultProps = {\n    open: false,\n    onApply: () => { },\n    onClose: () => { },\n    titleButtonClose: 'Cancel',\n    titleButtonApply: 'Ok'\n};\n\nCustomModal.propTypes = {\n    open: PropTypes.bool,\n    onClose: PropTypes.func,\n    children: PropTypes.any,\n    titleButtonClose: PropTypes.string,\n    titleButtonApply: PropTypes.string,\n    onApply: PropTypes.func\n};\n\nexport default CustomModal;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__GxGj0\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    FormControl, FormHelperText,\n    Input, MenuItem, Select,\n} from '@mui/material';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\nimport CustomCheckbox from '../CustomCheckbox';\n\nconst CustomSelect = ({ multiple, value, customValue, title, attr, options, style, onChange, className, doNotTranslate, doNotTranslate2 }) => {\n    const [inputText, setInputText] = useState(value === undefined ? options[0].value : value);\n\n    const v = customValue ? value : inputText;\n    const text = v === '' || v === null || v === undefined ? '_' : v;\n\n    return <FormControl\n        variant=\"standard\"\n        className={Utils.clsx(cls.root, className)}\n        fullWidth\n        style={style}\n    >\n        <Select\n            variant=\"standard\"\n            value={text}\n            fullWidth\n            multiple={multiple}\n            renderValue={selected => {\n                if (multiple && selected.join) {\n                    // sort\n                    selected.sort();\n                    let pos = selected.indexOf('0');\n                    if (pos !== -1) {\n                        selected.splice(pos, 1);\n                        selected.push('0');\n                    }\n                    pos = selected.indexOf('_');\n                    if (pos !== -1) {\n                        selected.splice(pos, 1);\n                        selected.unshift('_');\n                    }\n\n                    const onlyItem = options.find(el => el.only);\n                    if (selected.includes(onlyItem.value)) {\n                        return onlyItem.titleShort ? (doNotTranslate ? onlyItem.titleShort : I18n.t(onlyItem.titleShort)) : (doNotTranslate ? onlyItem.title : I18n.t(onlyItem.title))\n                    }\n\n                    const titles = selected\n                        .map(sel => options.find(item => item.value === sel || (sel === '_' && item.value === '')) || sel)\n                        .map(item => typeof item === 'object' ? (item.titleShort ? (doNotTranslate ? item.titleShort : I18n.t(item.titleShort)) : (doNotTranslate ? item.title : I18n.t(item.title))) : (doNotTranslate ? item : I18n.t(item)));\n\n                    return titles.join(', ');\n                } else {\n                    const item = options ? options.find(item => item.value === selected || (selected === '_' && item.value === '')) : null;\n                    return item?.title ? (doNotTranslate ? item?.title : I18n.t(item?.title)) : selected;\n                }\n            }}\n            onChange={e => {\n                !customValue && setInputText(e.target.value);\n                if (multiple) {\n                    const onlyItem = options.find(el => el.only);\n                    if (onlyItem) {\n                        const valueOnly = onlyItem.value;\n                        if (e.target.value.length === options.length - 1 && e.target.value.includes(valueOnly)) {\n                            return onChange(e.target.value.filter(el => el !== valueOnly), attr);\n                        }\n                        if (e.target.value.includes(valueOnly)) {\n                            return onChange(options.map(el => el.value), attr);\n                        }\n                    }\n                }\n                onChange(e.target.value, attr);\n            }}\n            input={attr ? <Input name={attr} id={`${attr}-helper`} /> : <Input name={attr} />}\n        >\n            {!multiple && options && options.map(item => <MenuItem style={{ placeContent: 'space-between' }} key={`key-${item.value}`} value={item.value === '' || item.value === null || item.value === undefined ? '_' : item.value}>{doNotTranslate ? item.title : I18n.t(item.title)}{item.title2 && <div>{doNotTranslate2 ? item.title2 : I18n.t(item.title2)}</div>}</MenuItem>)}\n            {multiple && options && options.map(item => <MenuItem style={{ placeContent: 'space-between' }} key={`key-${item.value}`} value={item.value || '_'}>{doNotTranslate ? item.title : I18n.t(item.title)} <CustomCheckbox customValue value={value.includes(item.value)} /></MenuItem>)}\n        </Select>\n        {title ? <FormHelperText>{I18n.t(title)}</FormHelperText> : null}\n    </FormControl>;\n}\n\nCustomSelect.defaultProps = {\n    value: '',\n    className: null,\n    table: false,\n    customValue: false,\n    multiple: false\n};\n\nCustomSelect.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    options: PropTypes.array.isRequired,\n    style: PropTypes.object,\n    onChange: PropTypes.func\n};\n\nexport default CustomSelect;\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__EDdVB\",\"mark\":\"style_mark__oVsRI\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Slider } from '@mui/material';\n\nimport { Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nconst CustomSlider = ({ fullWidth, autoComplete, label, error, size, variant, value, type, style, onChange, className, customValue, min, max, step, unit }) => {\n    const [inputText, setInputText] = useState(0);\n    min = min !== undefined ? min : 0;\n    max = max !== undefined ? max : 0;\n    step = step !== undefined ? step : (max - min) / 100;\n\n    const marks = [\n        {\n            value: min,\n            label: min + (unit || ''),\n        },\n        {\n            value: max,\n            label: max + (unit || ''),\n        },\n    ];\n\n    return <Slider\n        defaultValue={customValue ? value : inputText}\n        // getAriaValueText={customValue ? value : inputText}\n        aria-labelledby=\"discrete-slider\"\n        valueLabelDisplay=\"auto\"\n        classes={{mark: cls.mark}}\n        marks={marks}\n        step={step}\n        min={min}\n        max={max}\n        error={error || ''}\n        //fullWidth={fullWidth}\n        label={label}\n        variant={variant}\n        value={customValue ? value : inputText}\n        type={type}\n        //helperText={error || ''}\n        style={style}\n        className={Utils.clsx(cls.root, className)}\n        autoComplete={autoComplete}\n        onChange={(e, newValue) => {\n            !customValue && setInputText(newValue);\n            onChange(newValue);\n        }}\n        margin=\"normal\"\n        size={size}\n    />;\n}\n\nCustomSlider.defaultProps = {\n    value: '',\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false\n};\n\nCustomSlider.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default CustomSlider;","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__gbUwF\"};","import PropTypes from 'prop-types';\nimport React, { memo, useState } from 'react';\n\nimport { FormControlLabel, Switch } from '@mui/material';\n\nimport cls from './style.module.scss';\n\nconst CustomSwitch = ({ label, size, value, style, onChange, className, customValue }) => {\n    const [switchChecked, setSwitchChecked] = useState(false);\n    return <FormControlLabel\n        className={cls.root}\n        control={<Switch\n            checked={customValue ? value : switchChecked}\n            style={style}\n            className={className}\n            onChange={e => {\n                if (!customValue) setSwitchChecked(e.target.checked);\n                onChange(e.target.checked);\n            }}\n            size={size}\n        />\n        }\n        label={label}\n    />;\n}\n\nCustomSwitch.defaultProps = {\n    value: false,\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    label: 'all'\n};\n\nCustomSwitch.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default memo(CustomSwitch);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__K8xdq\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { TextField } from '@mui/material';\n\nimport { Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nconst CustomTime = ({ value, style, onChange, className }) => {\n    return <TextField\n        variant=\"standard\"\n        id=\"time\"\n        type=\"time\"\n        onChange={(e) => onChange(e.currentTarget.value)}\n        value={value}\n        className={Utils.clsx(cls.root, className)}\n        fullWidth\n        style={style}\n        InputLabelProps={{\n            shrink: true,\n        }}\n        inputProps={{\n            step: 300, // 5 min\n        }}\n    />;\n}\n\nCustomTime.defaultProps = {\n    value: '',\n    className: null,\n    table: false\n};\n\nCustomTime.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    style: PropTypes.object,\n    onChange: PropTypes.func\n};\n\nexport default CustomTime;","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__MKvTE\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { FormControl, MenuItem, Select } from '@mui/material';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nconst DAYS = [\n    31, // 1\n    29, // 2\n    31, // 3\n    30, // 4\n    31, // 5\n    30, // 6\n    31, // 7\n    31, // 8\n    30, // 9\n    31, // 10\n    30, // 11\n    31  // 12\n];\n\nconst CustomDate = ({ value, onChange, className, title, style }) => {\n    let [month, date] = (value || '01.01').toString().split('.');\n    date = parseInt(date, 10) || 0;\n    month = parseInt(month, 10) || 0;\n    if (month > 12) {\n        month = 12;\n    } else if (month < 0) {\n        month = 0;\n    }\n\n    if (date > DAYS[month]) {\n        date = DAYS[month];\n    } else if (date < 0) {\n        date = 0;\n    }\n\n    let days = [];\n    for (let i = 0; i < DAYS[month]; i++) {\n        days.push(i + 1);\n    }\n\n    return <div>\n        <FormControl\n            variant=\"standard\"\n            className={Utils.clsx(cls.root, className)}\n            style={style}\n        >\n            <Select\n                variant=\"standard\"\n                className={Utils.clsx(cls.root, className)}\n                margin=\"dense\"\n                label={I18n.t('Month')}\n                onChange={e =>\n                    onChange(`${e.target.value.toString().padStart(2, '0')}.${date.toString().padStart(2, '0')}`)}\n                value={month}\n            >\n                <MenuItem style={{ placeContent: 'space-between' }} key={0} value={0}>{I18n.t('Any month')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={1} value={1}>{I18n.t('January')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={2} value={2}>{I18n.t('February')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={3} value={3}>{I18n.t('March')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={4} value={4}>{I18n.t('April')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={5} value={5}>{I18n.t('May')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={6} value={6}>{I18n.t('June')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={7} value={7}>{I18n.t('July')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={8} value={8}>{I18n.t('August')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={9} value={9}>{I18n.t('September')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={10} value={10}>{I18n.t('October')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={11} value={11}>{I18n.t('November')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={12} value={12}>{I18n.t('December')}</MenuItem>\n            </Select>\n        </FormControl>\n        <FormControl\n            variant=\"standard\"\n            className={Utils.clsx(cls.root, className)}\n            style={style}\n        >\n            <Select\n                variant=\"standard\"\n                className={Utils.clsx(cls.root, className)}\n                margin=\"dense\"\n                label={I18n.t('Date')}\n                onChange={e =>\n                    onChange(`${month.toString().padStart(2, '0')}.${e.target.value.toString().padStart(2, '0')}`)}\n                value={date}\n            >\n                <MenuItem style={{ placeContent: 'space-between' }} key={'A'} value={0}>{I18n.t('Any')}</MenuItem>\n                {days.map(i => <MenuItem style={{ placeContent: 'space-between' }} key={i} value={i}>{i}</MenuItem>)}\n            </Select>\n        </FormControl>\n    </div>;\n}\n\nCustomDate.defaultProps = {\n    value: '',\n    className: null,\n};\n\nCustomDate.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    style: PropTypes.object,\n    onChange: PropTypes.func\n};\n\nexport default CustomDate;\n","import { I18n } from '@iobroker/adapter-react-v5';\n\nlet lang;\nconst getName = obj => {\n    lang = lang || I18n.getLanguage();\n    if (typeof obj === 'object') {\n        return obj[lang] || obj.en;\n    }\n    return obj;\n};\n\nconst utils = {\n    getName,\n};\n\nexport default utils;\n","const STEPS = {\n    selectTriggers: 0,\n    addScheduleByDoubleClick: 1,\n    openTagsMenu: 2,\n    selectIntervalTag: 3,\n    selectActions: 4,\n    addActionPrintText: 5,\n    showJavascript: 6,\n    switchBackToRules: 7,\n    saveTheScript: 8,\n};\n\nconst steps = [\n    {  // 0\n        selector: '.blocks-triggers',\n        content: 'Select triggers',\n    },\n    {  // 1\n        selector: '.block-TriggerScheduleBlock',\n        content: 'Double click to add the block',\n    },\n    {   // 2\n        selector: '.tag-card',\n        content: 'Open drop down menu',\n    },\n    {   // 3\n        selector: '.tag-card-interval',\n        content: 'Select interval',\n    },\n    {   // 4\n        selector: '.blocks-actions',\n        content: 'Select action blocks',\n    },\n    {  // 5\n        selector: '.block-ActionPrintText',\n        content: 'Double click to add the block',\n    },\n    {  // 6\n        selector: '.button-js-code',\n        content: 'Check the script',\n    },\n    {  // 7\n        selector: '.button-js-code',\n        content: 'Switch back to rules',\n    },\n    {   // 8\n        selector: '.button-save',\n        content: 'Save the script',\n    }\n];\n\nexport {STEPS};\n\nexport default steps;","import React, { PureComponent, Fragment } from 'react';\nimport cls from './style.module.scss';\n\nimport {\n    Menu,\n    MenuItem,\n    IconButton,\n} from '@mui/material';\nimport { HelpOutline as IconHelp } from '@mui/icons-material';\n\nimport { getSelectIdIcon } from '@iobroker/adapter-react-v5/Components/Icon';\nimport {\n    I18n, Utils,\n    SelectID as DialogSelectID,\n    Error as DialogError,\n    Message as DialogMessage,\n} from '@iobroker/adapter-react-v5';\n\nimport CustomButton from '../CustomButton';\nimport CustomCheckbox from '../CustomCheckbox';\nimport CustomInput from '../CustomInput';\nimport CustomInstance from '../CustomInstance';\nimport CustomModal from '../CustomModal';\nimport CustomSelect from '../CustomSelect';\nimport CustomSlider from '../CustomSlider';\nimport CustomSwitch from '../CustomSwitch';\nimport CustomTime from '../CustomTime';\nimport CustomDate from '../CustomDate';\n\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport utils from '../../helpers/utils';\nimport { STEPS } from '../../helpers/Tour';\n\nclass GenericBlock extends PureComponent {\n    constructor(props, item) {\n        super(props);\n        item = item || {};\n        let settings = props.settings || {\n            tagCard: item.tagCardArray ? typeof item.tagCardArray[0] !== 'string' ? item.tagCardArray[0].title : item.tagCardArray[0] : '',\n        };\n\n        if (!settings.tagCard && item.tagCardArray) {\n            settings.tagCard = typeof item.tagCardArray[0] !== 'string' ? item.tagCardArray[0].title : item.tagCardArray[0];\n        }\n\n        this.state = {\n            inputs: item.inputs || props.inputs || [],\n            name: item.name || props.name || '',\n            icon: item.icon || props.icon || '',\n            adapter: item.adapter || props.adapter || '',\n            helpDialog: item.helpDialog || props.helpDialog || '',\n\n            tagCardArray: item.tagCardArray || [],\n\n            openTagMenu: false,\n            openModal: false,\n            iconTag: false,\n            error: '',\n            helpText: '',\n\n            oid: {},\n            instanceSelectionOptions: [],\n            instanceSelectionDef: '',\n\n            hideAttributes: [], // e.g. instance\n\n            settings,\n            debugMessage: null,\n            enableSimulation: this.props.enableSimulation,\n        };\n\n        this.debugHideTimeout = null;\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (!nextProps || !nextProps.settings) {\n            console.log(JSON.stringify(nextProps));\n            return;\n        }\n\n        const settings = JSON.parse(JSON.stringify(nextProps.settings));\n        if (!settings.tagCard && this.state.tagCardArray && this.state.tagCardArray.length) {\n            settings.tagCard = typeof this.state.tagCardArray[0] !== 'string' ? this.state.tagCardArray[0].title : this.state.tagCardArray[0];\n        }\n\n        let newState = null;\n\n        if (nextProps.onDebugMessage && nextProps.onDebugMessage.blockId === this.props._id) {\n            newState = {};\n            newState.debugMessage = JSON.parse(JSON.stringify(nextProps.onDebugMessage));\n            this.debugHideTimeout && clearTimeout(this.debugHideTimeout);\n            this.debugHideTimeout = setTimeout(() =>\n                this.setState({ debugMessage: null }),\n                nextProps.onDebugMessage.hideTimeout || 5000);\n        }\n\n        if (JSON.stringify(settings) !== JSON.stringify(this.state.settings)) {\n            newState = newState || {};\n            newState.settings = settings;\n        }\n\n        if (this.state.enableSimulation !== nextProps.enableSimulation) {\n            newState = newState || {};\n            newState.enableSimulation = nextProps.enableSimulation;\n        }\n\n        newState && this.setState(newState);\n    }\n\n    componentWillUnmount() {\n        this.debugHideTimeout && clearTimeout(this.debugHideTimeout);\n        this.debugHideTimeout = null;\n    }\n\n    // called every time, the tagCard changes or at start\n    onTagChange(tagCard, cb) {\n        // analyse inputs and fill the attributes with default values\n        let changed = false;\n        let settings = JSON.parse(JSON.stringify(this.state.settings));\n        this.state.inputs.forEach(input => {\n            if (input.attr && input.defaultValue !== undefined) {\n                if (settings[input.attr] === undefined) {\n                    changed = true;\n                    settings[input.attr] = input.defaultValue;\n                }\n            }\n        });\n        if (changed) {\n            this.setState({ settings }, () => cb && cb());\n            this.props.onChange(settings);\n        } else {\n            cb && cb();\n        }\n    }\n\n    // called if trigger added or removed\n    onUpdate() {\n        // do nothing, but blocks can overwrite it\n    }\n\n    // called every time if some attribute changes\n    onValueChanged(value, attr) {\n        // do nothing, but blocks can overwrite it\n    }\n\n    renderText = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, name, doNotTranslate, doNotTranslateBack } = input;\n        return <Fragment key={attr}>\n            <div className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    label={utils.getName(name)}\n                    variant=\"outlined\"\n                    size=\"small\"\n                    fullWidth\n                    value={value}\n                    onChange={onChange}\n                    customValue\n                />\n                {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </Fragment>;\n    }\n\n    renderSwitch = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr}>\n            <div className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomSwitch\n                    className={className}\n                    label=''\n                    customValue\n                    value={value}\n                    onChange={onChange}\n                />\n                {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </div>;\n    }\n\n    renderNameText = ({ attr, signature, doNotTranslate, defaultValue }, value) => <div\n        className={Utils.clsx(!!signature ? cls.displayItalic : cls.displayFlex, cls.blockMarginTop)}\n        key={attr}>\n        {value ? (doNotTranslate ? value : I18n.t(value)) : (doNotTranslate ? defaultValue : I18n.t(defaultValue))}\n    </div>;\n\n    renderNumber = (input, value, onChange) => {\n        const { className } = this.props;\n        const { settings } = this.state;\n        const { attr, backText, frontText, openCheckbox, doNotTranslate, doNotTranslateBack } = input;\n        let visibility = true;\n        if (openCheckbox) {\n            visibility = typeof settings['offset'] === 'boolean' ? settings['offset'] : true;\n        }\n        return visibility ? <div key={attr} className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomInput\n                className={Utils.clsx(className, input.className)}\n                fullWidth\n                autoComplete=\"off\"\n                label={input.noHelperText ? '' : 'number'}\n                variant=\"outlined\"\n                size=\"small\"\n                type=\"number\"\n                value={value}\n                onChange={onChange}\n                customValue\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div> : null;\n    }\n\n    renderColor = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, backText, frontText, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomInput\n                className={className}\n                autoComplete=\"off\"\n                fullWidth\n                variant=\"outlined\"\n                size=\"small\"\n                type=\"color\"\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    renderCheckbox = (input, value, onChange) => {\n        const { className } = this.props;\n        const { settings } = this.state;\n        const { attr, backText, frontText, defaultValue, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={cls.displayFlex}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomCheckbox\n                className={className}\n                size=\"small\"\n                style={{ marginRight: 5 }}\n                value={typeof settings[attr] === 'boolean' ? settings[attr] : defaultValue}\n                customValue\n                onChange={onChange}\n            />\n            {backText && <div onClick={() => onChange(typeof settings[attr] === 'boolean' ? !settings[attr] : !defaultValue)} className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    renderSlider = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, min, max, step, unit, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr}>\n            <div className={cls.displayFlex} style={{ marginRight: 20 }}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomSlider\n                    customValue\n                    min={min}\n                    max={max}\n                    step={step}\n                    unit={unit}\n                    className={className}\n                    autoComplete=\"off\"\n                    label=\"number\"\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    onChange={val => {\n                        console.log(val);\n                        onChange(val);\n                    }}\n                />\n                {backText && <div style={{ marginLeft: 20 }} className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </div>;\n    };\n\n    renderButton = (input, value, onClick) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, buttonText, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomButton\n                label={buttonText}\n                fullWidth\n                value={value}\n                className={className}\n                onClick={onClick}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    findIcon = obj => {\n        if (!obj) {\n            return Promise.resolve(null);\n        }\n\n        if (obj.common?.icon) {\n            return Promise.resolve(getSelectIdIcon(obj, '../..'));\n        }\n\n        if (obj.type === 'state' || obj.type === 'channel') {\n            const parts = obj._id.split('.');\n            parts.pop();\n            const newId = parts.join('.');\n\n            return this.props.socket.getObject(newId)\n                .then(o => this.findIcon(o))\n                .catch(() => null);\n        }\n    };\n\n    renderObjectID = (input, value, onChange) => {\n        const { attr, openCheckbox, checkReadOnly } = input;\n        const { settings } = this.state;\n        const showSelectId = this.state[`showSelectId${attr}`];\n        const { className, socket, style } = this.props;\n        let visibility = true;\n        if (openCheckbox) {\n            visibility = typeof settings['offset'] === 'boolean' ? settings['offset'] : true;\n        }\n\n        if (settings[attr] && !this.state[settings[attr]]) {\n            setTimeout(() => {\n                socket.getObject(value)\n                    .then(obj => {\n                        this.findIcon(obj)\n                            .then(icon => this.setState({\n                                [settings[attr]]: obj,\n                                [`${settings[attr]}___icon`]: icon,\n                                error: checkReadOnly && this.lastObjectIdChange && Date.now() - this.lastObjectIdChange < 1000 && obj?.common?.write === false ?\n                                    I18n.t('Read only ID selected: %s', settings[attr]) : '',\n                            }))\n                    });\n            }, 0);\n        }\n\n        // return null\n        return visibility ? <div className={cls.blockMarginTop} key={attr}>\n            <div className={cls.displayFlex}>\n                {input.title ? <div>{I18n.t(input.title)}</div> : null}\n                <CustomInput\n                    className={className}\n                    style={style}\n                    autoComplete=\"off\"\n                    fullWidth\n                    disabled\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    customValue\n                />\n                <CustomButton\n                    icon={this.state[`${this.state.settings[input.attr]}___icon`]}\n                    square\n                    style={{ ...(style || undefined), marginLeft: 7 }}\n                    value=\"...\"\n                    className={className}\n                    onClick={() => {\n                        const settings = {};\n                        settings[`showSelectId${attr}`] = true;\n                        this.setState(settings);\n                    }}\n                />\n            </div>\n            {this.state[this.state.settings[input.attr]] && <div className={Utils.clsx(cls.nameBlock, cls.displayItalic)}>{Utils.getObjectNameFromObj(this.state[settings[attr]], I18n.getLanguage())}</div>}\n            {showSelectId ? <DialogSelectID\n                theme={this.props.theme}\n                imagePrefix=\"../..\"\n                dialogName=\"javascript\"\n                themeType={Utils.getThemeName()}\n                socket={socket}\n                statesOnly\n                selected={value}\n                onClose={() => {\n                    const settings = {};\n                    settings[`showSelectId${attr}`] = false;\n                    this.setState(settings);\n                }}\n                onOk={(selected, name, common) => {\n                    const settings = {};\n                    settings[`showSelectId${attr}`] = false;\n                    this.setState(settings, () =>\n                        // read type of object\n                        socket.getObject(selected)\n                            .then(obj => {\n                                this.lastObjectIdChange = Date.now();\n                                onChange({\n                                    [attr]: selected,\n                                    [`${attr}Role`]: obj.common.role,\n                                    [`${attr}Type`]: obj.common.type,\n                                    [`${attr}Unit`]: obj.common.unit,\n                                    [`${attr}States`]: obj.common.states,\n                                    [`${attr}Min`]: obj.common.min,\n                                    [`${attr}Max`]: obj.common.max,\n                                    [`${attr}Step`]: obj.common.step,\n                                    [`${attr}Def`]: obj.common.def,\n                                    [`${attr}Write`]: obj.common.write,\n                                    [`${attr}Read`]: obj.common.read,\n                                }, null, () =>\n                                    this.props.setOnUpdate && this.props.setOnUpdate(true));\n                            }));\n                }}\n            /> : null}\n        </div> : null;\n    };\n\n    renderIconTag = () => {\n        return <div\n            className={cls.iconTag}\n            onClick={e => {\n                if (this.state.settings.tagCard) {\n                    if (this.state.tagCardArray.length < 3) {\n                        this.onChangeTag();\n                    } else {\n                        this.setState({ openTagMenu: e.currentTarget })\n                    }\n                }\n            }}>\n            {this.state.settings.tagCard}\n        </div>;\n    };\n\n    renderTime = (input, value, onChange) => {\n        const { attr, backText, frontText, doNotTranslate, doNotTranslateBack } = input\n        return <div key={attr} className={cls.displayFlex} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomTime\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    renderSelect = (input, value, onChange) => {\n        const { className, style } = this.props;\n        const { name, options, frontText, backText, attr, multiple, doNotTranslate, doNotTranslate2, doNotTranslateBack } = input;\n        return <div key={attr} className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{I18n.t(frontText)}</div>}\n            <CustomSelect\n                attr={attr}\n                doNotTranslate={doNotTranslate}\n                doNotTranslate2={doNotTranslate2}\n                title={name}\n                className={className}\n                style={style}\n                options={options}\n                value={value}\n                onChange={onChange}\n                multiple={multiple}\n                customValue\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    renderInstance = (input, value, onChange) => {\n        const { className, socket } = this.props;\n        const { name, options, frontText, backText, attr, adapter, doNotTranslate, doNotTranslateBack } = input;\n        if (this.state.hideAttributes.includes(attr)) {\n            return null;\n        }\n        return <div key={attr} className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomInstance\n                attr={attr}\n                socket={socket}\n                adapter={adapter}\n                title={name}\n                className={className}\n                options={options}\n                value={value}\n                onChange={onChange}\n                customValue\n                onInstanceHide={value => this.setState({ hideAttributes: [...this.state.hideAttributes, attr] }, () => onChange(value))} // hide instance if only exactly one exists\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    renderDialog = (input, value, onChange) => {\n        const { onShowDialog, frontText, backText, attr, icon, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <MaterialDynamicIcon\n                iconName={icon}\n                className={Utils.clsx(cls.iconDialog)}\n                onClick={() => onShowDialog && onShowDialog()}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    renderModalInput = (input, value, onChange) => {\n        const { openModal } = this.state;\n        const { className } = this.props;\n        const { attr, nameBlock, frontText, backText, noTextEdit, doNotTranslate, doNotTranslateBack} = input;\n        return <div key={attr}>\n            <div className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomInput\n                    disabled={!!noTextEdit}\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    onChange={onChange}\n                    customValue\n                />\n                <CustomButton\n                    square\n                    // fullWidth\n                    style={{ marginLeft: 5 }}\n                    value=\"...\"\n                    className={className}\n                    onClick={() => this.setState({ openModal: true })}\n                />\n                {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {openModal ? <CustomModal\n                open\n                onApply={val =>\n                    this.setState({ openModal: false }, () =>\n                        val !== null && val !== undefined && onChange(val))}\n                onClose={() => this.setState({ openModal: false })}\n                defaultValue={value}\n                textInput\n            /> : null}\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </div>;\n    };\n\n    renderDate = (input, value, onChange) => {\n        const { attr, backText, frontText, doNotTranslate, doNotTranslateBack } = input\n        return <div key={attr} className={cls.displayFlex} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomDate\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    static getReplacesInText(context) {\n        let value = '';\n        if (context.trigger?.oidType) {\n            value = '.replace(/%s/g, obj.state.val).replace(/%id/g, obj.id).replace(/%name/g, obj.common && obj.common.name).replace(/%old/g, obj.oldState.val)';\n        } else if (context.conditionsStates.length) {\n            value = `.replace(/%s/g, ${context.conditionsStates[0].name}).replace(/%id/g, \"${context.conditionsStates[0].id}\")`;\n        }\n        return value;\n    }\n\n    /////////////////////////////\n    renderTags = () => {\n        let { tagCardArray, openTagMenu } = this.state;\n        let { tagCard } = this.state.settings;\n        let result = tagCard !== '=' && tagCard !== '<>' && tagCard !== '>=' && tagCard !== '()' && tagCard !== '.' && tagCard !== '<=' && tagCard !== '<' && tagCard !== '>' ? I18n.t(tagCard) : tagCard;\n        if (tagCardArray.length >= 3) {\n            result = <div>\n                <div aria-controls=\"simple-menu\" aria-haspopup=\"true\"\n                    onClick={e => {\n                        this.setState({ openTagMenu: e.currentTarget }, () => {\n                            this.props.isTourOpen &&\n                                this.props.tourStep === STEPS.openTagsMenu &&\n                                setTimeout(() => this.props.setTourStep(STEPS.selectIntervalTag), 300);\n                        });\n                    }}>{result}</div>\n                <Menu\n                    id=\"simple-menu\"\n                    anchorEl={openTagMenu}\n                    keepMounted\n                    open={Boolean(openTagMenu)}\n                    onClose={() => this.setState({ openTagMenu: null })}\n                >\n                    {tagCardArray.map(el => {\n                        let tag = el;\n                        if (typeof el !== 'string') {\n                            tag = el.title;\n                        }\n                        return (\n                            <MenuItem\n                                key={tag}\n                                selected={tag === tagCard}\n                                className={'tag-card-' + tag}\n                                style={{ placeContent: 'space-between' }}\n                                onClick={() => {\n                                    const settings = { ...this.state.settings, tagCard: tag };\n                                    this.setState({ openTagMenu: null, settings }, () => {\n                                        this.props.onChange(settings);\n                                        this.onTagChange(tag);\n                                    });\n                                    (this.props.isTourOpen &&\n                                        (this.props.tourStep === STEPS.openTagsMenu ||\n                                            this.props.tourStep === STEPS.selectIntervalTag) &&\n                                        tag === 'interval' &&\n                                        setTimeout(() => this.props.setTourStep(STEPS.selectActions), 500));\n\n                                }}>{tag.search(/>|<|<>|<=|>=|=/) !== -1 ? tag : I18n.t(tag)}{typeof el !== 'string' && el.title2 && <div style={{ marginLeft: 4 }}>{I18n.t(el.title2)}</div>}\n                            </MenuItem>\n                        );\n                    })}\n                </Menu>\n            </div>;\n        }\n\n        return result;\n    };\n\n    onChangeTag = () => {\n        const { tagCardArray, settings, settings: { tagCard } } = this.state;\n        let newTagCardArray = [...tagCardArray]\n        if (typeof newTagCardArray[0] !== 'string') {\n            newTagCardArray = newTagCardArray.map(el => el.title);\n        }\n\n        if (tagCard && newTagCardArray.length < 3) {\n            const newSettings = { ...settings };\n            const newTagCard = newTagCardArray[(newTagCardArray.indexOf(tagCard) + 1) % newTagCardArray.length]\n            newSettings.tagCard = newTagCard;\n            this.setState({ settings: newSettings }, () => {\n                this.props.onChange(newSettings);\n                this.onTagChange(newTagCard);\n            });\n        }\n    };\n\n    componentDidMount = () => {\n        this.onTagChange();\n        // detect changes\n    };\n\n    componentDidUpdate = prevProps => {\n        if (this.props.acceptedBy !== 'triggers' && this.props.onUpdate) {\n            setTimeout(() => this.onUpdate(), 0);\n        }\n    }\n\n    onChangeInput = attribute => {\n        return (value, attr, cb) => {\n            const settings = JSON.parse(JSON.stringify(this.state.settings));\n\n            if (typeof value === 'object' && (!attr || typeof attr === 'function')) {\n                Object.keys(value).forEach(_attr => settings[_attr] = value[_attr]);\n            } else {\n                settings[attr || attribute] = value;\n            }\n            settings.id = this.getData().id;\n            settings._id = this.props._id;\n\n            this.setState({ settings }, () => {\n                this.onValueChanged(value, attr || attribute);\n                this.props.onChange(settings);\n                cb && cb();\n            });\n        }\n    }\n\n    renderSpecific() {\n        return null; // it can be overloaded\n    }\n\n    renderDebugInfo() {\n        if (this.state.debugMessage) {\n            return <div className={cls.debugInfo} key={this.state.debugMessage.ts} style={{ opacity: 1, height: 22, bottom: -22 }}>\n                {this.renderDebug ? this.renderDebug(this.state.debugMessage) : I18n.t('executed')}\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    render = () => {\n        const { inputs, name, icon, iconTag, settings, adapter, settings: { tagCard }, helpDialog } = this.state;\n        const { socket, notFound } = this.props;\n\n        return <Fragment>\n            {iconTag ? this.renderIconTag() :\n                <MaterialDynamicIcon\n                    iconName={icon}\n                    className={Utils.clsx(cls.iconThemCard, tagCard && this.state.tagCardArray.length && cls.iconThemCardSelectable)}\n                    adapter={adapter}\n                    socket={socket}\n                    onClick={e => {\n                        if (tagCard) {\n                            if (this.state.tagCardArray.length < 3) {\n                                this.onChangeTag();\n                            } else {\n                                this.setState({ openTagMenu: e.currentTarget })\n                            }\n                        }\n                    }}\n                />}\n            <div className={cls.blockName}>\n                <span className={cls.nameCard}>\n                    {I18n.t(name)}\n                    {!!notFound ? I18n.t(`%s not found`, settings.id) : ''}\n                    {helpDialog ? <IconButton className={cls.iconHelp} size=\"small\" onClick={() => this.setState({ helpText: I18n.t(helpDialog) })}><IconHelp /></IconButton> : null}\n                </span>\n                {inputs.filter(({ nameRender }) => this[nameRender])\n                    .map(input => {\n                        const { nameRender, defaultValue, attr, options } = input;\n                        return this[nameRender](\n                            input,\n                            settings[attr] !== undefined ? settings[attr] : defaultValue,\n                            this.onChangeInput(attr),\n                            options || []\n                        );\n                    })}\n            </div>\n            {tagCard && <div className={cls.controlMenuTop} style={{ opacity: 1, height: 22, top: -22 }}>\n                <div onClick={() => this.onChangeTag()} className={Utils.clsx(cls.tagCard, 'tag-card')}>{this.renderTags()}</div>\n            </div>}\n            {this.renderDebugInfo()}\n            {this.state.error ? <DialogError title={I18n.t('Warning')} text={this.state.error} onClose={() => this.setState({ error: '' })} /> : null}\n            {this.state.helpText ? <DialogMessage title={I18n.t('Instructions')} text={this.state.helpText} onClose={() => this.setState({ helpText: '' })} /> : null}\n            {this.renderSpecific()}\n        </Fragment>;\n    };\n}\n\nexport default GenericBlock;\n","import { I18n } from '@iobroker/adapter-react-v5';\nimport GenericBlock from '../GenericBlock';\n\n// copied from https://github.com/ioBroker/ioBroker.sayit/blob/master/admin/blockly.js#L37\nconst sayitEngines = {\n    'en':       { name: 'Google - English',         engine: 'google',  params: [] },\n    'de':       { name: 'Google - Deutsch',         engine: 'google',  params: [] },\n    'ru':       { name: 'Google - Русский',         engine: 'google',  params: [] },\n    'it':       { name: 'Google - Italiano',        engine: 'google',  params: [] },\n    'es':       { name: 'Google - Espaniol',        engine: 'google',  params: [] },\n    'fr':       { name: 'Google - Français',        engine: 'google',  params: [] },\n    'ru_YA':    { name: 'Yandex - Русский',         engine: 'yandex',  params: ['key', 'voice', 'emotion', 'ill', 'drunk', 'robot'], voice: ['jane', 'zahar'], emotion: ['none', 'good', 'neutral', 'evil', 'mixed'] },\n    'ru_YA_CLOUD': { name: 'Yandex Cloud - Русский',   engine: 'yandexCloud',  params: ['key', 'folderID', 'voice', 'emotion'], voice: ['alyss', 'oksana', 'jane', 'zahar'], emotion: [ 'good', 'neutral', 'evil'] },\n\n    'en-US':    { name: 'PicoTTS - Englisch US',    engine: 'PicoTTS', params: [] },\n    'en-GB':    { name: 'PicoTTS - Englisch GB',    engine: 'PicoTTS', params: [] },\n    'de-DE':    { name: 'PicoTTS - Deutsch',        engine: 'PicoTTS', params: [] },\n    'it-IT':    { name: 'PicoTTS - Italiano',       engine: 'PicoTTS', params: [] },\n    'es-ES':    { name: 'PicoTTS - Espaniol',       engine: 'PicoTTS', params: [] },\n    'fr-FR':    { name: 'PicoTTS - Français',       engine: 'PicoTTS', params: [] },\n\n    'ru-RU_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'ru-RU',      ename: 'Tatyana',    ssml: true, name: 'Cloud - Русский - Татьяна' },\n    'ru-RU_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'ru-RU',      ename: 'Maxim',      ssml: true, name: 'Cloud - Русский - Максим' },\n    'de-DE_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'de-DE',      ename: 'Marlene',    ssml: true, name: 'Cloud - Deutsch - Marlene' },\n    'de-DE_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'de-DE',      ename: 'Hans',       ssml: true, name: 'Cloud - Deutsch - Hans' },\n    'en-US_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-US',      ename: 'Salli',      ssml: true, name: 'Cloud - en-US - Female - Salli' },\n    'en-US_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'en-US',      ename: 'Joey',       ssml: true, name: 'Cloud - en-US - Male - Joey' },\n    'da-DK_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'da-DK',      ename: 'Naja',       ssml: true, name: 'Cloud - da-DK - Female - Naja' },\n    'da-DK_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'da-DK',      ename: 'Mads',       ssml: true, name: 'Cloud - da-DK - Male - Mads' },\n    'en-AU_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-AU',      ename: 'Nicole',     ssml: true, name: 'Cloud - en-AU - Female - Nicole' },\n    'en-AU_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'en-AU',      ename: 'Russell',    ssml: true, name: 'Cloud - en-AU - Male - Russell' },\n    'en-GB_CLOUD_Female_Amy':   { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-GB',      ename: 'Amy',        ssml: true, name: 'Cloud - en-GB - Female - Amy' },\n    'en-GB_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'en-GB',      ename: 'Brian',      ssml: true, name: 'Cloud - en-GB - Male - Brian' },\n    'en-GB_CLOUD_Female_Emma':  { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-GB',      ename: 'Emma',       ssml: true, name: 'Cloud - en-GB - Female - Emma' },\n    'en-GB-WLS_CLOUD_Female':   { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-GB-WLS',  ename: 'Gwyneth',    ssml: true, name: 'Cloud - en-GB-WLS - Female - Gwyneth' },\n    'en-GB-WLS_CLOUD_Male':     { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'en-GB-WLS',  ename: 'Geraint',    ssml: true, name: 'Cloud - en-GB-WLS - Male - Geraint' },\n    'cy-GB_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'cy-GB',      ename: 'Gwyneth',    ssml: true, name: 'Cloud - cy-GB - Female - Gwyneth' },\n    'cy-GB_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'cy-GB',      ename: 'Geraint',    ssml: true, name: 'Cloud - cy-GB - Male - Geraint' },\n    'en-IN_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-IN',      ename: 'Raveena',    ssml: true, name: 'Cloud - en-IN - Female - Raveena' },\n    'en-US_CLOUD_Male_Chipmunk':{ gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'en-US',      ename: 'Chipmunk',   ssml: true, name: 'Cloud - en-US - Male - Chipmunk' },\n    'en-US_CLOUD_Male_Eric':    { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'en-US',      ename: 'Eric',       ssml: true, name: 'Cloud - en-US - Male - Eric' },\n    'en-US_CLOUD_Female_Ivy':   { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-US',      ename: 'Ivy',        ssml: true, name: 'Cloud - en-US - Female - Ivy' },\n    'en-US_CLOUD_Female_Jennifer': { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-US',   ename: 'Jennifer',   ssml: true, name: 'Cloud - en-US - Female - Jennifer' },\n    'en-US_CLOUD_Male_Justin':  { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'en-US',      ename: 'Justin',     ssml: true, name: 'Cloud - en-US - Male - Justin' },\n    'en-US_CLOUD_Female_Kendra': { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-US',     ename: 'Kendra',     ssml: true, name: 'Cloud - en-US - Female - Kendra' },\n    'en-US_CLOUD_Female_Kimberly': { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-US',   ename: 'Kimberly',   ssml: true, name: 'Cloud - en-US - Female - Kimberly' },\n    'es-ES_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'es-ES',      ename: 'Conchita',   ssml: true, name: 'Cloud - es-ES - Female - Conchita' },\n    'es-ES_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'es-ES',      ename: 'Enrique',    ssml: true, name: 'Cloud - es-ES - Male - Enrique' },\n    'es-US_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'es-US',      ename: 'Penelope',   ssml: true, name: 'Cloud - es-US - Female - Penelope' },\n    'es-US_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'es-US',      ename: 'Miguel',     ssml: true, name: 'Cloud - es-US - Male - Miguel' },\n    'fr-CA_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'fr-CA',      ename: 'Chantal',    ssml: true, name: 'Cloud - fr-CA - Female - Chantal' },\n    'fr-FR_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'fr-FR',      ename: 'Celine',     ssml: true, name: 'Cloud - fr-FR - Female - Celine' },\n    'fr-FR_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'fr-FR',      ename: 'Mathieu',    ssml: true, name: 'Cloud - fr-FR - Male - Mathieu' },\n    'is-IS_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'is-IS',      ename: 'Dora',       ssml: true, name: 'Cloud - is-IS - Female - Dora' },\n    'is-IS_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'is-IS',      ename: 'Karl',       ssml: true, name: 'Cloud - is-IS - Male - Karl' },\n    'it-IT_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'it-IT',      ename: 'Carla',      ssml: true, name: 'Cloud - it-IT - Female - Carla' },\n    'it-IT_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'it-IT',      ename: 'Giorgio',    ssml: true, name: 'Cloud - it-IT - Male - Giorgio' },\n    'nb-NO_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'nb-NO',      ename: 'Liv',        ssml: true, name: 'Cloud - nb-NO - Female - Liv' },\n    'nl-NL_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'nl-NL',      ename: 'Lotte',      ssml: true, name: 'Cloud - nl-NL - Female - Lotte' },\n    'nl-NL_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'nl-NL',      ename: 'Ruben',      ssml: true, name: 'Cloud - nl-NL - Male - Ruben' },\n    'pl-PL_CLOUD_Female_Agnieszka': { gender: 'Female', engine: 'cloud',params: ['cloud'], language: 'pl-PL',      ename: 'Agnieszka',  ssml: true, name: 'Cloud - pl-PL - Female - Agnieszka' },\n    'pl-PL_CLOUD_Male_Jacek':   { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'pl-PL',      ename: 'Jacek',      ssml: true, name: 'Cloud - pl-PL - Male - Jacek' },\n    'pl-PL_CLOUD_Female_Ewa':   { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'pl-PL',      ename: 'Ewa',        ssml: true, name: 'Cloud - pl-PL - Female - Ewa' },\n    'pl-PL_CLOUD_Male_Jan':     { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'pl-PL',      ename: 'Jan',        ssml: true, name: 'Cloud - pl-PL - Male - Jan' },\n    'pl-PL_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'pl-PL',      ename: 'Maja',       ssml: true, name: 'Cloud - pl-PL - Female - Maja' },\n    'pt-BR_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'pt-BR',      ename: 'Vitoria',    ssml: true, name: 'Cloud - pt-BR - Female - Vitoria' },\n    'pt-BR_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'pt-BR',      ename: 'Ricardo',    ssml: true, name: 'Cloud - pt-BR - Male - Ricardo' },\n    'pt-PT_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'pt-PT',      ename: 'Cristiano',  ssml: true, name: 'Cloud - pt-PT - Male - Cristiano' },\n    'pt-PT_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'pt-PT',      ename: 'Ines',       ssml: true, name: 'Cloud - pt-PT - Female - Ines' },\n    'ro-RO_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'ro-RO',      ename: 'Carmen',     ssml: true, name: 'Cloud - ro-RO - Female - Carmen' },\n    'sv-SE_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'sv-SE',      ename: 'Astrid',     ssml: true, name: 'Cloud - sv-SE - Female - Astrid' },\n    'tr-TR_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'tr-TR',      ename: 'Filiz',      ssml: true, name: 'Cloud - tr-TR - Female - Filiz' },\n\n    'ru-RU_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'ru-RU',      ename: 'Tatyana',    ssml: true, name: 'AWS Polly - Русский - Татьяна' },\n    'ru-RU_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'ru-RU',      ename: 'Maxim',      ssml: true, name: 'AWS Polly - Русский - Максим' },\n    'de-DE_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'de-DE',      ename: 'Marlene',    ssml: true, name: 'AWS Polly - Deutsch - Marlene' },\n    'de-DE_AP_Female_Vicky':    { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'de-DE',      ename: 'Vicky',      ssml: true, name: 'AWS Polly - Deutsch - Vicky' },\n    'de-DE_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'de-DE',      ename: 'Hans',       ssml: true, name: 'AWS Polly - Deutsch - Hans' },\n    'en-US_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Salli',      ssml: true, name: 'AWS Polly - en-US - Female - Salli' },\n    'en-US_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Joey',       ssml: true, name: 'AWS Polly - en-US - Male - Joey' },\n    'da-DK_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'da-DK',      ename: 'Naja',       ssml: true, name: 'AWS Polly - da-DK - Female - Naja' },\n    'da-DK_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'da-DK',      ename: 'Mads',       ssml: true, name: 'AWS Polly - da-DK - Male - Mads' },\n    'en-AU_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-AU',      ename: 'Nicole',     ssml: true, name: 'AWS Polly - en-AU - Female - Nicole' },\n    'en-AU_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-AU',      ename: 'Russell',    ssml: true, name: 'AWS Polly - en-AU - Male - Russell' },\n    'en-GB_AP_Female_Amy':      { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-GB',      ename: 'Amy',        ssml: true, name: 'AWS Polly - en-GB - Female - Amy' },\n    'en-GB_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-GB',      ename: 'Brian',      ssml: true, name: 'AWS Polly - en-GB - Male - Brian' },\n    'en-GB_AP_Female_Emma':     { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-GB',      ename: 'Emma',       ssml: true, name: 'AWS Polly - en-GB - Female - Emma' },\n    'en-GB-WLS_AP_Female':      { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-GB-WLS',  ename: 'Gwyneth',    ssml: true, name: 'AWS Polly - en-GB-WLS - Female - Gwyneth' },\n    'en-GB-WLS_AP_Male':        { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-GB-WLS',  ename: 'Geraint',    ssml: true, name: 'AWS Polly - en-GB-WLS - Male - Geraint' },\n    'cy-GB_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'cy-GB',      ename: 'Gwyneth',    ssml: true, name: 'AWS Polly - cy-GB - Female - Gwyneth' },\n    'cy-GB_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'cy-GB',      ename: 'Geraint',    ssml: true, name: 'AWS Polly - cy-GB - Male - Geraint' },\n    'en-IN_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-IN',      ename: 'Raveena',    ssml: true, name: 'AWS Polly - en-IN - Female - Raveena' },\n    'en-US_AP_Male_Chipmunk':   { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Chipmunk',   ssml: true, name: 'AWS Polly - en-US - Male - Chipmunk' },\n    'en-US_AP_Male_Eric':       { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Eric',       ssml: true, name: 'AWS Polly - en-US - Male - Eric' },\n    'en-US_AP_Female_Ivy':      { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Ivy',        ssml: true, name: 'AWS Polly - en-US - Female - Ivy' },\n    'en-US_AP_Female_Jennifer': { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Jennifer',   ssml: true, name: 'AWS Polly - en-US - Female - Jennifer' },\n    'en-US_AP_Male_Justin':     { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Justin',     ssml: true, name: 'AWS Polly - en-US - Male - Justin' },\n    'en-US_AP_Female_Kendra':   { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Kendra',     ssml: true, name: 'AWS Polly - en-US - Female - Kendra' },\n    'en-US_AP_Female_Kimberly': { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Kimberly',   ssml: true, name: 'AWS Polly - en-US - Female - Kimberly' },\n    'es-ES_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'es-ES',      ename: 'Conchita',   ssml: true, name: 'AWS Polly - es-ES - Female - Conchita' },\n    'es-ES_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'es-ES',      ename: 'Enrique',    ssml: true, name: 'AWS Polly - es-ES - Male - Enrique' },\n    'es-US_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'es-US',      ename: 'Penelope',   ssml: true, name: 'AWS Polly - es-US - Female - Penelope' },\n    'es-US_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'es-US',      ename: 'Miguel',     ssml: true, name: 'AWS Polly - es-US - Male - Miguel' },\n    'fr-CA_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'fr-CA',      ename: 'Chantal',    ssml: true, name: 'AWS Polly - fr-CA - Female - Chantal' },\n    'fr-FR_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'fr-FR',      ename: 'Celine',     ssml: true, name: 'AWS Polly - fr-FR - Female - Celine' },\n    'fr-FR_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'fr-FR',      ename: 'Mathieu',    ssml: true, name: 'AWS Polly - fr-FR - Male - Mathieu' },\n    'is-IS_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'is-IS',      ename: 'Dora',       ssml: true, name: 'AWS Polly - is-IS - Female - Dora' },\n    'is-IS_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'is-IS',      ename: 'Karl',       ssml: true, name: 'AWS Polly - is-IS - Male - Karl' },\n    'it-IT_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'it-IT',      ename: 'Carla',      ssml: true, name: 'AWS Polly - it-IT - Female - Carla' },\n    'it-IT_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'it-IT',      ename: 'Giorgio',    ssml: true, name: 'AWS Polly - it-IT - Male - Giorgio' },\n    'nb-NO_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'nb-NO',      ename: 'Liv',        ssml: true, name: 'AWS Polly - nb-NO - Female - Liv' },\n    'nl-NL_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'nl-NL',      ename: 'Lotte',      ssml: true, name: 'AWS Polly - nl-NL - Female - Lotte' },\n    'nl-NL_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'nl-NL',      ename: 'Ruben',      ssml: true, name: 'AWS Polly - nl-NL - Male - Ruben' },\n    'pl-PL_AP_Female_Agnieszka':{ gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pl-PL',      ename: 'Agnieszka',  ssml: true, name: 'AWS Polly - pl-PL - Female - Agnieszka' },\n    'pl-PL_AP_Male_Jacek':      { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pl-PL',      ename: 'Jacek',      ssml: true, name: 'AWS Polly - pl-PL - Male - Jacek' },\n    'pl-PL_AP_Female_Ewa':      { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pl-PL',      ename: 'Ewa',        ssml: true, name: 'AWS Polly - pl-PL - Female - Ewa' },\n    'pl-PL_AP_Male_Jan':        { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pl-PL',      ename: 'Jan',        ssml: true, name: 'AWS Polly - pl-PL - Male - Jan' },\n    'pl-PL_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pl-PL',      ename: 'Maja',       ssml: true, name: 'AWS Polly - pl-PL - Female - Maja' },\n    'pt-BR_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pt-BR',      ename: 'Vitoria',    ssml: true, name: 'AWS Polly - pt-BR - Female - Vitoria' },\n    'pt-BR_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pt-BR',      ename: 'Ricardo',    ssml: true, name: 'AWS Polly - pt-BR - Male - Ricardo' },\n    'pt-PT_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pt-PT',      ename: 'Cristiano',  ssml: true, name: 'AWS Polly - pt-PT - Male - Cristiano' },\n    'pt-PT_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pt-PT',      ename: 'Ines',       ssml: true, name: 'AWS Polly - pt-PT - Female - Ines' },\n    'ro-RO_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'ro-RO',      ename: 'Carmen',     ssml: true, name: 'AWS Polly - ro-RO - Female - Carmen' },\n    'sv-SE_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'sv-SE',      ename: 'Astrid',     ssml: true, name: 'AWS Polly - sv-SE - Female - Astrid' },\n    'tr-TR_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'tr-TR',      ename: 'Filiz',      ssml: true, name: 'AWS Polly - tr-TR - Female - Filiz' },\n};\n\nclass ActionSayText extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSayText.getStaticData());\n    }\n\n    static compile(config, context) {\n        if (!config.text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        } else {\n            return `// Sayit ${config.text || ''}\n\\t\\tconst subActionVar${config._id} = \"${config.language && config.language !== '_' ? `${config.language};` : ''}${config.volume ? `${config.volume};` : ''}${(config.text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tawait setStateAsync(\"${config.instance}.tts.text\", subActionVar${config._id});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `${I18n.t('Say:')} ${debugMessage.data.text}`;\n    }\n\n    onTagChange(tagCard) {\n        const lang = I18n.getLanguage();\n        const languages = Object.keys(sayitEngines).filter(l => l.startsWith(lang));\n        const options = languages.map(lang => ({ title: sayitEngines[lang].name, value: lang }));\n        options.unshift({ title: 'Default', value: '_' });\n\n        this.setState({\n            inputs: [\n                {\n                    attr: 'instance',\n                    nameRender: 'renderInstance',\n                    adapter: 'sayit',\n                    defaultValue: 'sayit.0',\n                    frontText: 'Instance:',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    frontText: 'Language:',\n                    options,\n                    defaultValue: '_',\n                    attr: 'language',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Volume',\n                    attr: 'textVol',\n                },\n                {\n                    nameRender: 'renderSlider',\n                    attr: 'volume',\n                    defaultValue: 100,\n                    min: 0,\n                    max: 100\n                },\n                {\n                    attr: 'text',\n                    nameRender: 'renderModalInput',\n                    defaultValue: 'Hallo',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Say It',\n            id: 'ActionSayText',\n            adapter: 'sayit',\n            title: 'Say some text via sayit adapter',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionSayText.getStaticData();\n    }\n}\n\nexport default ActionSayText;\n","import { I18n } from '@iobroker/adapter-react-v5';\nimport GenericBlock from '../GenericBlock';\n\nclass ActionSendEmail extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSendEmail.getStaticData());\n    }\n\n    static compile(config, context) {\n        if (!config.recipients) {\n            return `// no recipients defined'\n_sendToFrontEnd(${config._id}, {text: 'No recipients defined'});`;\n        } else {\n            return `// Send Email ${config.text || ''}\n\\t\\tconst subActionVar${config._id} = \"${(config.text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tsendTo(\"${config.instance || 'email.0'}\", {\n\\t\\t    to:      \"${config.recipients || ''}\",\n\\t\\t    subject: \"${(config.subject || 'ioBroker').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)},\n\\t\\t    text:    subActionVar${config._id}\n\\t\\t});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `${I18n.t('Sent:')} ${debugMessage.data.text}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    attr: 'instance',\n                    nameRender: 'renderInstance',\n                    defaultValue: 'email.0',\n                    frontText: 'Instance:',\n                    adapter: 'email',\n                },\n                {\n                    attr: 'recipients',\n                    nameRender: 'renderText',\n                    defaultValue: 'user@mail.ru',\n                    frontText: 'To:',\n                },\n                {\n                    attr: 'subject',\n                    nameRender: 'renderText',\n                    defaultValue: 'Email from iobroker',\n                    nameBlock: '',\n                    frontText: 'Subject:',\n                },\n                {\n                    attr: 'text',\n                    nameRender: 'renderModalInput',\n                    defaultValue: 'Email from iobroker',\n                    nameBlock: '',\n                    frontText: 'Body:',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Send email',\n            id: 'ActionSendEmail',\n            adapter: 'email',\n            title: 'Sends an email',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionSendEmail.getStaticData();\n    }\n}\n\nexport default ActionSendEmail;\n","import { I18n } from '@iobroker/adapter-react-v5';\nimport GenericBlock from '../GenericBlock';\n\nclass ActionTelegram extends GenericBlock {\n    constructor(props) {\n        super(props, ActionTelegram.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        }\n        return `// Telegram ${text || ''}\n\\t\\tconst subActionVar${config._id} = \"${(text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tsendTo(\"${config.instance}\", \"send\", ${config.user && config.user !== '_' ? `{user: \"${(config.user || '').replace(/\"/g, '\\\\\"')}\", text: subActionVar${config._id}}` : `subActionVar${config._id}`});`;\n    }\n\n    renderDebug(debugMessage) {\n        return `${I18n.t('Sent:')} ${debugMessage.data.text}`;\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'instance') {\n            this._setUsers(value);\n        }\n    }\n\n    _setUsers(instance) {\n        instance = instance || this.state.settings.instance || 'telegram.0';\n        this.cachePromises[instance] = this.cachePromises[instance] || this.props.socket.getState(`${instance}.communicate.users`);\n        if (!this.state.settings._id) {\n            return this.setState({\n                inputs: [\n                    {\n                        nameRender: 'renderSelect',\n                        adapter: 'telegram',\n                        frontText: 'Instance:',\n                        defaultValue: 'telegram.0',\n                        attr: 'instance',\n                    },\n                    {\n                        nameRender: 'renderSelect',\n                        attr: 'user',\n                        options: [{title: 'telegram.0', value: 'telegram.0'}],\n                        defaultValue: '',\n                        frontText: 'User:',\n                    },\n                    {\n                        nameRender: 'renderModalInput',\n                        attr: 'text',\n                        defaultValue: 'Hallo',\n                        nameBlock: '',\n                        frontText: 'Text:',\n                    }\n                ]\n            }, () => super.onTagChange());\n        }\n\n        this.cachePromises[instance]\n            .then(users => {\n                try {\n                    users = users?.val ? JSON.parse(users.val) : null;\n                    users = users && Object.keys(users).map(user => ({title: users[user].userName || users[user].firstName, value: user}));\n                    users = users || [];\n                    users.unshift({ title: 'all', value: '' });\n                } catch (e) {\n                    users = [{ title: 'all', value: '' }];\n                }\n\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderInstance',\n                            adapter: 'telegram',\n                            frontText: 'Instance:',\n                            defaultValue: 'telegram.0',\n                            attr: 'instance',\n                        },\n                        {\n                            nameRender: 'renderSelect',\n                            attr: 'user',\n                            options: users,\n                            defaultValue: '_',\n                            frontText: 'User:',\n                        },\n                        {\n                            nameRender: 'renderModalInput',\n                            attr: 'text',\n                            defaultValue: 'Hallo',\n                            nameBlock: '',\n                            frontText: 'Text:',\n                        },\n                    ]\n                }, () => super.onTagChange());\n            });\n    }\n\n    onTagChange(tagCard) {\n        this._setUsers();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Telegram',\n            id: 'ActionTelegram',\n            adapter: 'telegram',\n            title: 'Sends message via telegram',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionTelegram.getStaticData();\n    }\n}\n\nexport default ActionTelegram;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionPushover extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPushover.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        } else {\n            return `// Pushover ${config.text || ''}\n\\t\\tconst subActionVar${config._id} = \"${text}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});            \n\\t\\tsendTo(\"${config.instance}\", \"send\", {\n\\t\\t    message: subActionVar${config._id},\n\\t\\t    title: \"${(config.title || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)},\n\\t\\t    sound: \"${config.sound}\",\n\\t\\t    priority: ${config.priority}\n\\t\\t});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `Sent: ${debugMessage.data.text}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderInstance',\n                    adapter: 'pushover',\n                    frontText: 'Instance:',\n                    defaultValue: 'pushover.0',\n                    attr: 'instance',\n                },\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'Hello',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                },\n                {\n                    nameRender: 'renderText',\n                    attr: 'title',\n                    defaultValue: 'ioBroker',\n                    frontText: 'Title:',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'sound',\n                    defaultValue: 'magic',\n                    frontText: 'Sound:',\n                    doNotTranslate: true,\n                    options: [\n                        { value: 'pushover', title: 'pushover' },\n                        { value: 'bike', title: 'bike' },\n                        { value: 'bugle', title: 'bugle' },\n                        { value: 'cashregister', title: 'cashregister' },\n                        { value: 'classical', title: 'classical' },\n                        { value: 'cosmic', title: 'cosmic' },\n                        { value: 'falling', title: 'falling' },\n                        { value: 'gamelan', title: 'gamelan' },\n                        { value: 'incoming', title: 'incoming' },\n                        { value: 'intermission', title: 'intermission' },\n                        { value: 'magic', title: 'magic' },\n                        { value: 'mechanical', title: 'mechanical' },\n                        { value: 'pianobar', title: 'pianobar' },\n                        { value: 'siren', title: 'siren' },\n                        { value: 'spacealarm', title: 'spacealarm' },\n                        { value: 'tugboat', title: 'tugboat' },\n                        { value: 'alien', title: 'alien' },\n                        { value: 'climb', title: 'climb' },\n                        { value: 'persistent', title: 'persistent' },\n                        { value: 'echo', title: 'echo' },\n                        { value: 'updown', title: 'updown' },\n                        { value: 'none', title: 'none' },\n                    ]\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'priority',\n                    defaultValue: -1,\n                    frontText: 'Priority:',\n                    options: [\n                        { value: -1, title: 'quiet' },\n                        { value: 0, title: 'normal' },\n                        { value: 1, title: 'high-priority' },\n                        { value: 2, title: 'acknowledgment' },\n                    ]\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Pushover',\n            id: 'ActionPushover',\n            adapter: 'pushover',\n            title: 'Sends message via pushover',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionPushover.getStaticData();\n    }\n}\n\nexport default ActionPushover;\n","import { I18n } from '@iobroker/adapter-react-v5';\nimport GenericBlock from '../GenericBlock';\n\nclass ActionWhatsappcmb extends GenericBlock {\n    constructor(props) {\n        super(props, ActionWhatsappcmb.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        } else {\n            return `// whatsapp ${text || ''}\n\\t\\tconst subActionVar${config._id} = \"${(text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tsendTo(\"${config.instance}\", \"send\", {text: subActionVar${config._id}${config.phone ? `, phone: \"${config.phone.replace(/\"/g, '\\\\\"')}\"` : ''}});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `${I18n.t('Sent:')} ${debugMessage.data.text}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderInstance',\n                    adapter: 'whatsapp-cmb',\n                    frontText: 'Instance:',\n                    defaultValue: 'whatsapp-cmb.0',\n                    attr: 'instance',\n                },\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'Hello',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                },\n                {\n                    nameRender: 'renderText',\n                    attr: 'phone',\n                    defaultValue: '',\n                    frontText: 'Phone:',\n                    backText: '(optional)',\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Whatsapp-cmb',\n            id: 'ActionWhatsappcmb',\n            adapter: 'whatsapp-cmb',\n            title: 'Sends message via whatsapp-cmb',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionWhatsappcmb.getStaticData();\n    }\n}\n\nexport default ActionWhatsappcmb;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionPushsafer extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPushsafer.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        } else {\n            return `// Pushsafer ${config.text || ''}\n\\t\\tconst subActionVar${config._id} = \"${text}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});            \n\\t\\tsendTo(\"${config.instance}\", \"send\", {\n\\t\\t    message: subActionVar${config._id},\n\\t\\t    title: \"${(config.title || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)},\n\\t\\t    ${config.device ? `device: \"${config.device}\",` : ''}\n\\t\\t    ${config.sound && config.sound !== '_' ? `sound: \"${config.sound}\",` : ''}\n\\t\\t    priority: ${config.priority},\n\\t\\t    ${config.vibration && config.vibration !== '_' ? `vibration: ${config.vibration},` : ''}\n\\t\\t});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `Sent: ${debugMessage.data.text}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderInstance',\n                    adapter: 'pushsafer',\n                    frontText: 'Instance:',\n                    defaultValue: 'pushsafer.0',\n                    attr: 'instance',\n                },\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'Hello',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                },\n                {\n                    nameRender: 'renderText',\n                    attr: 'title',\n                    defaultValue: 'ioBroker',\n                    frontText: 'Title:',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'sound',\n                    defaultValue: 'magic',\n                    frontText: 'Sound:',\n                    doNotTranslate: true,\n                    options: [\n                        { value: '_', title: 'Device Default' },\n                        { value: '0', title: 'Silent' },\n                        { value: '1', title: 'Ahem (IM)' },\n                        { value: '2', title: 'Applause (Mail)' },\n                        { value: '3', title: 'Arrow (Reminder)' },\n                        { value: '4', title: 'Baby (SMS)' },\n                        { value: '5', title: 'Bell (Alarm)' },\n                        { value: '6', title: 'Bicycle (Alarm2)' },\n                        { value: '7', title: 'Boing (Alarm3)' },\n                        { value: '8', title: 'Buzzer (Alarm4)' },\n                        { value: '9', title: 'Camera (Alarm5)' },\n                        { value: '10', title: 'Car Horn (Alarm6)' },\n                        { value: '11', title: 'Cash Register (Alarm7)' },\n                        { value: '12', title: 'Chime (Alarm8)' },\n                        { value: '13', title: 'Creaky Door (Alarm9)' },\n                        { value: '14', title: 'Cuckoo Clock (Alarm10)' },\n                        { value: '15', title: 'Disconnect (Call)' },\n                        { value: '16', title: 'Dog (Call2)' },\n                        { value: '17', title: 'Doorbell (Call3)' },\n                        { value: '18', title: 'Fanfare (Call4)' },\n                        { value: '19', title: 'Gun Shot (Call5)' },\n                        { value: '20', title: 'Honk (Call6)' },\n                        { value: '21', title: 'Jaw Harp (Call7)' },\n                        { value: '22', title: 'Morse (Call8)' },\n                        { value: '23', title: 'Electricity (Call9)' },\n                        { value: '24', title: 'Radio Tuner (Call10)' },\n                        { value: '25', title: 'Sirens' },\n                        { value: '26', title: 'Military Trumpets' },\n                        { value: '27', title: 'Ufo' },\n                        { value: '28', title: 'Whah Whah Whah' },\n                        { value: '29', title: 'Man Saying Goodbye' },\n                        { value: '30', title: 'Man Saying Hello' },\n                        { value: '31', title: 'Man Saying No' },\n                        { value: '32', title: 'Man Saying Ok' },\n                        { value: '33', title: 'Man Saying Ooohhhweee' },\n                        { value: '34', title: 'Man Saying Warning' },\n                        { value: '35', title: 'Man Saying Welcome' },\n                        { value: '36', title: 'Man Saying Yeah' },\n                        { value: '37', title: 'Man Saying Yes' },\n                        { value: '38', title: 'Beep short' },\n                        { value: '39', title: 'Weeeee short' },\n                        { value: '40', title: 'Cut in and out short' },\n                        { value: '41', title: 'Finger flicking glas short' },\n                        { value: '42', title: 'Wa Wa Waaaa short' },\n                        { value: '43', title: 'Laser short' },\n                        { value: '44', title: 'Wind Chime short' },\n                        { value: '45', title: 'Echo short' },\n                        { value: '46', title: 'Zipper short' },\n                        { value: '47', title: 'HiHat short' },\n                        { value: '48', title: 'Beep 2 short' },\n                        { value: '49', title: 'Beep 3 short' },\n                        { value: '50', title: 'Beep 4 short' },\n                        { value: '51', title: 'The Alarm is armed' },\n                        { value: '52', title: 'The Alarm is disarmed' },\n                        { value: '53', title: 'The Backup is ready' },\n                        { value: '54', title: 'The Door is closed' },\n                        { value: '55', title: 'The Door is opend' },\n                        { value: '56', title: 'The Window is closed' },\n                        { value: '57', title: 'The Window is open' },\n                        { value: '58', title: 'The Light is off' },\n                        { value: '59', title: 'The Light is on' },\n                        { value: '60', title: 'The Doorbell rings' },\n                        { value: '61', title: 'Pager short' },\n                        { value: '62', title: 'Pager long' },\n                    ]\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'priority',\n                    defaultValue: 0,\n                    frontText: 'Priority:',\n                    options: [\n                        { value: -2, title: 'lowest priority' },\n                        { value: -1, title: 'lower priority' },\n                        { value: 0, title: 'normal priority' },\n                        { value: 1, title: 'high priority' },\n                        { value: 2, title: 'highest priority' },\n                    ]\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'vibration',\n                    defaultValue: 0,\n                    frontText: 'Vibration:',\n                    options: [\n                        { value: '_', title: 'default' },\n                        { value: 1, title: '1' },\n                        { value: 2, title: '2' },\n                        { value: 3, title: '3' },\n                    ]\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Pushsafer',\n            id: 'ActionPushsafer',\n            adapter: 'pushsafer',\n            title: 'Sends message via Pushsafer',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionPushsafer.getStaticData();\n    }\n}\n\nexport default ActionPushsafer;\n","// eslint-disable-next-line no-unused-vars\n\nconst STANDARD_FUNCTION_STATE = `async function (obj) {\n    \"__%%DEBUG_TRIGGER%%__\";\n    __%%CONDITIONS_VARS%%__\n    const _cond = __%%CONDITION%%__;\n    \n    \"__%%DEBUG_CONDITIONS%%__\";\n    \n    if (_cond) {\n__%%THEN%%__\n    } else {\n__%%ELSE%%__\n    }\n}`;\nconst STANDARD_FUNCTION_STATE_ONCHANGE = `async function (obj) {\n    \"__%%DEBUG_TRIGGER%%__\";\n    __%%CONDITIONS_VARS%%__\n    const _cond = __%%CONDITION%%__;\n    \n    \"__%%DEBUG_CONDITIONS%%__\";\n    \n    if (__%%STATE%%__ === false && _cond) {\n        __%%STATE%%__ = true;    \n__%%THEN%%__\n    } else if (__%%STATE%%__ === true && !_cond) {\n        __%%STATE%%__ = false;    \n__%%ELSE%%__\n    }\n}`;\nconst STANDARD_FUNCTION =\n`async function () {\n    \"__%%DEBUG_TRIGGER%%__\";\n    __%%CONDITIONS_VARS%%__\n    const _cond = __%%CONDITION%%__;\n    \n    \"__%%DEBUG_CONDITIONS%%__\";\n    \n    if (_cond) {\n__%%THEN%%__\n    } else {\n__%%ELSE%%__\n    }\n}`;\n\nconst STANDARD_FUNCTION_ONCHANGE =\n`async function () {\n    \"__%%DEBUG_TRIGGER%%__\";\n    __%%CONDITIONS_VARS%%__\n    const _cond = __%%CONDITION%%__;\n    \n    \"__%%DEBUG_CONDITIONS%%__\";\n    \n    if (__%%STATE%%__ === false && _cond) {\n        __%%STATE%%__ = true;    \n__%%THEN%%__\n    } else if (__%%STATE%%__ === true && !_cond) {\n        __%%STATE%%__ = false;    \n__%%ELSE%%__\n    }\n}`;\n\nconst NO_FUNCTION = `\"__%%DEBUG_TRIGGER%%__\";\n__%%CONDITIONS_VARS%%__\nconst _cond = __%%CONDITION%%__;\n\n\"__%%DEBUG_CONDITIONS%%__\";\n\nif (_cond) {\n__%%THEN%%__\n} else {\n__%%ELSE%%__\n}`;\n\nconst DEFAULT_RULE = {\n    triggers: [],\n    conditions: [[]],\n    justCheck: false,\n    actions: {\n        then: [],\n        'else': []\n    }\n};\n\nfunction compileTriggers(json, context, blocks) {\n    const triggers = [];\n    let jsonTriggers = json.triggers;\n    if (!jsonTriggers.length) {\n        jsonTriggers = [{id: 'TriggerScriptSave'}];\n    }\n\n    const vars = [];\n    let prelines = [];\n    let hist = json.conditions.find(conds => conds.find(cond => cond.tagCard === '()'));\n\n    jsonTriggers.forEach((trigger, i) => {\n        const found = findBlock(trigger.id, blocks);\n        if (found) {\n            const _context = {\n                trigger,\n                condition: {},\n                justCheck: hist ? false : (json.justCheck || (!json.conditions.length || !json.conditions[0].length)),\n                conditionsDebug: [],\n                conditionsVars: [],\n                conditionsStates: [],\n            };\n            const text = found.compile(trigger, _context);\n            const conditions = compileConditions(json.conditions, _context, blocks);\n            const then = compileActions(json.actions.then, _context, blocks);\n            const _else = compileActions(json.actions.else, _context, blocks);\n\n            // find indent\n            vars.push(`cond${i}`);\n\n            if (_context.prelines && _context.prelines.length) {\n                _context.prelines.forEach(line => prelines.push(line));\n            }\n\n            if (text.includes('    __%%CONDITIONS_VARS%%__')) {\n                _context.conditionsVars = _context.conditionsVars.map((v, i) => i ? `    ${v}` : v);\n                _context.conditionsDebug = _context.conditionsDebug.map((v, i) => i ? `    ${v}` : v);\n            }\n\n            triggers.push(\n                text\n                    .replace('__%%CONDITIONS_VARS%%__', _context.conditionsVars.join('\\n'))\n                    .replace('\"__%%DEBUG_CONDITIONS%%__\";', _context.conditionsDebug.join('\\n'))\n                    .replace('__%%CONDITION%%__', conditions)\n                    .replace('__%%THEN%%__', then || '// ignore')\n                    .replace('__%%ELSE%%__', _else || '// ignore')\n                    .replace(/__%%STATE%%__/g, 'cond' + i)\n            );\n        }\n    });\n\n    let text = triggers.join('\\n\\n');\n\n    if (!json.justCheck || hist) {\n        text = `${vars.map(v => `let ${v} = false;`).join('\\n')}\\n\\n${text}`;\n    }\n    if (prelines) {\n        text = `${prelines.join('\\n')}\\n\\n${text}`;\n    }\n\n    return text;\n}\n\nfunction findBlock(type, blocks) {\n    return blocks.find(block => block.getStaticData && block.getStaticData().id === type);\n}\n\nfunction compileActions(actions, context, blocks) {\n    let result = [];\n    actions && actions.forEach(action => {\n        const found = findBlock(action.id, blocks);\n        if (found) {\n            result.push(found.compile(action, context));\n        }\n    });\n    return `\\t\\t${result.join('\\n\\n\\t\\t')}` || '';\n}\n\nfunction compileConditions(conditions, context, blocks) {\n    let result = [];\n    let i = 0;\n    conditions && conditions.forEach(ors => {\n        if (ors.hasOwnProperty('length') && ors.length) {\n            const _ors = [];\n            _ors && ors.forEach(block => {\n                const found = findBlock(block.id, blocks);\n                if (found) {\n                    context.condition.index = i++;\n                    _ors.push(found.compile(block, context));\n                }\n            });\n            result.push(`(${_ors.join(') &&\\n                  (')})`);\n        } else {\n            const found = findBlock(ors.id, blocks);\n            if (found) {\n                context.condition.index = i++;\n                result.push(found.compile(ors, context));\n            }\n        }\n    });\n\n    if (!result.length) {\n        return 'true';\n    } else\n    if (result.length === 1) {\n        return result[0] || 'true';\n    } else {\n        return `(${result.join(') || (')})`;\n    }\n}\n\nfunction compile(json, blocks) {\n    return compileTriggers(json, null, blocks);\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction code2json(code) {\n    if (!code) {\n        return DEFAULT_RULE;\n    } else {\n        const lines = code.split('\\n');\n        try {\n            let json = lines.pop().replace(/^\\/\\//, '');\n            json = JSON.parse(json);\n            if (!json.triggers) {\n                json = DEFAULT_RULE;\n            }\n            return json;\n        } catch (e) {\n            return DEFAULT_RULE;\n        }\n    }\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction json2code(json, blocks) {\n    let code = '';\n\n    const compiled = compile(json, blocks);\n    code += compiled;\n\n    code += `\\n/*\\nconst demo = ${JSON.stringify(json, null, 2)\n        .replace(/\\*\\//g, '* /')};\\n*/\\n`;\n\n    return `${code}\\n//${JSON.stringify(json)}`;\n}\n\nconst Compile = {\n    code2json,\n    json2code,\n    compile,\n    STANDARD_FUNCTION,\n    STANDARD_FUNCTION_ONCHANGE,\n    STANDARD_FUNCTION_STATE,\n    STANDARD_FUNCTION_STATE_ONCHANGE,\n    NO_FUNCTION,\n};\n\nexport default Compile;","import { I18n } from '@iobroker/adapter-react-v5';\nimport GenericBlock from '../GenericBlock';\nimport Compile from '../../helpers/Compile';\n\nclass TriggerScriptSave extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerScriptSave.getStaticData());\n    }\n\n    static compile(config /* , context */) {\n        return Compile.NO_FUNCTION.replace('\"__%%DEBUG_TRIGGER%%__\"', `_sendToFrontEnd(${config._id}, {trigger: true})`);\n    }\n\n    renderDebug(/* debugMessage */) {\n        return I18n.t('Triggered');\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'On script save or adapter start',\n                    attr: 'script',\n                },\n            ],\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: 'Start script',\n            id: 'TriggerScriptSave',\n            icon: 'PlayArrow',\n            title: 'Triggers the on script saving or the javascript instance restart',\n        }\n    }\n\n    getData() {\n        return TriggerScriptSave.getStaticData();\n    }\n}\n\nexport default TriggerScriptSave;\n","import React from 'react';\nimport SunCalc from 'suncalc2';\n\nimport {\n    ComplexCron,\n    Schedule,\n    I18n,\n} from '@iobroker/adapter-react-v5';\nimport convertCronToText from '@iobroker/adapter-react-v5/Components/SimpleCron/cronText';\n\nimport GenericBlock from '../GenericBlock';\nimport Compile from '../../helpers/Compile';\nimport CustomInput from '../CustomInput';\nimport CustomButton from '../CustomButton';\nimport CustomModal from '../CustomModal';\n\nconst DEFAULT_WIZARD = '{\"time\":{\"start\":\"00:00\",\"end\":\"24:00\",\"mode\":\"hours\",\"interval\":1},\"period\":{\"days\":1}}';\n\nclass TriggerScheduleBlock extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerScheduleBlock.getStaticData());\n        this.coordinates = null;\n    }\n\n    static compile(config, context) {\n        let text = '';\n        let func = context.justCheck ? Compile.STANDARD_FUNCTION_STATE : Compile.STANDARD_FUNCTION_STATE_ONCHANGE;\n        func = func.replace('\"__%%DEBUG_TRIGGER%%__\"', `_sendToFrontEnd(${config._id}, {trigger: true})`);\n\n        if (config.tagCard === 'interval') {\n            text = `setInterval(${func}, ${config.interval || 1} * ${config.unit === 's' ? 1000 : (config.unit === 'm' ? 60000 : 3600000)});`;\n        } else if (config.tagCard === 'cron') {\n            text = `schedule(\"${config.cron}\", ${func});`;\n        } else if (config.tagCard === 'at') {\n            const [hours, minutes] = (config.at || '').split(':');\n            let dow = '*';\n            if (config?.dow?.length && !config.dow.includes('_')) {\n                const _dow = [...config.dow].map(item => parseInt(item, 10));\n                _dow.sort();\n\n                let intervals = [];\n                let start = _dow[0];\n                let i = 1\n                for (; i < _dow.length; i++) {\n                    if (_dow[i] - _dow[i - 1] > 1) {\n                        if (start === _dow[i - 1]) {\n                            intervals.push(start);\n                        } else if (_dow[i - 1] - start === 1) {\n                            intervals.push(start + ',' + _dow[i - 1]);\n                        } else {\n                            intervals.push(start + '-' + _dow[i - 1]);\n                        }\n\n                        start = _dow[i];\n                    } else if (i === _dow.length - 1) {\n                        if (start === _dow[i - 1] || _dow[i] - start === 1) {\n                            intervals.push(start + ',' + _dow[i]);\n                        } else {\n                            intervals.push(start + '-' + _dow[i]);\n                        }\n                    }\n                }\n\n                dow = intervals.join(',')\n            }\n            text = `schedule(\"${minutes || '0'} ${hours || '0'} * * ${dow}\", ${func});`;\n        } else if (config.tagCard === 'astro') {\n            text = `schedule({astro: \"${config.astro}\", shift: ${config.offset ? config.offsetValue : 0}}, ${func});`;\n        } else if (config.tagCard === 'wizard') {\n            text = `schedule('${config.wizard}', ${func});`;\n        }\n\n        return text;\n    }\n\n    static _time2String(time) {\n        if (!time) {\n            return '--:--';\n        }\n        return `${time.getHours().toString().padStart(2, '0')}:${time.getMinutes().toString().padStart(2, '0')}`;\n    }\n\n    async _setAstro(astro, offset, offsetValue) {\n        astro = astro || this.state.settings.astro || 'solarNoon';\n        offset = offset === undefined ? this.state.settings.offset : offset;\n        offsetValue = offsetValue === undefined ? this.state.settings.offsetValue : offsetValue;\n\n        offsetValue = parseInt(offsetValue, 10) || 0;\n\n        if (!this.coordinates) {\n            await this.props.socket.getObject('system.adapter.javascript.0')\n                .then(({ native: { latitude, longitude } }) => {\n                    if (!latitude && !longitude) {\n                        return this.props.socket.getObject('system.config')\n                            .then(obj => {\n                                if (obj && (obj.common.latitude || obj.common.longitude)) {\n                                    this.coordinates = {\n                                        latitude: obj.common.latitude,\n                                        longitude: obj.common.longitude\n                                    }\n                                } else {\n                                    this.coordinates = null;\n                                }\n                            });\n                    } else {\n                        this.coordinates = {\n                            latitude,\n                            longitude\n                        }\n                    }\n                });\n        }\n\n        const sunValue = this.coordinates && SunCalc.getTimes(new Date(), this.coordinates.latitude, this.coordinates.longitude);\n        const options = sunValue ? Object.keys(sunValue).map(name => ({\n            value: name,\n            title: name,\n            title2: `[${TriggerScheduleBlock._time2String(sunValue[name])}]`,\n            order: sunValue ? TriggerScheduleBlock._time2String(sunValue[name]) : '??:??',\n        })) : [];\n        options.sort((a, b) => a.order > b.order ? 1 : (a.order < b.order ? -1 : 0));\n\n        // calculate time text\n        let time = '--:--';\n        if (astro && sunValue && sunValue[astro]) {\n            const astroTime = new Date(sunValue[astro]);\n            offset && astroTime.setMinutes(astroTime.getMinutes() + parseInt(offsetValue, 10));\n            time = `(at ${TriggerScheduleBlock._time2String(astroTime)})`; // translate\n        }\n\n        let inputs;\n\n        if (offset) {\n            inputs = [\n                {\n                    frontText: 'at',\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon',\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    backText: offsetValue === 1 ? 'minute' : 'minutes', // translate\n                    frontText: 'offset',\n                    nameRender: 'renderNumber',\n                    defaultValue: 0,\n                    attr: 'offsetValue',\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        } else {\n            inputs = [\n                {\n                    frontText: 'at', // translate\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon',\n                },\n                {\n                    backText: 'with offset', // translate\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        }\n\n        this.setState({ inputs }, () => super.onTagChange());\n    }\n\n    async _setInterval(interval) {\n        interval = parseInt(interval || this.state.settings.interval, 10) || 30;\n        let options;\n        if (interval === 1) {\n            options = [\n                { value: 's', title: 'second' },\n                { value: 'm', title: 'minute' },\n                { value: 'h', title: 'hour' },\n            ];\n        } else {\n            options = [\n                { value: 's', title: 'seconds' },\n                { value: 'm', title: 'minutes' },\n                { value: 'h', title: 'hours' },\n            ];\n        }\n\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNumber',\n                    prefix: {\n                        en: 'every',\n                    },\n                    attr: 'interval',\n                    frontText: 'every',\n                    defaultValue: 30,\n                    className: 'block-input-interval',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'unit',\n                    defaultValue: 's',\n                    options,\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    renderDebug(debugMessage) {\n        return I18n.t('Triggered');\n    }\n\n    onValueChanged(value, attr) {\n        if (this.state.settings.tagCard === 'astro') {\n            if (attr === 'astro') {\n                this._setAstro(value);\n            } else if (attr === 'offset') {\n                this._setAstro(undefined, value);\n            } else if (attr === 'offsetValue') {\n                this._setAstro(undefined, undefined, value);\n            }\n        } else if (this.state.settings.tagCard === 'interval') {\n            if (attr === 'interval') {\n                this._setInterval(value);\n            }\n        }\n    }\n\n    renderCron(input, value, onChange) {\n        const { className } = this.props;\n        let textCron = '';\n        const { settings } = this.state;\n        const { attr } = input;\n        return <div key={attr}>\n            <div style={{ display: 'flex', alignItems: 'baseline' }}>\n                <div style={{ width: '100%' }}>\n                    {this.renderText({\n                        attr: attr,\n                        defaultValue: value\n                    }, !!settings[attr] ? settings[attr] : value, onChange)}\n                </div>\n                <CustomButton\n                    square\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openDialog: true })}\n                />\n            </div>\n            <CustomModal\n                open={this.state.openDialog}\n                onApply={async () => {\n                    await onChange(textCron, attr);\n                    await onChange(convertCronToText(textCron, I18n.getLanguage()), 'addText');\n                    this.setState({ openDialog: false });\n                }}\n                onClose={() => this.setState({ openDialog: false })}>\n                <ComplexCron\n                    cronExpression={!!settings[attr] ? settings[attr] : ''}\n                    onChange={el => textCron = el}\n                    language={I18n.getLanguage()}\n                />\n            </CustomModal>\n            {this.renderNameText({\n                defaultValue: I18n.t('every hour at 0 minutes'),\n                attr: 'addText',\n                signature: true,\n                doNotTranslate: true,\n            }, !!settings['addText'] ? settings['addText'] : I18n.t('every hour at 0 minutes'), onChange)}\n        </div>;\n    }\n\n    renderWizard(input, value, onChange) {\n        const { className } = this.props;\n        const { attr } = input;\n        let wizardText = '';\n        let wizard = null;\n\n        return <div key={attr}>\n            <div style={{ display: 'flex', alignItems: 'center', marginTop: 7 }}>\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    // disabled\n                    variant=\"outlined\"\n                    size=\"small\"\n                    multiline\n                    rows={2}\n                    value={this.state.settings[`${attr}Text`]}\n                    onChange={(el) => onChange(el)}\n                    customValue\n                />\n                <CustomButton\n                    square\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openDialog: true })}\n                />\n            </div>\n            <CustomModal\n                open={this.state.openDialog}\n                onApply={() =>\n                    this.setState({ openDialog: false }, () =>\n                        onChange({\n                            [`${attr}Text`]: wizardText,\n                            [attr]: wizard,\n                        }))}\n                onClose={() => this.setState({ openDialog: false })}>\n                <Schedule onChange={(val, text) => {\n                    wizardText = text;\n                    wizard = typeof val === 'object' ? JSON.parse(JSON.stringify(val)) : JSON.parse(val);\n                    wizard.valid = wizard.valid || {};\n                    wizard.valid.from = wizard.valid.from || Schedule.now2string();\n                    wizard = JSON.stringify(wizard);\n                }} />\n            </CustomModal>\n        </div>;\n    }\n\n    onTagChange(tagCard) {\n        tagCard = tagCard || this.state.settings.tagCard;\n        switch (tagCard) {\n            case 'interval':\n                this._setInterval();\n                break;\n\n            case 'cron':\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderCron',\n                            attr: 'cron',\n                            defaultValue: '0 * * * *',\n                        }\n                    ]\n                }, () => super.onTagChange());\n                break;\n\n            case 'wizard':\n                const wizard = JSON.parse(DEFAULT_WIZARD);\n                wizard.valid = wizard.valid || {};\n                wizard.valid.from = wizard.valid.from || Schedule.now2string();\n\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderWizard',\n                            attr: 'wizard',\n                            defaultValue: JSON.stringify(wizard),\n                        },\n                    ],\n                }, () => super.onTagChange(null, () => {\n                    const wizardText = Schedule.state2text(this.state.settings.wizard || wizard);\n                    if (this.state.settings.wizardText !== wizardText) {\n                        const settings = JSON.parse(JSON.stringify(this.state.settings));\n                        settings.wizardText = wizardText;\n                        this.setState({ settings });\n                        this.props.onChange(settings);\n                    }\n                }));\n                break;\n\n            case 'at':\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderTime',\n                            prefix: 'at',\n                            attr: 'at',\n                            defaultValue: '07:30',\n                        },\n                        {\n                            nameRender: 'renderSelect',\n                            attr: 'dow',\n                            default: '',\n                            multiple: true,\n                            defaultValue: ['_', '1', '2', '3', '4', '5', '6', '0'],\n                            options: [\n                                { value: '_', title: 'Every day', only: true },\n                                { value: '1', title: 'Monday', titleShort: 'Mo' },\n                                { value: '2', title: 'Tuesday', titleShort: 'Tu' },\n                                { value: '3', title: 'Wednesday', titleShort: 'We' },\n                                { value: '4', title: 'Thursday', titleShort: 'Th' },\n                                { value: '5', title: 'Friday', titleShort: 'Fr' },\n                                { value: '6', title: 'Saturday', titleShort: 'Sa' },\n                                { value: '0', title: 'Sunday', titleShort: 'Su' },\n                            ]\n                        }\n                    ]\n                }, () => super.onTagChange());\n                break;\n\n            case 'astro':\n                this._setAstro();\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: 'Schedule',\n            id: 'TriggerScheduleBlock',\n            icon: 'AccessTime',\n            tagCardArray: ['cron', 'wizard', 'interval', 'at', 'astro'],\n            title: 'Triggers the rule periodically or on some specific time',\n        }\n    }\n\n    getData() {\n        return TriggerScheduleBlock.getStaticData();\n    }\n}\n\nexport default TriggerScheduleBlock;\n","import React from 'react';\n\nimport {\n    Button,\n    Switch,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    TextField,\n    DialogTitle,\n    Slide,\n    FormControlLabel,\n    Checkbox,\n} from '@mui/material';\n\nimport {\n    MdCancel as IconCancel,\n    MdCheck as IconCheck,\n} from 'react-icons/md';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nimport GenericBlock from '../GenericBlock';\nimport Compile from '../../helpers/Compile';\n\nconst styles = {\n    valueAck: {\n        color: '#b02323',\n    },\n    valueNotAck: {\n        color: '#12ac15',\n    },\n};\n\nconst Transition = React.forwardRef((props, ref) =>\n    <Slide direction=\"up\" ref={ref} {...props} />);\n\nclass TriggerState extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerState.getStaticData());\n        this.inputRef = React.createRef();\n    }\n\n    static compile(config, context) {\n        let func = context.justCheck ? Compile.STANDARD_FUNCTION_STATE : Compile.STANDARD_FUNCTION_STATE_ONCHANGE;\n        func = func.replace('\"__%%DEBUG_TRIGGER%%__\"', `_sendToFrontEnd(${config._id}, {val: obj.state.val, ack: obj.state.ack, valOld: obj.oldState && obj.oldState.val, ackOld: obj.oldState && obj.oldState.ack})`);\n        return `on({id: \"${config.oid || ''}\", change: \"${config.tagCard === 'on update' ? 'any' : 'ne'}\"}, ${func});`\n    }\n\n    static renderValue(val) {\n        if (val === null) {\n            return 'null';\n        } else if (val === undefined) {\n            return 'undefined';\n        } else if (Array.isArray(val)) {\n            return val.join(', ');\n        } else if (typeof val === 'object') {\n            return JSON.stringify(val);\n        } else {\n            return val.toString();\n        }\n    }\n\n    renderDebug(debugMessage) {\n        if (debugMessage.data.valOld !== undefined) {\n            return <span>{I18n.t('Triggered')} <span style={debugMessage.data.ackOld ? styles.valueAck : styles.valueNotAck}>{TriggerState.renderValue(debugMessage.data.valOld)}</span> → <span style={debugMessage.data.ack ? styles.valueAck : styles.valueNotAck}>{TriggerState.renderValue(debugMessage.data.val)}</span></span>;\n        }\n        return <span>{I18n.t('Triggered')} <span style={debugMessage.data.ack ? styles.valueAck : styles.valueNotAck}>{TriggerState.renderValue(debugMessage.data.val)}</span></span>;\n    }\n\n    onWriteValue() {\n        this.setState({openSimulate: false});\n        let simulateValue = this.state.simulateValue;\n        window.localStorage.setItem(`javascript.app.${this.state.settings.oid}_ack`, this.state.simulateAck);\n\n        if (this.state.settings.oidType === 'boolean') {\n            simulateValue = simulateValue === true || simulateValue === 'true' || simulateValue === '1';\n        } else if (this.state.settings.oidType === 'number') {\n            simulateValue = parseFloat(simulateValue) || 0;\n        }\n\n        window.localStorage.setItem(`javascript.app.${this.state.settings.oid}`, simulateValue);\n        this.props.socket.setState(this.state.settings.oid, { val: simulateValue, ack: !!this.state.simulateAck });\n    }\n\n    renderWriteState() {\n        return <>\n            <Button\n                disabled={!this.state.settings.oid || !this.state.enableSimulation}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                    this.setState({\n                        openSimulate: true,\n                        simulateValue: this.state.settings.oidType === 'boolean' ?\n                            window.localStorage.getItem(`javascript.app.${this.state.settings.oid}`) === 'true' :\n                            (window.localStorage.getItem(`javascript.app.${this.state.settings.oid}`) || ''),\n                        simulateAck: window.localStorage.getItem(`javascript.app.${this.state.settings.oid}_ack`) === 'true'\n                    });\n                    setTimeout(() => this.inputRef.current?.focus(), 200);\n                }}>{I18n.t('Simulate')}</Button>\n            <Dialog\n                open={!!this.state.openSimulate}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={() => this.setState({ openSimulate: false })}\n                aria-labelledby=\"simulate-dialog-slide-title\"\n                aria-describedby=\"simulate-dialog-slide-description\"\n            >\n                <DialogTitle id=\"simulate-dialog-slide-title\">{I18n.t('Trigger with value')}</DialogTitle>\n                <DialogContent>\n                    {this.state.settings.oidType === 'boolean' ?\n                        <FormControlLabel\n                            control={<Switch\n                                inputRef={this.inputRef}\n                                onKeyUp={e => e.keyCode === 13 && this.onWriteValue()}\n                                value={!!this.state.simulateValue}\n                                onChange={e => this.setState({ simulateValue: e.target.checked })}\n                            />}\n                            label={I18n.t('Value')}\n                        />\n                        : <TextField\n                            variant=\"standard\"\n                            inputRef={this.inputRef}\n                            label={I18n.t('Value')}\n                            fullWidth\n                            onKeyUp={e => e.keyCode === 13 && this.onWriteValue()}\n                            value={this.state.simulateValue}\n                            onChange={e => this.setState({ simulateValue: e.target.value })}\n                        />\n                    }\n                    <br/>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={!!this.state.simulateAck}\n                                onChange={e => this.setState({ simulateAck: e.target.checked })}\n                                color=\"primary\"\n                            />\n                        }\n                        label={I18n.t('Ack')}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        variant=\"contained\"\n                        onClick={() => this.onWriteValue()}\n                        color=\"primary\">\n                        <IconCheck />{I18n.t('Write')}\n                    </Button>\n                    <Button color=\"grey\"\n                        variant=\"contained\"\n                        onClick={() => this.setState({ openSimulate: false })}\n                    >\n                        <IconCancel />{I18n.t('Close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: '',\n                },\n                {\n                    nameRender: 'renderWriteState',\n                },\n            ]\n        }, () => {\n            super.onTagChange();\n        });\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: 'State',\n            id: 'TriggerState',\n            icon: 'FlashOn',\n            tagCardArray: ['on change', 'on update'],\n            title: 'Triggers the rule on update or change of some state', // translate\n        }\n    }\n\n    getData() {\n        return TriggerState.getStaticData();\n    }\n}\n\nexport default TriggerState;\n","import React from 'react';\n\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n} from '@mui/material';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nimport GenericBlock from '../GenericBlock';\n\nimport HysteresisImage from '../../../assets/hysteresis.png';\n\nconst HYSTERESIS = `function __hysteresis(val, limit, state, hist, comp) {\n    let cond1, cond2;\n    if (comp === '>') {\n        cond1 = val > limit + hist;\n        cond2 = val <= limit - hist;\n    } else if (comp === '<') {\n        cond1 = val < limit - hist;\n        cond2 = val >= limit + hist;\n    } else if (comp === '>=') {\n        cond1 = val >= limit + hist;\n        cond2 = val < limit - hist;\n    } else if (comp === '<=') {\n        cond1 = val <= limit - hist;\n        cond2 = val > limit + hist;\n    } else if (comp === '=') {\n        cond1 = val <= limit + hist && val > limit - hist;\n        cond2 = val > limit + hist || val <= limit - hist;\n    } else if (comp === '<>') {\n        cond1 = val > limit + hist || val <= limit - hist;\n        cond2 = val <= limit + hist && val > limit - hist;\n    }\n     \n    if (!state && cond1) {\n        return true;\n    } else if (state && cond2) {\n        return false;\n    } else {\n        return state;\n    }\n}`;\n\nclass ConditionState extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionState.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (value === null || value === undefined) {\n            value = false;\n        }\n        let debugValue = '';\n\n        let result;\n        if (config.tagCard === '()') {\n            context.prelines =  context.prelines || [];\n            !context.prelines.find(item => item !== HYSTERESIS) && context.prelines.push(HYSTERESIS);\n            if (config.useTrigger) {\n                debugValue = 'obj.state.val';\n                if (value === '') {\n                    value = 0;\n                }\n                result = `__hysteresis(subCondVar${config._id}, ${value}, __%%STATE%%__, ${config.hist}, \"${config.histComp}\")`;\n            } else {\n                debugValue = `(await getStateAsync(\"${config.oid}\")).val`;\n                if (value === '') {\n                    value = 0;\n                }\n                if (typeof value === 'string' && parseFloat(value.trim()).toString() !== value.trim()) {\n                    value = `\"${value}\"`;\n                }\n\n                result = `__hysteresis(subCondVar${config._id}, ${value}, __%%STATE%%__, ${config.hist}, \"${config.histComp}\")`;\n            }\n        } else\n        if (config.tagCard !== 'includes') {\n            const compare = config.tagCard === '=' ? '==' : (config.tagCard === '<>' ? '!=' : config.tagCard);\n            if (config.useTrigger) {\n                debugValue = 'obj.state.val';\n                if (context?.trigger?.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `subCondVar${config._id} ${compare} \"${value}\"`;\n                } else {\n                    if (value === '') {\n                        value = 0;\n                    }\n                    if (typeof value === 'string' && parseFloat(value.trim()).toString() !== value.trim()) {\n                        value = `\"${value}\"`;\n                    }\n                    result = `subCondVar${config._id} ${compare} ${value}`;\n                }\n            } else {\n                debugValue = `(await getStateAsync(\"${config.oid}\")).val`;\n                if (config.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `subCondVar${config._id} ${compare} \"${value}\"`;\n                } else {\n                    if (value === '') {\n                        value = 0;\n                    }\n                    if (typeof value === 'string' && parseFloat(value.trim()).toString() !== value.trim()) {\n                        value = `\"${value}\"`;\n                    }\n                    result = `subCondVar${config._id} ${compare} ${value}`;\n                }\n            }\n        } else {\n            if (config.useTrigger) {\n                debugValue = 'obj.state.val';\n                if (context?.trigger?.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `obj.state.val.includes(\"${value}\")`;\n                } else {\n                    result = `false`;\n                }\n            } else {\n                debugValue = `(await getStateAsync(\"${config.oid}\")).val`;\n                if (config.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `subCondVar${config._id}.includes(\"${value}\")`;\n                } else {\n                    result = `false`;\n                }\n            }\n        }\n        context.conditionsStates.push({ name: `subCondVar${config._id}`, id: config.oid });\n        context.conditionsVars.push(`const subCondVar${config._id} = ${debugValue};`);\n        context.conditionsVars.push(`const subCond${config._id} = ${result};`);\n        context.conditionsDebug.push(`_sendToFrontEnd(${config._id}, {result: subCond${config._id}, value: subCondVar${config._id}, compareWith: \"${value}\"});`);\n        return `subCond${config._id}`;\n    }\n\n    renderDebug(debugMessage) {\n        const condition = this.state.settings.tagCard;\n        if (condition === '()') {\n            // TODO\n        } else {\n            return `${debugMessage.data.result.toString().toUpperCase()} [${debugMessage.data.value} ${condition} ${debugMessage.data.compareWith}]`;\n        }\n\n        return I18n.t('Triggered');\n    }\n\n    onShowHelp = () => this.setState({showHysteresisHelp: true});\n\n    _setInputs(useTrigger, tagCard, oidType, oidUnit, oidStates) {\n        const isAllTriggersOnState = this.isAllTriggersOnState();\n\n        tagCard   = tagCard   || this.state.settings.tagCard;\n        oidType   = oidType   || this.state.settings.oidType;\n        oidUnit   = oidUnit   || this.state.settings.oidUnit;\n        oidStates = oidStates || this.state.settings.oidStates;\n\n        if (isAllTriggersOnState && useTrigger && this.props.userRules?.triggers?.length === 1) {\n            oidType   = this.props.userRules.triggers[0].oidType;\n            oidUnit   = this.props.userRules.triggers[0].oidUnit;\n            oidStates = this.props.userRules.triggers[0].oidStates;\n        }\n\n        const _tagCardArray = ConditionState.getStaticData().tagCardArray;\n        const tag = _tagCardArray.find(item => item.title === tagCard);\n        let tagCardArray;\n        let options = null;\n\n        if (oidType === 'number') {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to',\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal',\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than',\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal',\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than',\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to',\n                },\n                {\n                    title: '()',\n                    title2: '[hysteresis]',\n                    text: 'hysteresis',\n                },\n            ];\n\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val => ({ value: val, title: oidStates[val] }));\n            }\n        } else if (oidType === 'boolean') {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to',\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to',\n                }\n            ];\n            options = [\n                { title: 'false', value: false },\n                { title: 'true', value: true },\n            ];\n        } else {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to',\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal',\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than',\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal',\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than',\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to',\n                },\n                {\n                    title: '.',\n                    title2: '[includes]',\n                    text: 'includes',\n                }\n            ];\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val => ({ value: val, title: oidStates[val] }));\n            }\n        }\n\n        let settings = null;\n        if (!tagCardArray.find(item => item.title === tagCard)) {\n            tagCard = tagCardArray[0].title;\n            settings = settings || { ...this.state.settings };\n            settings.tagCard = tagCard;\n        }\n\n        let inputs;\n        let renderText = {\n            nameRender: 'renderText',\n            defaultValue: '',\n            attr: 'value',\n            frontText: tagCard === '()' ? 'Limit' : (tag?.text || 'compare with'),\n            doNotTranslateBack: true,\n            backText: oidUnit,\n        };\n\n        if (options) {\n            renderText = {\n                nameRender: 'renderSelect',\n                defaultValue: options[0].value,\n                options,\n                attr: 'value',\n                frontText: tag?.text || 'compare with',\n                doNotTranslateBack: true,\n                backText: oidUnit,\n            };\n            if (!options.find(item => item.value === this.state.settings.value)) {\n                settings = settings || { ...this.state.settings };\n                settings.value = options[0].value;\n            }\n            if (options.length <= 2) {\n                tagCardArray = [\n                    {\n                        title: '=',\n                        title2: '[equal]',\n                        text: 'equal to',\n                    },\n                    {\n                        title: '<>',\n                        title2: '[not equal]',\n                        text: 'not equal to',\n                    }\n                ];\n            }\n        }\n\n        if (isAllTriggersOnState && useTrigger) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                    defaultValue: false,\n                },\n                renderText,\n            ];\n        } else if (isAllTriggersOnState) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                },\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: '',\n                },\n                renderText,\n            ];\n        } else {\n            inputs = [\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: '',\n                },\n                renderText,\n            ];\n        }\n\n        if (tagCard === '()') {\n            inputs.splice(1, 0, {\n                nameRender: 'renderDialog',\n                icon: 'HelpOutline',\n                frontText: 'Explanation',\n                onShowDialog: this.onShowHelp,\n            });\n            inputs.splice(2, 0, {\n                nameRender: 'renderSelect',\n                attr: 'histComp',\n                defaultValue: '>',\n                frontText: 'Condition',\n                doNotTranslate: true,\n                options: [\n                    { title: '>',  value: '>' },\n                    { title: '>=', value: '>=' },\n                    { title: '<',  value: '<' },\n                    { title: '<=', value: '<=' },\n                    { title: '=',  value: '=' },\n                    { title: '<>', value: '<>' },\n                ]\n            });\n            inputs.push({\n                frontText: 'Δ',\n                doNotTranslate: true,\n                nameRender: 'renderNumber',\n                noHelperText: true,\n                attr: 'hist',\n                defaultValue: 1,\n                doNotTranslateBack: true,\n                backText: oidUnit,\n            });\n        }\n\n        const state = {\n            iconTag: true,\n            tagCardArray,\n            inputs,\n        };\n\n        this.setState(state,() =>\n            super.onTagChange(null, () => {\n                if (settings) {\n                    this.setState({settings});\n                    this.props.onChange(settings);\n                }\n            }));\n    }\n\n    onValueChanged(value, attr, context) {\n        if (typeof value === 'object') {\n            this._setInputs(value.useTrigger, value.tagCard, value.oidType, value.states);\n        } else {\n            if (attr === 'useTrigger') {\n                this._setInputs(value);\n            } else if (attr === 'oidType') {\n                this._setInputs(value, undefined, value);\n            } else if (attr === 'oidUnit') {\n                this._setInputs(value, undefined, undefined, value);\n            } else if (attr === 'oidStates') {\n                this._setInputs(value, undefined, undefined, undefined, value);\n            }\n        }\n    }\n\n    onUpdate() {\n        this._setInputs(this.state.settings.useTrigger);\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs(this.state.settings.useTrigger, tagCard);\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: 'State condition',\n            id: 'ConditionState',\n            icon: 'Shuffle',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to',\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal',\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than',\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal',\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than',\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to',\n                },\n                {\n                    title: '.',\n                    title2: '[includes]',\n                    text: 'includes',\n                },\n                {\n                    title: '()',\n                    title2: '[hysteresis]',\n                    text: 'hysteresis',\n                }\n            ],\n            title: 'Compares the state value with user defined value',\n        }\n    }\n\n    getData() {\n        return ConditionState.getStaticData();\n    }\n\n    renderSpecific() {\n        if (this.state.showHysteresisHelp) {\n            return <Dialog\n                open={!0}\n                maxWidth=\"md\"\n                onClose={() => this.setState({ showHysteresisHelp: false })}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        <img src={HysteresisImage} alt=\"Hysteresis\"/>\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.setState({ showHysteresisHelp: false })} color=\"primary\" autoFocus>\n                        {I18n.t('OK')}\n                    </Button>\n                </DialogActions>\n            </Dialog>;\n        } else {\n            return null;\n        }\n    }\n}\n\nexport default ConditionState;\n","import GenericBlock from '../GenericBlock';\n\nconst DAYS = [\n    31, // 1\n    29, // 2\n    31, // 3\n    30, // 4\n    31, // 5\n    30, // 6\n    31, // 7\n    31, // 8\n    30, // 9\n    31, // 10\n    30, // 11\n    31, // 12\n];\n\nclass ConditionTime extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionTime.getStaticData());\n    }\n\n    static compile(config, context) {\n        const compare = config.tagCard === '=' ? '===' : (config.tagCard === '<>' ? '!==' : config.tagCard);\n        let cond;\n\n        if (config.withDate) {\n            let [month, date] = (config.date || '01.01').toString().split('.');\n            date = parseInt(date, 10) || 0;\n            month = parseInt(month, 10) || 0;\n            if (month > 12) {\n                month = 12;\n            } else if (month < 0) {\n                month = 0;\n            }\n\n            if (date > DAYS[month]) {\n                date = DAYS[month];\n            } else if (date < 0) {\n                date = 0;\n            }\n            if (date && month) {\n                cond = `formatDate(Date.now(), 'MM.DD-hh:mm') ${compare} \"${config.date}-${config.time}\"`;\n            } else if (date === 0 && month) {\n                cond = `formatDate(Date.now(), 'MM-hh:mm') ${compare} \"${month.toString().padStart(2, '0')}-${config.time}\"`;\n            } else if (month === 0 && date) {\n                cond = `formatDate(Date.now(), 'DD-hh:mm') ${compare} \"${date.toString().padStart(2, '0')}-${config.time}\"`;\n            } else {\n                cond = `formatDate(Date.now(), 'hh:mm') ${compare} \"${config.time}\"`;\n            }\n        } else {\n            cond = `formatDate(Date.now(), 'hh:mm') ${compare} \"${config.time}\"`;\n        }\n        context.conditionsVars.push(`const subCond${config._id} = ${cond};`);\n        context.conditionsDebug.push(`_sendToFrontEnd(${config._id}, {result: subCond${config._id}});`);\n        return `subCond${config._id}`;\n    }\n\n    _setInputs(tagCard, withDate, ) {\n        withDate = withDate === undefined ? this.state.settings.withDate : withDate;\n        tagCard = tagCard || this.state.settings.tagCard;\n        const tagCardArray = ConditionTime.getStaticData().tagCardArray;\n        const tag = tagCardArray.find(item => item.title === tagCard);\n        const inputs = [\n            {\n                nameRender: 'renderNameText',\n                attr: 'interval',\n                defaultValue: 'Actual time of day',\n            },\n            {\n                frontText: tag?.text || tagCard,\n                nameRender: 'renderTime',\n                attr: 'time',\n                defaultValue: '12:00',\n            },\n            {\n                frontText: 'with date',\n                nameRender: 'renderCheckbox',\n                attr: 'withDate',\n                defaultValue: false,\n            }\n        ];\n        if (withDate) {\n            inputs.push({\n                nameRender: 'renderDate',\n                attr: 'date',\n                defaultValue: '01.01',\n            });\n        }\n        this.setState({\n            inputs,\n            iconTag:true\n        }, () => super.onTagChange());\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'withDate') {\n            this._setInputs(undefined, value);\n        }\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs(tagCard);\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: 'Time condition',\n            id: 'ConditionTime',\n            icon: 'Shuffle',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to',\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal',\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than',\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal',\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than',\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to',\n                }\n            ],\n            title: 'Compares current time with the user specific time',\n        }\n    }\n\n    getData() {\n        return ConditionTime.getStaticData();\n    }\n}\n\nexport default ConditionTime;\n","import SunCalc from 'suncalc2';\nimport { I18n } from '@iobroker/adapter-react-v5';\nimport GenericBlock from '../GenericBlock';\n\nclass ConditionAstronomical extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionAstronomical.getStaticData());\n        this.coordinates = null;\n    }\n\n    static compile(config, context) {\n        const compare = config.tagCard === '=' ? '===' : (config.tagCard === '<>' ? '!==' : config.tagCard);\n        let offset;\n        if (config.offset) {\n            offset = parseInt(config.offsetValue, 10) || 0;\n        }\n        const cond = `formatDate(Date.now(), 'hh:mm') ${compare} formatDate(getAstroDate(\"${config.astro}\"${offset ? `, undefined, ${offset}` : ''}), 'hh:mm')`;\n        context.conditionsVars.push(`const subCond${config._id} = ${cond};`);\n        context.conditionsDebug.push(`_sendToFrontEnd(${config._id}, {result: ${cond}});`);\n        return cond;\n    }\n\n    static _time2String(time) {\n        if (!time) {\n            return '--:--';\n        }\n        return `${time.getHours().toString().padStart(2, '0')}:${time.getMinutes().toString().padStart(2, '0')}`;\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'astro') {\n            this._setAstro(value);\n        } else if (attr === 'offset') {\n            this._setAstro(undefined, value);\n        } else if (attr === 'offsetValue') {\n            this._setAstro(undefined, undefined, value);\n        }\n    }\n\n    async _setAstro(astro, offset, offsetValue) {\n        astro = astro || this.state.settings.astro || 'solarNoon';\n        offset = offset === undefined ? this.state.settings.offset : offset;\n        offsetValue = offsetValue === undefined ? this.state.settings.offsetValue : offsetValue;\n\n        offsetValue = parseInt(offsetValue, 10) || 0;\n        if (!this.coordinates) {\n            await this.props.socket.getObject('system.adapter.javascript.0')\n                .then(({ native: { latitude, longitude } }) => {\n                    if (!latitude && !longitude) {\n                        return this.props.socket.getObject('system.config')\n                            .then(obj => {\n                                if (obj && (obj.common.latitude || obj.common.longitude)) {\n                                    this.coordinates = {\n                                        latitude: obj.common.latitude,\n                                        longitude: obj.common.longitude,\n                                    }\n                                } else {\n                                    this.coordinates = null;\n                                }\n                            });\n                    } else {\n                        this.coordinates = {\n                            latitude,\n                            longitude,\n                        };\n                    }\n                });\n        }\n        const sunValue = this.coordinates && SunCalc.getTimes(new Date(), this.coordinates.latitude, this.coordinates.longitude);\n        const options = sunValue ? Object.keys(sunValue).map(name => ({\n            value: name,\n            title: name,\n            title2: `[${ConditionAstronomical._time2String(sunValue[name])}]`,\n            order: ConditionAstronomical._time2String(sunValue[name]),\n        })) : [];\n        options.sort((a, b) => a.order > b.order ? 1 : (a.order < b.order ? -1 : 0));\n\n        // calculate time text\n        const tagCardArray = ConditionAstronomical.getStaticData().tagCardArray;\n        const tag = tagCardArray.find(item => item.title === this.state.settings.tagCard);\n\n        let time = '--:--';\n        if (astro && sunValue && sunValue[astro]) {\n            const astroTime = new Date(sunValue[astro]);\n            offset && astroTime.setMinutes(astroTime.getMinutes() + parseInt(offsetValue, 10));\n            time = `(${I18n.t(tag.text)} ${ConditionAstronomical._time2String(astroTime)})`;\n        }\n\n        let inputs;\n\n        if (offset) {\n            inputs = [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Actual time of day',\n                    attr: 'text',\n                },\n                {\n                    frontText: tag.text,\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    doNotTranslate2: true,\n                    defaultValue: 'solarNoon',\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    backText: offsetValue === 1 ? 'minute' : 'minutes',\n                    frontText: 'offset',\n                    nameRender: 'renderNumber',\n                    defaultValue: 0,\n                    attr: 'offsetValue',\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    doNotTranslate: true,\n                    defaultValue: time,\n                },\n            ];\n        } else {\n            inputs = [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Actual time of day',\n                    attr: 'text',\n                },\n                {\n                    frontText: tag.text,\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    doNotTranslate2: true,\n                    defaultValue: 'solarNoon',\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    doNotTranslate: true,\n                    defaultValue: time,\n                },\n            ];\n        }\n\n        this.setState({ inputs }, () => super.onTagChange());\n    }\n\n    onTagChange(tagCard) {\n        this._setAstro();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: 'Astronomical',\n            id: 'ConditionAstronomical',\n            icon: 'Brightness3',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to',\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal to',\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than',\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal to',\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than',\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to',\n                },\n            ],\n            title: 'Compares current time with astronomical event',\n        }\n    }\n\n    getData() {\n        return ConditionAstronomical.getStaticData();\n    }\n}\n\nexport default ConditionAstronomical;\n","import { I18n } from '@iobroker/adapter-react-v5';\nimport GenericBlock from '../GenericBlock';\n\nconst styles = {\n    valueAck: {\n        color: '#b02323',\n    },\n    valueNotAck: {\n        color: '#12ac15',\n    },\n};\n\nclass ActionSetState extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSetState.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (config.useTrigger) {\n            value = config.toggle ? '!obj.state.val' : 'obj.state.val';\n        } else {\n            if (value === undefined || value === null) {\n                value = '';\n            }\n\n            if (typeof config.value === 'string' &&\n                parseFloat(config.value).toString() !== config.value &&\n                config.value !== 'true' &&\n                config.value !== 'false'\n            ) {\n                value = `\"${value.replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)}`;\n            }\n        }\n        let v;\n\n        if (config.toggle && !config.useTrigger) {\n            v = `const subActionVar${config._id} = !(await getStateAsync(\"${config.oid}\")).val`;\n        } else {\n            v = `const subActionVar${config._id} = ${value}`;\n        }\n        return `// set state ${config.oid} to ${config.toggle && !config.useTrigger ? 'toggle' : value} \n\\t\\t${v};\n\\t\\t_sendToFrontEnd(${config._id}, {val: subActionVar${config._id}, ack: ${config.tagCard === 'update'}});\n\\t\\tawait setStateAsync(\"${config.oid}\", subActionVar${config._id}, ${config.tagCard === 'update'});`;\n    }\n\n    static renderValue(val) {\n        if (val === null) {\n            return 'null';\n        } else if (val === undefined) {\n            return 'undefined';\n        } else if (Array.isArray(val)) {\n            return val.join(', ');\n        } else if (typeof val === 'object') {\n            return JSON.stringify(val);\n        } else {\n            return val.toString();\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return <span>{I18n.t('Set:')} <span style={debugMessage.data.ack ? styles.valueAck : styles.valueNotAck}>{ActionSetState.renderValue(debugMessage.data.val)}</span></span>;\n    }\n\n    _setInputs(useTrigger, toggle) {\n        const isAllTriggersOnState = this.isAllTriggersOnState();\n\n        toggle     = toggle     === undefined ? this.state.settings.toggle     : toggle;\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        let type = '';\n        let options;\n        const {oidType, oidUnit, oidStates, oidMax, oidMin, oidRole, oidWrite, oidStep} = this.state.settings;\n        let settings;\n\n        if (oidType) {\n            if (oidType === 'number') {\n                type = 'number';\n                if (oidMax !== undefined && oidMin !== undefined) {\n                    type = 'slider';\n                }\n            } else if (oidType === 'boolean') {\n                type = 'boolean';\n                if (oidRole && oidRole.includes('button') && oidWrite) {\n                    type = 'button';\n                }\n            } else {\n                type = '';\n                if (oidRole && oidRole.includes('color')) {\n                    type = 'color';\n                }\n            }\n\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val => ({ value: val, title: oidStates[val] }));\n                type = 'select';\n            }\n        }\n\n        let inputs;\n        if (isAllTriggersOnState && useTrigger) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                    defaultValue: false,\n                },\n            ];\n            if (type === 'boolean') {\n                inputs.push({\n                    backText: 'toggle value',\n                    attr: 'toggle',\n                    nameRender: 'renderCheckbox',\n                    defaultValue: false,\n                });\n            }\n        } else {\n            switch (type) {\n                case 'number':\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderNumber',\n                        defaultValue: oidMax === undefined ? 0 : oidMax,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && isNaN(parseFloat(this.state.settings.value))) {\n                        settings = { value: oidMax === undefined ? 0 : oidMax };\n                    }\n                    break;\n\n                case 'slider':\n                    inputs = [{\n                        nameRender: 'renderSlider',\n                        defaultValue: oidMax,\n                        min: oidMin,\n                        max: oidMax,\n                        unit: oidUnit,\n                        step: oidStep,\n                        attr: 'value'\n                    }];\n                    const f = parseFloat(this.state.settings.value);\n                    if (this.state.settings.value !== undefined &&\n                        (isNaN(f) || f < oidMin || f > oidMax)\n                    ) {\n                        settings = { value: oidMax };\n                    }\n                    break;\n\n                case 'select':\n                    inputs = [{\n                        nameRender: 'renderSelect',\n                        frontText: 'with',\n                        options,\n                        defaultValue: options[0].value,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && !options.find(item => item.value === this.state.settings.value)) {\n                        settings = { value: options[0].value };\n                    }\n                    break;\n\n                case 'boolean':\n                    inputs = [\n                        {\n                            backText: 'toggle value',\n                            attr: 'toggle',\n                            nameRender: 'renderCheckbox',\n                            defaultValue: false,\n                        }\n                    ];\n                    if (!toggle) {\n                        inputs.push({\n                            backText: 'true',\n                            frontText: 'false',\n                            nameRender: 'renderSwitch',\n                            defaultValue: false,\n                            attr: 'value'\n                        });\n                    }\n\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== false && this.state.settings.value !== true) {\n                        settings = { value: false };\n                    }\n                    break;\n\n                case 'button':\n                    inputs = [{\n                        nameRender: 'renderButton',\n                        defaultValue: true,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== true) {\n                        settings = { value: true };\n                    }\n                    break;\n\n                case 'color':\n                    inputs = [{\n                        nameRender: 'renderColor',\n                        frontText: 'with',\n                        defaultValue: '#FFFFFF',\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined &&\n                        (\n                            typeof this.state.settings.value !== 'string' ||\n                            (typeof this.state.settings.value.startsWith('#') &&\n                                typeof this.state.settings.value.startsWith('rgb'))\n                        )) {\n                        settings = { value: '#FFFFFF' };\n                    }\n                    break;\n\n                default:\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderText',\n                        defaultValue: '',\n                        attr: 'value'\n                    }];\n                    break;\n            }\n\n            if (isAllTriggersOnState) {\n                inputs.unshift({\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                });\n            }\n        }\n\n        return { inputs, newSettings: settings };\n    }\n\n    onTagChange(tagCard, cb, ignore, toggle, useTrigger) {\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        const { inputs, newSettings } = this._setInputs(useTrigger, toggle);\n        inputs.unshift({\n            nameRender: 'renderObjectID',\n            attr: 'oid',\n            defaultValue: '',\n            checkReadOnly: true,\n        });\n\n        this.setState({ inputs }, () =>\n            super.onTagChange(null, () => {\n                if (newSettings) {\n                    const settings = JSON.parse(JSON.stringify(this.state.settings));\n                    Object.assign(settings, newSettings);\n                    this.setState(settings);\n                    this.props.onChange(settings);\n                }\n            }));\n    }\n\n    onValueChanged(value, attr, context) {\n        this.onTagChange(undefined, undefined, undefined, attr === 'toggle' ? value : undefined, attr === 'useTrigger' ? value : undefined);\n    }\n\n    onUpdate() {\n        this.onTagChange();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Set state action',\n            id: 'ActionSetState',\n            icon: 'PlayForWork',\n            tagCardArray: ['control', 'update'],\n            title: 'Control or update some state',\n            helpDialog: 'You can use %s in the value to use the current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionSetState.getStaticData();\n    }\n}\n\nexport default ActionSetState;\n","import TriggerScriptSave from '../Blocks/TriggerScriptSave';\nimport TriggerSchedule from '../Blocks/TriggerSchedule';\nimport TriggerState from '../Blocks/TriggerState';\nimport ConditionState from '../Blocks/ConditionState';\nimport ConditionTime from '../Blocks/ConditionTime';\nimport ConditionAstronomical from '../Blocks/ConditionAstronomical';\nimport ActionSetState from '../Blocks/ActionSetState';\nimport ActionExec from '../Blocks/ActionExec';\nimport ActionHTTPCall from '../Blocks/ActionHTTPCall';\nimport ActionPrintText from '../Blocks/ActionPrintText';\nimport ActionPause from '../Blocks/ActionPause';\nimport ActionFunction from '../Blocks/ActionFunction';\nimport ActionSetStateDelayed from '../Blocks/ActionSetStateDelayed';\nimport ActionOperateStates from '../Blocks/ActionOperateStates';\n\nconst StandardBlocks = [\n    TriggerSchedule,\n    TriggerScriptSave,\n    TriggerState,\n    ConditionState,\n    ConditionTime,\n    ConditionAstronomical,\n    ActionSetState,\n    ActionExec,\n    ActionHTTPCall,\n    ActionPrintText,\n    ActionPause,\n    ActionFunction,\n    ActionSetStateDelayed,\n    ActionOperateStates,\n];\n\nexport default StandardBlocks;","import GenericBlock from '../GenericBlock';\n\nclass ActionExec extends GenericBlock {\n    constructor(props) {\n        super(props, ActionExec.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `// exec \"${config.exec}\"\n\\t\\tconst subActionVar${config._id} = \"${(config.exec || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {exec: subActionVar${config._id}});\n\\t\\tconsole.log(subActionVar${config._id});`;\n    }\n\n    renderDebug(debugMessage) {\n        return `Exec: ${debugMessage.data.exec}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'exec',\n                    defaultValue: 'ls /opt/iobroker',\n                    nameBlock: 'Shell command',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Exec',\n            id: 'ActionExec',\n            icon: 'Apps',\n            title: 'Executes some shell command',\n            helpDialog: 'You can use %s in the command to use current trigger value or %id to use the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionExec.getStaticData();\n    }\n}\n\nexport default ActionExec;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionHTTPCall extends GenericBlock {\n    constructor(props) {\n        super(props, ActionHTTPCall.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `// HTTP request ${config.url}\n\\t\\tconst subActionVar${config._id} = \"${(config.url || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {url: subActionVar${config._id}});\n\\t\\trequest(subActionVar${config._id});`;\n    }\n\n    renderDebug(debugMessage) {\n        return `URL: ${debugMessage.data.url}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'url',\n                    defaultValue: 'http://mydevice.com?...',\n                    nameBlock: 'URL',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'HTTP Call',\n            id: 'ActionHTTPCall',\n            icon: 'Language',\n            title: 'Make a HTTP get request',\n            helpDialog: 'You can use %s in the URL to use current trigger value or %id to use the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionHTTPCall.getStaticData();\n    }\n}\n\nexport default ActionHTTPCall;\n","import { I18n } from '@iobroker/adapter-react-v5';\nimport GenericBlock from '../GenericBlock';\n\nclass ActionPrintText extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPrintText.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `// Log ${config.text}\n\\t\\tconst subActionVar${config._id} = \"${(config.text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tconsole.log(subActionVar${config._id});`;\n    }\n\n    renderDebug(debugMessage) {\n        return I18n.t('Log: %s', debugMessage.data.text);\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'My device triggered',\n                    nameBlock: 'Log text',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Log text',\n            id: 'ActionPrintText',\n            icon: 'Subject',\n            title: 'Print some text in log',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionPrintText.getStaticData();\n    }\n}\n\nexport default ActionPrintText;\n","import { I18n } from '@iobroker/adapter-react-v5';\nimport GenericBlock from '../GenericBlock';\n\nclass ActionPause extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPause.getStaticData());\n    }\n\n    static compile(config, context) {\n        const ms = config.unit === 'ms' ? 1 : (config.unit === 's' ? 1000 : (config.unit === 'm' ? 60000 : 3600000))\n\n        return `// pause for ${ms}ms\n\\t\\t_sendToFrontEnd(${config._id}, {paused: true});\\n\n\\t\\tawait wait(${config.pause} * ${ms});\\n\n\\t\\t_sendToFrontEnd(${config._id}, {paused: false});`;\n    }\n\n    renderDebug(debugMessage) {\n        return I18n.t('Paused: %s', debugMessage.data.paused);\n    }\n\n    _getOptions(pause) {\n        pause = pause === undefined ? this.state.settings.pause : pause;\n        if (pause === 1 || pause === '1') {\n            return [\n                { value: 'ms', title: 'millisecond' },\n                { value: 's', title: 'second' },\n                { value: 'm', title: 'minute' },\n                { value: 'h', title: 'hour' },\n            ];\n        } else {\n            return [\n                { value: 'ms', title: 'milliseconds' },\n                { value: 's', title: 'seconds' },\n                { value: 'm', title: 'minutes' },\n                { value: 'h', title: 'hours' },\n            ];\n        }\n    }\n\n    _setInputs(pause) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNumber',\n                    attr: 'pause',\n                    defaultValue: 100,\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'unit',\n                    defaultValue: 'ms',\n                    options: this._getOptions(pause),\n                },\n            ]\n        }, () => super.onTagChange());\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'pause') {\n            this._setInputs(value);\n        }\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Pause',\n            id: 'ActionPause',\n            icon: 'Pause',\n            title: 'Make a pause between actions',\n        }\n    }\n\n    getData() {\n        return ActionPause.getStaticData();\n    }\n}\n\nexport default ActionPause;\n","import { I18n } from '@iobroker/adapter-react-v5';\nimport GenericBlock from '../GenericBlock';\n\nclass ActionFunction extends GenericBlock {\n    constructor(props) {\n        super(props, ActionFunction.getStaticData());\n    }\n\n    static compile(config, context) {\n        const lines = (config.func || '')\n            .split('\\n')\n            .map((line, i) => `        ${line}`);\n\n        lines.unshift(`\\t\\t_sendToFrontEnd(${config._id}, {func: 'executed'});`);\n        lines.unshift(`// user function`);\n\n        return lines.join('\\n');\n    }\n\n    renderDebug(debugMessage) {\n        return I18n.t('Function: executed');\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'func',\n                    noTextEdit: true,\n                    defaultValue: 'console.log(\"Test\")',\n                    nameBlock: 'Function',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'User function',\n            id: 'ActionFunction',\n            icon: 'Functions',\n            title: 'Write your own code',\n            helpDialog: 'This is advances option. You can write your own code here and it will be executed on trigger',\n        }\n    }\n\n    getData() {\n        return ActionFunction.getStaticData();\n    }\n}\n\nexport default ActionFunction;\n","import { I18n } from '@iobroker/adapter-react-v5';\nimport GenericBlock from '../GenericBlock';\n\nclass ActionSetStateDelayed extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSetStateDelayed.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (config.useTrigger) {\n            value = config.toggle ? '!obj.state.val' : 'obj.state.val';\n        } else {\n            if (value === undefined || value === null) {\n                value = '';\n            }\n\n            if (typeof config.value === 'string' &&\n                parseFloat(config.value).toString() !== config.value &&\n                config.value !== 'true' &&\n                config.value !== 'false'\n            ) {\n                value = `\"${value.replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)}`;\n            }\n        }\n        let v;\n        if (config.toggle && !config.useTrigger) {\n            v = `const subActionVar${config._id} = !(await getStateAsync(\"${config.oid}\")).val`;\n        } else {\n            v = `const subActionVar${config._id} = ${value}`;\n        }\n\n        return `// set delayed state ${config.oid} to ${config.toggle && !config.useTrigger ? 'toggle' : value} with delay of ${config.delay}ms\n\\t\\t${v};\n\\t\\t_sendToFrontEnd(${config._id}, {val: subActionVar${config._id}, ack: ${config.tagCard === 'update'}});\n\\t\\tsetStateDelayed(\"${config.oid}\", subActionVar${config._id}, ${config.tagCard === 'update'}, ${parseInt(config.delay, 10)}, ${config.clearRunning ? 'true' : 'false'});`;\n    }\n\n    static renderValue(val) {\n        if (val === null) {\n            return 'null';\n        } else if (val === undefined) {\n            return 'undefined';\n        } else if (Array.isArray(val)) {\n            return val.join(', ');\n        } else if (typeof val === 'object') {\n            return JSON.stringify(val);\n        } else {\n            return val.toString();\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return <span>{I18n.t('Set:')} <span className={debugMessage.data.ack ? this.props.classes.valueAck : this.props.classes.valueNotAck}>{ActionSetStateDelayed.renderValue(debugMessage.data.val)}</span></span>;\n    }\n\n    _setInputs(useTrigger, toggle) {\n        const isAllTriggersOnState = this.isAllTriggersOnState();\n\n        toggle = toggle === undefined ? this.state.settings.toggle : toggle;\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        let type = '';\n        let options;\n        const { oidType, oidUnit, oidStates, oidMax, oidMin, oidRole, oidWrite, oidStep } = this.state.settings;\n        let settings;\n\n        if (oidType) {\n            if (oidType === 'number') {\n                type = 'number';\n                if (oidMax !== undefined && oidMin !== undefined) {\n                    type = 'slider';\n                }\n            } else if (oidType === 'boolean') {\n                type = 'boolean';\n                if (oidRole && oidRole.includes('button') && oidWrite) {\n                    type = 'button';\n                }\n            } else {\n                type = '';\n                if (oidRole && oidRole.includes('color')) {\n                    type = 'color';\n                }\n            }\n\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val => ({ value: val, title: oidStates[val] }));\n                type = 'select';\n            }\n        }\n        let inputs;\n        if (isAllTriggersOnState && useTrigger) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                    defaultValue: false,\n                },\n            ];\n            if (type === 'boolean') {\n                inputs.push({\n                    backText: 'toggle value',\n                    attr: 'toggle',\n                    nameRender: 'renderCheckbox',\n                    defaultValue: false,\n                });\n            }\n        } else {\n            switch (type) {\n                case 'number':\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderNumber',\n                        defaultValue: oidMax === undefined ? 0 : oidMax,\n                        attr: 'value',\n                    }];\n                    if (this.state.settings.value !== undefined && isNaN(parseFloat(this.state.settings.value))) {\n                        settings = { value: oidMax === undefined ? 0 : oidMax };\n                    }\n                    break;\n\n                case 'slider':\n                    inputs = [{\n                        nameRender: 'renderSlider',\n                        defaultValue: oidMax,\n                        min: oidMin,\n                        max: oidMax,\n                        unit: oidUnit,\n                        step: oidStep,\n                        attr: 'value',\n                    }];\n                    const f = parseFloat(this.state.settings.value);\n                    if (this.state.settings.value !== undefined &&\n                        (isNaN(f) || f < oidMin || f > oidMax)\n                    ) {\n                        settings = { value: oidMax };\n                    }\n                    break;\n\n                case 'select':\n                    inputs = [{\n                        nameRender: 'renderSelect',\n                        frontText: 'with',\n                        options,\n                        defaultValue: options[0].value,\n                        attr: 'value',\n                    }];\n                    if (this.state.settings.value !== undefined && !options.find(item => item.value === this.state.settings.value)) {\n                        settings = { value: options[0].value };\n                    }\n                    break;\n\n                case 'boolean':\n                    inputs = [\n                        {\n                            backText: 'toggle value',\n                            attr: 'toggle',\n                            nameRender: 'renderCheckbox',\n                            defaultValue: false,\n                        }\n                    ];\n                    if (!toggle) {\n                        inputs.push({\n                            backText: 'true',\n                            frontText: 'false',\n                            nameRender: 'renderSwitch',\n                            defaultValue: false,\n                            attr: 'value',\n                        });\n                    }\n\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== false && this.state.settings.value !== true) {\n                        settings = { value: false };\n                    }\n                    break;\n\n                case 'button':\n                    inputs = [{\n                        nameRender: 'renderButton',\n                        defaultValue: true,\n                        attr: 'value',\n                    }];\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== true) {\n                        settings = { value: true };\n                    }\n                    break;\n\n                case 'color':\n                    inputs = [{\n                        nameRender: 'renderColor',\n                        frontText: 'with',\n                        defaultValue: '#FFFFFF',\n                        attr: 'value',\n                    }];\n                    if (this.state.settings.value !== undefined &&\n                        (\n                            typeof this.state.settings.value !== 'string' ||\n                            (typeof this.state.settings.value.startsWith('#') &&\n                                typeof this.state.settings.value.startsWith('rgb'))\n                        )) {\n                        settings = { value: '#FFFFFF' };\n                    }\n                    break;\n\n                default:\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderText',\n                        defaultValue: '',\n                        attr: 'value',\n                    }];\n                    break;\n            }\n            if (isAllTriggersOnState) {\n                inputs.unshift({\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                });\n            }\n        }\n\n        inputs.push({\n            backText: 'ms',\n            frontText: 'Delay',\n            nameRender: 'renderNumber',\n            defaultValue: '1000',\n            noHelperText: true,\n            attr: 'delay',\n        });\n        inputs.push({\n            backText: 'clear running',\n            nameRender: 'renderCheckbox',\n            defaultValue: true,\n            attr: 'clearRunning',\n        })\n\n        return { inputs, newSettings: settings };\n    }\n\n    onTagChange(tagCard, cb, ignore, toggle, useTrigger) {\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        const {inputs, newSettings} = this._setInputs(useTrigger, toggle);\n        inputs.unshift({\n            nameRender: 'renderObjectID',\n            attr: 'oid',\n            defaultValue: '',\n            checkReadOnly: true,\n        });\n\n        this.setState({inputs}, () =>\n            super.onTagChange(null, () => {\n                if (newSettings) {\n                    const settings = JSON.parse(JSON.stringify(this.state.settings));\n                    Object.assign(settings, newSettings);\n                    this.setState(settings);\n                    this.props.onChange(settings);\n                }\n            }));\n    }\n\n    onValueChanged(value, attr, context) {\n        this.onTagChange(undefined, undefined, undefined, attr === 'toggle' ? value : undefined, attr === 'useTrigger' ? value : undefined);\n    }\n\n    onUpdate() {\n        this.onTagChange();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Set with delay',\n            id: 'ActionSetStateDelayed',\n            icon: 'PlayForWork',\n            tagCardArray: ['control', 'update'],\n            title: 'Control or update some state with delay',\n            helpDialog: 'You can use %s in the value to use the current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionSetStateDelayed.getStaticData();\n    }\n}\n\nexport default ActionSetStateDelayed;\n","import { I18n } from '@iobroker/adapter-react-v5';\nimport GenericBlock from '../GenericBlock';\n\nclass ActionOperateStates extends GenericBlock {\n    constructor(props) {\n        super(props, ActionOperateStates.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let oid1 = `const val2_${config._id} = (await getStateAsync(\"${config.oid1}\")).val;`;\n        let oid2 = `const val1_${config._id} = (await getStateAsync(\"${config.oid2}\")).val;`;\n\n        return `// ${config.oid1} ${config.operation} ${config.oid2} => ${config.oidResult}\n\\t\\t ${oid1}\n\\t\\t ${oid2}\n\\t\\t_sendToFrontEnd(${config._id}, {val: val1_${config._id} ${config.operation} val2_${config._id}, ack: ${config.tagCard === 'update'}});\n\\t\\tawait setStateAsync(\"${config.oidResult}\", val1_${config._id} ${config.operation} val2_${config._id}, ${config.tagCard === 'update'});`;\n    }\n\n    static renderValue(val) {\n        if (val === null) {\n            return 'null';\n        } else if (val === undefined) {\n            return 'undefined';\n        } else if (Array.isArray(val)) {\n            return val.join(', ');\n        } else if (typeof val === 'object') {\n            return JSON.stringify(val);\n        } else {\n            return val.toString();\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return <span>{I18n.t('Set:')} <span className={debugMessage.data.ack ? this.props.classes.valueAck : this.props.classes.valueNotAck}>{ActionOperateStates.renderValue(debugMessage.data.val)}</span></span>;\n    }\n\n    onTagChange(tagCard, cb, ignore, toggle, useTrigger) {\n        const inputs = [];\n\n        inputs.push({\n            nameRender: 'renderObjectID',\n            title: 'ID1',\n            attr: 'oid1',\n            defaultValue: '',\n            checkReadOnly: false,\n        });\n\n        inputs.push({\n            nameRender: 'renderSelect',\n            //frontText: 'with',\n            options: [\n                {value: '+', title: '+'},\n                {value: '-', title: '-'},\n                {value: '*', title: '*'},\n                {value: '/', title: '/'},\n            ],\n            doNotTranslate: true,\n            defaultValue: '+',\n            attr: 'operation'\n        });\n\n        inputs.push({\n            nameRender: 'renderObjectID',\n            title: 'ID2',\n            attr: 'oid2',\n            defaultValue: '',\n            checkReadOnly: false,\n        });\n\n        inputs.push({\n            nameRender: 'renderNameText',\n            defaultValue: 'store in',\n            attr: 'textEqual',\n        });\n\n        inputs.push({\n            nameRender: 'renderObjectID',\n            attr: 'oidResult',\n            defaultValue: '',\n            checkReadOnly: true,\n        });\n\n        this.setState({inputs}, () => super.onTagChange(null, () => {\n            const settings = JSON.parse(JSON.stringify(this.state.settings));\n            this.props.onChange(settings);\n        }));\n    }\n\n    onValueChanged(value, attr, context) {\n        this.onTagChange(undefined, undefined, undefined, attr === 'toggle' ? value : undefined, attr === 'useTrigger' ? value : undefined);\n    }\n\n    onUpdate() {\n        this.onTagChange();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Operate two states',\n            id: 'ActionOperateStates',\n            icon: 'AddBox',\n            tagCardArray: ['control', 'update'],\n            title: 'Operations with two states',\n        }\n    }\n\n    getData() {\n        return ActionOperateStates.getStaticData();\n    }\n}\n\nexport default ActionOperateStates;\n","import React, {\n    createContext,\n    useEffect,\n    useState,\n} from 'react';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nimport ActionSayText from '../Blocks/ActionSayText';\nimport ActionSendEmail from '../Blocks/ActionSendEmail';\nimport ActionTelegram from '../Blocks/ActionTelegram';\nimport ActionPushover from '../Blocks/ActionPushover';\nimport ActionWhatsappcmb from '../Blocks/ActionWhatsappcmb';\nimport ActionPushsafer from '../Blocks/ActionPushsafer';\nimport StandardBlocks from '../StandardBlocks';\n\nconst ADAPTERS = {\n    telegram: ActionTelegram,\n    email: ActionSendEmail,\n    sayit: ActionSayText,\n    pushover: ActionPushover,\n    'whatsapp-cmb': ActionWhatsappcmb,\n    pushsafer: ActionPushsafer,\n};\n\nexport const ContextWrapperCreate = createContext();\n\nconst getOrLoadRemote = (remote, shareScope, remoteFallbackUrl = undefined) =>\n    new Promise((resolve, reject) => {\n    // check if remote exists on window\n        if (!window[remote]) {\n            // search dom to see if remote tag exists, but might still be loading (async)\n            const existingRemote = document.querySelector(`[data-webpack=\"${remote}\"]`);\n            // when remote is loaded...\n            const onload = async () => {\n                // check if it was initialized\n                if (!window[remote]) {\n                    return reject(`Cannot load Remote \"${remote}\" to inject`);\n                }\n                if (!window[remote].__initialized) {\n                    // if share scope doesn't exist (like in webpack 4) then expect shareScope to be a manual object\n                    if (typeof __webpack_share_scopes__ === 'undefined') {\n                        // use default share scope object passed in manually\n                        await window[remote].init(shareScope.default);\n                    } else {\n                        // otherwise, init share scope as usual\n                        // eslint-disable-next-line\n                        await window[remote].init(__webpack_share_scopes__[shareScope]);\n                    }\n                    // mark remote as initialized\n                    window[remote].__initialized = true;\n                }\n                // resolve promise so marking remote as loaded\n                resolve();\n            };\n            if (existingRemote) {\n                // if existing remote but not loaded, hook into its onload and wait for it to be ready\n                existingRemote.onload = onload;\n                existingRemote.onerror = reject;\n                // check if remote fallback exists as param passed to function\n                // TODO: should scan public config for a matching key if no override exists\n            } else if (remoteFallbackUrl) {\n                // inject remote if a fallback exists and call the same onload function\n                const d = document;\n                const script = d.createElement('script');\n                script.type = 'text/javascript';\n                // mark as data-webpack so runtime can track it internally\n                script.setAttribute('data-webpack', `${remote}`);\n                script.async = true;\n                script.onerror = reject;\n                script.onload = onload;\n                script.src = remoteFallbackUrl;\n                d.getElementsByTagName('head')[0].appendChild(script);\n            } else {\n                // no remote and no fallback exist, reject\n                reject(`Cannot Find Remote ${remote} to inject`);\n            }\n        } else {\n            // remote already instantiated, resolve\n            resolve();\n        }\n    });\n\nconst loadComponent = (remote, sharedScope, module, url) => async () => {\n    await getOrLoadRemote(remote, sharedScope, url);\n    const container = window[remote];\n    const factory = await container.get(module);\n    const Module = factory();\n    return Module;\n};\n\nexport const ContextWrapper = ({ children, socket }) => {\n    const [blocks, setBlocks] = useState(null);\n    const [onUpdate, setOnUpdate] = useState(false);\n    const [onDebugMessage, setOnDebugMessage] = useState(false);\n    const [enableSimulation, setEnableSimulation] = useState(false);\n\n    useEffect(() => {\n        onUpdate && setOnUpdate(false);\n    }, [onUpdate]);\n\n    useEffect(() => {\n        (async () => {\n            const instances = await socket.getAdapterInstances();\n            const adapters = Object.keys(ADAPTERS).filter(adapter =>\n                instances.find(obj => obj?.common?.name === adapter));\n\n            const adapterDynamicBlocksArray = [];\n\n            // find all adapters, that have custom rule blocks\n            const dynamicRules = instances.filter(obj => obj.common.javascriptRules);\n\n            const alreadyCreated = [];\n            for (let k in dynamicRules) {\n                const obj = dynamicRules[k];\n                if (alreadyCreated.includes(obj.common.name)) {\n                    continue;\n                }\n\n                let url;\n                if (obj.common.javascriptRules.url.startsWith('http:') || obj.common.javascriptRules.url.startsWith('https:')) {\n                    url = obj.common.javascriptRules.url;\n                } else if (obj.common.javascriptRules.url.startsWith('./')) {\n                    url = `${window.location.protocol}//${window.location.host}${obj.common.javascriptRules.url.replace(/^\\./, '')}`;\n                } else {\n                    url = `${window.location.protocol}//${window.location.host}/adapter/${obj.common.name}/${obj.common.javascriptRules.url}`;\n                }\n\n                if (obj.common.javascriptRules.i18n === true) {\n                    // load i18n from files\n                    const pos = url.lastIndexOf('/');\n                    let i18nURL;\n                    if (pos !== -1) {\n                        i18nURL = url.substring(0, pos);\n                    } else {\n                        i18nURL = url;\n                    }\n                    const lang = I18n.getLanguage();\n                    const file = `${i18nURL}/i18n/${lang}.json`;\n\n                    await fetch(file)\n                        .then(data => data.json())\n                        .then(json => I18n.extendTranslations(json, lang))\n                        .catch(error => {\n                            if (lang !== 'en') {\n                                // try to load english\n                                return fetch(`${i18nURL}/i18n/en.json`)\n                                    .then(data => data.json())\n                                    .then(json => I18n.extendTranslations(json, lang))\n                                    .catch(error => console.error(`Cannot load i18n \"${file}\": ${error}`))\n                            } else {\n                                console.log(`Cannot load i18n \"${file}\": ${error}`)\n                            }\n                        });\n                } else if (obj.common.javascriptRules.i18n && typeof obj.common.javascriptRules.i18n === 'object') {\n                    try {\n                        I18n.extendTranslations(obj.common.javascriptRules.i18n);\n                    } catch (error) {\n                        console.error(`Cannot import i18n for \"${obj.common.javascriptRules.name}\": ${error}`);\n                    }\n                }\n\n                try {\n                    const Component = (await loadComponent(obj.common.javascriptRules.name, 'default', `./${obj.common.javascriptRules.name}`, url)()).default;\n\n                    if (Component) {\n                        adapterDynamicBlocksArray.push(Component);\n                        alreadyCreated.push(obj.common.name);\n                        ADAPTERS[obj.common.name] = null;\n                    }\n                } catch (e) {\n                    console.error(`Cannot load component \"${obj.common.javascriptRules.name}\": ${e}`);\n                }\n            }\n\n            const adapterBlocksArray = adapters.filter(adapter => ADAPTERS[adapter]).map(adapter => ADAPTERS[adapter]);\n\n            setBlocks([...StandardBlocks, ...adapterBlocksArray, ...adapterDynamicBlocksArray]);\n        })();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <ContextWrapperCreate.Provider value={{\n        blocks,\n        socket,\n        onUpdate,\n        setOnUpdate,\n        onDebugMessage,\n        setOnDebugMessage,\n        enableSimulation,\n        setEnableSimulation\n    }}>\n        {children}\n    </ContextWrapperCreate.Provider>;\n};","import React, {\n    memo, useCallback, useContext,\n    useEffect, useMemo, useState,\n} from 'react';\nimport PropTypes from 'prop-types';\n\nimport cls from './style.module.scss';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport { filterElement } from '../../helpers/filterElement';\nimport { ContextWrapperCreate } from '../ContextWrapper';\nimport { findElement } from '../../helpers/findElement';\nimport GenericBlock from '../GenericBlock';\n\n// @iobroker/javascript-block\n\nconst CurrentItem = memo(props => {\n    const { setUserRules, userRules, _id, id, blockValue, active, acceptedBy, isTourOpen, setTourStep, tourStep } = props;\n    const [anchorEl, setAnchorEl] = useState(null);\n    const { blocks, socket, onUpdate, setOnUpdate, onDebugMessage, enableSimulation } = useContext(ContextWrapperCreate);\n\n    useEffect(() => {\n        console.log('New message !!' + JSON.stringify(onDebugMessage));\n    }, [onDebugMessage]);\n\n\n    const findElementBlocks = useCallback(id => blocks.find(el => {\n        const staticData = el.getStaticData();\n        return staticData.id === id;\n    }), [blocks]);\n\n    const onChange = useCallback(settings => {\n        let newUserRules = findElement(settings, userRules, blockValue);\n        newUserRules && setUserRules(newUserRules);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [userRules]);\n\n    const handlePopoverOpen = event =>\n        event.currentTarget !== anchorEl && setAnchorEl(event.currentTarget);\n\n    const handlePopoverClose = () =>\n        setAnchorEl(null);\n\n    const blockInput = useMemo(() => {\n        const CustomBlock = findElementBlocks(id) || GenericBlock;\n        return <CustomBlock\n            isTourOpen={isTourOpen}\n            setTourStep={setTourStep}\n            tourStep={tourStep}\n            notFound={!findElementBlocks(id)}\n            {...props}\n            onUpdate={onUpdate}\n            setOnUpdate={setOnUpdate}\n            enableSimulation={enableSimulation}\n            onDebugMessage={onDebugMessage}\n            onChange={onChange}\n            className={null}\n            socket={socket}\n        />;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [userRules, onUpdate, onDebugMessage, enableSimulation]);\n\n    const [isDelete, setIsDelete] = useState(false);\n\n    return <div\n        onMouseMove={handlePopoverOpen}\n        onMouseEnter={handlePopoverOpen}\n        onMouseLeave={handlePopoverClose}\n        onMouseDown={el => {\n            if (el.ctrlKey) {\n                let newItem;\n                let newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n                if (blockValue !== \"triggers\") {\n                    newItem = newUserRules[acceptedBy][blockValue].find(el => el._id === _id);\n                } else {\n                    newItem = newUserRules[acceptedBy].find(el => el._id === _id);\n                }\n                if (blockValue !== \"triggers\") {\n                    newUserRules[acceptedBy][blockValue].splice(newUserRules[acceptedBy][blockValue].indexOf(newItem), 0, { ...newItem, _id: Date.now() });\n                } else {\n                    newUserRules[acceptedBy].splice(newUserRules[acceptedBy].indexOf(newItem), 0, { ...newItem, _id: Date.now() });\n                }\n                setUserRules(newUserRules);\n            }\n        }}\n        id=\"height\"\n        style={active ? { width: document.getElementById('width').clientWidth - 70 } : null}\n        className={`${cls.cardStyle} ${active ? cls.cardStyleActive : null} ${isDelete ? cls.isDelete : null}`}>\n        <div className={cls.drag_mobile} />\n        {blockInput}\n        {setUserRules && <div className={cls.controlMenu} style={Boolean(anchorEl) ? { opacity: 1 } : { opacity: 0 }}>\n            <div onClick={e => {\n                let newItemsSwitches = deepCopy(acceptedBy, userRules, blockValue);\n                newItemsSwitches = filterElement(acceptedBy, newItemsSwitches, blockValue, _id);\n                setIsDelete(true);\n                setTimeout(() => {\n                    if (acceptedBy === 'triggers') {\n                        setOnUpdate(true);\n                    }\n                    setUserRules(newItemsSwitches);\n                }, 300);\n            }} className={cls.closeBtn} />\n        </div>}\n    </div>;\n});\n\nCurrentItem.defaultProps = {\n    active: false\n};\n\nCurrentItem.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n};\n\nexport default CurrentItem;\n","export function findElement(settings, userRules, additionalParameter) {\n    const { _id, acceptedBy } = settings;\n    let block;\n\n    if (!acceptedBy || !userRules[acceptedBy]) {\n        console.warn('Cannot find ' + acceptedBy);\n        return userRules;\n    }\n\n    switch (acceptedBy) {\n        case 'actions':\n            block = userRules[acceptedBy][additionalParameter].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][additionalParameter][userRules[acceptedBy][additionalParameter].indexOf(block)] = settings;\n            }\n            return userRules;\n        case 'conditions':\n            block = userRules[acceptedBy][additionalParameter].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][additionalParameter][userRules[acceptedBy][additionalParameter].indexOf(block)] = settings;\n            }\n            return userRules;\n        default:\n            block = userRules[acceptedBy].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][userRules[acceptedBy].indexOf(block)] = settings;\n            }\n            return userRules;\n    }\n}","import React from 'react';\nimport { useDragLayer } from 'react-dnd';\n\nimport CardMenu from '../CardMenu';\nimport CurrentItem from '../CurrentItem';\n\nconst layerStyles = {\n    position: 'fixed',\n    pointerEvents: 'none',\n    zIndex: 100,\n    left: 0,\n    top: 0,\n    width: '100%',\n    height: '100%',\n};\n\nconst snapToGrid = (x, y) => {\n    const snappedX = Math.round(x / 32) * 32\n    const snappedY = Math.round(y / 32) * 32\n    return [snappedX, snappedY]\n}\n\nconst getItemStyles = (initialOffset, currentOffset, isSnapToGrid) => {\n    if (!initialOffset || !currentOffset) {\n        return {\n            display: 'none'\n        };\n    }\n    let { x, y } = currentOffset;\n    if (isSnapToGrid) {\n        x -= initialOffset.x;\n        y -= initialOffset.y;\n        [x, y] = snapToGrid(x, y);\n        x += initialOffset.x;\n        y += initialOffset.y;\n    }\n    const transform = `translate(${x}px, ${y}px)`;\n    return {\n        transform,\n        WebkitTransform: transform\n    };\n}\n\nexport const CustomDragLayer = props => {\n    const {\n        itemType,\n        isDragging,\n        item,\n        initialOffset,\n        currentOffset,\n        targetIds\n    } = useDragLayer(monitor => ({\n        item: monitor.getItem(),\n        itemType: monitor.getItemType(),\n        initialOffset: monitor.getInitialSourceClientOffset(),\n        currentOffset: monitor.getSourceClientOffset(),\n        isDragging: monitor.isDragging(),\n        targetIds: monitor.getTargetIds()\n    }));\n\n    const renderItem = () => {\n        switch (itemType) {\n            case 'box':\n                return targetIds.length ? <CurrentItem active {...item} allBlocks={props.allBlocks}/> :\n                    <CardMenu active {...item} socket={props.socket}/>;\n            default:\n                return null;\n        }\n    }\n\n    if (!isDragging) {\n        return null;\n    }\n\n    return <div style={layerStyles}>\n        <div style={getItemStyles(initialOffset, currentOffset)}>\n            {renderItem()}\n        </div>\n    </div>;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"border\":\"style_border__FU4EA\",\"emptyBlockStyle\":\"style_emptyBlockStyle__OTKrV\",\"emptyBlock\":\"style_emptyBlock__FtVho\",\"marginTop\":\"style_marginTop__5SZbC\",\"selectOnChange\":\"style_selectOnChange__RqLzt\",\"selectOnChangeHelp\":\"style_selectOnChangeHelp__-Lfd8\",\"selectOnChangeHelpIcon\":\"style_selectOnChangeHelpIcon__338if\",\"emptyBlockNone\":\"style_emptyBlockNone__TbBah\",\"mainBlockItemRules\":\"style_mainBlockItemRules__fZaoi\",\"nameBlockItems\":\"style_nameBlockItems__v7gfd\",\"contentBlockItem\":\"style_contentBlockItem__y6oFK\",\"wrapperMargin\":\"style_wrapperMargin__9vWv4\",\"contentHeightOn\":\"style_contentHeightOn__q69X4\",\"heightBlock\":\"style_heightBlock__zilKy\",\"contentHeightOff\":\"style_contentHeightOff__t7D6a\",\"cardAdd\":\"style_cardAdd__1pX3a\",\"blockCardAdd\":\"style_blockCardAdd__jbFG-\",\"addClassOverflow\":\"style_addClassOverflow__hJlQh\",\"addClassHeight\":\"style_addClassHeight__8Fysj\"};","import * as React from 'react';\n\nexport function useStateLocal(events, nameEvents) {\n    const [state, setState] = React.useState(\n        localStorage.getItem(nameEvents) ? JSON.parse(localStorage.getItem(nameEvents)) : events\n    );\n\n    const eventsToInstall = (newHeadCells) => {\n        localStorage.setItem(nameEvents, JSON.stringify(newHeadCells));\n        setState(newHeadCells);\n    };\n    return [state, eventsToInstall, localStorage.getItem(nameEvents) ? true : false];\n}\n","import _ from \"lodash\";\n\nconst funcSet = _.throttle(\n    (setCards, userRules) => setCards(userRules)\n    , 0);\n\nconst moveCard = (\n    id,\n    atIndex,\n    cards,\n    setCards,\n    userRules,\n    acceptedBy,\n    additionally,\n    hoverClientY,\n    hoverMiddleY) => {\n\n    const { card, index } = findCard(id, cards);\n    if (index < atIndex && hoverClientY < hoverMiddleY) {\n        return;\n    }\n    if (index > atIndex && hoverClientY > hoverMiddleY) {\n        return;\n    }\n    if (card && index !== atIndex) {\n        const copyCard = _.clone(cards);\n        copyCard.splice(index, 1);\n        copyCard.splice(atIndex, 0, card);\n        const newTriggers = _.clone(userRules);\n        switch (acceptedBy) {\n            case 'actions':\n                newTriggers[acceptedBy][additionally] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n            case 'conditions':\n                newTriggers[acceptedBy][additionally] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n            default:\n                newTriggers[acceptedBy] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n        }\n    }\n};\nconst findCard = (id, cards) => {\n    const card = cards.find((c) => c._id === id);\n    return {\n        card,\n        index: cards.indexOf(card),\n    };\n};\n\nexport { moveCard, findCard };","// extracted by mini-css-extract-plugin\nexport default {\"drag\":\"style_drag__mJTKg\",\"root\":\"style_root__lrr-F\"};","import React, { useContext, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\n\nimport { deepCopy } from '../../helpers/deepCopy';\nimport { filterElement } from '../../helpers/filterElement';\nimport { findCard, moveCard } from '../../helpers/cardSort';\nimport { ContextWrapperCreate } from '../ContextWrapper';\nimport cls from './style.module.scss';\n\nconst DragWrapper = ({ typeBlocks, allProperties, id, isActive, setUserRules, userRules, children, _id, blockValue }) => {\n    const { setOnUpdate } = useContext(ContextWrapperCreate);\n    const [{ opacity }, drag, preview] = useDrag({\n        type: 'box',\n        item: () => ({ ...allProperties, id, isActive, _id }),\n        end: (item, monitor) => {\n            let { acceptedBy } = item;\n            let dropResult = monitor.getDropResult();\n            let newUserRules;\n            if (!dropResult) {\n                if (typeof _id === 'number' && !monitor.getTargetIds().length) {\n                    newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n                    newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                    setUserRules(newUserRules);\n                }\n                return null;\n            }\n            if (dropResult.blockValue !== blockValue) {\n                let idNumber = typeof _id === 'number' ? _id : Date.now();\n                newUserRules = deepCopy(acceptedBy, userRules, dropResult.blockValue);\n                const newItem = { id: item.id, acceptedBy: item.acceptedBy }\n                switch (acceptedBy) {\n                    case 'actions':\n                        if (blockValue) {\n                            newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                        }\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy][dropResult.blockValue].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n\n                    case 'conditions':\n                        if (typeof blockValue === 'number') {\n                            newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                        }\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy][dropResult.blockValue].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n\n                    default:\n                        setOnUpdate(true);\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n                }\n            }\n        },\n        collect: monitor => ({\n            opacity: monitor.isDragging() ? 0.4 : 1,\n            isDragging: monitor.isDragging(),\n        }),\n    });\n    const ref = useRef(null)\n    const [, drop] = useDrop({\n        accept: 'box',\n        canDrop: () => false,\n        hover({ _id: draggedId, acceptedBy }, monitor) {\n            if (!ref.current) {\n                return;\n            }\n            if (typeBlocks !== acceptedBy) {\n                return\n            }\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n            const clientOffset = monitor.getClientOffset();\n            const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n\n            if (!!_id && draggedId !== _id) {\n                switch (acceptedBy) {\n                    case 'actions':\n                        if (blockValue === 'then' || blockValue === 'else') {\n                            const { index: overIndexActions } = findCard(_id, userRules[acceptedBy][blockValue]);\n                            if (overIndexActions !== draggedId) {\n                                moveCard(draggedId,\n                                    overIndexActions,\n                                    userRules[acceptedBy][blockValue],\n                                    setUserRules,\n                                    userRules,\n                                    acceptedBy,\n                                    blockValue,\n                                    hoverClientY,\n                                    hoverMiddleY\n                                );\n                            }\n                        }\n                        return;\n                    case 'conditions':\n                        if (typeof blockValue === 'number') {\n                            const { index: overIndexConditions } = findCard(_id, userRules[acceptedBy][blockValue]);\n                            if (overIndexConditions !== draggedId) {\n                                moveCard(draggedId,\n                                    overIndexConditions,\n                                    userRules[acceptedBy][blockValue],\n                                    setUserRules,\n                                    userRules,\n                                    acceptedBy,\n                                    blockValue,\n                                    hoverClientY,\n                                    hoverMiddleY\n                                );\n                            }\n                        }\n                        return;\n                    default:\n                        const { index: overIndex } = findCard(_id, userRules[acceptedBy]);\n                        if (overIndex !== draggedId) {\n                            moveCard(draggedId,\n                                overIndex,\n                                userRules[acceptedBy],\n                                setUserRules,\n                                userRules,\n                                acceptedBy,\n                                null,\n                                hoverClientY,\n                                hoverMiddleY\n                            );\n                        }\n                        return;\n                }\n            }\n        }\n    });\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    drag(drop(ref));\n    const isMobile = window.innerWidth < 600;\n    return <div ref={isMobile && _id ? null : ref} className={cls.root} style={{ opacity }}><div className={_id ? cls.drag : null} ref={_id && isMobile ? ref : null} />{children}</div>;\n}\n\nDragWrapper.defaultProps = {\n    name: '',\n    active: false,\n    id: '',\n    _id: null\n};\n\nDragWrapper.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nexport default DragWrapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n} from '@mui/material';\n\nimport { Check as IconOk } from '@mui/icons-material';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst DialogHelp = ({ onClose, open }) => <Dialog\n    open={open}\n    onClose={onClose}\n    aria-labelledby=\"alert-dialog-title\"\n    aria-describedby=\"alert-dialog-description\"\n>\n    <DialogContent>\n        <div style={{\n            fontSize: '1rem',\n            fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n            fontWeight: 400,\n            lineHeight: 1.5,\n            letterSpacing: '0.00938em'\n        }} >\n            <h3>{I18n.t('On condition change')}</h3>\n            <div>{I18n.t('help_on_change')}</div>\n            <h3>{I18n.t('Just check')}</h3>\n            <div>{I18n.t('help_just_check')}</div>\n        </div>\n    </DialogContent>\n    <DialogActions>\n        <Button onClick={onClose} color=\"primary\" autoFocus startIcon={<IconOk/>}>\n            {I18n.t('OK')}\n        </Button>\n    </DialogActions>\n</Dialog >;\n\nDialogHelp.defaultProps = {\n    open: false,\n    onClose: () => { }\n};\n\nDialogHelp.propTypes = {\n    open: PropTypes.bool,\n    onClose: PropTypes.func\n};\n\nexport default DialogHelp;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n} from '@mui/material';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst DialogCondition = ({ onClose, open }) => <Dialog\n    open={open}\n    onClose={onClose}\n    aria-labelledby=\"alert-dialog-title\"\n    aria-describedby=\"alert-dialog-description\"\n>\n    <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n            <h3>{I18n.t('On condition change')}</h3>\n            <div>{I18n.t('help_on_change')}</div>\n            <h3>{I18n.t('Just check')}</h3>\n            <div>{I18n.t('help_just_check')}</div>\n        </DialogContentText>\n    </DialogContent>\n    <DialogActions>\n        <Button onClick={onClose} color=\"primary\" autoFocus>\n            {I18n.t('OK')}\n        </Button>\n    </DialogActions>\n</Dialog>;\n\nDialogCondition.defaultProps = {\n    open: false,\n    onClose: () => { }\n};\n\nDialogCondition.propTypes = {\n    open: PropTypes.bool,\n    onClose: PropTypes.func\n};\n\nexport default DialogCondition;\n","import React, { Fragment, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDrop } from 'react-dnd';\n\nimport {\n    Select,\n    MenuItem,\n    IconButton,\n} from '@mui/material';\nimport { HelpOutline as IconHelp } from '@mui/icons-material';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport CurrentItem from '../CurrentItem';\nimport { useStateLocal } from '../../hooks/useStateLocal';\nimport DragWrapper from '../DragWrapper';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport DialogHelp from './DialogHelp';\nimport DialogCondition from './DialogCondition';\n\nconst AdditionallyContentBlockItems = ({ size, itemsSwitchesRender, blockValue, boolean, typeBlock, userRules, setUserRules, animation, setTourStep, tourStep, isTourOpen }) => {\n    const [checkItem, setCheckItem] = useState(false);\n    const [canDropCheck, setCanDropCheck] = useState(false);\n    const [checkId, setCheckId] = useState(false);\n    const [hoverBlock, setHoverBlock] = useState('');\n\n    const options = useDrop({\n        accept: 'box',\n        drop: () => ({ blockValue }),\n        hover: ({ acceptedBy, _id }, monitor) => {\n            setCheckItem(acceptedBy === typeBlock);\n            setCheckId(!!_id);\n            setHoverBlock(monitor.getHandlerId());\n        },\n        canDrop: ({ acceptedBy }, monitor) => {\n            setCanDropCheck(acceptedBy === typeBlock);\n            return acceptedBy === typeBlock;\n        },\n        collect: monitor => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.getItem()?.acceptedBy === typeBlock,\n            offset: monitor.getClientOffset(),\n            targetId: monitor.targetId\n        }),\n    });\n\n    const [{ canDrop, isOver, offset, targetId }, drop] = options;\n\n    useEffect(() => { setHoverBlock('') }, [offset]);\n\n    const isActive = canDrop && isOver;\n    let backgroundColor = '';\n    if (isActive) {\n        backgroundColor = checkItem ? '#00fb003d' : '#fb00002e';\n    } else if (canDrop) {\n        backgroundColor = canDropCheck ? '#00fb003d' : '#fb00002e';\n    } else if (offset) {\n        backgroundColor = targetId === hoverBlock ? '#fb00002e' : '';\n    }\n\n    return <div\n        ref={drop}\n        style={{ backgroundColor }}\n        className={`${Utils.clsx(cls.contentBlockItem,size && cls.addClassHeight)} ${boolean ? animation ? cls.contentHeightOn : null : cls.contentHeightOff}`}\n    >\n        <div className={cls.wrapperMargin}>{itemsSwitchesRender[blockValue]?.map(el => (\n            <DragWrapper\n                typeBlocks={typeBlock}\n                key={el._id}\n                {...el}\n                blockValue={blockValue}\n                allProperties={el}\n                userRules={userRules}\n                setUserRules={setUserRules}\n            >\n                <CurrentItem\n                    {...el}\n                    isTourOpen={isTourOpen}\n                    setTourStep={setTourStep}\n                    tourStep={tourStep}\n                    settings={el}\n                    blockValue={blockValue}\n                    userRules={userRules}\n                    setUserRules={setUserRules}\n                />\n            </DragWrapper>))}\n            <div\n                style={isActive && checkItem && !checkId ? { height: document.getElementById('height') ? document.getElementById('height').clientHeight : 200 } : null}\n                className={`${cls.emptyBlockStyle} ${isActive && checkItem && !checkId ? cls.emptyBlock : cls.emptyBlockNone}`}\n            />\n        </div>\n    </div>;\n}\n\nAdditionallyContentBlockItems.defaultProps = {\n    children: null,\n    boolean: true,\n    animation: false\n};\n\nconst ContentBlockItems = ({ size, typeBlock, name, nameAdditionally, additionally, border, userRules, setUserRules, iconName, adapter, socket, setTourStep, tourStep, isTourOpen }) => {\n    const [additionallyClickItems, setAdditionallyClickItems, checkLocal] = useStateLocal(typeBlock === 'actions' ? false : [], `additionallyClickItems_${typeBlock}`);\n    const [showHelp, setShowHelp] = useState(false);\n    const [showConditionDialog, setShowConditionDialog] = useState(false);\n\n    useEffect(() => {\n        if (typeBlock === 'conditions' && additionallyClickItems.length !== userRules['conditions'].length - 1) {\n            let newArray = [];\n            userRules['conditions'].forEach((el, idx) => {\n                if (idx > 0) {\n                    newArray.push({\n                        _id: Date.now(),\n                        open: true,\n                    });\n                }\n            });\n            setAdditionallyClickItems([...additionallyClickItems, ...newArray]);\n        }\n        if (typeBlock === 'actions' && !checkLocal && userRules['actions']['else'].length) {\n            setAdditionallyClickItems(true);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const [animation, setAnimation] = useState(false);\n\n    return <div className={`${Utils.clsx(cls.mainBlockItemRules, size && cls.addClassOverflow)} ${border && !size ? cls.border : null}`}>\n        <span id='width' className={cls.nameBlockItems}>\n            <MaterialDynamicIcon\n                iconName={iconName}\n                className={cls.iconThemCard}\n                adapter={adapter}\n                socket={socket}\n            />\n            {name}\n        </span>\n        {typeBlock === 'conditions' ?\n            <div style={{ width: '100%' }}>\n                <Select\n                    variant=\"standard\"\n                    className={cls.selectOnChange}\n                    value={userRules.justCheck || false}\n                    onChange={e => {\n                        const _userRules = deepCopy('conditions', userRules);\n                        _userRules.justCheck = e.target.value;\n                        setUserRules(_userRules);\n                    }}\n                >\n                    <MenuItem value={false}>{I18n.t('on condition change')}</MenuItem>\n                    <MenuItem value={true}>{I18n.t('just check')}</MenuItem>\n                </Select>\n                <IconButton size=\"small\" title={I18n.t('Explanation')} className={cls.selectOnChangeHelp} onClick={() => setShowHelp(true)}>\n                    <IconHelp className={cls.selectOnChangeHelpIcon} />\n                </IconButton>\n            </div>\n            : null}\n        <AdditionallyContentBlockItems\n            setTourStep={setTourStep}\n            tourStep={tourStep}\n            isTourOpen={isTourOpen}\n            blockValue={typeBlock === 'actions' ? 'then' : typeBlock === 'conditions' ? 0 : typeBlock}\n            typeBlock={typeBlock}\n            setUserRules={setUserRules}\n            userRules={userRules}\n            size={size}\n            itemsSwitchesRender={typeBlock === 'actions' ? userRules['actions'] : typeBlock === 'conditions' ? userRules['conditions'] : userRules}\n        />\n        {additionally && [...Array(typeBlock === 'actions' ? 1 : userRules.conditions.length - 1)].map((e, index) => {\n            const booleanAdditionally = (value = index) => Boolean(typeBlock === 'actions' ? additionallyClickItems : additionallyClickItems.find((el, idx) => idx === value && el.open));\n            return <Fragment key={`${index}_block_${typeBlock}`}>\n                <div\n                    onClick={() => {\n                        if (typeBlock === 'actions') {\n                            setAdditionallyClickItems(!additionallyClickItems);\n                            return null;\n                        }\n                        let newAdditionally = JSON.parse(JSON.stringify(additionallyClickItems));\n                        if (userRules['conditions'][index + 1].length) {\n                            newAdditionally[index].open = !newAdditionally[index].open\n                            setAdditionallyClickItems(newAdditionally);\n                            return null;\n                        }\n                        newAdditionally = newAdditionally.filter((el, idx) => idx !== index);\n                        setAdditionallyClickItems(newAdditionally);\n                        setAnimation(typeBlock === 'actions' ? true : index);\n                        setTimeout(() => {\n                            setAnimation(false);\n                            setUserRules({ ...userRules, conditions: [...userRules.conditions.filter((el, idx) => idx !== index + 1)] });\n                        }, 250);\n\n                    }}\n                    key={index} className={cls.blockCardAdd}>\n                    {booleanAdditionally() ? '-' : '+'}<div className={cls.cardAdd}>\n                        {nameAdditionally}\n                    </div>\n                </div>\n                <AdditionallyContentBlockItems\n                    blockValue={typeBlock === 'actions' ? 'else' : typeBlock === 'conditions' ? index + 1 : typeBlock}\n                    typeBlock={typeBlock}\n                    setUserRules={setUserRules}\n                    itemsSwitchesRender={typeBlock === 'actions' ? userRules['actions'] : typeBlock === 'conditions' ? userRules['conditions'] : userRules}\n                    userRules={userRules}\n                    boolean={booleanAdditionally()}\n                    animation={Boolean(animation === index)}\n                    size={size}\n                />\n            </Fragment>\n        })}\n        {additionally && typeBlock === 'conditions' && <div\n            onClick={() => {\n                setAdditionallyClickItems([...additionallyClickItems, {\n                    _id: Date.now(),\n                    open: true\n                }]);\n                setUserRules({ ...userRules, conditions: [...userRules.conditions, []] });\n                setAnimation(typeBlock === 'actions' ? true : userRules.conditions.length - 1);\n                setTimeout(() => setAnimation(false), 1000);\n            }}\n            className={cls.blockCardAdd}\n        >\n            {'+'}\n            <div className={cls.cardAdd}>\n                {nameAdditionally}\n            </div>\n        </div>}\n        <DialogHelp open={showHelp} onClose={() => setShowHelp(false)} />\n        <DialogCondition open={showConditionDialog} onClose={() => setShowConditionDialog(false)} />\n    </div>;\n}\n\nContentBlockItems.defaultProps = {\n    children: null,\n    name: '',\n    nameAdditionally: '',\n    additionally: false,\n    border: false,\n    typeBlock: '',\n};\n\nContentBlockItems.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    nameAdditionally: PropTypes.string,\n    border: PropTypes.bool,\n    additionally: PropTypes.bool,\n    children: PropTypes.object,\n    typeBlock: PropTypes.string,\n    blockValue: PropTypes.string,\n    userRules: PropTypes.object,\n    setUserRules: PropTypes.func,\n};\n\nexport default ContentBlockItems;\n","// extracted by mini-css-extract-plugin\nexport default {\"menuRules\":\"style_menuRules__00nS7\",\"switchesRenderWrapper\":\"style_switchesRenderWrapper__8kuDP\",\"menuOff\":\"style_menuOff__+NzqA\",\"menuTitle\":\"style_menuTitle__ryFpz\",\"marginAuto\":\"style_marginAuto__1fBxI\",\"inputWidth\":\"style_inputWidth__ztv5O\",\"menuWrapper\":\"style_menuWrapper__UQpIH\",\"hamburgerWrapper\":\"style_hamburgerWrapper__E1orU\",\"hamburgerOff\":\"style_hamburgerOff__OegQ1\",\"nothingFound\":\"style_nothingFound__NMV9T\",\"resetSearch\":\"style_resetSearch__xcCMm\",\"controlPanel\":\"style_controlPanel__WMp0-\",\"controlPanelAppBar\":\"style_controlPanelAppBar__3JVH5\",\"addClassMenu\":\"style_addClassMenu__oVnVx\",\"addClassBackground\":\"style_addClassBackground__jAEkn\",\"addClassPosition\":\"style_addClassPosition__Omc3V\"};","import React from 'react';\nimport CardMenu from '.';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport DragWrapper from '../DragWrapper';\nimport { STEPS } from '../../helpers/Tour';\n\nconst CustomDragItem = props => {\n    const { allProperties, allProperties: { acceptedBy, id }, setUserRules, userRules, setTourStep, tourStep, isTourOpen, onTouchMove } = props;\n    return <DragWrapper {...props} {...allProperties}>\n        <CardMenu\n            onTouchMove={onTouchMove}\n            onDoubleClick={() => {\n                (isTourOpen &&\n                    tourStep === STEPS.addScheduleByDoubleClick &&\n                    id === 'TriggerScheduleBlock' &&\n                    setTourStep(STEPS.openTagsMenu)\n                );\n                (isTourOpen &&\n                    tourStep === STEPS.addActionPrintText &&\n                    id === 'ActionPrintText' &&\n                    setTourStep(STEPS.showJavascript)\n                );\n                let _id = Date.now();\n                let blockValue;\n                switch (acceptedBy) {\n                    case 'actions':\n                        blockValue = 'then';\n                        break;\n\n                    case 'conditions':\n                        blockValue = userRules[acceptedBy].length - 1;\n                        break;\n\n                    default:\n                        break;\n                }\n                let newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n                const newItem = { id, _id, acceptedBy };\n                if (blockValue !== undefined) {\n                    newUserRules[acceptedBy][blockValue].push({ ...newItem });\n                } else {\n                    newUserRules[acceptedBy].push({ ...newItem });\n                }\n                setUserRules(newUserRules);\n            }}\n            onDoubl\n            {...props}\n            {...allProperties}\n        />\n    </DragWrapper>;\n}\n\nexport default CustomDragItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"menu_wrapper\":\"hamburgerMenu_menu_wrapper__eOAoa\",\"hamburgerMenu\":\"hamburgerMenu_hamburgerMenu__85qrF\",\"animate\":\"hamburgerMenu_animate__fu7Hd\",\"menu_conatiner_wrapper\":\"hamburgerMenu_menu_conatiner_wrapper__G3DUT\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport cls from './hamburgerMenu.module.scss';\n\nconst HamburgerMenu = ({ boolean }) => {\n    return <div className={`${cls.hamburgerMenu} ${boolean ? cls.animate : ''}`}/>\n}\n\nHamburgerMenu.defaultProps = {\n    boolean: false\n};\n\nHamburgerMenu.propTypes = {\n    boolean: PropTypes.bool\n};\n\nexport default HamburgerMenu;\n","import React, { Fragment, useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { AppBar, ClickAwayListener, Tab, Tabs } from '@mui/material';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nimport CustomInput from '../CustomInput';\nimport CustomDragItem from '../CardMenu/CustomDragItem';\nimport HamburgerMenu from '../HamburgerMenu';\nimport { useStateLocal } from '../../hooks/useStateLocal';\nimport { ContextWrapperCreate } from '../ContextWrapper';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport { STEPS } from '../../helpers/Tour';\n\nconst Menu = ({ addClass, setAllBlocks, allBlocks, userRules, onChangeBlocks, setTourStep, tourStep, isTourOpen }) => {\n    // eslint-disable-next-line no-unused-vars\n    const { blocks, socket } = useContext(ContextWrapperCreate);\n    const [hamburgerOnOff, setHamburgerOnOff] = useStateLocal(false, 'hamburgerOnOff');\n    const [filter, setFilter] = useStateLocal({\n        text: '',\n        type: 'triggers',\n        index: 0\n    }, 'filterControlPanel');\n\n    const handleChange = (event, newValue) => {\n        isTourOpen && (newValue === 0 && tourStep === STEPS.selectTriggers) && setTourStep(STEPS.addScheduleByDoubleClick);\n        isTourOpen && (newValue === 2 && tourStep === STEPS.selectActions) && setTourStep(STEPS.addActionPrintText);\n        setFilter({\n            ...filter,\n            index: newValue,\n            type: ['triggers', 'conditions', 'actions'][newValue]\n        });\n        setBlocksFunc(filter.text, ['triggers', 'conditions', 'actions'][newValue]);\n    };\n\n    const setBlocksFunc = (text = filter.text, typeFunc = filter.type) => {\n        if (!blocks) {\n            return;\n        }\n        let newAllBlocks = [...blocks];\n        newAllBlocks = newAllBlocks.filter(el => {\n            if (!text) {\n                return true;\n            }\n            const { name } = el.getStaticData();\n            return name && I18n.t(name).toLowerCase().includes(text.toLowerCase());\n        });\n        newAllBlocks = newAllBlocks.filter(el => typeFunc === el.getStaticData().acceptedBy);\n        setAllBlocks(newAllBlocks);\n    };\n\n    const a11yProps = index => ({\n        id: `scrollable-force-tab-${index}`,\n        'aria-controls': `scrollable-force-tabpanel-${index}`\n    });\n\n    useEffect(() => {\n        setBlocksFunc();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [blocks]);\n    return <ClickAwayListener\n        mouseEvent={false}\n        touchEvent=\"onTouchStart\"\n        onClickAway={() => setHamburgerOnOff(true)}\n    >\n        <div className={Utils.clsx(cls.menuWrapper, addClass[1035] && cls.addClassMenu)}>\n            <div className={`${cls.hamburgerWrapper} ${hamburgerOnOff ? cls.hamburgerOff : null}`}\n                onClick={() => setHamburgerOnOff(!hamburgerOnOff)}><HamburgerMenu boolean={!hamburgerOnOff} />\n            </div>\n            <div className={`${Utils.clsx(cls.menuRules, addClass[1035] && cls.addClassBackground, addClass[835] && cls.addClassPosition)} ${hamburgerOnOff ? cls.menuOff : null}`}>\n                <div className={cls.controlPanel}>\n                    <AppBar className={cls.controlPanelAppBar} position=\"static\">\n                        <Tabs\n                            value={filter.index}\n                            onChange={handleChange}\n                        >\n                            <Tab className=\"blocks-triggers\"\n                                title={I18n.t('Triggers')}\n                                icon={<MaterialDynamicIcon iconName='FlashOn' />}\n                                {...a11yProps(0)} />\n                            <Tab title={I18n.t('Conditions')} className=\"blocks-conditions\" icon={<MaterialDynamicIcon iconName='Help' />}\n                                {...a11yProps(1)} />\n                            <Tab title={I18n.t('Actions')} className=\"blocks-actions\" icon={<MaterialDynamicIcon iconName='PlayForWork' />}\n                                {...a11yProps(2)} />\n                        </Tabs>\n                    </AppBar>\n                </div>\n                <div className={cls.switchesRenderWrapper}>\n                    <span>\n                        {allBlocks.map(el => {\n                            const { name, id, icon, adapter } = el.getStaticData();\n                            return <Fragment key={id}>\n                                <CustomDragItem\n                                    onTouchMove={() => setHamburgerOnOff(true)}\n                                    setTourStep={setTourStep}\n                                    tourStep={tourStep}\n                                    isTourOpen={isTourOpen}\n                                    allProperties={el.getStaticData()}\n                                    name={name}\n                                    icon={icon}\n                                    adapter={adapter}\n                                    socket={socket}\n                                    userRules={userRules}\n                                    setUserRules={onChangeBlocks}\n                                    isActive={false}\n                                    id={id}\n                                />\n                            </Fragment>;\n                        })}\n                        {allBlocks.length === 0 && <div className={cls.nothingFound}>\n                            {I18n.t('Nothing found')}...\n                            <div className={cls.resetSearch} onClick={() => {\n                                setFilter({\n                                    ...filter,\n                                    text: ''\n                                });\n                                setBlocksFunc('');\n                            }}>{I18n.t('reset search')}</div>\n                        </div>}\n                    </span>\n                </div>\n                <div className={Utils.clsx(cls.menuTitle, cls.marginAuto)} />\n                <CustomInput\n                    className={cls.inputWidth}\n                    fullWidth\n                    customValue\n                    value={filter.text}\n                    size=\"small\"\n                    autoComplete=\"off\"\n                    label={I18n.t('search')}\n                    variant=\"outlined\"\n                    onChange={(value) => {\n                        setFilter({ ...filter, text: value });\n                        setBlocksFunc(value);\n                    }}\n                />\n            </div>\n        </div>\n    </ClickAwayListener>;\n}\n\nMenu.propTypes = {\n    onChange: PropTypes.func,\n    code: PropTypes.string\n};\n\nexport default Menu;\n","import React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nimport { CustomDragLayer } from './components/CustomDragLayer';\nimport ContentBlockItems from './components/ContentBlockItems';\nimport { ContextWrapperCreate } from './components/ContextWrapper';\nimport Compile from './helpers/Compile';\nimport Menu from './components/Menu';\nimport './helpers/stylesVariables.scss';\n\nimport DialogExport from '../../Dialogs/Export';\nimport DialogImport from '../../Dialogs/Import';\n\nconst RulesEditor = ({ code, onChange, themeName, setTourStep, tourStep, isTourOpen, command, scriptId, changed, running }) => {\n    // eslint-disable-next-line no-unused-vars\n    const { blocks, socket, setOnUpdate, setOnDebugMessage, setEnableSimulation } = useContext(ContextWrapperCreate);\n    const [allBlocks, setAllBlocks] = useState([]);\n    const [userRules, setUserRules] = useState(Compile.code2json(code));\n    const [importExport, setImportExport] = useState('');\n    const [modal, setModal] = useState(false);\n    //const [jsAlive, setJsAlive] = useState(false);\n    //const [jsInstance, setJsInstance] = useState(false);\n\n    useEffect(() => {\n        let _jsInstance;\n        let _jsAlive;\n        const handler = (id, obj) => {\n            if (id === _jsInstance + '.alive') {\n                if (_jsAlive !== obj?.val) {\n                    _jsAlive = obj?.val;\n                    //setJsAlive(_jsAlive);\n                    _jsAlive && socket.sendTo(_jsInstance.replace(/^system\\.adapter\\./, ''), 'rulesOn', scriptId);\n                }\n            } else {\n                if (_jsInstance !== obj?.common?.engine) {\n                    _jsInstance && socket.unsubscribeState(`${_jsInstance}.alive`, handler);\n                    _jsAlive && socket.sendTo(_jsInstance.replace(/^system\\.adapter\\./, ''), 'rulesOn', scriptId);\n                    _jsInstance = obj?.common?.engine;\n                    //setJsInstance(_jsInstance);\n                    _jsInstance && socket.subscribeState(`${_jsInstance}.alive`, handler);\n                }\n            }\n        };\n\n        const handlerStatus = (id, state) => {\n            if (state) {\n                try {\n                    let msg = JSON.parse(state.val);\n                    // if not from previous session\n                    if (msg.ruleId === scriptId && Date.now() - msg.ts < 1000) {\n                        setOnDebugMessage({blockId: msg.blockId, data: msg.data, ts: msg.ts});\n                    }\n                } catch (e) {\n                    console.error('Cannot parse: ' + state.val);\n                }\n            }\n        };\n\n        socket.getObject(scriptId)\n            .then(obj => {\n                _jsInstance = obj?.common?.engine;\n                //setJsInstance(_jsInstance);\n                socket.subscribeObject(scriptId, handler);\n                _jsInstance && socket.subscribeState(`${_jsInstance}.alive`, handler);\n                _jsInstance && socket.subscribeState(_jsInstance.replace(/^system\\.adapter\\./, '') + '.debug.rules', handlerStatus);\n            });\n\n        return function cleanup() {\n            _jsInstance && socket.unsubscribeObject(`${_jsInstance}.alive`, handler);\n            socket.unsubscribeState(scriptId, handler);\n            _jsAlive && _jsInstance && socket.sendTo(_jsInstance.replace(/^system\\.adapter\\./, ''), 'rulesOff', scriptId);\n            _jsInstance && socket.unsubscribeState(_jsInstance.replace(/^system\\.adapter\\./, '') + '.debug.rules', handlerStatus);\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        setEnableSimulation(!changed && running);\n    }, [changed, running, setEnableSimulation]);\n\n    useEffect(() => {\n        if (!!command) {\n            setImportExport(command);\n            if (!modal) {\n                setModal(true);\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [command]);\n\n    useEffect(() => {\n        const newUserRules = Compile.code2json(code);\n        if (JSON.stringify(newUserRules) !== JSON.stringify(userRules)) {\n            setUserRules(newUserRules);\n            setOnUpdate(true);\n        }\n        // eslint-disable-next-line\n    }, [code]);\n\n    useEffect(() => {\n        document.getElementsByTagName('HTML')[0].className = themeName || 'blue';\n    }, [themeName]);\n\n    const onChangeBlocks = useCallback(json => {\n        setUserRules(json);\n        onChange(Compile.json2code(json, blocks));\n    }, [blocks, onChange]);\n\n    const ref = useRef({ clientWidth: 0 });\n    const [addClass, setAddClass] = useState({ 835: false, 1035: false });\n    useEffect(() => {\n        if (ref.current) {\n            if (ref.current.clientWidth <= 1035) {\n                setAddClass({ 835: false, 1035: true });\n            }\n            if (ref.current.clientWidth <= 835) {\n                setAddClass({ 1035: true, 835: true });\n            }\n            if (ref.current.clientWidth > 1035) {\n                setAddClass({ 835: false, 1035: false });\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [ref.current.clientWidth])\n\n    if (!blocks) {\n        return null;\n    }\n\n    return <div key=\"rulesEditor\" className={cls.wrapperRules} ref={ref}>\n        {<CustomDragLayer allBlocks={allBlocks} socket={socket} />}\n        {importExport === \"export\" ?\n            <DialogExport\n                key=\"dialogExport\"\n                onClose={() => setModal(false)}\n                open={modal}\n                text={JSON.stringify(userRules, null, 2)} /> :\n            <DialogImport\n                open={modal}\n                key=\"dialogImport\"\n                onClose={text => {\n                    setModal(false);\n                    if (text) {\n                        onChangeBlocks(JSON.parse(text));\n                    }\n                }} />}\n        {<div className={Utils.clsx(cls.rootWrapper, addClass[835] && cls.addClass)}>\n            <Menu\n                setAllBlocks={setAllBlocks}\n                allBlocks={allBlocks}\n                userRules={userRules}\n                onChangeBlocks={onChangeBlocks}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                addClass={addClass}\n                isTourOpen={isTourOpen}\n            />\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                userRules={userRules}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                name={`${I18n.t('when')}...`}\n                typeBlock=\"triggers\"\n                iconName=\"FlashOn\"\n                size={addClass[835]}\n            />\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                userRules={userRules}\n                name={`...${I18n.t('and')}...`}\n                typeBlock=\"conditions\"\n                iconName=\"Help\"\n                nameAdditionally={I18n.t('or')}\n                additionally\n                border\n                size={addClass[835]}\n            />\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                userRules={userRules}\n                name={`...${I18n.t('then')}`}\n                typeBlock=\"actions\"\n                iconName=\"PlayForWork\"\n                nameAdditionally={I18n.t('else')}\n                additionally\n                size={addClass[835]}\n            />\n        </div>}\n    </div>;\n}\n\nRulesEditor.propTypes = {\n    onChange: PropTypes.func,\n    code: PropTypes.string,\n    scriptId: PropTypes.string,\n    setTourStep: PropTypes.func,\n    tourStep: PropTypes.number,\n    command: PropTypes.string,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    searchText: PropTypes.string,\n    resizing: PropTypes.bool,\n\n};\n\nexport default RulesEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ScriptEditorComponent from '../ScriptEditorVanilaMonaco';\n\nconst styles = {\n    editorDiv: {\n        height: '100%',\n        width: '100%',\n        overflow: 'hidden',\n        position: 'relative'\n    },\n};\n\nclass Editor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            lines: (this.props.script || '').split(/\\r\\n|\\n/)\n        };\n    }\n\n    editorDidMount(editor, monaco) {\n        this.monaco = monaco;\n        this.editor = editor;\n        editor.focus();\n    }\n\n    render() {\n        return <div style={styles.editorDiv} key=\"scriptEditorDiv2\">\n            <ScriptEditorComponent\n                key=\"scriptEditor2\"\n                name={this.props.scriptName}\n                adapterName={this.props.adapterName}\n                readOnly\n                code={this.props.script || ''}\n                isDark={this.props.themeType === 'dark'}\n                socket={this.props.socket}\n                runningInstances={this.props.runningInstances}\n                language={'javascript'}\n\n                breakpoints={this.props.breakpoints}\n                location={this.props.paused ? this.props.location : null}\n                onToggleBreakpoint={i => this.props.onToggleBreakpoint(i)}\n            />\n        </div>;\n    }\n}\n\nEditor.propTypes = {\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    sourceId: PropTypes.string,\n    script: PropTypes.string,\n    scriptName: PropTypes.string,\n    adapterName: PropTypes.string,\n    paused: PropTypes.bool,\n    breakpoints: PropTypes.array,\n    location: PropTypes.object,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    onToggleBreakpoint: PropTypes.func,\n};\n\nexport default Editor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {Box, IconButton} from '@mui/material';\n\nimport {\n    MdContentCopy as IconCopy,\n    MdDeleteForever as IconDelete,\n    MdVerticalAlignBottom as IconBottom,\n} from 'react-icons/md';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nconst TOOLBOX_WIDTH = 34;\n\nconst styles = {\n    logBox: {\n        width: '100%',\n        height: '100%',\n        position: 'relative',\n        overflow: 'hidden',\n    },\n    logBoxInner: theme => ({\n        display: 'inline-block',\n        color: theme.palette.mode === 'dark' ? 'white' : 'black',\n        width: `calc(100% - ${TOOLBOX_WIDTH}px)`,\n        height: '100%',\n        // marginLeft: TOOLBOX_WIDTH,\n        overflow: 'auto',\n        position: 'relative',\n        verticalAlign: 'top',\n    }),\n    info: theme => ({\n        background: theme.palette.mode === 'dark' ? 'darkgrey' : 'lightgrey',\n        color: theme.palette.mode === 'dark' ?  'black' : 'black',\n    }),\n    error: theme => ({\n        background: '#FF0000',\n        color: theme.palette.mode === 'dark' ?  'black' : 'white',\n    }),\n    warn: theme => ({\n        background: '#FF8000',\n        color: theme.palette.mode === 'dark' ?  'black' : 'white',\n    }),\n    debug: theme => ({\n        background: 'gray',\n        opacity: 0.8,\n        color: theme.palette.mode === 'dark' ?  'black' : 'white',\n    }),\n    silly: theme => ({\n        background: 'gray',\n        opacity: 0.6,\n        color: theme.palette.mode === 'dark' ? 'black' : 'white',\n    }),\n    table: {\n        fontFamily: 'monospace',\n        width: '100%',\n    },\n    toolbox: {\n        //position: 'absolute',\n        //top: 0,\n        //left: 0,\n        //marginLeft: 2,\n        width: TOOLBOX_WIDTH,\n        height: '100%',\n        boxShadow: '2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0px rgba(0, 0, 0, 0.14), 1px 0px 10px 0px rgba(0, 0, 0, 0.12)',\n        display: 'inline-block',\n        verticalAlign: 'top',\n        overflow: 'hidden',\n    },\n    trTime: {\n        width: 90,\n    },\n    trSeverity: {\n        width: 40,\n        fontWeight: 'bold',\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 4,\n    },\n};\n\nfunction getTimeString(d) {\n    let text;\n    let i = d.getHours();\n    if (i < 10) {\n        i = '0' + i.toString();\n    }\n    text = i + ':';\n\n    i = d.getMinutes();\n    if (i < 10) {\n        i = '0' + i.toString();\n    }\n    text += i + ':';\n    i = d.getSeconds();\n    if (i < 10) {\n        i = `0${i.toString()}`;\n    }\n    text += i + '.';\n    i = d.getMilliseconds();\n    if (i < 10) {\n        i = `00${i.toString()}`;\n    } else if (i < 100) {\n        i = `0${i.toString()}`;\n    }\n    text += i;\n    return text;\n}\n\nclass Console extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            lines: {},\n            goBottom: true,\n        };\n        this.messagesEnd = React.createRef();\n    }\n    generateLine(message) {\n        return <Box\n            component=\"tr\"\n            key={`tr_${message.ts}_${message.text.substr(-10)}`}\n            sx={styles[message.severity]}\n        >\n            <td style={styles.trTime}>{getTimeString(new Date(message.ts))}</td>\n            <td style={styles.trSeverity}>{message.severity}</td>\n            <td>{message.text}</td>\n        </Box>;\n    }\n    renderLogList(lines) {\n        if (lines && lines.length) {\n            return <Box sx={styles.logBoxInner} key=\"logList\">\n                <table key=\"logTable\" style={styles.table}>\n                    <tbody>\n                        {lines.map(line => this.generateLine(line))}\n                    </tbody>\n                </table>\n                <div key=\"logScrollPoint\" ref={this.messagesEnd} style={{ float: 'left', clear: 'both' }}/>\n            </Box>;\n        }\n        return <Box key=\"logList\" sx={styles.logBoxInner} style={{ paddingLeft: 10 }}>{I18n.t('Log outputs')}</Box>;\n    }\n\n    onCopy() {\n        Utils.copyToClipboard(this.props.console.join('\\n'));\n    }\n\n    scrollToBottom() {\n        this.messagesEnd && this.messagesEnd.current && this.messagesEnd.current.scrollIntoView({behavior: 'smooth'});\n    }\n\n    componentDidUpdate() {\n        this.state.goBottom && this.scrollToBottom();\n    }\n\n    render() {\n        const lines = this.props.console;\n        return <div style={styles.logBox}>\n            <div style={styles.toolbox} key=\"toolbox\">\n                <IconButton\n                    style={styles.iconButtons}\n                    onClick={() => this.setState({ goBottom: !this.state.goBottom })}\n                    color={this.state.goBottom ? 'secondary' : ''}\n                    size=\"medium\">\n                    <IconBottom />\n                </IconButton>\n                {lines && lines.length ? <IconButton\n                    style={styles.iconButtons}\n                    onClick={() => this.props.onClearAllLogs()}\n                    size=\"medium\">\n                    <IconDelete />\n                </IconButton> : null}\n                {lines && lines.length ? <IconButton\n                    style={styles.iconButtons}\n                    onClick={() => this.onCopy()}\n                    size=\"medium\">\n                    <IconCopy />\n                </IconButton> : null}\n            </div>\n            {this.renderLogList(lines)}\n        </div>;\n    }\n}\n\nConsole.propTypes = {\n    theme: PropTypes.object,\n    onClearAllLogs: PropTypes.func,\n    console: PropTypes.array,\n};\n\nexport default Console;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ReactSplit, { SplitDirection } from '@devbookhq/splitter';\nimport ReactJson  from 'react-json-view';\n\nimport {\n    ListItemButton,\n    ListItemText,\n    Input,\n    InputAdornment,\n    IconButton,\n    List, Box,\n} from '@mui/material';\n\nimport {\n    MdCheck as CheckIcon,\n    MdAdd as IconAdd,\n    MdDelete as IconDelete,\n} from 'react-icons/md';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst styles = {\n    frameRoot: {\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n    frameTextRoot: {\n        m: 0,\n    },\n    frameTextPrimary: theme => ({\n        color: theme.palette.mode === 'dark' ? '#CCC' : '#333',\n    }),\n    frameTextSecondary: {\n        fontStyle: 'italic',\n        fontSize: 12,\n        opacity: 0.6,\n        pl: 1,\n    },\n\n    listRoot: {\n        padding: 0,\n        fontSize: 'small',\n    },\n\n    scopeType: {\n        verticalAlign: 'top',\n        textTransform: 'uppercase',\n        width: 50,\n    },\n    scopeType_local: {\n        color: '#53a944'\n    },\n    scopeType_closure: {\n        color: '#365b80'\n    },\n    scopeType_user: {\n        color: '#a48a15'\n    },\n    scopeName: {\n        color: '#bc5b5b',\n        width: 'calc(100% - 82px)',\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis',\n    },\n    scopeButton: {\n        width: 32\n    },\n    scopeValueEditable: {\n        cursor: 'pointer'\n    },\n    selectedFrame: {\n        backgroundColor: '#777',\n        color: 'white'\n    },\n    splitter: {\n        width: '100%',\n        height: 'calc(100% - 36px)',\n        overflow: 'hidden',\n        fontSize: 12\n    },\n\n    toolbarScopes: theme => ({\n        width: 24,\n        display: 'inline-block',\n        height: '100%',\n        background: theme.palette.mode === 'dark' ? '#222' : '#EEE',\n        verticalAlign: 'top',\n    }),\n    scopesAfterToolbar: {\n        width: 'calc(100% - 24px)',\n        display: 'inline-block',\n        height: '100%',\n        verticalAlign: 'top',\n    },\n\n    scopeNameName: {\n        fontWeight: 'bold',\n        display: 'inline-block',\n        verticalAlign: 'top',\n    },\n    scopeNameEqual: theme => ({\n        display: 'inline-block',\n        color: theme.palette.mode === 'dark' ? '#EEE' : '#222',\n        verticalAlign: 'top',\n    }),\n    scopeNameValue: {\n        verticalAlign: 'top',\n        display: 'inline-block',\n        color: '#3b709f',\n        whiteSpace: 'nowrap',\n    },\n    scopeButtonDel: {\n        padding: 0,\n        float: 'right',\n    },\n\n    valueNull: {\n        color: '#a44a24'\n    },\n    valueUndefined: {\n        color: '#a44a24'\n    },\n    valueString: {\n        color: '#1e8816'\n    },\n    valueNumber: {\n        color: '#163c88'\n    },\n    valueBoolean: {\n        color: '#a44a24'\n    },\n    valueObject: {\n        color: '#721b70'\n    },\n    valueNone: {\n        color: '#8a8a8a'\n    },\n    valueFunc: {\n        color: '#ac4343'\n    },\n};\n\nclass Stack extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const framesSizesStr = window.localStorage.getItem('JS.framesSizes');\n        let framesSizes = [30, 70];\n        if (framesSizesStr) {\n            try {\n                framesSizes = JSON.parse(framesSizesStr);\n            } catch (e) {\n                // ignore\n            }\n        }\n\n        this.state = {\n            editValue: null,\n            callFrames: this.props.callFrames,\n            framesSizes,\n        };\n\n        this.editRef = React.createRef();\n    }\n\n    onExpressionNameUpdate() {\n        this.props.onExpressionNameUpdate(this.state.editValue.index, this.scopeValue, () => {\n            this.setState({ editValue: null });\n            this.scopeValue = null;\n        });\n    }\n\n    renderExpression(item, i) {\n        const name = this.state.editValue && this.state.editValue.type === 'expression' && this.state.editValue.index === i ?\n            <Input\n                inputRef={this.editRef}\n                fullWidth\n                margin=\"dense\"\n                onBlur={() => this.state.editValue && this.setState({editValue: null})}\n                defaultValue={item.name}\n                onKeyUp={e => {\n                    if (e.keyCode === 13) {\n                        this.onExpressionNameUpdate();\n                    } else if (e.keyCode === 27) {\n                        this.setState({editValue: null});\n                    }\n                }}\n\n                onChange={e =>\n                    this.scopeValue = e.target.value}\n\n                endAdornment={\n                    <InputAdornment position=\"end\">\n                        <IconButton onClick={() => this.onExpressionNameUpdate()} size=\"medium\">\n                            <CheckIcon/>\n                        </IconButton>\n                    </InputAdornment>\n                }\n            />\n            :\n            [\n                <div key=\"name\" style={styles.scopeNameName} title={I18n.t('Double click to edit expression')}>{item.name}</div>,\n                <Box key=\"=\" sx={styles.scopeNameEqual}> = </Box>,\n                <div key=\"val\" style={styles.scopeNameValue}>{this.formatValue(item.value)}</div>\n            ];\n\n        return <tr key={`user_${i}${item.name}`}>\n            <td style={{ ...styles.scopeType, ...styles.scopeType_user }}>user</td>\n            <td style={styles.scopeName}\n                onDoubleClick={() => {\n                    this.scopeValue = item.name || '';\n                    this.setState({\n                        editValue: {\n                            type: 'expression',\n                            valueType: 'string',\n                            index: i,\n                            name: item.name,\n                            value: item.name || ''\n                        }\n                    });\n                }}\n            >{name}</td>\n            <IconButton\n                style={styles.scopeButtonDel}\n                size=\"small\"\n                disabled={!!this.state.editValue}\n                onClick={() => this.props.onExpressionDelete(i)}\n            >\n                <IconDelete/>\n            </IconButton>\n        </tr>\n    }\n\n    renderExpressions() {\n        return this.props.expressions.map((item, i) => this.renderExpression(item, i));\n    }\n\n    renderOneFrameTitle(frame, i) {\n        if (this.props.mainScriptId === this.props.currentScriptId && frame.location.scriptId !== this.props.mainScriptId) {\n            return null;\n        }\n        const fileName = frame.url.split('/').pop().replace(/^script\\.js\\./, '');\n        return <ListItemButton\n            key={frame.id}\n            onClick={() => this.props.onChangeCurrentFrame(i)}\n            dense\n            selected={this.props.currentFrame === i}\n            style={styles.frameRoot}\n        >\n            <ListItemText\n                sx={{\n                    ...styles.frameTextRoot,\n                    '& .MuiListItemText-primary': styles.frameTextPrimary,\n                    '& .MuiListItemText-secondary': styles.frameTextSecondary,\n                }}\n                title={frame.url}\n                primary={frame.functionName || 'anonymous'}\n                secondary={`${fileName} (${frame.location.lineNumber}:${frame.location.columnNumber})`}\n            />\n        </ListItemButton>;\n    }\n\n    formatValue(value, forEdit) {\n        if (!value) {\n            if (forEdit) {\n                return 'none';\n            }\n            return <span style={styles.valueNone}>none</span>;\n        } else if (value.type === 'function') {\n            const text = value.description ? (value.description.length > 100 ? value.description.substring(0, 100) + '...' : value.description) : 'function';\n            if (forEdit) {\n                return text;\n            }\n            return <span style={styles.valueFunc} title={value.description}>{text}</span>;\n        } else if (value.value === undefined) {\n            if (forEdit) {\n                return 'undefined';\n            }\n            return <span style={styles.valueUndefined}>undefined</span>;\n        } else if (value.value === null) {\n            if (forEdit) {\n                return 'null';\n            }\n            return <span style={styles.valueNull}>null</span>;\n        } else if (value.type === 'string') {\n            if (forEdit) {\n                return value.value;\n            }\n            const text = value.value ? (value.value.length > 100 ? value.value.substring(0, 100) + '...' : value.value) : '';\n            return <span style={styles.valueString} title={text}>\"{text}\"</span>;\n        } else if (value.type === 'boolean') {\n            if (forEdit) {\n                return value.value.toString();\n            }\n            return <span style={styles.valueBoolean}>{value.value.toString()}</span>;\n        } else if (value.type === 'object') {\n            if (forEdit) {\n                return JSON.stringify(value.value);\n            }\n            return <ReactJson\n                enableClipboard={false}\n                style={{ backgroundColor: 'inherit', marginTop: 3 }}\n                src={value.value}\n                collapsed\n                theme={this.props.themeType === 'dark' ? 'brewer' : 'rjv-default'}\n                displayDataTypes={false}\n            />;\n        }\n\n        return value.value.toString();\n    }\n\n    onWriteScopeValue() {\n        if (this.scopeValue === 'true') {\n            this.scopeValue = true;\n        } else if (this.scopeValue === 'false') {\n            this.scopeValue = false;\n        } else if (this.scopeValue === 'null') {\n            this.scopeValue = null;\n        } else if (this.scopeValue === 'undefined') {\n            this.scopeValue = undefined;\n        } else if (parseFloat(this.scopeValue).toString() === this.scopeValue) {\n            this.scopeValue = parseFloat(this.scopeValue);\n        }\n\n        this.props.onWriteScopeValue({\n            variableName: this.state.editValue.name,\n            scopeNumber: 0,\n            newValue: {\n                value: this.scopeValue,\n                valueType: typeof this.scopeValue,\n            },\n            callFrameId: this.props.callFrames[this.props.currentFrame].callFrameId\n        });\n\n        this.setState({ editValue: null });\n        this.scopeValue = null;\n    }\n\n    componentDidUpdate() {\n        //this.editRef.current?.select();\n        this.editRef.current?.focus();\n    }\n\n    renderScope(scopeId, item, type) {\n        const editable = !this.props.currentFrame && item.value && (item.value.type === 'undefined' || item.value.type === 'string' || item.value.type === 'number' || item.value.type === 'boolean' || item.value?.value === null || item.value?.value === undefined);\n\n        const el = this.state.editValue && this.state.editValue.type === type && this.state.editValue.name === item.name ?\n            [\n                <div key=\"name\" style={styles.scopeNameName}>{item.name}</div>,\n                <Box key=\"=\" sx={styles.scopeNameEqual}> = </Box>,\n                <Input\n                    inputRef={this.editRef}\n                    margin=\"dense\"\n                    onBlur={() => this.state.editValue && this.setState({editValue: null})}\n                    defaultValue={this.formatValue(item.value, true)}\n                    onKeyUp={e => {\n                        if (e.keyCode === 13) {\n                            this.onWriteScopeValue()\n                        } else if (e.keyCode === 27) {\n                            this.setState({editValue: null})\n                        }\n                    }}\n                    onChange={e =>\n                        this.scopeValue = e.target.value}\n                    endAdornment={\n                        <InputAdornment position=\"end\">\n                            <IconButton onClick={() => this.onWriteScopeValue()} size=\"medium\">\n                                <CheckIcon/>\n                            </IconButton>\n                        </InputAdornment>\n                    }\n                />\n            ]\n            :\n            [\n                <div key=\"name\" style={styles.scopeNameName} title={I18n.t('Double click to write value')}>{item.name}</div>,\n                <Box key=\"=\" sx={styles.scopeNameEqual}> = </Box>,\n                <div key=\"val\" style={styles.scopeNameValue}>{this.formatValue(item.value)} ({item.value.type})</div>\n            ];\n\n\n        return <tr key={`${type}_${scopeId}_${item.name}`}>\n            <td style={{ ...styles.scopeType, ...styles[`scopeType_${type}`] }}>{type}</td>\n            <td\n                style={{\n                    ...styles.scopeName,\n                    ...(!this.props.currentFrame && editable ? styles.scopeValueEditable : undefined),\n                }}\n                onDoubleClick={() => {\n                    if (editable) {\n                        this.scopeValue = item.value.value;\n                        this.setState({\n                            editValue: {\n                                scopeId,\n                                type,\n                                valueType: item.value.type,\n                                name: item.name,\n                                value: item.value.value\n                            }\n                        });\n                    }\n                }}\n            >{el}</td>\n        </tr>;\n    }\n\n    renderScopes(frame) {\n        if (!frame) {\n            return null;\n        }\n        // first local\n        let result = this.renderExpressions();\n\n        let items = this.props.scopes?.local?.properties?.result.map(item => this.renderScope(this.props.scopes.id, item, 'local'));\n        items && items.forEach(item => result.push(item));\n\n        items = this.props.scopes?.closure?.properties?.result.map(item => this.renderScope(this.props.scopes.id, item, 'closure'));\n        items && items.forEach(item => result.push(item));\n\n        return <table style={{ width: '100%', fontSize: 'small' }}>\n            <tbody>\n                {result}\n            </tbody>\n        </table>;\n    }\n\n    render() {\n        return <ReactSplit\n            direction={SplitDirection.Horizontal}\n            initialSizes={this.state.framesSizes}\n            minWidths={[100, 200]}\n            onResizeFinished={(_gutterIdx, framesSizes) => {\n                this.setState({ framesSizes });\n                window.localStorage.setItem('JS.framesSizes', JSON.stringify(framesSizes));\n            }}\n            gutterClassName={this.props.themeType === 'dark' ? 'Dark visGutter' : 'Light visGutter'}\n        >\n            <div style={{ width: '100%', height: '100%', overflow: 'auto' }}>\n                <List style={styles.listRoot}>\n                    {this.props.callFrames ? this.props.callFrames.map((frame, i) =>\n                        this.renderOneFrameTitle(frame, i)) : null}\n                </List>\n            </div>\n            <div style={{ width: '100%', height: '100%', overflow: 'auto' }}>\n                <Box sx={styles.toolbarScopes}>\n                    <IconButton\n                        size=\"small\"\n                        onClick={() => this.props.onExpressionAdd((i, item) => {\n                            this.scopeValue = item.name || '';\n                            this.setState({\n                                editValue: {\n                                    type: 'expression',\n                                    valueType: 'string',\n                                    index: i,\n                                    name: item.name,\n                                    value: item.name || '',\n                                }\n                            });\n                        })}\n                    >\n                        <IconAdd />\n                    </IconButton>\n                </Box>\n                <div style={styles.scopesAfterToolbar}>\n                    {this.props.callFrames && this.props.callFrames.length && this.renderScopes(this.props.callFrames[this.props.currentFrame])}\n                </div>\n            </div>\n        </ReactSplit>;\n    }\n}\n\nStack.propTypes = {\n    currentScriptId: PropTypes.string,\n    mainScriptId: PropTypes.string,\n    scopes: PropTypes.object,\n    expressions: PropTypes.array,\n    callFrames: PropTypes.array,\n    currentFrame: PropTypes.number,\n    onChangeCurrentFrame: PropTypes.func,\n    onWriteScopeValue: PropTypes.func,\n    onExpressionDelete: PropTypes.func,\n    onExpressionAdd: PropTypes.func,\n    onExpressionNameUpdate: PropTypes.func,\n    themeType: PropTypes.string,\n};\n\nexport default Stack;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactSplit, { SplitDirection } from '@devbookhq/splitter';\n\nimport {\n    Tabs,\n    Tab,\n    Toolbar,\n    LinearProgress,\n    IconButton,\n    List,\n    ListItemButton,\n    ListItemText,\n    DialogTitle,\n    Dialog,\n    Badge, Box,\n} from '@mui/material';\n\nimport {\n    MdClose as IconClose,\n    MdPlayArrow as IconRun,\n    MdPause as IconPause,\n    MdArrowForward as IconNext,\n    MdArrowDownward as IconStep,\n    MdArrowUpward as IconOut,\n    MdRefresh as IconRestart,\n    MdWarning as IconException,\n} from 'react-icons/md';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport DialogError from '../../Dialogs/Error';\nimport Editor from './Editor';\nimport Console from './Console';\nimport Stack from './Stack';\n\nconst styles = {\n    root: theme => ({\n        width: '100%',\n        height: `calc(100% - ${theme.toolbar.height + 38/*Theme.toolbar.height */ + 5}px)`,\n        overflow: 'hidden',\n        position: 'relative'\n    }),\n    toolbar: {\n        minHeight: 38,//Theme.toolbar.height,\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    buttonRun: {\n        color: 'green'\n    },\n    buttonPause: {\n        color: 'orange'\n    },\n    buttonRestart: {\n        color: 'darkgreen'\n    },\n    buttonStop: {\n        color: 'red'\n    },\n    buttonNext: {\n        color: 'blue'\n    },\n    buttonStep: {\n        color: 'blue'\n    },\n    buttonOut: {\n        color: 'blue'\n    },\n    buttonException: {\n\n    },\n\n    tabFile: theme => ({\n        textTransform: 'inherit',\n        color: theme.palette.mode === 'dark' ? '#DDD' : 'inherit'\n    }),\n    tabText: {\n        maxWidth: 130,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    closeButton: {\n        position: 'absolute',\n        top: 8,\n        right: 0,\n        zIndex: 10,\n        padding: 8,\n        cursor: 'pointer'\n    },\n\n    tabsRoot: theme => ({\n        minHeight: 24,\n        background: theme.palette.mode === 'dark' ? '#333' : '#e6e6e6',\n        color: theme.palette.mode === 'dark' ? 'white' : 'inherit'\n    }),\n    tabRoot: {\n        minHeight: 24,\n    },\n\n    bpListItem: {\n        borderTop: '1px dashed #bfbfbf44',\n    },\n    monospace: {\n        fontFamily: 'Courier New, monospace',\n        whiteSpace: 'pre',\n        fontSize: 12,\n    },\n    arrow: {\n        color: '#fffa4f',\n    },\n    splitter: {\n        height: 'calc(100% - 52px)',\n        '& .layout-pane': {\n            overflow: 'hidden',\n            height: '100%'\n        }\n    }\n};\n\nclass Debugger extends React.Component {\n    constructor(props) {\n        super(props);\n        let breakpoints = window.localStorage.getItem(`javascript.tools.bp.${this.props.src}`);\n        try {\n            breakpoints = breakpoints ? JSON.parse(breakpoints) : [];\n        } catch (e) {\n            breakpoints = [];\n        }\n\n        let expressions = window.localStorage.getItem(`javascript.tools.exps.${this.props.src}`);\n        try {\n            expressions = expressions ? JSON.parse(expressions) : [];\n            expressions = expressions.map(name => ({name}));\n        } catch (e) {\n            expressions = [];\n        }\n\n        const toolSizesStr = window.localStorage.getItem('JS.toolSizes');\n        let toolSizes = [80, 20];\n        if (toolSizesStr) {\n            try {\n                toolSizes = JSON.parse(toolSizesStr);\n            } catch (e) {\n                // ignore\n            }\n        }\n\n        this.state = {\n            starting: true,\n            selected: null,\n            tabs: {},\n            script: '',\n            breakpoints,\n            expressions,\n            running: false,\n            error: '',\n            started: false,\n            paused: true,\n            location: null,\n            toolsTab: window.localStorage.getItem('javascript.tools.tab') || 'console',\n            stopOnException: window.localStorage.getItem('javascript.tools.stopOnException') === 'true',\n            console: [],\n            finished: false,\n            currentFrame: 0,\n            scopes: {},\n            queryBreakpoints: null,\n            logErrors: 0,\n            logWarnings: 0,\n            logs: 0,\n            toolSizes,\n        };\n\n        this.scripts = {};\n        this.mainScriptId = null;\n    }\n\n    componentDidMount() {\n        new Promise(resolve => {\n            if (this.props.debugInstance) {\n                resolve(this.props.debugInstance.instance);\n            } else {\n                this.props.socket.getObject(this.props.src)\n                    .then(obj => resolve(obj?.common?.engine?.replace('system.adapter.', '')));\n            }\n        })\n            .then(instance =>\n                this.setState({ instance }, () => {\n                    if (this.state.instance) {\n                        this.props.socket.setState(`${this.state.instance}.debug.from`, { val: '{\"cmd\": \"subscribed\"}', ack: true });\n                        //.then(() => );\n                        setTimeout(() =>\n                            this.props.socket.subscribeState(`${this.state.instance}.debug.from`, this.fromInstance), 200);\n                    } else {\n                        this.setState({ error: 'Unknown instance' });\n                    }\n                }));\n    }\n\n    componentWillUnmount() {\n        if (this.state.instance) {\n            this.props.socket.unsubscribeState(`${this.state.instance}.debug.from`, this.fromInstance);\n            this.props.socket.sendTo(this.state.instance, 'debugStop');\n        }\n    }\n\n    sendToInstance(cmd) {\n        this.props.socket.setState(`${this.state.instance}.debug.to`, { val: JSON.stringify(cmd), ack: false });\n    }\n\n    reinitBreakpoints(cb) {\n        if (this.state.breakpoints.length) {\n            let breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\n            breakpoints = breakpoints.map(item => item.location);\n            this.setState({breakpoints: []}, () => {\n                this.sendToInstance({breakpoints, cmd: 'sb'});\n                if (this.state.stopOnException) {\n                    this.sendToInstance({cmd: 'stopOnException', state: true});\n                }\n\n                cb && cb();\n            });\n        } else if (this.state.stopOnException) {\n            this.sendToInstance({cmd: 'stopOnException', state: true});\n            cb && cb();\n        } else {\n            cb && cb();\n        }\n    }\n\n    getLocation(context) {\n        if (context.callFrames) {\n            const frame = context.callFrames[0];\n            return frame.location;\n        }\n    }\n\n    readCurrentScope() {\n        const frame = this.state.context?.callFrames && this.state.context.callFrames[this.state.currentFrame];\n        if (frame) {\n            const scopes = frame.scopeChain.filter(scope => scope.type !== 'global');\n            if (scopes.length) {\n                this.sendToInstance({cmd: 'scope', scopes});\n            } else if (this.state.scopes.global || this.state.scopes.local || this.state.scopes.closure) {\n                this.setState({scopes: {}});\n            }\n        }\n    }\n\n    readExpressions(i) {\n        if (this.state.expressions.length && this.state.context?.callFrames && this.state.context.callFrames[this.state.currentFrame]) {\n            if (i !== undefined) {\n                this.sendToInstance({\n                    cmd: 'expressions',\n                    expressions: [this.state.expressions[i]],\n                    callFrameId: this.state.context.callFrames[this.state.currentFrame].callFrameId\n                });\n            } else {\n                this.sendToInstance({\n                    cmd: 'expressions',\n                    expressions: this.state.expressions,\n                    callFrameId: this.state.context.callFrames[this.state.currentFrame].callFrameId\n                });\n            }\n        }\n    }\n\n    fromInstance = (id, state) => {\n        try {\n            const data = JSON.parse(state.val);\n            if (data.cmd === 'subscribed') {\n                this.props.socket.sendTo(this.state.instance, 'debug', this.props.debugInstance || {scriptName: this.props.src});\n            } else\n            if (data.cmd === 'readyToDebug') {\n                this.mainScriptId = data.scriptId;\n                this.scripts[data.scriptId] = data.script;\n                if (data.script.startsWith('(async () => {debugger;\\n')) {\n                    this.scripts[data.scriptId] = `(async () => {\\n${data.script.substring('(async () => {debugger;\\n'.length)}`;\n                } else if (data.script.startsWith('debugger;')) {\n                    this.scripts[data.scriptId] = data.script.substring('debugger;'.length);\n                }\n\n                const tabs = JSON.parse(JSON.stringify(this.state.tabs));\n                tabs[data.scriptId] = this.props.debugInstance ? data.url: this.props.src.replace('script.js.', '');\n\n                const ts = `${Date.now()}.${Math.random() * 10000}`;\n                data.context?.callFrames && data.context.callFrames.forEach((item, i) => item.id = ts + i);\n\n                this.setState({\n                    starting: false,\n                    finished: false,\n                    selected: this.mainScriptId,\n                    script: this.scripts[data.scriptId],\n                    tabs,\n                    currentFrame: 0,\n                    started: true,\n                    paused: true,\n                    location: this.getLocation(data.context),\n                    context: data.context,\n                }, () =>\n                    this.reinitBreakpoints(() => {\n                        this.readCurrentScope();\n                        this.readExpressions();\n                    }));\n            } else if (data.cmd === 'paused') {\n                const ts = `${Date.now()}.${Math.random() * 10000}`;\n                data.context?.callFrames && data.context.callFrames.forEach((item, i) => item.id = ts + i);\n                const location = this.getLocation(data.context);\n                const tabs = JSON.parse(JSON.stringify(this.state.tabs));\n                const parts = data.context.callFrames[0].url.split('iobroker.javascript');\n                tabs[location.scriptId] = (parts[1] || parts[0]).replace('script.js.', '');\n\n                const newState = {\n                    tabs,\n                    paused: true,\n                    location,\n                    currentFrame: 0,\n                    context: data.context,\n                    scope: {id: (data.context?.callFrames && data.context.callFrames[0] && data.context.callFrames[0].id) || 0}\n                };\n\n                newState.script = this.scripts[location.scriptId] === undefined ? I18n.t('loading...') : this.scripts[location.scriptId];\n                newState.selected = location.scriptId;\n\n                this.setState(newState, () => {\n                    this.readCurrentScope();\n                    this.readExpressions();\n                    if (!this.scripts[location.scriptId]) {\n                        this.sendToInstance({cmd: 'source', scriptId: location.scriptId});\n                    }\n                });\n            } else if (data.cmd === 'script') {\n                this.scripts[data.scriptId] = data.text;\n                if (this.state.selected === data.scriptId) {\n                    this.setState({script: this.scripts[data.scriptId]});\n                }\n            } else if (data.cmd === 'resumed') {\n                this.setState({paused: false});\n            } else if (data.cmd === 'log') {\n                if (this.state.toolsTab === 'console') {\n                    this.console = null;\n                    const console = [...this.state.console];\n                    console.push({text: data.text, severity: data.severity, ts: data.ts});\n                    this.setState({console});\n                } else {\n                    if (data.severity === 'error') {\n                        this.setState({logErrors: this.state.logErrors + 1});\n                    } else if (data.severity === 'warn') {\n                        this.setState({logWarnings: this.state.logWarnings + 1});\n                    } else {\n                        this.setState({logs: this.state.logs + 1});\n                    }\n                    this.console = this.console || [...this.state.console];\n                    this.console.push({text: data.text, severity: data.severity, ts: data.ts});\n                }\n            } else if (data.cmd === 'error') {\n                this.setState({error: data.error});\n            } else if (data.cmd === 'finished' || data.cmd === 'debugStopped') {\n                this.setState({\n                    finished: true,\n                    starting: false,\n                    started: true,\n                });\n            } else if (data.cmd === 'sb') {\n                const breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\n                let changed = false;\n                data.breakpoints.filter(bp => bp).forEach(bp => {\n                    const found = breakpoints.find(item =>\n                        item.location.scriptId === bp.location.scriptId && item.location.lineNumber === bp.location.lineNumber);\n                    if (!found) {\n                        changed = true;\n                        breakpoints.push(bp);\n                    }\n                });\n                changed && window.localStorage.setItem('javascript.tools.bp.' + this.props.src, JSON.stringify(breakpoints));\n                changed && this.setState({breakpoints});\n            } else if (data.cmd === 'cb') {\n                const breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\n                let changed = false;\n\n                data.breakpoints.filter(id => id !== undefined && id !== null).forEach(id => {\n                    const found = breakpoints.find(item => item.id === id);\n                    if (found) {\n                        const pos = breakpoints.indexOf(found);\n                        breakpoints.splice(pos, 1);\n                        changed = true;\n                    }\n                });\n                changed && window.localStorage.setItem('javascript.tools.bp.' + this.props.src, JSON.stringify(breakpoints));\n                changed && this.setState({breakpoints});\n            } else if (data.cmd === 'scope') {\n                //const global = data.scopes.find(scope => scope.type === 'global') || null;\n                const local = data.scopes.find(scope => scope.type === 'local') || null;\n                const closure = data.scopes.find(scope => scope.type === 'closure') || null;\n\n                console.log(JSON.stringify(closure));\n\n                this.setState({scopes: {local, closure, id: `${this.state.scope.id}_${this.state.currentFrame}`}});\n            } else if (data.cmd === 'setValue') {\n                const scopes = JSON.parse(JSON.stringify(this.state.scopes));\n                let item;\n                if (data.scopeNumber === 0) {\n                    item = scopes.local && scopes.local.properties && scopes.local.properties.result && scopes.local.properties.result.find(item => item.name === data.variableName);\n                } else {\n                    item = scopes.closure && scopes.closure.properties && scopes.closure.properties.result && scopes.closure.properties.result && scopes.closure.properties.result.find(item => item.name === data.variableName);\n                }\n                if (item) {\n                    item.value.value = data.newValue.value;\n                    this.setState({scopes});\n                }\n            } else if (data.cmd === 'expressions') {\n                // update values\n                let expressions = JSON.parse(JSON.stringify(this.state.expressions));\n                let changed = false;\n                data.expressions.forEach(item => {\n                    const expression = expressions.find(it => it.name === item.name);\n                    if (expression) {\n                        changed = true;\n                        expression.value = item.result;\n                    }\n                });\n                changed && this.setState({expressions});\n\n                console.log('expressions: ' + JSON.stringify(data));\n            } else if (data.cmd === 'getPossibleBreakpoints') {\n                if (data.breakpoints?.locations?.length === 1) {\n                    this.sendToInstance({breakpoints: data.breakpoints.locations, cmd: 'sb'});\n                } else if (!data.breakpoints?.locations?.length) {\n                    window.alert('cannot set');\n                } else {\n                    this.setState({queryBreakpoints: data.breakpoints.locations});\n                }\n            } else {\n                console.error(`Unknown command: ${JSON.stringify(data)}`);\n            }\n        } catch (e) {\n\n        }\n    }\n\n    getTextAtLocation(location) {\n        let line = this.state.script.split(/\\r\\n|\\n/)[location.lineNumber];\n        let arrow;\n        if (location.columnNumber >= 10) {\n            line = line.substring(location.columnNumber - 10, location.columnNumber + 20);\n            arrow = `${''.padStart(10, ' ')}↑`;\n        } else {\n            line = line.substring(0, 30 - location.columnNumber);\n            arrow = `${''.padStart(location.columnNumber, ' ')}↑`;\n        }\n        return [\n            <div key=\"line\" style={styles.monospace}>{line}</div>,\n            <div key=\"arrow\" style={{ ...styles.monospace, ...styles.arrow }}>{arrow}</div>\n        ];\n    }\n\n    renderQueryBreakpoints() {\n        if (this.state.queryBreakpoints) {\n            return <Dialog onClose={() => this.setState({ queryBreakpoints: null })} aria-labelledby=\"bp-dialog-title\" open={!0}>\n                <DialogTitle id=\"bp-dialog-title\">{I18n.t('Select breakpoint')}</DialogTitle>\n                <List>\n                    {this.state.queryBreakpoints.map((bp, i) => <ListItemButton\n                        style={styles.bpListItem}\n                        dense\n                        onClick={() => {\n                            this.sendToInstance({ breakpoints: [bp], cmd: 'sb' });\n                            this.setState({ queryBreakpoints: null });\n                        }}\n                        key={i}>\n                        <ListItemText\n                            primary={this.getTextAtLocation(bp)}\n                        />\n                    </ListItemButton>)}\n                </List>\n            </Dialog>;\n        }\n\n        return null;\n    }\n\n    renderError() {\n        if (this.state.error) {\n            return <DialogError key=\"dialogError\" onClose={() => this.setState({ error: '' })} text={this.state.error} />;\n        }\n        return null;\n    }\n\n    closeTab(id, e) {\n        e && e.stopPropagation();\n        const tabs = JSON.parse(JSON.stringify(this.state.tabs));\n        delete tabs[id];\n        const newState = {tabs, script: this.scripts[this.mainScriptId], selected: this.mainScriptId};\n        if (this.state.location && this.state.location.scriptId !== this.mainScriptId) {\n            newState.location = null;\n        }\n        this.setState(newState);\n    }\n\n    renderTabs() {\n        const disabled = !this.state.tabs || !this.state.started;\n        return <Tabs\n            component={'div'}\n            indicatorColor=\"primary\"\n            style={{ position: 'relative', width: 'calc(100% - 300px)', display: 'inline-block' }}\n            value={this.state.selected}\n            onChange={(event, value) => {\n                if (this.scripts[value]) {\n                    this.setState({selected: value, script: this.scripts[value]});\n                } else {\n                    this.setState({selected: value, script: 'loading...'}, () =>\n                        this.sendToInstance({cmd: 'source', scriptId: value}));\n                }\n            }}\n            scrollButtons=\"auto\"\n        >\n            {Object.keys(this.state.tabs || [])\n                .map(id => {\n                    let label = id;\n                    let title = this.state.tabs[id] || '';\n                    if (this.state.tabs[id]) {\n                        label = this.state.tabs[id].split('/').pop();\n                    }\n                    label = [\n                        <div key=\"text\" style={styles.tabText}>{label}</div>,\n                        id !== this.mainScriptId && <span key=\"icon\" style={styles.closeButton}>\n                            <IconClose key=\"close\" onClick={e => this.closeTab(id, e)} fontSize=\"small\" /></span>];\n\n                    return <Tab\n                        disabled={disabled}\n                        sx={styles.tabFile}\n                        label={label}\n                        title={title}\n                        key={id}\n                        value={id}\n                    />;\n                })}\n        </Tabs>;\n    }\n\n    onResume() {\n        this.sendToInstance({ cmd: 'cont' });\n    }\n\n    onPause() {\n        this.sendToInstance({ cmd: 'pause' });\n    }\n\n    onNext() {\n        this.sendToInstance({ cmd: 'next' });\n    }\n\n    onStepIn() {\n        this.sendToInstance({ cmd: 'step' });\n    }\n\n    onStepOut() {\n        this.sendToInstance({ cmd: 'out' });\n    }\n\n    onRestart() {\n        this.setState({ started: false, starting: true }, () =>\n            this.props.socket.sendTo(this.state.instance, 'debug', this.props.debugInstance || {scriptName: this.props.src}));\n    }\n\n    onToggleException() {\n        const stopOnException = !this.state.stopOnException;\n        window.localStorage.setItem('javascript.tools.stopOnException', stopOnException ? 'true' : 'false');\n        this.setState({ stopOnException }, () =>\n            this.sendToInstance({ cmd: 'stopOnException', state: stopOnException }));\n    }\n\n    renderToolbar() {\n        const disabled = !this.state.started;\n        return <Toolbar variant=\"dense\" style={styles.toolbar} key=\"toolbar1\">\n            <IconButton\n                style={styles.buttonRestart}\n                disabled={disabled}\n                onClick={() => this.onRestart()}\n                title={I18n.t('Restart')}\n                size=\"medium\"><IconRestart/></IconButton>\n            {\n                !this.state.finished && this.state.paused ?\n                    <IconButton\n                        style={styles.buttonRun}\n                        disabled={disabled}\n                        onClick={() => this.onResume()}\n                        title={I18n.t('Resume execution')}\n                        size=\"medium\"><IconRun/></IconButton>\n                    :\n                    !this.state.finished && <IconButton\n                        disabled={disabled}\n                        style={styles.buttonPause}\n                        onClick={() => this.onPause()}\n                        title={I18n.t('Pause execution')}\n                        size=\"medium\"><IconPause/></IconButton>\n            }\n            {!this.state.finished && <IconButton\n                style={styles.buttonNext}\n                disabled={disabled || !this.state.paused}\n                onClick={() => this.onNext()}\n                title={I18n.t('Go to next line')}\n                size=\"medium\"><IconNext/></IconButton>}\n            {!this.state.finished && <IconButton\n                style={styles.buttonStep}\n                disabled={disabled || !this.state.paused}\n                onClick={() => this.onStepIn()}\n                title={I18n.t('Step into function')}\n                size=\"medium\"><IconStep/></IconButton>}\n            {!this.state.finished && <IconButton\n                style={styles.buttonOut}\n                disabled={disabled || !this.state.paused}\n                onClick={() => this.onStepOut()}\n                title={I18n.t('Step out from function')}\n                size=\"medium\"><IconOut/></IconButton>}\n            {!this.state.finished && <IconButton\n                style={styles.buttonException}\n                color={this.state.stopOnException ? 'primary' : 'default'}\n                disabled={disabled || !this.state.paused}\n                onClick={() => this.onToggleException()}\n                title={I18n.t('Stop on exception')}\n                size=\"medium\"><IconException/></IconButton>}\n            {this.renderTabs()}\n        </Toolbar>;\n    }\n\n    getPossibleBreakpoints(bp) {\n        const end = {...bp, columnNumber: 1000};\n        this.sendToInstance({ cmd: 'getPossibleBreakpoints', start: bp, end });\n    }\n\n    toggleBreakpoint(lineNumber) {\n        let bp = this.state.breakpoints.find(item => item.location.scriptId === this.state.selected && item.location.lineNumber === lineNumber);\n        if (bp) {\n            const breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\n            this.setState({breakpoints}, () =>\n                this.sendToInstance({ breakpoints: [bp.id], cmd: 'cb' }));\n        } else {\n            bp = { scriptId: this.state.selected, lineNumber, columnNumber: 0 };\n            this.getPossibleBreakpoints(bp);\n        }\n    }\n\n    renderCode() {\n        if (this.state.script && this.state.started) {\n            const breakpoints = this.state.breakpoints.filter(bp => bp.location.scriptId === this.state.selected);\n\n            return <Editor\n                runningInstances={this.props.runningInstances}\n                socket={this.props.socket}\n                adapterName={this.props.adapterName}\n                scriptName={this.state.tabs[this.state.selected]}\n                sourceId={this.state.selected}\n                script={this.state.script}\n                paused={this.state.paused}\n                breakpoints={breakpoints}\n                location={this.state.location}\n                themeType={this.props.themeType}\n                themeName={this.props.themeName}\n                onToggleBreakpoint={i => this.toggleBreakpoint(i)}\n            />\n        }\n    }\n\n    renderFrames() {\n        if (!this.state.paused) {\n            return null;\n        }\n\n        return <Stack\n            currentScriptId={this.state.selected}\n            scopes={this.state.scopes}\n            expressions={this.state.expressions}\n            themeType={this.props.themeType}\n            callFrames={this.state.context?.callFrames}\n            currentFrame={this.state.currentFrame}\n            onChangeCurrentFrame={i => {\n                this.setState({ currentFrame: i, scopes: {} }, () => {\n                    this.readCurrentScope();\n                    this.readExpressions();\n                })\n            }}\n            onWriteScopeValue={obj => {\n                this.sendToInstance({\n                    cmd: 'setValue',\n                    variableName: obj.variableName,\n                    scopeNumber: obj.scopeNumber,\n                    newValue: obj.newValue,\n                    callFrameId: obj.callFrameId,\n                });\n            }}\n            onExpressionDelete={i => {\n                const expressions = JSON.parse(JSON.stringify(this.state.expressions));\n                expressions.splice(i, 1);\n                this.setState({expressions});\n                window.localStorage.setItem(`javascript.tools.exps.${this.props.src}`, JSON.stringify(expressions.map(item => item.name)));\n            }}\n            onExpressionAdd={cb => {\n                const expressions = JSON.parse(JSON.stringify(this.state.expressions));\n                expressions.push({ name: '', value: { value: '' } });\n                this.setState({ expressions }, () => cb && cb(expressions.length - 1, this.state.expressions[expressions.length - 1]));\n            }}\n            onExpressionNameUpdate={(i, name, cb) => {\n                const expressions = JSON.parse(JSON.stringify(this.state.expressions));\n                if (!name) {\n                    expressions.splice(i, 1);\n                } else if (expressions.find(item => item.name === name)) {\n                    return cb && cb(false);\n                } else {\n                    expressions[i].name = name;\n                }\n\n                this.setState({expressions}, () => {\n                    name && this.readExpressions(i);\n                    cb && cb();\n                });\n                window.localStorage.setItem(`javascript.tools.exps.${this.props.src}`, JSON.stringify(expressions.map(item => item.name)));\n            }}\n        />;\n    }\n\n    renderConsole() {\n        return <Console\n            theme={this.props.theme}\n            console={this.state.console}\n            onClearAllLogs={() => this.setState({\n                console: [],\n                logErrors: 0,\n                logWarning: 0,\n                logs: 0,\n            })}\n        />;\n    }\n\n    renderTools() {\n        const disabled = !this.state.tabs || !this.state.started;\n\n        let _console;\n        if (this.state.logErrors) {\n            _console = <Badge badgeContent={this.state.logErrors} color=\"error\">\n                <span>{I18n.t('Console')}</span>\n            </Badge>;\n        } else if (this.state.logWarnings) {\n            _console = <Badge badgeContent={this.state.logWarnings} color=\"secondary\">\n                <span>{I18n.t('Console')}</span>\n            </Badge>;\n        } else if (this.state.logs) {\n            _console = <Badge badgeContent={this.state.logs} color=\"default\">\n                <span>{I18n.t('Console')}</span>\n            </Badge>;\n        } else {\n            _console = I18n.t('Console');\n        }\n\n        return <div style={{ width: '100%', height: '100%', overflow: 'hidden' }}>\n            <Tabs\n                sx={styles.tabsRoot}\n                component=\"div\"\n                indicatorColor=\"primary\"\n                style={{ position: 'relative', width: '100%' }}\n                value={this.state.toolsTab}\n                onChange={(event, value) => {\n                    const newState = { toolsTab: value };\n\n                    // load logs from buffer\n                    if (this.console && value === 'console') {\n                        newState.console = this.console;\n                        this.console = null;\n                        newState.logs = 0;\n                        newState.logWarnings = 0;\n                        newState.logErrors = 0;\n                    }\n\n                    window.localStorage.setItem('javascript.tools.tab', value);\n\n                    this.setState(newState);\n                }}\n                scrollButtons=\"auto\"\n            >\n                <Tab\n                    style={styles.tabRoot}\n                    disabled={disabled}\n                    label={I18n.t('Stack')}\n                    value=\"stack\"\n                />\n                <Tab\n                    style={styles.tabRoot}\n                    disabled={disabled}\n                    label={_console}\n                    value=\"console\"\n                />\n            </Tabs>\n            <div style={{width: '100%', height: 'calc(100% - 36px)', overflow: 'hidden'}}>\n                {this.state.toolsTab === 'stack' && !disabled ? this.renderFrames() : null}\n                {this.state.toolsTab === 'console' && !disabled ? this.renderConsole() : null}\n            </div>\n        </div>;\n    }\n\n    render() {\n        return <Box\n            key=\"debugger\"\n            style={this.props.style}\n            sx={styles.root}\n        >\n            {this.state.starting ? <LinearProgress /> : null}\n            {this.renderToolbar()}\n            <ReactSplit\n                direction={SplitDirection.Vertical}\n                initialSizes={this.state.toolSizes}\n                minHeights={[100, 100]}\n                onResizeFinished={(_gutterIdx, toolSizes) => {\n                    this.setState({ toolSizes });\n                    window.localStorage.setItem('JS.toolSizes', JSON.stringify(toolSizes));\n                }}\n                gutterClassName={this.props.themeType === 'dark' ? 'Dark visGutter' : 'Light visGutter'}\n            >\n                <div style={{ width: '100%', height: '100%', overflow: 'hidden' }}>\n                    {this.renderCode()}\n                    {this.renderQueryBreakpoints()}\n                </div>\n                <div style={{ width: '100%', height: '100%', overflow: 'hidden' }}>\n                    {this.renderTools()}\n                </div>\n            </ReactSplit>\n            {this.renderError()}\n        </Box>;\n    }\n}\n\nDebugger.propTypes = {\n    runningInstances: PropTypes.object,\n    adapterName: PropTypes.string,\n    src: PropTypes.string,\n    socket: PropTypes.object.isRequired,\n    style: PropTypes.object,\n    themeType: PropTypes.string,\n    theme: PropTypes.object,\n    themeName: PropTypes.string,\n    debugInstance: PropTypes.object,\n};\n\nexport default Debugger;\n","import ChannelDetector from '@iobroker/type-detector';\nimport { I18n } from '@iobroker/adapter-react-v5';\nimport docs from './docs.md';\n\nlet allObjectsCache = null;\n\nconst allObjects = async socket => {\n    if (allObjectsCache) {\n        return allObjectsCache;\n    }\n    const states = await socket.getObjectView('', '\\u9999', 'state');\n    const channels = await socket.getObjectView('', '\\u9999', 'channel');\n    const devices = await socket.getObjectView('', '\\u9999', 'device');\n    const folders = await socket.getObjectView('', '\\u9999', 'folder');\n    const enums = await socket.getObjectView('', '\\u9999', 'enum');\n\n    allObjectsCache = Object.values(states)\n        .concat(Object.values(channels))\n        .concat(Object.values(devices))\n        .concat(Object.values(folders))\n        .concat(Object.values(enums))\n        // eslint-disable-next-line\n        .reduce((obj, item) => (obj[item._id] = item, obj), {});\n\n    return allObjectsCache;\n};\n\nconst getText = (text, lang) => {\n    if (text && typeof text === 'object') {\n        return text[lang] || text.en;\n    }\n    return text || '';\n};\n\nconst detectDevices = async socket => {\n    const lang = I18n.getLanguage();\n    const devicesObject = await allObjects(socket);\n    const keys = Object.keys(devicesObject).sort();\n    const detector = new ChannelDetector();\n\n    const usedIds = [];\n    const ignoreIndicators = ['UNREACH_STICKY'];    // Ignore indicators by name\n    const excludedTypes = ['info'];\n    const enums = [];\n    const rooms = [];\n    const funcs = [];\n    const list = [];\n\n    keys.forEach(id => {\n        if (devicesObject[id]?.type === 'enum') {\n            enums.push(id);\n        } else if (devicesObject[id]?.common?.smartName) {\n            list.push(id);\n        }\n    });\n\n    enums.forEach(id => {\n        if (id.startsWith('enum.rooms.')) {\n            rooms.push(id);\n        } else if (id.startsWith('enum.functions.')) {\n            funcs.push(id);\n        }\n        const members = devicesObject[id].common.members;\n\n        if (members && members.length) {\n            members.forEach(member => {\n                // if an object really exists\n                if (devicesObject[member]) {\n                    if (!list.includes(member)) {\n                        list.push(member);\n                    }\n                }\n            });\n        }\n    });\n\n    const options = {\n        objects: devicesObject,\n        _keysOptional: keys,\n        _usedIdsOptional: usedIds,\n        ignoreIndicators,\n        excludedTypes,\n    };\n\n    const result = [];\n\n    // we are creating a list of devices, where each device has a following structure:\n    // {\n    //     id: 'hm-rpc.0.KEQ0123456.1',\n    //     name: 'HM-RC-4-2',\n    //     role: 'light',\n    //     room: 'Living room',\n    //     'function': 'light'\n    // }\n\n    list.forEach(id => {\n        options.id = id;\n\n        const controls = detector.detect(options);\n\n        if (controls) {\n            controls.forEach(control => {\n                const stateId = control.states.find(state => state.id).id;\n                // if not yet added\n                if (result.find(st => st.id === stateId)) {\n                    return;\n                }\n                const deviceObject = {\n                    id: stateId,\n                    name: getText(devicesObject[stateId].common.name, lang),\n                    role: devicesObject[stateId].type,\n                    deviceType: control.type,\n                    states: control.states\n                        .filter(state => state.id)\n                        .map(state => ({\n                            id: state.id,\n                            name: state.name,\n                            role: state.defaultRole,\n                            type: devicesObject[state.id].common.type,\n                            unit: devicesObject[state.id].common.unit,\n                            read: devicesObject[state.id].common.read === undefined ? true : devicesObject[state.id].common.read,\n                            write: devicesObject[state.id].common.write === undefined ? true : devicesObject[state.id].common.write,\n                        })),\n                };\n\n                const parts = stateId.split('.');\n                let channelId;\n                let deviceId;\n                if (devicesObject[stateId].type === 'channel' || devicesObject[stateId].type === 'state') {\n                    parts.pop();\n                    channelId = parts.join('.');\n                    if (devicesObject[channelId] && (devicesObject[channelId].type === 'channel' || devicesObject[stateId].type === 'folder')) {\n                        parts.pop();\n                        deviceId = parts.join('.');\n                        if (!devicesObject[deviceId] || (devicesObject[deviceId].type !== 'device' && devicesObject[stateId].type !== 'folder')) {\n                            deviceId = null;\n                        }\n                    } else {\n                        channelId = null;\n                    }\n                }\n                // try to detect room\n                const room = rooms.find(roomId => {\n                    if (devicesObject[roomId].common.members.includes(stateId)) {\n                        return true;\n                    }\n                    if (channelId && devicesObject[roomId].common.members.includes(channelId)) {\n                        return true;\n                    }\n                    return deviceId && devicesObject[roomId].common.members.includes(deviceId);\n                });\n                if (room) {\n                    deviceObject.room = getText(devicesObject[room].common.name, lang);\n                }\n\n                // try to detect function\n                const func = funcs.find(funcId => {\n                    if (devicesObject[funcId].common.members.includes(stateId)) {\n                        return true;\n                    }\n                    if (channelId && devicesObject[funcId].common.members.includes(channelId)) {\n                        return true;\n                    }\n                    return deviceId && devicesObject[funcId].common.members.includes(deviceId);\n                });\n                if (func) {\n                    deviceObject.function = getText(devicesObject[func].common.name, lang);\n                }\n                result.push(deviceObject);\n            });\n        }\n    });\n\n    // find names and icons for devices\n    for (const k in result) {\n        const deviceObj = result[k];\n        if (deviceObj.type === 'state' || deviceObj.type === 'channel') {\n            const idArray = deviceObj._id.split('.');\n            idArray.pop();\n\n            // read channel\n            const parentObject = devicesObject[idArray.join('.')];\n            if (parentObject && (parentObject.type === 'channel' || parentObject.type === 'device' || parentObject.type === 'folder')) {\n                deviceObj.common.name = getText(parentObject.common?.name || deviceObj.common.name, lang);\n                idArray.pop();\n                // read device\n                const grandParentObject = devicesObject[idArray.join('.')];\n                if (grandParentObject?.type === 'device' && grandParentObject.common?.icon) {\n                    deviceObj.common.name = getText(grandParentObject.common?.name || deviceObj.common.name, lang);\n                }\n            } else {\n                deviceObj.common.name = getText(parentObject?.common?.name || deviceObj.common.name, lang);\n            }\n        }\n    }\n\n    return result;\n};\n\nconst systemPrompt = async () => (await fetch(docs)).text();\nexport { systemPrompt, detectDevices };\n","import React, { useCallback, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport OpenAI from 'openai';\n\nimport {\n    Button, CircularProgress, Dialog,\n    DialogActions, DialogContent, DialogTitle,\n    IconButton, TextField, MenuItem, Select,\n    FormControl, InputLabel,\n} from '@mui/material';\n\nimport {\n    Check, Close,\n    QuestionMark as Question,\n    FileCopy as Copy,\n} from '@mui/icons-material';\n\nimport { Utils, I18n } from '@iobroker/adapter-react-v5';\n\nimport { detectDevices, systemPrompt } from './OpenAiPrompt';\nimport ScriptEditorComponent from '../Components/ScriptEditorVanilaMonaco';\n\nconst LANGUAGES = {\n    ru: 'Russian',\n    en: 'English',\n    de: 'German',\n    es: 'Spanish',\n    fr: 'French',\n    it: 'Italian',\n    pl: 'Polish',\n    nl: 'Dutch',\n    pt: 'Portuguese',\n    uk: 'Ukrainian',\n    'zh-cn': 'Chinese',\n};\n\nconst ChatIcon = () => <svg width=\"24\" height=\"24\" viewBox=\"0 0 2406 2406\">\n    <path\n        d=\"M1 578.4C1 259.5 259.5 1 578.4 1h1249.1c319 0 577.5 258.5 577.5 577.4V2406H578.4C259.5 2406 1 2147.5 1 1828.6V578.4z\"\n        fill=\"#74aa9c\"\n    />\n    <path\n        d=\"M1107.3 299.1c-198 0-373.9 127.3-435.2 315.3C544.8 640.6 434.9 720.2 370.5 833c-99.3 171.4-76.6 386.9 56.4 533.8-41.1 123.1-27 257.7 38.6 369.2 98.7 172 297.3 260.2 491.6 219.2 86.1 97 209.8 152.3 339.6 151.8 198 0 373.9-127.3 435.3-315.3 127.5-26.3 237.2-105.9 301-218.5 99.9-171.4 77.2-386.9-55.8-533.9v-.6c41.1-123.1 27-257.8-38.6-369.8-98.7-171.4-297.3-259.6-491-218.6-86.6-96.8-210.5-151.8-340.3-151.2zm0 117.5-.6.6c79.7 0 156.3 27.5 217.6 78.4-2.5 1.2-7.4 4.3-11 6.1L952.8 709.3c-18.4 10.4-29.4 30-29.4 51.4V1248l-155.1-89.4V755.8c-.1-187.1 151.6-338.9 339-339.2zm434.2 141.9c121.6-.2 234 64.5 294.7 169.8 39.2 68.6 53.9 148.8 40.4 226.5-2.5-1.8-7.3-4.3-10.4-6.1l-360.4-208.2c-18.4-10.4-41-10.4-59.4 0L1024 984.2V805.4L1372.7 604c51.3-29.7 109.5-45.4 168.8-45.5zM650 743.5v427.9c0 21.4 11 40.4 29.4 51.4l421.7 243-155.7 90L597.2 1355c-162-93.8-217.4-300.9-123.8-462.8C513.1 823.6 575.5 771 650 743.5zm807.9 106 348.8 200.8c162.5 93.7 217.6 300.6 123.8 462.8l.6.6c-39.8 68.6-102.4 121.2-176.5 148.2v-428c0-21.4-11-41-29.4-51.4l-422.3-243.7 155-89.3zM1201.7 997l177.8 102.8v205.1l-177.8 102.8-177.8-102.8v-205.1L1201.7 997zm279.5 161.6 155.1 89.4v402.2c0 187.3-152 339.2-339 339.2v-.6c-79.1 0-156.3-27.6-217-78.4 2.5-1.2 8-4.3 11-6.1l360.4-207.5c18.4-10.4 30-30 29.4-51.4l.1-486.8zM1380 1421.9v178.8l-348.8 200.8c-162.5 93.1-369.6 38-463.4-123.7h.6c-39.8-68-54-148.8-40.5-226.5 2.5 1.8 7.4 4.3 10.4 6.1l360.4 208.2c18.4 10.4 41 10.4 59.4 0l421.9-243.7z\"\n        fill=\"white\"\n    />\n</svg>;\n\nconst styles = {\n    toolbarButtons: {\n        padding: 4,\n        marginLeft: 4,\n    },\n    fullHeightDialog: {\n        height: 'calc(100% - 100px)',\n    },\n};\n\nconst OpenAiDialog = props => {\n    const [question, setQuestion] = useState(window.localStorage.getItem('openai-question') || '');\n    const [answer, setAnswer] = useState('');\n    const [open, setOpen] = useState(false);\n    const [working, setWorking] = useState(false);\n    const [error, setError] = useState(false);\n    const [model, setModel] = useState(window.localStorage.getItem('openai-model') || 'gpt-4o');\n    const [showKeyWarning, setShowKeyWarning] = useState(false);\n    const devicesCache = useRef(null);\n    const gptKeyCache = useRef(null);\n    const docsCache = useRef(null);\n\n    const ask = useCallback(async () => {\n        let devices;\n        if (!devicesCache.current) {\n            devices = await detectDevices(props.socket);\n            devicesCache.current = devices;\n            console.log(`devices: ${JSON.stringify(devices, 2, null)}`);\n        } else {\n            devices = devicesCache.current;\n        }\n        let apiKey;\n        if (!gptKeyCache.current) {\n            const ids = Object.keys(props.runningInstances);\n            for (let i = 0; i < ids.length; i++) {\n                const config = await props.socket.getObject(ids[i]);\n                apiKey = (config.native.gptKey || '').trim();\n                if (apiKey) {\n                    break;\n                }\n            }\n            gptKeyCache.current = apiKey;\n        } else {\n            apiKey = gptKeyCache.current;\n        }\n\n        let docs;\n        if (!docsCache.current) {\n            docs = await systemPrompt();\n            docsCache.current = docs;\n        } else {\n            docs = docsCache.current;\n        }\n        if (!apiKey) {\n            setShowKeyWarning(true);\n            return;\n        }\n\n        setWorking(true);\n        setError(false);\n\n        try {\n            const openai = new OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\n            const chatCompletionPhase1 = await openai.chat.completions.create({\n                model,\n                messages: [\n                    {\n                        role: 'system',\n                        content: `You are programmer. Here is a documentation:\\n\\n${docs}`,\n                    },\n                    {\n                        role: 'system',\n                        content: `Here is list of devices:\\n\\n${JSON.stringify(devices, null, 2)}`,\n                    },\n                    {\n                        role: 'user',\n                        content: `Write JavaScript code that does:\\n\\n${question}\nReturn only code.\nWrite comments in ${LANGUAGES[I18n.getLanguage()] || 'English'}.\nYou can call async function directly in the code without encapsulate them in async function as this code will be already executed in async function.\nDo not import any libraries as all functions are already imported.`,\n                    }],\n            });\n            const message = chatCompletionPhase1.choices[0].message;\n            const m = message.content.match(/```(javascript|js|typescript)\\n?(.*)```(.*)/ms);\n            let code;\n            if (!m) {\n                code = message.content;\n                if (code.startsWith('`')) {\n                    code = code.substring(1);\n                }\n                if (code.endsWith('`')) {\n                    code = code.substring(0, code.length - 1);\n                }\n            } else {\n                code = m[2];\n                if (m[3]) {\n                    const comments = m[3].split('\\n').map(line => line.trim());\n                    // skip empty lines on start and end\n                    while (comments[0] === '') {\n                        comments.shift();\n                    }\n                    code = `${comments.map(line => `// ${line}`).join('\\n')}\\n${code}`;\n                }\n            }\n            console.log(message);\n            setAnswer(code);\n        } catch (err) {\n            console.log(JSON.stringify(err));\n            if (err.error) {\n                setError(err.error.message);\n            }\n            console.error(`Cannot request: ${err}, ${JSON.stringify(err.error || err, null, 2)}`);\n        }\n\n        setWorking(false);\n    }, [question, model]);\n\n    return <>\n        <IconButton\n            key=\"ai\"\n            aria-label=\"AI\"\n            title={I18n.t('AI code generator')}\n            style={styles.toolbarButtons}\n            size=\"medium\"\n            onClick={() => setOpen(true)}\n        >\n            <ChatIcon />\n        </IconButton>\n        {showKeyWarning && <Dialog\n            maxWidth=\"lg\"\n            open={!0}\n            onClose={() => setShowKeyWarning(false)}\n            fullWidth\n        >\n            <DialogTitle>{I18n.t('No Chat GPT Key found')}</DialogTitle>\n            <DialogContent\n                style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: 8,\n                }}\n            >\n                <div>\n                    {I18n.t('You have to enter OpenAI API key in the configuration of javascript adapter.')}\n                </div>\n                <Button\n                    variant=\"contained\"\n                    onClick={() => {\n                        const ids = Object.keys(props.runningInstances);\n\n                        window.open(`../../#tab-instances/config/${ids[0] || 'system.adapter.javascript.0'}`, '_blank');\n                        setShowKeyWarning(false);\n                    }}\n                >\n                    {I18n.t('Open configuration')}\n                </Button>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    variant=\"contained\"\n                    startIcon={<Close />}\n                    onClick={() => setShowKeyWarning(false)}\n                >\n                    {I18n.t('Close')}\n                </Button>\n            </DialogActions>\n        </Dialog>}\n        {open && <Dialog\n            maxWidth=\"lg\"\n            sx={{ '& .MuiDialog-paper': styles.fullHeightDialog }}\n            open={!0}\n            onClose={() => setOpen(false)}\n            fullWidth\n        >\n            <DialogTitle>{I18n.t('AI code generator')}</DialogTitle>\n            <DialogContent\n                style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: 8,\n                    height: '100%',\n                }}\n            >\n                <div>\n                    <TextField\n                        variant=\"standard\"\n                        multiline\n                        autoFocus\n                        disabled={working}\n                        fullWidth\n                        onKeyUp={e => {\n                            if (e.key === 'Enter' && e.ctrlKey) {\n                                ask();\n                            }\n                        }}\n                        label={I18n.t('Enter your question')}\n                        helperText={I18n.t('Press Ctrl+Enter to get the answer')}\n                        value={question}\n                        onChange={e => {\n                            window.localStorage.setItem('openai-question', e.target.value);\n                            setQuestion(e.target.value);\n                        }}\n                    />\n                </div>\n                <div style={{ display: 'flex', alignItems: 'baseline' }}>\n                    <Button\n                        variant=\"contained\"\n                        disabled={working || !question}\n                        startIcon={<Question />}\n                        onClick={async () => ask()}\n                    >\n                        {working ? <CircularProgress size={24} /> : I18n.t('Ask')}\n                    </Button>\n                    <FormControl style={{ width: 150, marginLeft: 20 }} variant=\"standard\">\n                        <InputLabel>{I18n.t('Model')}</InputLabel>\n                        <Select\n                            value={model}\n                            onChange={e => {\n                                window.localStorage.setItem('openai-model', e.target.value);\n                                error && setError(false);\n                                setModel(e.target.value);\n                            }}\n                        >\n                            <MenuItem value=\"gpt-4o\">GPT-4o</MenuItem>\n                            <MenuItem value=\"gpt-4-turbo\">GPT-4 Turbo</MenuItem>\n                            <MenuItem value=\"gpt-4-32k\">GPT-4 32k</MenuItem>\n                            <MenuItem value=\"gpt-4\">GPT-4</MenuItem>\n                            <MenuItem value=\"gpt-3.5-turbo-16k\">GPT-3.5 Turbo</MenuItem>\n                        </Select>\n                    </FormControl>\n                </div>\n                <div>\n                    {I18n.t('Result')}\n                </div>\n                <div style={{ height: 'calc(100% - 155px)' }}>\n                    {error ?\n                        <div style={{ color: props.themeType === 'dark' ? '#984242' : '#bb0000' }}>{error}</div>\n                        :\n                        <ScriptEditorComponent\n                            adapterName={props.adapterName}\n                            runningInstances={props.runningInstances}\n                            style={{\n                                height: '100%',\n                                width: '100%',\n                                resize: 'none',\n                            }}\n                            name=\"ai\"\n                            socket={props.socket}\n                            readOnly\n                            checkJs\n                            code={answer}\n                            isDark={props.themeType === 'dark'}\n                            language={props.language}\n                        />}\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    color=\"grey\"\n                    variant=\"outlined\"\n                    disabled={!answer}\n                    startIcon={<Copy />}\n                    onClick={() => {\n                        Utils.copyToClipboard(answer);\n                        window.alert(I18n.t('Copied'));\n                    }}\n                >\n                    {I18n.t('Copy to clipboard')}\n                </Button>\n                <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    disabled={!answer || error}\n                    startIcon={<Check />}\n                    onClick={() => {\n                        props.onAddCode(answer);\n                        setOpen(false);\n                    }}\n                >\n                    {I18n.t('Use generated code')}\n                </Button>\n                <Button\n                    color=\"grey\"\n                    variant=\"contained\"\n                    startIcon={<Close />}\n                    onClick={() => setOpen(false)}\n                >\n                    {I18n.t('Close')}\n                </Button>\n            </DialogActions>\n        </Dialog>}\n    </>;\n};\n\nOpenAiDialog.propTypes = {\n    adapterName: PropTypes.string.isRequired,\n    socket: PropTypes.object,\n    runningInstances: PropTypes.object,\n    themeType: PropTypes.string,\n    language: PropTypes.string,\n    onAddCode: PropTypes.func.isRequired,\n};\n\nexport default OpenAiDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Tour from 'reactour';\n\nimport {\n    Toolbar,\n    Button,\n    IconButton,\n    Tabs,\n    Tab,\n    Badge,\n    Snackbar,\n    Menu,\n    MenuItem,\n    Checkbox,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    LinearProgress,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    Tooltip,\n    Paper, Box,\n} from '@mui/material';\n\nimport { red, green } from '@mui/material/colors';\n\nimport {\n    MdSave as IconSave,\n    MdCancel as IconCancel,\n    MdClose as IconClose,\n    MdRefresh as IconRestart,\n    MdInput as IconDoEdit,\n    MdGpsFixed as IconLocate,\n    MdClearAll as IconCloseAll,\n    MdBuild as IconDebugMenu,\n    MdBugReport as IconDebug,\n    MdPlaylistAddCheck as IconVerbose,\n    MdBugReport as IconDebugMode,\n    MdPlayArrow as IconPlay,\n    MdPause as IconPause,\n    MdAutoAwesome as IconAstro,\n} from 'react-icons/md';\n\nimport {\n    FaClock as IconCron,\n    FaClipboardList as IconSelectId,\n    FaFileExport as IconExport,\n    FaFileImport as IconImport,\n    FaFlagCheckered as IconCheck,\n} from 'react-icons/fa';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgBlockly2Js from './assets/blockly2js.svg';\nimport ImgRules2Js from './assets/rules2js.svg';\nimport ImgRules from './assets/rules.png';\n\nimport {\n    I18n, Cron as DialogCron,\n    Confirm as DialogConfirm,\n    SelectID as DialogSelectID,\n} from '@iobroker/adapter-react-v5';\n\nimport ScriptEditorComponent from './Components/ScriptEditorVanilaMonaco';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport DialogScriptEditor from './Dialogs/ScriptEditor';\nimport RulesEditor from './Components/RulesEditor';\nimport Debugger from './Components/Debugger';\nimport steps, { STEPS } from './Components/RulesEditor/helpers/Tour';\nimport OpenAiDialog from './OpenAi/OpenAiDialog';\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    'Rules': ImgRules,\n    def: ImgJS,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_DEBUG = '#02a102';\nconst COLOR_VERBOSE = '#70aae9';\nconst COLOR_RUN = green[400];\nconst COLOR_PAUSE = red[400];\n\nconst styles = {\n    toolbar: {\n        minHeight: 38, // Theme.toolbar.height,\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)',\n    },\n    toolbarButtons: {\n        padding: 4,\n        marginLeft: 4,\n    },\n    toolbarButtonsDisabled: {\n        filter: 'grayscale(100%)',\n        opacity: 0.5,\n    },\n    editorDiv: theme => ({\n        height: `calc(100% - ${theme.toolbar.height + 38/*Theme.toolbar.height */ + 10}px)`,\n        width: '100%',\n        overflow: 'hidden',\n        position: 'relative',\n    }),\n    textButton: {\n        marginRight: 10,\n        minHeight: 24,\n        padding: '6px 16px',\n    },\n    saveButton: {\n        background: '#ff9900',\n    },\n    textIcon: {\n        marginLeft: 8,\n    },\n    tabIcon: {\n        width: 24,\n        height: 24,\n        verticalAlign: 'middle',\n        marginBottom: 2,\n        marginRight: 2,\n        borderRadius: 3,\n    },\n    hintIcon: {\n        // fontSize: 32,\n        padding: '0 8px 0 8px',\n    },\n    hintText: {\n        // fontSize: 18\n    },\n    hintButton: {\n        marginTop: 8,\n        marginLeft: 20,\n    },\n    tabMenuButton: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n    },\n    tabChanged: theme => ({\n        color: theme.palette.secondary.main,\n    }),\n    tabText: {\n        maxWidth: 130,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    tabChangedIcon: {\n        color: '#FF0000',\n        fontSize: 16,\n        marginLeft: 5,\n    },\n    closeButton: {\n        marginLeft: 5,\n    },\n    notRunning: {\n        color: '#ffbc00',\n        marginRight: 8,\n        marginLeft: 8,\n    },\n    tabButton: {\n        minHeight: 48,\n    },\n    tabButtonWrapper: {\n        display: 'inline-block',\n    },\n    menuIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5,\n    },\n};\n\nclass Editor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const selected = window.localStorage.getItem('Editor.selected') || '';\n        let editing = window.localStorage.getItem('Editor.editing') || '[]';\n        try {\n            editing = JSON.parse(editing);\n        } catch (e) {\n            editing = [];\n        }\n        if (selected && !editing.includes(selected)) {\n            editing.push(selected);\n        }\n\n        this.tabsRef = React.createRef();\n\n        this.state = {\n            selected,\n            editing, // array of opened scripts\n            changed: {}, // for every script\n            blockly: null,\n            rules: null,\n            debugEnabled: false,\n            verboseEnabled: false,\n            showCompiledCode: false,\n            showSelectId: false,\n            showCron: false,\n            showScript: false,\n            showAstro: false,\n            astroEvents: null,\n            insert: '',\n            searchText: '',\n            themeType: this.props.themeType,\n            visible: props.visible,\n            cmdToBlockly: '',\n            cmdToRules: '',\n            menuOpened: !!this.props.menuOpened,\n            menuTabsOpened: false,\n            menuTabsAnchorEl: null,\n            runningInstances: this.props.runningInstances || {},\n            showDebugMenu: false,\n            toast: '',\n            instancesLoaded: false,\n            isTourOpen: window.localStorage.getItem('tour') !== 'true',\n            tourStep: STEPS.selectTriggers,\n            showAdapterDebug: false,\n        };\n\n        this.setChangedInAdmin();\n\n        /* ----------------------- */\n        // required by selectIdDialog in Blockly\n        this.selectId = {\n            initValue: null,\n            callback: null,\n        };\n        this.cron = {\n            initValue: null,\n            callback: null,\n        };\n        this.scriptDialog = {\n            initValue: null,\n            callback: null,\n            args: null,\n            isReturn: false,\n        };\n\n        window.systemLang = I18n.getLanguage();\n        window.main = {\n            objects: {},\n            getObject: (id, cb) => this.props.socket.getObject(id).then(obj => cb && cb(null, obj)).catch(err => cb && cb(err)),\n            instances: [],\n            selectIdDialog: (initValue, type, cb) => {\n                if (typeof type === 'function') {\n                    cb = type;\n                    type = null;\n                }\n                this.selectId.callback = cb;\n                this.selectId.initValue = initValue;\n                this.selectId.type = type;\n                this.setState({ showSelectId: true });\n            },\n            cronDialog: (initValue, cb) => {\n                this.cron.callback = cb;\n                this.cron.initValue = initValue;\n                this.setState({ showCron: true });\n            },\n            showScriptDialog: (value, args, isReturn, cb) => {\n                this.scriptDialog.callback = cb;\n                this.scriptDialog.initValue = value;\n                this.scriptDialog.args = args;\n                this.scriptDialog.isReturn = isReturn || false;\n                this.setState({ showScript: true });\n            }\n        };\n\n        this.objects = props.objects;\n        /* ----------------------- */\n\n        this.scripts = {};\n\n        if (!this.state.selected && this.state.editing.length) {\n            this.state.selected = this.state.editing[0];\n        }\n\n        this.getAllAdapterInstances()\n            .then(() => {\n                // to enable logging\n                if (this.props.onSelectedChange && this.state.selected) {\n                    setTimeout(() => this.props.onSelectedChange(this.state.selected, this.state.editing), 100);\n                }\n            });\n    }\n\n    getAllAdapterInstances() {\n        return this.props.socket.getAdapterInstances(true)\n            .then(instanceObjects => {\n                const objects = {};\n                const instances = instanceObjects.map(obj => {\n                    objects[obj._id] = obj;\n                    return obj._id;\n                });\n                window.main.objects = objects;\n                window.main.instances = instances;\n                this.setState({ instancesLoaded: true });\n            });\n    }\n\n    onInstanceChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n\n        if (!obj && window.main.instances.includes[id]) {\n            delete window.main.objects[id];\n            const pos = window.main.instances.indexOf(id);\n            window.main.instances.splice(pos, 1);\n        } else\n            if (obj && obj.type === 'instance') {\n                // update instances\n                if (!window.main.instances.includes(id)) {\n                    window.main.instances.push(id);\n                    window.main.instances.sort();\n                }\n                window.main.objects[id] = obj;\n            }\n    };\n\n    setChangedInAdmin() {\n        const isChanged = Object.keys(this.state.changed).find(id => this.state.changed[id]);\n\n        if (typeof window.parent !== 'undefined' && window.parent) {\n            window.parent.configNotSaved = !!isChanged;\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener('beforeunload', this.onBrowserClose, false);\n        this.props.socket.subscribeObject('system.adapter.*', this.onInstanceChanged);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('beforeunload', this.onBrowserClose);\n        this.props.socket.unsubscribeObject('system.adapter.*', this.onInstanceChanged);\n    }\n\n    onBrowserClose = e => {\n        const isChanged = Object.keys(this.scripts).find(id =>\n            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common));\n\n        if (!!isChanged) {\n            console.log('Script ' + JSON.stringify(this.scripts[isChanged]));\n            const message = I18n.t('Configuration not saved.');\n            e = e || window.event;\n            // For IE and Firefox\n            if (e) {\n                e.returnValue = message;\n            }\n\n            // For Safari\n            return message;\n        }\n    };\n\n    removeNonExistingScripts(nextProps, newState) {\n        nextProps = nextProps || this.props;\n        newState = newState || {};\n\n        let _changed = false;\n        if (this.state.editing) {\n            const isAnyNonExists = this.state.editing.find(id => !nextProps.objects[id]);\n\n            if (isAnyNonExists) {\n                // remove non-existing scripts\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                for (let i = editing.length - 1; i >= 0; i--) {\n                    if (!this.objects[editing[i]]) {\n                        _changed = true;\n                        editing.splice(i, 1);\n                    }\n                }\n                if (_changed) {\n                    newState.editing = editing;\n                }\n                if (this.state.selected && !this.objects[this.state.selected]) {\n                    _changed = true;\n                    newState.selected = editing[0] || '';\n                    if (this.scripts[newState.selected]) {\n                        if (this.state.blockly !== (this.scripts[newState.selected].engineType === 'Blockly')) {\n                            newState.blockly = this.scripts[newState.selected].engineType === 'Blockly';\n                            _changed = true;\n                        }\n                        if (this.state.rules !== (this.scripts[newState.selected].engineType === 'Rules')) {\n                            newState.rules = this.scripts[newState.selected].engineType === 'Rules';\n                            _changed = true;\n                        }\n                        if (this.state.verboseEnabled !== this.scripts[newState.selected].verbose) {\n                            newState.verboseEnabled = this.scripts[newState.selected].verbose;\n                            _changed = true;\n                        }\n                        if (this.state.debugEnabled !== this.scripts[newState.selected].debug) {\n                            newState.debugEnabled = this.scripts[newState.selected].debug;\n                            _changed = true;\n                        }\n                    }\n                }\n            }\n        }\n        return _changed;\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const newState = {};\n        let _changed = false;\n\n        if (JSON.stringify(nextProps.runningInstances) !== JSON.stringify(this.state.runningInstances)) {\n            _changed = true;\n            newState.runningInstances = nextProps.runningInstances;\n        }\n\n        if (this.state.menuOpened !== nextProps.menuOpened) {\n            newState.menuOpened = nextProps.menuOpened;\n            _changed = true;\n        }\n\n        if (this.state.themeType !== nextProps.themeType) {\n            newState.themeType = nextProps.themeType;\n            _changed = true;\n        }\n\n        // check if all opened files still exists\n        if (this.removeNonExistingScripts(nextProps, newState)) {\n            _changed = true;\n        }\n\n        // update search text\n        if (this.state.searchText !== nextProps.searchText) {\n            newState.searchText = nextProps.searchText;\n            _changed = true;\n        }\n\n        // if objects read\n        if (this.objects !== nextProps.objects) {\n            this.objects = nextProps.objects;\n            window.main.objects = nextProps.objects;\n\n            // update all scripts\n            Object.keys(this.scripts).forEach(id => {\n                const source = this.scripts[id].source;\n                this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                this.scripts[id].source = source;\n            });\n\n            // if a script is blockly\n            if (this.state.selected && this.objects[this.state.selected]) {\n                this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.objects[this.state.selected].common));\n                if (this.state.blockly !== (this.scripts[this.state.selected].engineType === 'Blockly')) {\n                    newState.blockly = this.scripts[this.state.selected].engineType === 'Blockly';\n                    _changed = true;\n                }\n                if (this.state.rules !== (this.scripts[this.state.selected].engineType === 'Rules')) {\n                    newState.rules = this.scripts[this.state.selected].engineType === 'Rules';\n                    _changed = true;\n                }\n                if (this.state.verboseEnabled !== this.scripts[this.state.selected].verbose) {\n                    newState.verboseEnabled = this.scripts[this.state.selected].verbose;\n                    _changed = true;\n                }\n                if (this.state.debugEnabled !== this.scripts[this.state.selected].debug) {\n                    newState.debugEnabled = this.scripts[this.state.selected].debug;\n                    _changed = true;\n                }\n            }\n\n            // remove non-existing scripts\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            for (let i = editing.length - 1; i >= 0; i--) {\n                if (!this.objects[editing[i]]) {\n                    _changed = true;\n                    editing.splice(i, 1);\n                    if (this.state.changed[editing[i]] !== undefined) {\n                        newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                        delete newState.changed[editing[i]];\n                    }\n                }\n            }\n            if (this.state.selected && !this.objects[this.state.selected]) {\n                newState.selected = editing[0] || '';\n            }\n            if (_changed) {\n                newState.editing = editing;\n            }\n        } else {\n            // update all scripts\n            for (const id in this.scripts) {\n                if (!this.scripts.hasOwnProperty(id)) continue;\n                if (this.objects[id] && this.objects[id].common) {\n                    const oldSource = this.scripts[id].source;\n                    const commonLocal = JSON.parse(JSON.stringify(this.scripts[id]));\n                    commonLocal.source = this.objects[id].common.source;\n                    // if anything except source was changed\n                    if (JSON.stringify(commonLocal) !== JSON.stringify(this.objects[id].common)) {\n                        this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                        this.scripts[id].source = oldSource;\n                    }\n\n                    if (oldSource !== this.objects[id].common.source) {\n                        // take new script if it not yet changed\n                        if (!this.state.changed[id]) {\n                            // just use new value\n                            this.scripts[id].source = this.objects[id].common.source;\n                        } else {\n                            if (this.objects[id].from && this.objects[id].from.startsWith('system.adapter.javascript.')) {\n                                this.objects[id].from = 'system.adapter.admin.0';\n                                // show that script was changed from outside\n                                this.setState({ toast: I18n.t('Script %s was modified on disk.', id.split('.').pop()) });\n                            }\n                        }\n                    } else {\n                        if (this.state.changed[id]) {\n                            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                            newState.changed[id] = false;\n                            _changed = true;\n                        }\n                    }\n                } else {\n                    delete this.scripts[id];\n                    if (this.state.selected === id) {\n                        if (this.state.editing.indexOf(id) !== -1) {\n                            const editing = JSON.parse(JSON.stringify(this.state.editing));\n                            const pos = editing.indexOf(id);\n                            if (pos !== -1) {\n                                editing.splice(pos, 1);\n                                newState.editing = editing;\n                                _changed = true;\n                            }\n                        }\n                        newState.selected = this.state.editing[0] || '';\n                        _changed = true;\n                    }\n                }\n            }\n        }\n\n        if (this.state.selected !== nextProps.selected && nextProps.selected) {\n            if (nextProps.selected) {\n                this.scripts[nextProps.selected] = this.scripts[nextProps.selected] || JSON.parse(JSON.stringify(this.props.objects[nextProps.selected].common));\n            }\n\n            const nextCommon = this.props.objects[nextProps.selected] && this.props.objects[nextProps.selected].common;\n\n            const changed = nextCommon && JSON.stringify(this.scripts[nextProps.selected]) !== JSON.stringify(nextCommon);\n\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            if (nextProps.selected && editing.indexOf(nextProps.selected) === -1) {\n                editing.push(nextProps.selected);\n                this.props.onSelectedChange(nextProps.selected, editing);\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n            }\n\n            _changed = true;\n            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n            newState.changed[nextProps.selected] = changed;\n            newState.editing = editing;\n            newState.selected = nextProps.selected;\n            newState.blockly = this.scripts[nextProps.selected].engineType === 'Blockly';\n            newState.rules = this.scripts[nextProps.selected].engineType === 'Rules';\n            newState.verboseEnabled = this.scripts[nextProps.selected].verbose;\n            newState.debugEnabled = this.scripts[nextProps.selected].debug;\n            newState.showCompiledCode = false;\n        } else {\n\n        }\n\n        if (this.state.visible !== nextProps.visible) {\n            _changed = true;\n            newState.visible = nextProps.visible;\n        }\n\n        _changed && this.setState(newState, () => this.setChangedInAdmin());\n    }\n\n    onRestart() {\n        this.props.onRestart && this.props.onRestart(this.state.selected);\n    }\n\n    onStartStop() {\n        const common = JSON.parse(JSON.stringify(this.scripts[this.state.selected]));\n        common.enabled = !common.enabled;\n        this.props.onChange && this.props.onChange(this.state.selected, common);\n    }\n\n    onSave() {\n        if (this.state.isTourOpen && this.state.tourStep === STEPS.saveTheScript) {\n            this.setState({ isTourOpen: false });\n            window.localStorage.setItem('tour', 'true');\n        }\n\n        if (this.state.changed[this.state.selected]) {\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = false;\n            this.setState({ changed }, () => {\n                this.setChangedInAdmin();\n                this.props.onChange && this.props.onChange(this.state.selected, this.scripts[this.state.selected]);\n            });\n        }\n    }\n\n    onSaveAll() {\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        Object.keys(changed)\n            .forEach(id => {\n                if (changed[id]) {\n                    changed[id] = false;\n                    this.props.onChange && this.props.onChange(id, this.scripts[id]);\n                }\n            });\n\n        this.setState({ changed }, () =>\n            this.setChangedInAdmin());\n    }\n\n    onCancel() {\n        this.scripts[this.state.selected] = JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        changed[this.state.selected] = false;\n\n        this.setState({ changed }, () => this.setChangedInAdmin());\n    }\n\n    onRegisterSelect(func) {\n        this.getSelect = func;\n    }\n\n    onConvertBlockly2JS() {\n        this.showConfirmDialog(I18n.t('It will not be possible to revert this operation.'), result => {\n            if (result) {\n                this.scripts[this.state.selected].engineType = 'Javascript/js';\n                let source = this.scripts[this.state.selected].source;\n                const lines = source.split('\\n');\n                lines.pop();\n                this.scripts[this.state.selected].source = lines.join('\\n');\n                const nowSelected = this.state.selected;\n\n                const changed = JSON.parse(JSON.stringify(this.state.changed));\n                changed[this.state.selected] = true;\n\n                this.setState({ changed, blockly: false, selected: '' }, () => {\n                    this.setChangedInAdmin();\n                    // force update of the editor\n                    setTimeout(() => this.setState({ selected: nowSelected }), 100);\n                });\n            }\n        });\n    }\n\n    onChange(options) {\n        options = options || {};\n        if (options.script !== undefined) {\n            this.scripts[this.state.selected].source = options.script;\n        }\n        if (options.debug !== undefined) {\n            this.scripts[this.state.selected].debug = options.debug;\n        }\n        if (options.verbose !== undefined) {\n            this.scripts[this.state.selected].verbose = options.verbose;\n        }\n        const _changed = JSON.stringify(this.scripts[this.state.selected]) !== JSON.stringify(this.props.objects[this.state.selected].common);\n        if (_changed !== (this.state.changed[this.state.selected] || false)) {\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = _changed;\n            this.objects[this.state.selected].from = 'system.adapter.admin.0';\n            this.setState({ changed }, () => this.setChangedInAdmin());\n        }\n    }\n\n    onTabChange(event, selected) {\n        if (this.props.debugMode) {\n            return;\n        }\n        window.localStorage && window.localStorage.setItem('Editor.selected', selected);\n        const common = this.scripts[selected] || (this.props.objects[selected] && this.props.objects[selected].common);\n        this.setState({\n            selected,\n            rules: common.engineType === 'Rules',\n            blockly: common.engineType === 'Blockly',\n            showCompiledCode: false,\n            verboseEnabled: common.verbose,\n            debugEnabled: common.debug\n        });\n        this.props.onSelectedChange && this.props.onSelectedChange(selected, this.state.editing);\n    }\n\n    isScriptChanged(id) {\n        return this.scripts[id] && this.props.objects[id] && JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common);\n    }\n\n    onTabClose(id, e) {\n        e && e.stopPropagation();\n\n        const pos = this.state.editing.indexOf(id);\n        if (this.state.editing.includes(id)) {\n            if (this.isScriptChanged(id)) {\n                this.showConfirmDialog(I18n.t('Discard changes for %s', this.props.objects[id].common.name), ok => {\n                    if (ok) {\n                        delete this.scripts[id];\n                        this.onTabClose(id);\n                    }\n                });\n            } else {\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                editing.splice(pos, 1);\n                const newState = { editing };\n                if (id === this.state.selected) {\n                    if (editing.length) {\n                        if (pos === 0 || editing.length === 1) {\n                            newState.selected = editing[0];\n                        } else {\n                            newState.selected = editing[pos - 1];\n                        }\n                    } else {\n                        newState.selected = '';\n                    }\n                } else if (this.state.selected && !editing.length) {\n                    newState.selected = '';\n                }\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                if (newState.selected !== undefined) {\n                    newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                    newState.changed[newState.selected] = this.isScriptChanged(newState.selected);\n                    const common = newState.selected && (this.scripts[newState.selected] || (this.props.objects[newState.selected] && this.props.objects[newState.selected].common));\n                    newState.blockly = common ? common.engineType === 'Blockly' : false;\n                    newState.rules = common ? common.engineType === 'Rules' : false;\n                    newState.verboseEnabled = common ? common.verbose : false;\n                    newState.debugEnabled = common ? common.debug : false;\n                    newState.showCompiledCode = false;\n                }\n\n                this.setState(newState, () => {\n                    this.setChangedInAdmin();\n\n                    if (newState.selected !== undefined) {\n                        this.props.onSelectedChange && this.props.onSelectedChange(newState.selected, this.state.editing);\n                        window.localStorage && window.localStorage.setItem('Editor.selected', newState.selected);\n                    } else {\n                        this.props.onSelectedChange && this.props.onSelectedChange(this.state.selected, this.state.editing);\n                    }\n                });\n            }\n        }\n    }\n\n    showConfirmDialog(question, cb) {\n        this.confirmCallback = cb;\n        this.setState({ confirm: question });\n    }\n\n    sendCommandToBlockly(cmd) {\n        this.setState({ cmdToBlockly: cmd }, () =>\n            setTimeout(() =>\n                this.setState({ cmdToBlockly: '' }), 200));\n    }\n\n    sendCommandToRules(cmd) {\n        this.setState({ cmdToRules: cmd }, () =>\n            setTimeout(() =>\n                this.setState({ cmdToRules: '' }), 200));\n    }\n\n    static getText(text) {\n        if (typeof text === 'object') {\n            return text[I18n.getLanguage()] || text.en;\n        }\n        return text;\n    }\n\n    getScriptFullName(id) {\n        const parts = id.split('.');\n        parts.shift(); // remove \"script.\"\n        parts.shift(); // remove \"js.\"\n        const result = [];\n        let _id = 'script.js';\n        for (let i = 0; i < parts.length; i++) {\n            _id += `.${parts[i]}`;\n            if (this.props.objects[_id] && this.props.objects[_id].common) {\n                result.push(Editor.getText(this.props.objects[_id].common.name));\n            } else {\n                result.push(parts[i]);\n            }\n        }\n        return `/ ${result.join(' / ')}`;\n    }\n\n    getTabs() {\n        if (this.state.editing.length) {\n            return [<Tabs\n                component=\"div\"\n                key=\"tabs1\"\n                value={this.props.debugInstance ? this.props.debugInstance.adapter : this.state.selected}\n                onChange={(event, value) => this.onTabChange(event, value)}\n                indicatorColor=\"primary\"\n                style={{\n                    position: 'relative',\n                    marginLeft: 10,\n                    width: this.state.editing.length > 1 ? 'calc(100% - 50px)' : '100%',\n                    display: 'inline-block'\n                }}\n                textColor=\"primary\"\n                variant=\"scrollable\"\n                scrollButtons=\"auto\"\n                allowScrollButtonsMobile\n            >\n                {this.state.editing.map(id => {\n                    if (!this.props.objects[id]) {\n                        const label = [\n                            <Box\n                                key=\"text\"\n                                sx={this.isScriptChanged(id) ? styles.tabChanged : undefined}\n                                style={styles.tabText}\n                            >\n                                {id.split('.').pop()}\n                            </Box>,\n                            <IconButton onClick={e => this.onTabClose(id, e)} style={styles.closeButton} key=\"icon\" size=\"small\" component=\"span\">\n                                <IconClose />\n                            </IconButton>];\n                        return <Tab\n                            wrapped\n                            component={'div'}\n                            href={`#${id}`}\n                            key={id}\n                            label={label}\n                            value={id}\n                            sx={{ '& .MuiTab-wrapper': styles.tabButtonWrapper }}\n                        />;\n                    } else {\n                        let text = Editor.getText(this.props.objects[id].common.name) || '';\n                        let title = this.getScriptFullName(id);\n                        if (text.length > 18) {\n                            text = `${text.substring(0, 15)}...`;\n                        }\n                        const changed = this.props.objects[id].common && this.scripts[id] && this.props.objects[id].common.source !== this.scripts[id].source;\n                        const label = [\n                            <Box\n                                key=\"text\"\n                                sx={this.isScriptChanged(id) ? styles.tabChanged : undefined}\n                                style={styles.tabText}\n                            >\n                                {text}\n                            </Box>,\n                            changed ? <span key=\"changedSign\" style={styles.tabChangedIcon}>▣</span> : null,\n                            (!this.props.debugInstance && (!this.props.debugMode || this.state.selected !== id)) &&\n                            <IconButton onClick={e => this.onTabClose(id, e)} style={styles.closeButton} key=\"icon\" size=\"small\" component=\"span\">\n                                <IconClose />\n                            </IconButton>,\n                        ];\n\n                        return <Tab\n                            disabled={this.props.debugInstance || (this.state.selected !== id && this.props.debugMode)}\n                            wrapped\n                            component=\"div\"\n                            iconPosition=\"start\"\n                            icon={<img key=\"icon\" alt=\"\" src={images[this.props.objects[id].common.engineType] || images.def} style={styles.tabIcon} />}\n                            href={`#${id}`}\n                            key={id}\n                            label={label}\n                            style={styles.tabButton}\n                            value={id}\n                            title={title}\n                            sx={{ '& .MuiTab-wrapper': styles.tabButtonWrapper }}\n                        />;\n                    }\n                })}\n                {this.props.debugInstance ? <Tab\n                    disabled={false}\n                    wrapped\n                    component=\"div\"\n                    href={`#${this.props.debugInstance.adapter}`}\n                    key={this.props.debugInstance.adapter}\n                    label={this.props.debugInstance.adapter}\n                    style={styles.tabButton}\n                    value={this.props.debugInstance.adapter}\n                    title={this.props.debugInstance.adapter}\n                    sx={{ '& .MuiTab-wrapper': styles.tabButtonWrapper }}\n                /> : ''}\n            </Tabs>,\n            this.state.editing.length > 1 ? <IconButton\n                key=\"menuButton\"\n                href=\"#\"\n                aria-label=\"Close all but current\"\n                style={styles.tabMenuButton}\n                title={I18n.t('Close all but current')}\n                aria-haspopup=\"false\"\n                onClick={_event => {\n                    const editing = [this.state.selected];\n                    // Do not close not saved tabs\n                    Object.keys(this.scripts).forEach(id =>\n                        id !== this.state.selected &&\n                        JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common) &&\n                        editing.push(id)\n                    );\n\n                    window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                    this.setState({ menuTabsOpened: false, menuTabsAnchorEl: null, editing: editing });\n                }}\n                size=\"medium\">\n                <IconCloseAll />\n            </IconButton> : null\n            ];\n        } else {\n            return <div key=\"tabs2\" style={styles.toolbar}>\n                <Button color=\"grey\" key=\"select1\" disabled style={styles.hintButton} href=\"\">\n                    <span key=\"select2\">{I18n.t('Click on this icon')}</span>\n                    <IconDoEdit key=\"select3\" style={styles.hintIcon} />\n                    <span key=\"select4\">{I18n.t('for edit or create script')}</span>\n                </Button>\n            </div>;\n        }\n    }\n\n    getDebugMenu() {\n        if (!this.state.showDebugMenu) {\n            return null;\n        }\n\n        return <Menu\n            key=\"menuDebug\"\n            id=\"menu-debug\"\n            anchorEl={this.state.menuDebugAnchorEl}\n            open={this.state.showDebugMenu}\n            onClose={() => this.setState({ showDebugMenu: false, menuDebugAnchorEl: null })}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                },\n            }}\n        >\n            <MenuItem key=\"debugEnabled\"\n                title={I18n.t('debug_help')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.setState({ showDebugMenu: false, menuDebugAnchorEl: null, debugEnabled: !this.state.debugEnabled }, () => this.onChange({ debug: this.state.debugEnabled }));\n                }}>\n                <Checkbox checked={this.state.debugEnabled} />\n                <IconDebug style={{ ...styles.menuIcon, color: COLOR_DEBUG }} />\n                {I18n.t('debug_label')}\n            </MenuItem>\n            <MenuItem key=\"verboseEnabled\"\n                title={I18n.t('verbose_help')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.setState({ showDebugMenu: false, menuDebugAnchorEl: null, verboseEnabled: !this.state.verboseEnabled }, () => this.onChange({ verbose: this.state.verboseEnabled }));\n                }}>\n                <Checkbox checked={this.state.verboseEnabled} />\n                <IconVerbose style={{ ...styles.menuIcon, color: COLOR_VERBOSE }} />\n                {I18n.t('verbose_label')}\n            </MenuItem>\n        </Menu>;\n    }\n\n    getDebugBadge() {\n        return [\n            this.state.debugEnabled && this.state.verboseEnabled && <IconDebug key=\"DebugVerbose\" style={{ ...styles.menuIcon, color: COLOR_VERBOSE }} />,\n            this.state.debugEnabled && !this.state.verboseEnabled && <IconDebug key=\"DebugNoVerbose\" style={{ ...styles.menuIcon, color: COLOR_DEBUG }} />,\n            !this.state.debugEnabled && this.state.verboseEnabled && <IconVerbose key=\"noDebugVerbose\" style={{ ...styles.menuIcon, color: COLOR_VERBOSE }} />,\n        ]\n    }\n\n    getAskAboutDebug() {\n        if (this.state.askAboutDebug) {\n            return <DialogConfirm\n                onClose={() => {\n                    this.setState({ askAboutDebug: false }, () =>\n                        this.props.onDebugModeChange(true));\n                }}\n                ok={I18n.t('Yes')}\n                cancel={I18n.t('Cancel')}\n                text={I18n.t('The script will be stopped and must be activated manually after debugging. Continue?')}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getToolbar() {\n        const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n        const isScriptRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].enabled;\n\n        if (this.state.selected) {\n            const changedAll = Object.keys(this.state.changed).filter(id => this.state.changed[id]).length;\n            const changed = this.state.changed[this.state.selected];\n            return (\n                <Toolbar variant=\"dense\" style={styles.toolbar} key=\"toolbar1\">\n                    {!this.props.debugInstance && this.state.menuOpened && this.props.onLocate && <IconButton\n                        style={styles.toolbarButtons}\n                        key=\"locate\"\n                        title={I18n.t('Locate file')}\n                        onClick={() => this.props.onLocate(this.state.selected)}\n                        size=\"medium\"\n                    >\n                        <IconLocate />\n                    </IconButton>}\n                    {!this.props.debugInstance && !changed && isInstanceRunning && <IconButton\n                        key=\"restart\"\n                        disabled={this.props.debugMode}\n                        variant=\"contained\"\n                        style={styles.toolbarButtons}\n                        onClick={() => this.onRestart()}\n                        title={I18n.t('Restart')}\n                        size=\"medium\"\n                    >\n                        <IconRestart />\n                    </IconButton>}\n                    {!this.props.debugInstance && !changed && <IconButton\n                        key=\"start-stop\"\n                        disabled={this.props.debugMode}\n                        variant=\"contained\"\n                        onClick={() => this.onStartStop()}\n                        title={isScriptRunning ? I18n.t('Pause script') : I18n.t('Run script')}\n                        size=\"medium\"\n                        style={{\n                            ...styles.toolbarButtons,\n                            color: isScriptRunning ? COLOR_RUN : COLOR_PAUSE,\n                        }}\n                    >\n                        {isScriptRunning ? <IconPause /> : <IconPlay />}\n                    </IconButton>}\n                    {!this.props.debugInstance && !changed && !isScriptRunning && <span style={styles.notRunning}>{I18n.t('Script is not running')}</span>}\n                    {!changed && isScriptRunning && !isInstanceRunning && <span style={styles.notRunning}>{I18n.t('Instance is disabled')}</span>}\n                    {changed && <Button\n                        color=\"grey\"\n                        key=\"save\"\n                        variant=\"contained\"\n                        style={{ ...styles.textButton, ...styles.saveButton }}\n                        className=\"button-save\"\n                        onClick={() => this.onSave()}\n                        endIcon={<IconSave />}\n                    >\n                        {I18n.t('Save')}\n                    </Button>}\n                    {(changedAll > 1 || (changedAll === 1 && !changed)) && <Button\n                        color=\"grey\"\n                        key=\"saveall\"\n                        variant=\"contained\"\n                        style={styles.textButton}\n                        onClick={() => this.onSaveAll()}\n                        endIcon={<IconSave />}\n                    >\n                        {I18n.t('Save all')}\n                    </Button>}\n                    {changed && <Button\n                        color=\"grey\"\n                        key=\"cancel\"\n                        variant=\"contained\"\n                        style={styles.textButton}\n                        onClick={() => this.onCancel()}\n                        endIcon={<IconCancel />}\n                    >\n                        {I18n.t('Cancel')}\n                    </Button>}\n                    <div style={{ flex: 2 }} />\n\n                    {this.state.blockly && !this.state.showCompiledCode &&\n                        <IconButton\n                            key=\"export\"\n                            aria-label=\"Export Blocks\"\n                            title={I18n.t('Export blocks')}\n                            style={styles.toolbarButtons}\n                            onClick={() => this.sendCommandToBlockly('export')}\n                            size=\"medium\"\n                        >\n                            <IconExport />\n                        </IconButton>}\n\n                    {this.state.blockly && !this.state.showCompiledCode &&\n                        <IconButton\n                            key=\"import\"\n                            aria-label=\"Import Blocks\"\n                            title={I18n.t('Import blocks')}\n                            style={styles.toolbarButtons}\n                            onClick={() => this.sendCommandToBlockly('import')}\n                            size=\"medium\"\n                        >\n                            <IconImport />\n                        </IconButton>}\n\n                    {this.state.blockly && !this.state.showCompiledCode &&\n                        <IconButton\n                            key=\"check\"\n                            aria-label=\"Check code\"\n                            title={I18n.t('Check blocks')}\n                            style={styles.toolbarButtons}\n                            onClick={() => this.sendCommandToBlockly('check')}\n                            size=\"medium\"\n                        >\n                            <IconCheck />\n                        </IconButton>}\n\n                    {!this.props.debugMode && !this.state.blockly && !this.state.rules && !this.state.showCompiledCode && <IconButton\n                        key=\"select-cron\"\n                        aria-label=\"create CRON\"\n                        title={I18n.t('Create or edit CRON or time wizard')}\n                        style={styles.toolbarButtons}\n                        onClick={() => this.setState({ showCron: true })}\n                        size=\"medium\"\n                    >\n                        <IconCron />\n                    </IconButton>}\n                    {\n                        this.scripts[this.state.selected] &&\n                        this.scripts[this.state.selected].engineType !== 'Blockly' &&\n                        this.scripts[this.state.selected].engineType !== 'Rules' ?\n                        <OpenAiDialog\n                            adapterName={this.props.adapterName}\n                            socket={this.props.socket}\n                            runningInstances={this.state.runningInstances}\n                            themeType={this.state.themeType}\n                            language={this.scripts[this.state.selected].engineType === 'TypeScript/ts' ? 'typescript' : 'javascript'}\n                            onAddCode={code => this.setState({ insert: code })}\n                        /> : null}\n                    <IconButton\n                        key=\"show-astro\"\n                        aria-label=\"Show astronomical events\"\n                        title={I18n.t('Show astronomical events')}\n                        style={styles.toolbarButtons}\n                        disabled={!isInstanceRunning}\n                        onClick={() => {\n                            this.setState({ showAstro: true, astroEvents: null });\n\n                            this.props.socket.sendTo(this.scripts[this.state.selected].engine.replace('system.adapter.', ''), 'calcAstroAll', {})\n                                .then(astroEvents => this.setState({ astroEvents }));\n                        }}\n                        size=\"medium\"\n                    >\n                        <IconAstro />\n                    </IconButton>\n\n                    {!this.props.debugMode && !this.state.blockly && !this.state.rules && !this.state.showCompiledCode && <IconButton\n                        key=\"select-id\"\n                        aria-label=\"select ID\"\n                        title={I18n.t('Insert object ID')}\n                        style={styles.toolbarButtons}\n                        onClick={() => this.setState({ showSelectId: true })}\n                        size=\"medium\"\n                    >\n                        <IconSelectId />\n                    </IconButton>}\n\n                    {this.state.blockly && !this.state.rules && this.state.showCompiledCode && <Button color=\"grey\" key=\"convert2js\" aria-label=\"convert to javascript\"\n                        title={I18n.t('Convert blockly to javascript for ever.')}\n                        onClick={() => this.onConvertBlockly2JS()}\n                    >Blockly=>JS</Button>}\n                    {this.state.rules && !this.state.showCompiledCode &&\n                        <IconButton\n                            key=\"export\"\n                            aria-label=\"Export Blocks\"\n                            title={I18n.t('Export blocks')}\n                            style={styles.toolbarButtons}\n                            onClick={() => this.sendCommandToRules('export')}\n                            size=\"medium\"\n                        >\n                            <IconExport />\n                        </IconButton>}\n                    {this.state.rules && !this.state.showCompiledCode &&\n                        <IconButton\n                            key=\"import\"\n                            aria-label=\"Import Blocks\"\n                            title={I18n.t('Import blocks')}\n                            style={styles.toolbarButtons}\n                            onClick={() => this.sendCommandToRules('import')}\n                            size=\"medium\"\n                        >\n                            <IconImport />\n                        </IconButton>}\n\n                    {this.props.expertMode && !changed && (this.props.debugMode || (!this.state.blockly && !this.state.rules) || ((this.state.blockly || this.state.rules) && this.state.showCompiledCode)) && <IconButton\n                        style={styles.toolbarButtons}\n                        color={this.props.debugMode ? 'primary' : 'default'}\n                        disabled={!this.props.debugMode && !isInstanceRunning}\n                        onClick={() => {\n                            if (!this.props.debugMode && isScriptRunning) {\n                                this.setState({ askAboutDebug: true })\n                            } else {\n                                this.props.onDebugModeChange(!this.props.debugMode);\n                            }\n                        }}\n                        size=\"medium\"\n                    >\n                        <IconDebugMode style={{ fontSize: 32 }} />\n                    </IconButton>}\n\n                    {(this.state.blockly || this.state.rules) && <Button\n                        key=\"blockly-code\"\n                        aria-label=\"blockly\"\n                        title={I18n.t('Show javascript code')}\n                        className=\"button-js-code\"\n                        color={this.state.showCompiledCode ? 'secondary' : 'inherit'}\n                        disabled={this.props.debugMode}\n                        style={{\n                            ...styles.toolbarButtons,\n                            ...(this.props.debugMode ? styles.toolbarButtonsDisabled : undefined),\n                            padding: '0 5px',\n                        }}\n                        onClick={() => {\n                            if (this.props.debugMode) {\n                                return;\n                            }\n                            this.setState({ showCompiledCode: !this.state.showCompiledCode });\n                            this.state.isTourOpen && this.state.tourStep === STEPS.showJavascript && this.setState({ tourStep: STEPS.switchBackToRules });\n                            this.state.isTourOpen && this.state.tourStep === STEPS.switchBackToRules && this.setState({ tourStep: STEPS.saveTheScript });\n                        }}\n                    >\n                        <img alt={this.state.blockly ? 'blockly2js' : 'rules2js'} src={this.state.blockly ? ImgBlockly2Js : ImgRules2Js} />\n                    </Button>}\n                    <IconButton\n                        key=\"debug\"\n                        disabled={this.props.debugMode}\n                        aria-label=\"Debug menu\"\n                        title={I18n.t('Debug options')}\n                        style={styles.toolbarButtons}\n                        onClick={e => this.setState({ showDebugMenu: true, menuDebugAnchorEl: e.currentTarget })}\n                        size=\"medium\"\n                    >\n                        <Badge style={styles.badgeMargin} badgeContent={this.getDebugBadge()}>\n                            <IconDebugMenu />\n                        </Badge>\n                    </IconButton>\n                </Toolbar>\n            );\n        } else {\n            return null;\n        }\n    }\n\n    getScriptEditor() {\n        if (!this.props.debugMode &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.blockly !== null &&\n            (!this.state.blockly || this.state.showCompiledCode) &&\n            (!this.state.rules || this.state.showCompiledCode)\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <Box sx={styles.editorDiv} key=\"scriptEditorDiv\">\n                <ScriptEditorComponent\n                    key=\"scriptEditor1\"\n                    name={this.state.selected}\n                    adapterName={this.props.adapterName}\n                    insert={this.state.insert}\n                    onInserted={() => this.setState({ insert: '' })}\n                    onForceSave={() => this.onSave()}\n                    searchText={this.state.searchText}\n                    onRegisterSelect={func => this.onRegisterSelect(func)}\n                    readOnly={this.state.showCompiledCode}\n                    changed={this.state.changed[this.state.selected]}\n                    code={this.scripts[this.state.selected].source || ''}\n                    isDark={this.state.themeType === 'dark'}\n                    socket={this.props.socket}\n                    runningInstances={this.state.runningInstances}\n                    onChange={newValue => this.onChange({ script: newValue })}\n                    language={this.scripts[this.state.selected].engineType === 'TypeScript/ts' ? 'typescript' : 'javascript'}\n                />\n            </Box>;\n        } else {\n            return null;\n        }\n    }\n\n    getBlocklyEditor() {\n        if (!this.props.debugMode &&\n            this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.blockly &&\n            !this.state.showCompiledCode &&\n            this.state.visible\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <Box sx={styles.editorDiv} key=\"blocklyEditorDiv\">\n                <BlocklyEditor\n                    command={this.state.cmdToBlockly}\n                    key=\"BlocklyEditor\"\n                    themeType={this.state.themeType}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    scriptId={this.state.selected}\n                    onChange={newValue => this.onChange({ script: newValue })}\n                />\n            </Box>;\n        } else {\n            return null;\n        }\n    }\n\n    getRulesEditor() {\n        if (!this.props.debugMode &&\n            this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.rules &&\n            !this.state.showCompiledCode &&\n            this.state.visible\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n            const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n            const isScriptRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].enabled;\n\n            return <Box sx={styles.editorDiv} key=\"flowEditorDiv\">\n                <RulesEditor\n                    scriptId={this.state.selected}\n                    setTourStep={this.setTourStep}\n                    tourStep={this.state.tourStep}\n                    isTourOpen={this.state.isTourOpen}\n                    changed={this.state.changed[this.state.selected]}\n                    running={isInstanceRunning && isScriptRunning}\n                    command={this.state.cmdToRules}\n                    key=\"flowEditor\"\n                    themeType={this.state.themeType}\n                    themeName={this.props.themeName}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    onChange={newValue => this.onChange({ script: newValue })}\n                />\n            </Box>;\n        } else {\n            return null;\n        }\n    }\n\n    getConfirmDialog() {\n        if (this.state.confirm) {\n            return <DialogConfirm\n                key=\"dialogConfirm1\"\n                text={this.state.confirm}\n                onClose={result => {\n                    if (this.confirmCallback) {\n                        const cb = this.confirmCallback;\n                        this.confirmCallback = null;\n                        cb(result);\n                    }\n                    this.setState({ confirm: '' });\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getSelectIdDialog() {\n        if (this.state.showSelectId) {\n            const allObjectTypes = [\n                'state',\n                'channel',\n                'device',\n                'adapter',\n                'instance',\n                'enum',\n                'host',\n                //'meta',\n                'config',\n                'script',\n                'user',\n                'group',\n                //'chart',\n                //'folder',\n                //'schedule',\n                //'design',\n            ];\n\n            const expertModeTypes = [\n                'adapter',\n                'instance',\n                'enum',\n                'host',\n                'config',\n                'script',\n                'user',\n                'group',\n                //'chart',\n                //'folder',\n                //'schedule',\n                //'design',\n            ]\n\n            let selectedId = this.selectId.callback ? this.selectId.initValue || '' : this.getSelect ? this.getSelect() : '';\n            // it could be:\n            // - 'id.xx'/* aksjdhsdf*/\n            // - \"id.xx\"/* aksjdhsdf*/\n            // - \"id.xx\"//\n            let pos = selectedId.indexOf('/*');\n            if (pos !== -1) {\n                selectedId = selectedId.substring(0, pos);\n            }\n            pos = selectedId.indexOf('//');\n            if (pos !== -1) {\n                selectedId = selectedId.substring(0, pos);\n            }\n            let m = selectedId.match(/\"([^\"]+)\"/);\n            if (m) {\n                selectedId = m[1];\n            }\n            m = selectedId.match(/'([^']+)'/);\n            if (m) {\n                selectedId = m[1];\n            }\n\n            return <DialogSelectID\n                theme={this.props.theme}\n                key=\"dialogSelectID1\"\n                imagePrefix=\"../..\"\n                themeName={this.props.themeName}\n                themeType={this.state.themeType}\n                socket={this.props.socket}\n                selected={selectedId}\n                expertMode={expertModeTypes.includes(this.selectId.type) ? true : undefined}\n                // statesOnly={!this.selectId.type || this.selectId.type === 'state'}\n                types={this.selectId?.type === 'all' ? allObjectTypes : [this.selectId.type || 'state']}\n                onClose={() => {\n                    this.setState({ showSelectId: false });\n                    if (this.selectId.callback) {\n                        this.selectId.callback = null;\n                    }\n                }}\n                onOk={(selected, name) => {\n                    this.selectId.initValue = null;\n                    if (this.selectId.callback) {\n                        this.selectId.callback(selected);\n                        this.selectId.callback = null;\n                    } else {\n                        this.setState({ insert: `'${selected}'/*${name}*/` });\n                    }\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getCronDialog() {\n        if (this.state.showCron) {\n            return <DialogCron\n                theme={this.props.theme}\n                key=\"dialogCron1\"\n                cron={this.cron.callback ? this.cron.initValue || '' : this.getSelect ? this.getSelect() : '* * * * *'}\n                onClose={() => this.setState({ showCron: false })}\n                onOk={cron => {\n                    this.cron.initValue = null;\n                    if (this.cron.callback) {\n                        this.cron.callback(cron);\n                        this.cron.callback = null;\n                    } else {\n                        this.setState({ insert: `'${cron}'` });\n                    }\n                }}\n            />;\n        }\n\n        return null;\n    }\n\n    getAstroDialog() {\n        if (this.state.showAstro) {\n            return <Dialog\n                open={!0}\n                onClose={() => this.setState({ showAstro: false })}\n                key=\"dialogAstro\"\n            >\n                <DialogTitle>{I18n.t('Astronomical events today')}</DialogTitle>\n                <DialogContent>\n                    {!this.state.astroEvents ? <LinearProgress /> : <TableContainer component={Paper}>\n                        <Table size=\"small\">\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell>{I18n.t('Name')}</TableCell>\n                                    <TableCell>{I18n.t('Server time')}</TableCell>\n                                    <TableCell>{I18n.t('Description')}</TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {Object.keys(this.state.astroEvents).map(id =>\n                                    <TableRow key={id}>\n                                        <TableCell component=\"th\" scope=\"row\">{id.startsWith('next') ? '' : id}</TableCell>\n                                        <Tooltip title={I18n.t('Local time') + ': ' + (this.state.astroEvents[id].isValidDate ? new Date(this.state.astroEvents[id].date).toLocaleTimeString() : 'n/a')}><TableCell align=\"right\">{this.state.astroEvents[id].isValidDate ? this.state.astroEvents[id].serverTime : 'n/a'}</TableCell></Tooltip>\n                                        <TableCell>{I18n.t(id)}</TableCell>\n                                    </TableRow>)}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        variant=\"contained\"\n                        onClick={() => this.setState({ showAstro: false })}\n                        color=\"primary\"\n                        startIcon={<IconClose />}\n                    >\n                        {I18n.t('Close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>;\n        } else {\n            return null;\n        }\n    }\n\n    getEditorDialog() {\n        if (this.state.showScript) {\n            return <DialogScriptEditor\n                key=\"scriptEditorDialog\"\n                adapterName={this.props.adapterName}\n                source={this.scriptDialog.initValue}\n                args={this.scriptDialog.args ? this.scriptDialog.args.join(', ') : ''}\n                isReturn={this.scriptDialog.isReturn}\n                socket={this.props.socket}\n                runningInstances={this.state.runningInstances}\n                themeType={this.state.themeType}\n                onClose={result => {\n                    this.scriptDialog.initValue = null;\n                    if (this.scriptDialog.callback) {\n                        result !== false && this.scriptDialog.callback(result || '');\n                        this.scriptDialog.callback = null;\n                    }\n                    this.setState({ showScript: false });\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getToast() {\n        return <Snackbar\n            key=\"toast\"\n            anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left',\n            }}\n            open={!!this.state.toast}\n            autoHideDuration={6000}\n            onClose={() => this.setState({ toast: '' })}\n            ContentProps={{ 'aria-describedby': 'message-id' }}\n            message={<span id=\"message-id\">{this.state.toast}</span>}\n            action={[\n                <IconButton\n                    key=\"close\"\n                    aria-label=\"close\"\n                    color=\"inherit\"\n                    style={styles.closeToast}\n                    onClick={() => this.setState({ toast: '' })}\n                    size=\"medium\"\n                >\n                    <IconClose />\n                </IconButton>,\n            ]}\n        />;\n    }\n\n    setTourStep = tourStep => this.setState({ tourStep });\n\n    getTour() {\n        if (this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.isAnyRulesExists === 1 &&\n            this.props.objects[this.state.selected] &&\n            this.state.rules &&\n            this.state.visible) {\n            return <Tour\n                key=\"tour\"\n                steps={steps}\n                isOpen={this.state.isTourOpen}\n                onRequestClose={() => {\n                    this.setState({ isTourOpen: false });\n                    window.localStorage.setItem('tour', 'true');\n                    this.props.socket.setState('javascript.0.variables.rulesTour', { val: true, ack: true });\n                }}\n                //getCurrentStep={tourStep => this.setTourStep(tourStep)}\n                goToStep={this.state.tourStep}\n            />;\n        }\n    }\n\n    getDebug() {\n        if (this.props.debugMode) {\n            const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n            if (isInstanceRunning) {\n                return <Debugger\n                    key=\"debugger\"\n                    runningInstances={this.state.runningInstances}\n                    adapterName={this.props.adapterName}\n                    socket={this.props.socket}\n                    theme={this.props.theme}\n                    themeName={this.props.themeName}\n                    themeType={this.props.themeType}\n                    src={this.props.debugInstance ? this.props.debugInstance.adapter : this.state.selected}\n                    debugInstance={this.props.debugInstance}\n                />;\n            } else {\n                setTimeout(() => this.props.onDebugModeChange(false));\n                return null;\n            }\n        } else {\n            return null;\n        }\n    }\n\n    render() {\n        if (this.state.selected && this.props.objects[this.state.selected] && this.state.blockly === null && this.state.rules === null) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n            setTimeout(() => {\n                const newState = {\n                    blockly: this.scripts[this.state.selected].engineType === 'Blockly',\n                    rules: this.scripts[this.state.selected].engineType === 'Rules',\n                    showCompiledCode: false,\n                    debugEnabled: this.scripts[this.state.selected].debug,\n                    verboseEnabled: this.scripts[this.state.selected].verbose,\n                };\n\n                // check if all opened files still exists\n                this.removeNonExistingScripts(null, newState);\n                this.setState(newState);\n            }, 100);\n        }\n\n        return [\n            this.getTabs(),\n            this.getToolbar(),\n            this.getScriptEditor(),\n            this.getAskAboutDebug(),\n            this.getBlocklyEditor(),\n            this.getRulesEditor(),\n            this.getDebug(),\n            this.getConfirmDialog(),\n            this.getSelectIdDialog(),\n            this.getCronDialog(),\n            this.getEditorDialog(),\n            this.getAstroDialog(),\n            this.getDebugMenu(),\n            this.getToast(),\n            this.getTour(),\n        ];\n    }\n}\n\nEditor.propTypes = {\n    objects: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    selected: PropTypes.string.isRequired,\n    onSelectedChange: PropTypes.func.isRequired,\n    onRestart: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    visible: PropTypes.bool,\n    menuOpened: PropTypes.bool,\n    onLocate: PropTypes.func,\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    searchText: PropTypes.string,\n    theme: PropTypes.object,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    onDebugModeChange: PropTypes.func,\n    debugMode: PropTypes.bool,\n    debugInstance: PropTypes.object,\n    expertMode: PropTypes.bool,\n};\n\nexport default Editor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Dropzone from 'react-dropzone';\n\nimport {\n    Button,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Dialog,\n} from '@mui/material';\nimport {\n    MdFileUpload as IconUpload,\n    MdCancel as IconNo,\n    MdAdd as IconPlus,\n} from 'react-icons/md';\n\nimport { Cancel as IconCancel } from '@mui/icons-material';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nimport DialogError from './Error';\n\nconst styles = {\n    dialog: {\n        height: '95%',\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden',\n    },\n    dropzone: {\n        marginTop: 20,\n        width: '100%',\n        borderWidth: 5,\n        borderStyle: 'dashed',\n        borderColor: '#d0cccc',\n        textAlign: 'center',\n        boxSizing: 'border-box',\n        paddingTop: 45,\n        borderRadius: 10,\n        height: 'calc(100% - 10px)',\n    },\n    dropzoneDiv: {\n        width: '100%',\n        height: '100%',\n    },\n    dropzoneRejected: {\n        borderColor: '#970000',\n    },\n    dropzoneAccepted: {\n        borderColor: '#17cd02',\n    },\n    icon: {\n        height: '30%',\n        width: '30%',\n        color: '#eeeeee',\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        zIndex: 0,\n    },\n    iconError: {\n        color: '#ffc3c6',\n    },\n    iconOk: {\n        color: '#aaeebc',\n    },\n    text: {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        color: '#868686',\n        position: 'absolute',\n        zIndex: 1,\n    },\n};\n\nclass DialogImportFile extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: '',\n            imageStatus: '',\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n                // ignore\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose();\n    }\n\n    onChange(e) {\n        this.setState({ text: e.target.value });\n    }\n\n    static readFileDataUrl(file, cb) {\n        const reader = new FileReader();\n        reader.onload = () => {\n            cb(null, {data: reader.result, name: file.name});\n        };\n        reader.onabort = () => {\n            console.error('file reading was aborted');\n            cb(I18n.t('file reading was aborted'));\n        };\n        reader.onerror = (e) => {\n            console.error('file reading has failed');\n            cb(I18n.t('file reading has failed: %s', e));\n        };\n\n        reader.readAsDataURL(file);\n    }\n\n    handleDropFile(files) {\n        if (files && files.hasOwnProperty('target')) {\n            files = files.target.files;\n        }\n\n        if (!files && !files.length) {\n            return;\n        }\n\n        const file = files[files.length - 1];\n\n        if (!file) {\n            return;\n        }\n        DialogImportFile.readFileDataUrl(file, (err, result) => {\n            if (err) {\n                this.setState({ error: err });\n            } else {\n                this.props.onClose(result?.data);\n            }\n        });\n    }\n\n    render() {\n        const style = {\n            ...styles.dropzone,\n            ...(this.state.imageStatus === 'accepted' ? styles.dropzoneAccepted :\n                (this.state.imageStatus === 'rejected' ? styles.dropzoneRejected : undefined)),\n        };\n\n        return <Dialog\n            onClose={() => false}\n            maxWidth=\"lg\"\n            classes={{ '& .MuiDialog-paper': styles.dialog }}\n            fullWidth\n            open={!0}\n            aria-labelledby=\"import-dialog-title\"\n            PaperProps={{ style: { minHeight: '90%', maxHeight: '90%' } }}\n        >\n            <DialogTitle id=\"import-dialog-title\">{I18n.t('Import scripts')}</DialogTitle>\n            <DialogContent>\n                <style>\n                    {`\n.dropzoneRejected {\n    borderColor: #970000;\n}\n.dropzoneAccepted: {\n    borderColor: #17cd02;\n}\n`}\n                </style>\n                <Dropzone\n                    key='image-drop'\n                    maxSize={50000000}\n                    acceptClassName=\"dropzoneAccepted\"\n                    rejectClassName=\"dropzoneRejected\"\n                    onDrop={files => this.handleDropFile(files)}\n                    multiple={false}\n                    accept='application/zip,application/x-zip-compressed'\n                    style={style}\n                >\n                    {\n                        ({ getRootProps, getInputProps, isDragActive, isDragReject}) => {\n                            if (isDragReject) {\n                                if (this.state.imageStatus !== 'rejected') {\n                                    this.setState({ imageStatus: 'rejected' });\n                                }\n                                return (\n                                    <div style={styles.dropzoneDiv} {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <span key=\"text\" style={styles.text}>{I18n.t('Some files will be rejected')}</span>\n                                        <IconNo key=\"icon\" style={{ ...styles.icon, ...styles.iconError }} />\n                                    </div>);\n                            } else if (isDragActive) {\n                                if (this.state.imageStatus !== 'accepted') {\n                                    this.setState({ imageStatus: 'accepted' });\n                                }\n\n                                return <div style={styles.dropzoneDiv} {...getRootProps()}>\n                                    <input {...getInputProps()} />\n                                    <span key=\"text\" style={styles.text}>{I18n.t('All files will be accepted')}</span>\n                                    <IconPlus key=\"icon\" style={{ ...styles.icon, ...styles.iconOk }} />\n                                </div>;\n                            } else {\n                                if (this.state.imageStatus !== 'wait') {\n                                    this.setState({ imageStatus: 'wait' });\n                                }\n                                return <div style={styles.dropzoneDiv} {...getRootProps()}>\n                                    <input {...getInputProps()} />\n                                    <span key=\"text\" style={styles.text}>\n                                        {I18n.t('Drop some files here or click...')}\n                                    </span>\n                                    <IconUpload key=\"icon\" style={styles.icon} />\n                                </div>;\n                            }\n                        }\n                    }\n                </Dropzone>\n                {this.state.error ? <DialogError\n                    text={this.state.error}\n                    onClose={() => this.setState({ error: '' })}\n                /> : null}\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    color=\"grey\"\n                    variant=\"contained\"\n                    onClick={() => this.handleCancel()}\n                    startIcon={<IconCancel />}\n                >\n                    {I18n.t('Close')}\n                </Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogImportFile.propTypes = {\n    onClose: PropTypes.func,\n};\n\nexport default DialogImportFile;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactSplit, { SplitDirection } from '@devbookhq/splitter';\nimport { ThemeProvider, StyledEngineProvider } from '@mui/material/styles';\n\nimport {\n    I18n,\n    Utils,\n    AdminConnection,\n    Loader,\n    GenericApp,\n    Message as DialogMessage,\n    Confirm as DialogConfirm,\n} from '@iobroker/adapter-react-v5';\n\nimport {\n    MdMenu as IconMenuClosed,\n    MdArrowBack as IconMenuOpened,\n    MdVisibility as IconShowLog,\n} from 'react-icons/md';\n\nimport SideMenu from './SideMenu';\nimport Log from './Log';\nimport Editor from './Editor';\nimport DialogError from './Dialogs/Error';\nimport DialogImportFile from './Dialogs/ImportFile';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport { ContextWrapper } from './Components/RulesEditor/components/ContextWrapper';\nimport {Box} from '@mui/material';\n\nconst styles = {\n    root: {\n        flexGrow: 1,\n        display: 'flex',\n        width: '100%',\n        height: '100%',\n    },\n    menuDiv: {\n        overflow: 'hidden',\n    },\n    splitterDivs: theme => ({\n        '&>div': {\n            overflow: 'hidden',\n            width: '100%',\n            height: '100%',\n        },\n        '& .layout-splitter': {\n            background: theme.palette.mode === 'dark' ? '#595858' : '#ccc;',\n        },\n    }),\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n    },\n    /*\n    appBarWithMenu: {\n        width: `calc(100% - ${Theme.menu.width}px)`,\n        marginLeft: Theme.menu.width,\n    },\n    appBarWithoutMenu: {\n        width: `100%`,\n        marginLeft: 0,\n    },\n    */\n    content: theme => ({\n        width: '100%',\n        height: '100%',\n        backgroundColor: theme.palette.background && theme.palette.background.default,\n        position: 'relative',\n    }),\n    splitterDivWithMenu: {\n        width: `calc(100% - 300px)`,\n        height: '100%',\n    },\n    menuDivWithoutMenu: {\n        '&>div:first-child': {\n            display: 'none',\n        },\n        '&>.layout-splitter': {\n            display: 'none',\n        },\n    },\n    progress: {\n        margin: 100,\n    },\n    menuOpenCloseButton: theme => ({\n        position: 'absolute',\n        left: 0,\n        borderRadius: '0 5px 5px 0',\n        top: 6,\n        pt: 1,\n        cursor: 'pointer',\n        zIndex: 1,\n        height: 25,\n        width: 20,\n        background: theme.palette.secondary.main,\n        color: theme.palette.primary.main,\n        pl: '3px',\n        '&:hover': {\n            color: 'white',\n        },\n    }),\n    showLogButton: theme => ({\n        position: 'absolute',\n        right: 3,\n        borderRadius: '5px 5px 0 0',\n        bottom: 0,\n        pt: '3px',\n        cursor: 'pointer',\n        zIndex: 10,\n        height: 20,\n        width: 25,\n        background: theme.palette.secondary.main,\n        color: theme.palette.primary.main,\n        pl: 1,\n        '&:hover': {\n            color: 'white',\n        },\n    }),\n};\n\nclass App extends GenericApp {\n    constructor(props) {\n        super(props, {\n            Connection: AdminConnection,\n            translations: {\n                en: require('./i18n/en'),\n                de: require('./i18n/de'),\n                es: require('./i18n/es'),\n                fr: require('./i18n/fr'),\n                it: require('./i18n/it'),\n                nl: require('./i18n/nl'),\n                pl: require('./i18n/pl'),\n                pt: require('./i18n/pt'),\n                ru: require('./i18n/ru'),\n                uk: require('./i18n/uk'),\n                'zh-cn': require('./i18n/zh-cn'),\n            },\n            bottomButtons: false,\n            socket: {\n                autoSubscribeLog: true,\n            },\n            sentryDSN: window.sentryDSN,\n        });\n\n        // this.logIndex = 0;\n        const logSizesStr = window.localStorage.getItem('JS.logSizes');\n        let logSizes = [80, 20];\n        if (logSizesStr) {\n            try {\n                logSizes = JSON.parse(logSizesStr);\n            } catch (e) {\n                // ignore\n            }\n        }\n\n        const splitSizesStr = window.localStorage.getItem('JS.splitSizes');\n        let splitSizes = [20, 80];\n        if (splitSizesStr) {\n            try {\n                splitSizes = JSON.parse(splitSizesStr);\n            } catch (e) {\n                // ignore\n            }\n        }\n        this.hosts = [];\n        this.importFile = null;\n        this.scripts = {};\n        Object.assign(this.state, { splitSizes, logSizes });\n\n        window.alert = message => {\n            console.error(message);\n            this.showError(message.toString());\n        };\n    }\n\n    onScriptsChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n        if (id.startsWith('script.js.')) {\n            if (obj) {\n                if (JSON.stringify(this.scripts[id]) !== JSON.stringify(obj)) {\n                    this.scripts[id] = obj;\n                    changed = true;\n                    newState.scriptsHash = this.state.scriptsHash + 1;\n                }\n            } else if (this.scripts[id]) {\n                delete this.scripts[id];\n                changed = true;\n                newState.scriptsHash = this.state.scriptsHash + 1;\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onInstanceChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n\n        if (id.match(/^system\\.adapter\\.[-_\\w\\d]+\\$/)) {\n            // update instances\n            if (id.startsWith(`system.adapter.${this.adapterName}.`)) {\n                if (obj && obj.type === 'instance') {\n                    if (!this.state.instances.includes(id)) {\n                        newState.instances = [...this.state.instances];\n                        newState.instances.push(id);\n                        newState.instances.sort();\n                        changed = true;\n                        // request alive\n                        this.socket.subscribeState(`${obj._id}.alive`, this.onInstanceAliveChange);\n                    }\n                } else if (!obj && this.state.instances.includes(id)) {\n                    this.socket.unsubscribeState(`${id}.alive`, this.onInstanceAliveChange);\n                    newState.instances = [...this.state.instances];\n                    const pos = newState.instances.indexOf(id);\n                    newState.instances.splice(pos, 1);\n                    changed = true;\n                }\n            }\n\n            if (obj && obj[id].common && obj[id].common.blockly) {\n                this.confirmCallback = result => result && window.location.reload();\n                newState.confirm = I18n.t('Some blocks were updated. Reload admin?');\n                changed = true;\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onHostChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n\n        if (id.startsWith('system.host.')) {\n            if (obj && obj.type === 'host') {\n                if (!this.hosts.includes(id)) {\n                    this.hosts.push(id);\n                    this.hosts.sort();\n                }\n            } else if (!obj && this.hosts.includes(id)) {\n                const pos = this.hosts.indexOf(id);\n                this.hosts.splice(pos, 1);\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onConnectionReady() {\n        window.systemLang = this.socket.systemLang;\n        this.setState({\n            ready: false,\n            updateScripts: 0,\n            scriptsHash: 0,\n            instances: [],\n            updating: false,\n            resizing: false,\n            selected: null,\n            logMessage: {},\n            editing: [],\n            menuOpened: window.localStorage.getItem('App.menuOpened') !== 'false',\n            menuSelectId: '',\n            expertMode: window.localStorage.getItem('App.expertMode') === 'true',\n            logHorzLayout: window.localStorage.getItem('App.logHorzLayout') === 'true',\n            runningInstances: {},\n            confirm: '',\n            importFile: false,\n            message: '',\n            searchText: '',\n            hideLog: window.localStorage.getItem('App.hideLog') === 'true',\n            debugMode: false,\n            debugInstance: null,\n        });\n\n        const newState = {};\n\n        // load instances & scripts\n        // Read all instances\n        this.subscribeOnInstances()\n            .then(result => {\n                newState.instances = result.instances;\n                newState.runningInstances = result.runningInstances;\n\n                return this.readAdaptersWithBlockly();\n            })\n            .then(() => this.socket.getHosts())\n            .then(hosts => {\n                this.hosts = hosts.map(obj => obj._id);\n                // load all scripts\n                return this.readAllScripts();\n            })\n            .then(scripts => {\n                if (window.localStorage.getItem('App.expertMode') !== 'true' && window.localStorage.getItem('App.expertMode') !== 'false') {\n                    // detect if some global scripts exists\n                    if (Object.keys(scripts).find(id => id.startsWith('script.js.global.') && scripts.type === 'script')) {\n                        newState.expertMode = true;\n                    }\n                }\n                this.scripts = scripts;\n\n                let scriptsHash = this.state.scriptsHash;\n                if (this.compareScripts(scripts)) {\n                    scriptsHash++;\n                }\n                newState.scriptsHash = scriptsHash;\n                newState.ready = true;\n                this.socket.subscribeObject('script.*', this.onScriptsChanged);\n                this.socket.subscribeObject('system.adapter.*', this.onInstanceChanged);\n                this.socket.subscribeObject('system.host.*', this.onHostChanged);\n\n                this.setState(newState);\n            });\n    }\n\n    subscribeOnInstances() {\n        return this.socket.getAdapterInstances(this.adapterName)\n            .then(instancesArray => {\n                const instances = instancesArray.map(obj => parseInt(obj._id.split('.').pop())).sort();\n                const runningInstances = {};\n                instances.forEach(id => runningInstances[`system.adapter.${this.adapterName}.${id}`] = false);\n\n                const promises = [];\n\n                // subscribe on instances\n                instances.forEach(instance => {\n                    const instanceId = `system.adapter.${this.adapterName}.${instance}`;\n                    const id = `${instanceId}.alive`;\n                    promises.push(this.socket.getState(id)\n                        .then(state => {\n                            runningInstances[instanceId] = state ? state.val : false;\n                            this.socket.subscribeState(id, this.onInstanceAliveChange);\n                        }));\n                });\n\n                return Promise.all(promises)\n                    .then(() => ({ instances, runningInstances }));\n            })\n    }\n\n    readAllScripts() {\n        return this.socket.getObjectView('script.js.', 'script.js.\\u9999', 'channel')\n            .then(folders =>\n                this.socket.getObjectView('script.js.', 'script.js.\\u9999', 'script')\n                    .then(scripts => {\n                        Object.keys(scripts).forEach(id => folders[id] = scripts[id]);\n                        return folders;\n                    }));\n    }\n\n    readAdaptersWithBlockly() {\n        return this.socket.getObjectView('system.adapter.', 'system.adapter.\\u9999', 'adapter')\n            .then(adapters =>\n                new Promise(resolve =>\n                    BlocklyEditor.loadCustomBlockly(adapters, () => resolve())));\n    }\n\n    onInstanceAliveChange = (id, state) => {\n        if (id) {\n            id = id && id.substring(0, id.length - 6); // - .alive\n\n            if (this.state.runningInstances[id] !== (state ? state.val : false)) {\n                const runningInstances = JSON.parse(JSON.stringify(this.state.runningInstances));\n                runningInstances[id] = state ? state.val : false;\n                this.setState({ runningInstances });\n            }\n        }\n    };\n\n    onToggleExpertMode(expertMode) {\n        this.onExpertModeChange(expertMode);\n    }\n\n    compareScripts(newScripts) {\n        const oldIds = Object.keys(this.scripts);\n        const newIds = Object.keys(newScripts);\n        if (oldIds.length !== newIds.length) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        if (JSON.stringify(oldIds) !== JSON.stringify(newIds)) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        for (let i = 0; i < oldIds.length; i++) {\n            const oldScript = this.scripts[oldIds[i]].common;\n            const newScript = newScripts[oldIds[i]].common;\n\n            if (oldScript.name !== newScript.name) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engine !== newScript.engine) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engineType !== newScript.engineType) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.enabled !== newScript.enabled) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n        }\n    }\n\n    onRename(oldId, newId, newName, newInstance) {\n        if (newId.trim().endsWith('.')) {\n            newId = newId.replace(/\\.\\s*$/, '_');\n        }\n        console.log(`Rename ${oldId} => ${newId}`);\n        let promise;\n        this.setState({ updating: true });\n\n        // Rename script.js.common.Skript_1 => script.js.common.New folder.Skript_1\n\n        if (this.scripts[oldId] && this.scripts[oldId].type === 'script') {\n            const common = JSON.parse(JSON.stringify(this.scripts[oldId].common));\n            common.name = newName || common.name;\n            if (newInstance !== undefined) {\n                common.engine = `system.adapter.javascript.${newInstance}`;\n            }\n            // Check if the script is not a children of other script\n            const parts = newId.split('.');\n            parts.pop();\n            const parentID = parts.join('.');\n\n            if (this.scripts[parentID] && this.scripts[parentID].type === 'script') {\n                parts.pop();\n                newId = `${parts.join('.')}.${newId.split('.').pop()}`;\n            }\n\n            promise = this.updateScript(oldId, newId, common);\n        } else {\n            promise = this.renameGroup(oldId, newId, newName);\n        }\n\n        promise\n            .then(() => this.setState({ updating: false }))\n            .catch(err => err !== 'canceled' && this.showError(err));\n    }\n\n    renameGroup(id, newId, newName, _list) {\n        if (!_list) {\n            _list = [];\n\n            // collect all elements to rename\n            // find all elements\n            _list = Object.keys(this.scripts).filter(_id => _id.startsWith(`${id}.`));\n\n            return this.socket.getObject(id)\n                .then(obj => {\n                    obj = obj || { common: {} };\n                    obj.common.name = newName || obj.common.name || id.split('.').pop();\n                    obj._id = newId;\n\n                    this.socket.delObject(id)\n                        .catch(() => { })\n                        .then(() => this.socket.setObject(newId, obj))\n                        .then(() => this.renameGroup(id, newId, newName, _list))\n                        .catch(e => console.log(e));\n                })\n                .catch(e => {\n                    console.log(e);\n                    const obj = {\n                        _id: newId,\n                        type: 'channel',\n                        common: {\n                            name: newName || id.split('.').pop(),\n                            expert: true,\n                        },\n                        native: {},\n                    };\n                    // may be it is virtual folder\n                    return this.socket.setObject(newId, obj)\n                        .then(() => this.renameGroup(id, newId, newName, _list));\n                });\n        } else if (_list.length) {\n            let nId = _list.pop();\n\n            return this.socket.getObject(nId)\n                .then(obj =>\n                    this.socket.delObject(nId)\n                        .catch(() => { })\n                        .then(() => {\n                            nId = newId + nId.substring(id.length);\n                            obj._id = nId;\n                            obj.common = obj.common || {};\n                            obj.common.expert = true;\n                            return this.socket.setObject(nId, obj);\n                        })\n                        .then(() => this.renameGroup(id, newId, newName, _list))\n                );\n        } else {\n            return Promise.resolve();\n        }\n    }\n\n    onUpdateScript(id, common) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            this.updateScript(id, id, common)\n                .then(() => { })\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    onSelect(selected) {\n        if (this.scripts[selected] && this.scripts[selected].common && this.scripts[selected].type === 'script') {\n            this.setState({ selected, menuSelectId: selected }, () =>\n                setTimeout(() => this.setState({ menuSelectId: '' })), 300);\n        }\n    }\n\n    onExpertModeChange(expertMode) {\n        if (this.state.expertMode !== expertMode) {\n            window.localStorage.setItem('App.expertMode', expertMode ? 'true' : 'false');\n            this.setState({ expertMode });\n        }\n    }\n\n    showError(err) {\n        this.setState({ errorText: err ? err.toString() : '' });\n    }\n\n    showMessage(message) {\n        this.setState({ message: message ? message.toString() : '' });\n    }\n\n    onDelete(id) {\n        this.socket.delObject(id)\n            .then(() => { })\n            .catch(err =>\n                this.showError(err));\n    }\n\n    onEdit(id) {\n        if (this.state.selected !== id) {\n            this.setState({ selected: id });\n        }\n    }\n\n    onAddNew(id, name, isFolder, instance, type, source) {\n        const reg = new RegExp(`^${id}\\\\.`);\n\n        if (Object.keys(this.scripts).find(_id => id === _id || reg.test(id))) {\n            return this.showError(I18n.t('Yet exists!'));\n        }\n\n        if (isFolder) {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true,\n                },\n                type: 'channel',\n            })\n                .then(() =>\n                    setTimeout(() => this.setState({ menuSelectId: id }, () =>\n                        setTimeout(() => this.setState({ menuSelectId: '' })), 300), 1000))\n                .catch(err => this.showError(err));\n        } else {\n            if (type === 'Blockly' && !source) {\n                // Default Blockly XML for new scripts\n                source = `\\n//${btoa(encodeURIComponent('<xml xmlns=\"https://developers.google.com/blockly/xml\"></xml>'))}`;\n            }\n\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true,\n                    engineType: type,\n                    engine: `system.adapter.javascript.${instance || 0}`,\n                    source: source || '',\n                    debug: false,\n                    verbose: false,\n                },\n                type: 'script',\n            })\n                .then(() => setTimeout(() => this.onSelect(id), 1000))\n                .catch(err => this.showError(err));\n        }\n    }\n\n    updateScript(oldId, newId, newCommon) {\n        return this.socket.getObject(oldId)\n            .then(_obj => {\n                const obj = { common: {} };\n\n                if (newCommon.engine !== undefined) obj.common.engine = newCommon.engine;\n                if (newCommon.enabled !== undefined) obj.common.enabled = newCommon.enabled;\n                if (newCommon.source !== undefined) obj.common.source = newCommon.source;\n                if (newCommon.debug !== undefined) obj.common.debug = newCommon.debug;\n                if (newCommon.verbose !== undefined) obj.common.verbose = newCommon.verbose;\n\n                obj.from = 'system.adapter.admin.0'; // we must distinguish between GUI(admin.0) and disk(javascript.0)\n\n                if (oldId === newId && _obj && _obj.common && newCommon.name === _obj.common.name) {\n                    if (!newCommon.engineType || newCommon.engineType !== _obj.common.engineType) {\n                        if (newCommon.engineType !== undefined) {\n                            obj.common.engineType = newCommon.engineType || 'Javascript/js';\n                        }\n                    }\n                    obj.type = 'script';\n                    return this.socket.extendObject(oldId, obj);\n                } else {\n                    // let prefix;\n\n                    // let parts = _obj.common.engineType.split('/');\n\n                    // prefix = 'script.' + (parts[1] || parts[0]) + '.';\n\n                    if (_obj && _obj.common) {\n                        _obj.common.engineType = newCommon.engineType || _obj.common.engineType || 'Javascript/js';\n                        return this.socket.delObject(oldId)\n                            .then(() => {\n                                if (obj.common.engine !== undefined) _obj.common.engine = obj.common.engine;\n                                if (obj.common.enabled !== undefined) _obj.common.enabled = obj.common.enabled;\n                                if (obj.common.source !== undefined) _obj.common.source = obj.common.source;\n                                if (obj.common.name !== undefined) _obj.common.name = obj.common.name;\n                                if (obj.common.debug !== undefined) _obj.common.debug = obj.common.debug;\n                                if (obj.common.verbose !== undefined) _obj.common.verbose = obj.common.verbose;\n\n                                delete _obj._rev;\n\n                                // Name must always exist\n                                _obj.common.name = newCommon.name;\n                                _obj.common.expert = true;\n                                _obj.type = 'script';\n\n                                _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                                this.socket.setObject(newId, _obj);\n                            });\n                    } else {\n                        _obj = obj;\n                    }\n\n                    // Name must always exist\n                    _obj.common.name = newCommon.name;\n                    _obj.common.expert = true;\n                    _obj.type = 'script';\n                    _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                    return this.socket.setObject(newId, _obj);\n                }\n            });\n    }\n\n    onEnableDisable(id, enabled) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            const common = this.scripts[id].common;\n            common.enabled = enabled;\n            common.expert = true;\n            this.updateScript(id, id, common)\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    getLiveHost(cb, _list) {\n        if (!_list) {\n            _list = this.hosts ? [...this.hosts] : [];\n        }\n\n        if (_list.length) {\n            const id = _list.shift();\n            this.socket.getState(`${id}.alive`)\n                .then(state => {\n                    if (state && state.val) {\n                        cb(id);\n                    } else {\n                        setTimeout(() => this.getLiveHost(cb, _list));\n                    }\n                });\n        } else {\n            cb();\n        }\n    }\n\n    onExport() {\n        this.getLiveHost(host => {\n            if (!host) {\n                return this.showError(I18n.t('No active host found'));\n            }\n\n            const d = new Date();\n            let date = d.getFullYear();\n            let m = d.getMonth() + 1;\n            if (m < 10) {\n                m = `0${m}`;\n            }\n            date += `-${m}`;\n            m = d.getDate();\n            if (m < 10) {\n                m = `0${m}`;\n            }\n            date += `-${m}-`;\n\n            this.socket.getRawSocket().emit('sendToHost', host, 'readObjectsAsZip', {\n                adapter: 'javascript',\n                id: 'script.js',\n                link: `${date}scripts.zip`, // request link to file and not the data itself\n                fileStorageNamespace: `admin.${this.instance}`, // new controller 5.x understands this and saves ZIP in the file store\n            }, data => {\n                if (typeof data === 'string') {\n                    // it is a link to the created file\n                    const a = document.createElement('a');\n                    if (data.startsWith('admin.')) {\n                        // new controller\n                        // actual position is http://IP:8081/adapter/javascript/index.html\n                        // we need http://IP:8081/files/admin.0/zip/2023-06-20-scripts.zip\n                        a.href = `../../files/${data}`;\n                    } else {\n                        // the data is \"system.host.HOST.zip.2020-01-26-scripts.zip\"\n                        const parts = data.split('.zip.');\n                        a.href = `./zip/${parts[0]}/${parts[1]}`;\n                    }\n                    document.body.appendChild(a);\n                    a.click();\n                    a.remove();\n                } else {\n                    data.error && this.showError(data.error);\n                    if (data.data) {\n                        const a = document.createElement('a');\n                        a.href = `data: application/zip;base64,${data.data}`;\n                        a.download = `${date}scripts.zip`;\n                        document.body.appendChild(a);\n                        a.click();\n                        a.remove();\n                    }\n                }\n            });\n        });\n    }\n\n    onImport(data) {\n        this.importFile = data;\n        if (data) {\n            this.confirmCallback = this.onImportConfirmed.bind(this);\n            this.setState({ importFile: false, confirm: I18n.t('Existing scripts will be overwritten.') });\n        } else {\n            this.setState({ importFile: false });\n        }\n    }\n\n    onImportConfirmed(ok) {\n        let data = this.importFile;\n        this.importFile = null;\n        if (ok && data) {\n            data = data.split(',')[1];\n            this.getLiveHost(host => {\n                if (!host) {\n                    this.showError(I18n.t('No active host found'));\n                    return;\n                }\n                this.socket.getRawSocket().emit('sendToHost', host, 'writeObjectsAsZip', {\n                    data: data,\n                    adapter: 'javascript',\n                    id: 'script.js'\n                }, data => {\n                    if (data === 'permissionError') {\n                        this.showError(I18n.t(data));\n                    } else if (!data || data.error) {\n                        this.showError(data ? I18n.t(data.error) : I18n.t('Unknown error'));\n                    } else {\n                        this.showMessage(I18n.t('Done'));\n                    }\n                });\n            });\n        }\n    }\n\n    toggleLogLayout() {\n        window.localStorage.setItem('App.logHorzLayout', this.state.logHorzLayout ? 'false' : 'true');\n        this.setState({ logHorzLayout: !this.state.logHorzLayout });\n    }\n\n    renderEditor() {\n        const isAnyRulesExists = Object.keys(this.scripts).reduce((sum, id) =>\n            sum + (this.scripts[id].common.engineType === 'Rules' ? 1 : 0), 0);\n\n        return <Editor\n            key=\"editor\"\n            debugMode={this.state.debugMode}\n            onDebugModeChange={value => {\n                if (!value) {\n                    this.setState({debugMode: false, debugInstance: null});\n                } else {\n                    this.setState({debugMode: true});\n                }\n            }}\n            visible={!this.state.resizing}\n            socket={this.socket}\n            adapterName={this.adapterName}\n            onLocate={menuSelectId => this.setState({ menuSelectId })}\n            runningInstances={this.state.runningInstances}\n            menuOpened={this.state.menuOpened}\n            searchText={this.state.searchText}\n            themeType={this.state.themeType}\n            themeName={this.state.themeName}\n            theme={this.state.theme}\n            expertMode={this.state.expertMode}\n            onChange={(id, common) => this.onUpdateScript(id, common)}\n            isAnyRulesExists={isAnyRulesExists}\n            debugInstance={this.state.debugInstance}\n            onSelectedChange={(id, editing) => {\n                const newState = {};\n                let changed = false;\n                if (id !== this.state.selected) {\n                    changed = true;\n                    newState.selected = id;\n                }\n                if (JSON.stringify(editing) !== JSON.stringify(this.state.editing)) {\n                    changed = true;\n                    newState.editing = JSON.parse(JSON.stringify(editing));\n                }\n                changed && this.setState(newState);\n            }}\n            onRestart={id => this.socket.extendObject(id, { common: { enabled: true } })}\n            selected={this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].type === 'script' ? this.state.selected : ''}\n            objects={this.scripts}\n            instances={this.state.instances}\n        />;\n    }\n\n    showLogButton() {\n        return <Box\n            key=\"showLog\"\n            title={I18n.t('Show logs')}\n            sx={styles.showLogButton}\n            onClick={() => {\n                window.localStorage.setItem('App.hideLog', 'false');\n                this.setState({ hideLog: false, resizing: true });\n                setTimeout(() => this.setState({ resizing: false }), 300);\n            }}\n        >\n            <IconShowLog />\n        </Box>;\n    }\n\n    renderErrorDialog() {\n        return this.state.errorText ?\n            <DialogError\n                key=\"dialogError\"\n                onClose={() => this.setState({ errorText: '' })}\n                text={this.state.errorText}\n            /> :\n            null;\n    }\n\n    renderMain() {\n        let content;\n        if (this.state.debugMode || this.state.hideLog) {\n            content = <>\n                {!this.state.debugMode && this.state.hideLog ? this.showLogButton() : undefined}\n                {this.renderEditor()}\n            </>;\n        } else {\n            content = <ReactSplit\n                direction={this.state.logHorzLayout ? SplitDirection.Horizontal : SplitDirection.Vertical}\n                initialSizes={this.state.logSizes}\n                minWidths={[500, 100]}\n                minHeights={[150, 50]}\n                onResizeStarted={() => this.setState({ resizing: true })}\n                onResizing\n                onResizeFinished={(_gutterIdx, logSizes) => {\n                    this.setState({ logSizes, resizing: false });\n                    window.localStorage.setItem('JS.logSizes', JSON.stringify(logSizes));\n                }}\n                gutterClassName={this.state.themeType === 'dark' ? 'Dark visGutter' : 'Light visGutter'}\n            >\n                {this.renderEditor()}\n                <Log\n                    key=\"log\"\n                    verticalLayout={!this.state.logHorzLayout}\n                    onLayoutChange={() => this.toggleLogLayout()}\n                    editing={this.state.editing}\n                    socket={this.socket}\n                    selected={this.state.selected}\n                    onHideLog={() => {\n                        window.localStorage.setItem('App.hideLog', 'true');\n                        this.setState({ hideLog: true, resizing: true });\n                        setTimeout(() => this.setState({ resizing: false }), 300);\n                    }}\n                />\n            </ReactSplit>;\n        }\n\n        return [\n            this.state.message ? <DialogMessage key=\"dialogMessage\" onClose={() => this.setState({ message: '' })} text={this.state.message} /> : null,\n            this.renderErrorDialog(),\n            this.state.importFile ? <DialogImportFile key=\"dialogImportFile\" onClose={data => this.onImport(data)} /> : null,\n            this.state.confirm ? <DialogConfirm\n                key=\"dialogConfirm\"\n                onClose={result => {\n                    this.state.confirm && this.setState({ confirm: '' });\n                    this.confirmCallback && this.confirmCallback(result);\n                    this.confirmCallback = null;\n                }}\n                text={this.state.confirm} /> : null,\n            <Box sx={styles.content} className=\"iobVerticalSplitter\" key=\"main\">\n                <Box\n                    key=\"closeMenu\"\n                    sx={styles.menuOpenCloseButton}\n                    onClick={() => {\n                        window.localStorage.setItem('App.menuOpened', this.state.menuOpened ? 'false' : 'true');\n                        this.setState({ menuOpened: !this.state.menuOpened, resizing: true });\n                        setTimeout(() => this.setState({ resizing: false }), 300);\n                    }}\n                >\n                    {this.state.menuOpened ? <IconMenuOpened /> : <IconMenuClosed />}\n                </Box>\n                {content}\n            </Box>,\n        ];\n    }\n\n    render() {\n        if (!this.state.ready) {\n            // return (<CircularProgress style={styles.progress} size={50} />);\n            return <StyledEngineProvider injectFirst>\n                <ThemeProvider theme={this.state.theme}>\n                    <Loader themeType={this.state.themeType} />\n                </ThemeProvider>\n            </StyledEngineProvider>;\n        }\n\n        let context;\n        if (this.state.menuOpened) {\n            context = <ReactSplit\n                direction={SplitDirection.Horizontal}\n                initialSizes={this.state.splitSizes}\n                minWidths={[270, 400]}\n                onResizeFinished={(_gutterIdx, splitSizes) => {\n                    this.setState({ splitSizes });\n                    window.localStorage.setItem('JS.splitSizes', JSON.stringify(splitSizes));\n                }}\n                gutterClassName={this.state.themeType === 'dark' ? 'Dark visGutter' : 'Light visGutter'}\n            >\n                <div style={styles.mainDiv} key=\"menu\">\n                    <SideMenu\n                        debugMode={this.state.debugMode}\n                        onDebugInstance={data =>\n                            this.setState({ debugInstance: data, debugMode: !!data })}\n                        key=\"sidemenu\"\n                        scripts={this.scripts}\n                        scriptsHash={this.state.scriptsHash}\n                        instances={this.state.instances}\n                        update={this.state.updateScripts}\n                        onRename={this.onRename.bind(this)}\n                        onSelect={this.onSelect.bind(this)}\n                        socket={this.socket}\n                        selectId={this.state.menuSelectId}\n                        onEdit={this.onEdit.bind(this)}\n                        expertMode={this.state.expertMode}\n                        themeType={this.state.themeType}\n                        themeName={this.state.themeName}\n                        onThemeChange={themeName => {\n                            Utils.setThemeName(themeName);\n                            const themeType = Utils.getThemeType(themeName);\n                            this.setState({ themeName, themeType }, () => this.props.onThemeChange(themeName));\n                        }}\n                        runningInstances={this.state.runningInstances}\n                        onExpertModeChange={this.onExpertModeChange.bind(this)}\n                        onDelete={this.onDelete.bind(this)}\n                        onAddNew={this.onAddNew.bind(this)}\n                        onEnableDisable={this.onEnableDisable.bind(this)}\n                        onExport={this.onExport.bind(this)}\n                        width={500} // TODO: https://github.com/ioBroker/ioBroker.javascript/issues/1643\n                        onImport={() => this.setState({ importFile: true })}\n                        onSearch={searchText => this.setState({ searchText })}\n                        version={this.props.version}\n                    />\n                </div>\n                {this.renderMain()}\n            </ReactSplit>;\n        } else {\n            context = this.renderMain();\n        }\n\n        return <StyledEngineProvider injectFirst>\n            <ThemeProvider theme={this.state.theme}>\n                <div style={styles.root}>\n                    <ContextWrapper socket={this.socket}>\n                        {context}\n                    </ContextWrapper>\n                </div>\n            </ThemeProvider>\n        </StyledEngineProvider>;\n    }\n}\n\nApp.propTypes = {\n    version: PropTypes.string,\n    onThemeChange: PropTypes.func,\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport pgk from '../package.json';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { TouchBackend } from 'react-dnd-touch-backend';\n\nimport GenericBlock from './Components/RulesEditor/components/GenericBlock/index.jsx'\n\nwindow.GenericBlock = GenericBlock;\n\nwindow.adapterName = 'javascript';\nwindow.sentryDSN = 'https://504499a725eb4898930d3b9e9da95740@sentry.iobroker.net/56';\n\nconsole.log(`iobroker.${window.adapterName}@${pgk.version}`);\n\nconst isMobile = window.innerWidth < 600;\nconst container = document.getElementById('root');\nconst root = createRoot(container);\nroot.render(<DndProvider backend={isMobile ? TouchBackend : HTML5Backend}>\n    <App version={pgk.version} />\n</DndProvider>);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n/*\n    improved VSCode editor. This has to be down here, or we get conflicts\n    between loader.js and require calls in jQuery and other loaded modules\n*/\n// loader must be after socket.io, elsewise there is no window.io\nconst loadDynamicScript = window.loadDynamicScript;\nloadDynamicScript && loadDynamicScript(window.location.port === '3000' ? `${window.location.protocol}//${window.location.hostname}:8081/lib/js/socket.io.js` : './../../lib/js/socket.io.js', () =>\n    loadDynamicScript('vs/loader.js', () =>\n        loadDynamicScript('vs/configure.js', () =>\n            typeof window.socketLoadedHandler === 'function' && window.socketLoadedHandler())));\n"],"names":["_React$Component","_inherits","DialogRename","_super","_createSuper","props","_this","_classCallCheck","call","handleCancel","onClose","handleOk","onRename","oldId","state","id","name","instance","handleChange","setState","getId","isShowInstance","folder","instances","length","prefix","getPrefix","_createClass","key","value","parts","split","pop","join","replace","this","nextProps","_this2","_jsxs","Dialog","event","reason","maxWidth","fullWidth","open","children","_jsx","DialogTitle","I18n","DialogContent","noValidate","autoComplete","TextField","variant","style","width","autoFocus","label","onKeyPress","ev","preventDefault","setTimeout","onChange","e","target","margin","disabled","FormControl","InputLabel","htmlFor","Select","parseInt","inputProps","map","MenuItem","DialogActions","Button","onClick","color","startIcon","IconOk","IconCancel","React","DialogDelete","onDelete","IconDelete","fontSize","fontWeight","styles","card","minWidth","display","media","height","text","minHeight","complexity","fontStyle","marginBottom","DialogAddNew","_len","arguments","args","Array","_key","apply","concat","type","html","lang","includes","window","focus","Card","CardActionArea","CardMedia","image","ImgJS","title","CardContent","CardActions","size","openHtml","_this3","ImgTS","_this4","ImgBlockly","_this5","ImgRules","textAlign","getRulesCard","getBlocklyCard","getJSCard","getTSCard","DialogNew","onAdd","existingItems","indexOf","error","parent","trim","helperText","parents","splice","names","forEach","n","i","el","find","item","push","theme","background","palette","main","contrastText","DialogError","console","log","sx","DialogContentText","buttonIcon","marginRight","icon","filter","filterWithButton","marginTop","DialogAdapterDebug","adapterToDebug","enabled","socket","getObject","then","obj","common","setObject","_id","onDebug","jsInstance","localStorage","getItem","showAskForStop","jsInstanceHost","getAdapterInstances","_i$common","onlyWWW","_item$common","_item$common2","_item$common3","_name$split","adapter","_slicedToArray","host","sort","a","b","jsInstanceObj","startsWith","js","Grid","List","component","ListItem","button","selected","ListItemIcon","src","alt","ListItemText","primary","toLowerCase","onDoubleClick","container","direction","Input","placeholder","setItem","endAdornment","InputAdornment","position","IconButton","IconClose","renderJavascriptList","renderInstances","COLOR_RUN","green","COLOR_PROBLEM","yellow","COLOR_PAUSE","red","ROOT_ID","COMMON_ID","GLOBAL_ID","NARROW_WIDTH","SELECTED_STYLE","drawerPaper","overflow","toolbar","toolbarButtons","mode","iconButtonsDisabled","opacity","toolbarSearch","lineHeight","marginLeft","iconButtons","padding","iconDropdownMenu","paddingRight","iconOnTheRight","right","top","menu","innerMenu","overflowX","overflowY","listItemIcon","filterIcon","borderRadius","scriptIcon","cursor","userSelect","folderReorder","transitionDuration","transitionProperty","folderIcon","folderIconReorder","paddingTop","paddingBottom","paddingLeft","folderIconNoReorder","script","scriptReorder","reorder","expandButton","childrenCount","footer","footerButtons","mt","mr","backgroundColor","footerButtonsRight","float","mainList","images","Blockly","def","Rules","ImgTypeScript","getObjectName","en","toString","prepareList","data","modified","result","depth","index","ids","Object","keys","engineType","engine","it","idA","idB","parentIndex","Droppable","onDrop","_useDrop","useDrop","accept","drop","isOver","undefined","collect","monitor","shallow","isOverAny","_useDrop2","_useDrop2$","ref","className","Utils","Draggable","_useDrag","useDrag","isDragging","_useDrag2","drag","transform","SideDrawer","expanded","JSON","parse","inputRef","listItems","scripts","problems","themeName","creatingScript","creatingFolder","copingScript","renaming","deleting","choosingType","errorText","menuOpened","menuAnchorEl","searchMode","expertMode","searchText","typeFilter","statusFilter","runningInstances","scriptsHash","showAdapterDebug","newExp","ensureSelectedIsVisible","filterTimer","isAllZeroInstances","getIsAllZeroInstances","problemsTimer","onProblemUpdatedBound","onProblemUpdated","bind","_assertThisInitialized","cb","tasks","shift","match","that","substring","getState","err","readProblems","subscribeState","unsubscribeState","stringify","changed","val","pos","isSearchEnabled","newState","filterListStatic","ensureSelectedIsVisibleStatic","getIsAllZeroInstancesStatic","stopPropagation","_toConsumableArray","saveExpanded","_this6","onEnableDisable","debugMode","_objectSpread","IconPause","IconPlay","onEdit","IconDoEdit","_this7","Promise","resolve","whiteSpace","flex","onToggle","filtered","filteredPartly","childrenFiltered","_this8","depthPx","assign","iconStyle","isExpanded","combinedStyle","onDblClick","IconFolderOpened","IconFolder","getTextStyle","alignItems","justifyContent","ListItemSecondaryAction","renderItemButtonsOnEnd","source","newId","items","_this9","isFilteredOut","reactChildren","element","renderListItem","renderOneItem","onDragFinish","_this10","dense","disablePadding","_this11","_this12","copyId","_this13","word","m","_this14","menuAnchorFilterEl","selectedItem","_this15","Menu","anchorEl","PaperProps","maxHeight","MENU_ITEM_HEIGHT","showError","onCloseMenu","onExpertModeChange","IconExpert","onExport","IconExport","onImport","IconImport","onThemeChange","newThemeName","IconDark","onAddNew","onCopy","IconCopy","IconDebug","_this16","clearTimeout","filterList","onSearch","mini","IconClear","currentTarget","IconMore","getMainMenu","IconAdd","onAddNewFolder","IconAddFolder","IconFind","IconReorder","IconEdit","version","_this17","folders","_this18","_this19","Box","flexGrow","IconExpandAll","onExpandAll","IconCollapseAll","onCollapseAll","_this20","onDebugInstance","_this21","renamingItem","copingItem","Drawer","anchor","getToolbarButtons","Divider","DragDropContext","backend","HTML5Backend","renderAllItems","getBottomButtons","newName","newInstance","DialogAddNewScript","getUniqueName","getFolders","getUniqueFolderName","getAdapterDebugDialog","objects","found","lastIndexOf","nState","selectId","getTimeString","d","getHours","getMinutes","getSeconds","getMilliseconds","logBox","logBoxInner","verticalAlign","info","warn","debug","silly","table","fontFamily","toolbox","boxShadow","trFrom","trTime","trSeverity","layoutIcon","gText","Log","logHandler","message","allLines","lines","editing","generateLine","severity","ms","date","Date","ts","toLocaleString","goBottom","lastIndex","messagesEnd","row","regExp","RegExp","from","matches","substr","current","scrollIntoView","behavior","registerLogHandler","unregisterLogHandler","scrollToBottom","clear","IconBottom","clearLog","onLayoutChange","verticalLayout","onHideLog","IconHide","renderLogList","hasOwnProperty","ScriptEditor","isDark","language","readOnly","alive","check","typingsLoaded","runningInstancesStr","monacoDiv","editor","monaco","insert","originalCode","code","typings","lastSearch","_this$monaco","_this$monaco$language","_this$monaco$language2","_this$monaco$language3","monacoLoaded","languages","typescript","typescriptDefaults","getCompilerOptions","_this$monaco2","_this$monaco2$languag","_this$monaco2$languag2","_this$monaco2$languag3","monacoCounter","waitForMonaco","scriptAdapterInstance","sendTo","setTypeCheck","setEditorTypings","_this$monaco3","_this$monaco3$languag","_this$monaco3$languag2","_this$monaco3$languag3","componentDidMount","onRegisterSelect","getModel","getValueInRange","getSelection","compilerOptions","ScriptTarget","ES2015","allowJs","checkJs","noLib","lib","useUnknownInCatchVariables","moduleResolution","ModuleResolutionKind","NodeJs","setCompilerOptions","create","lineNumbers","scrollBeyondLastLine","automaticLayout","glyphMargin","breakpoints","onDidChangeModelContent","getValue","loadTypings","addCommand","KeyMod","CtrlCmd","KeyCode","KEY_S","onForceSave","highlightText","location","showDecorators","options","selectOnLineNumbers","setEditorOptions","setValue","onToggleBreakpoint","onMouseDown","detail","glyphMarginLeft","lineNumber","setEditorLanguage","updateOptions","lineWrap","wordWrap","typeCheck","setTheme","dispose","model","uri","path","filenameWithoutExtension","extension","newLanguage","newModel","createModel","Uri","setModel","noSemanticValidation","noSyntaxValidation","setDiagnosticsOptions","_this$monaco4","_this$monaco4$languag","_this$monaco4$languag2","_this$monaco4$languag3","_this$monaco5","_this$monaco5$languag","_this$monaco5$languag2","_this$monaco5$languag3","currentScriptName","isGlobalScript","test","partialDeclarationsPath","wantedTypings","_i","_Object$keys","filePath","content","setExtraLibs","addExtraLib","existingLibs","getExtraLibs","selection","range","Range","startLineNumber","startColumn","endLineNumber","endColumn","executeEdits","forceMoveMarkers","findMatches","r","setSelection","revealLine","getPosition","col","column","decorations","columnNumber","isWholeLine","bp","glyphMarginClassName","deltaDecorations","ranges","getVisibleRanges","revealLineInCenter","initNewScript","scrollToLineIfNeeded","insertTextIntoEditor","onInserted","newValue","_this$monaco6","_this$monaco6$languag","_this$monaco6$languag2","Fab","bottom","zIndex","IconNoCheck","forceUpdate","textArea","textAreaLight","dialog","typography","DialogExport","popper","file","Blob","fileName","scriptId","themeType","download","rel","href","URL","createObjectURL","textDecoration","Popper","placement","transition","_ref","TransitionProps","Fade","timeout","Paper","left","tabIndex","defaultProps","resize","dropzone","borderWidth","borderStyle","borderColor","boxSizing","dropzoneDiv","dropzoneRejected","dropzoneAccepted","iconError","iconOk","fullHeight","DialogImport","document","getElementById","files","readFileDataUrl","imageStatus","Dropzone","maxSize","acceptClassName","rejectClassName","handleDropFile","multiple","getRootProps","getInputProps","isDragActive","isDragReject","IconNo","IconPlus","IconUpload","reader","FileReader","onload","onabort","onerror","readAsText","toolboxXml","languageBlocklyLoaded","languageOwnLoaded","toolboxText","scriptsLoaded","searchXml","root","_result","tagName","attributes","nodeName","innerHTML","innerText","childNodes","node","BlocklyEditor","blockly","blocklyWorkspace","exportText","importText","someSelected","changeTimer","onResizeBind","onResize","lastCommand","blinkBlock","loadLanguages","Xml","workspaceToDom","searchBlocks","highlightBlock","someSelectedTime","now","command","blocklyCheckBlocks","badBlock","blocklyBlinkBlock","exportBlocks","importBlocks","searchId","updateBackground","loadCode","fileLang","createElement","setAttribute","onreadystatechange","readyState","getElementsByTagName","appendChild","fileCustom","svgResize","xml","l","decodeURIComponent","atob","block","select","unselect","blocks","getAllBlocks","isShadow","connections","getConnections_","conn","j","targetConnection","warningText","blocklyGetUnconnectedBlock","blocklyGetBlockWithWarning","sourceBlock_","INPUT_VALUE","OUTPUT_VALUE","_optional","warning","oneWay","JavaScript","workspaceToCode","dom","domToText","btoa","encodeURIComponent","selectedBlocks","getSelected","xmlBlock","blockToDom","dragMode_","DRAG_FREE","deleteNext","xy","getRelativeToSurfaceXY","RTL","x","y","domToPrettyText","loading","xmlBlocks","utils","textToDom","paste","onBlocklyChanged","ignoreChanges","jsCode2Blockly","domToWorkspace","blocklyRemoveOrphanedShadows","_componentDidUpdate","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","didUpdate","addEventListener","t0","getToolbox","sent","darkTheme","Theme","defineTheme","base","Themes","Classic","componentStyles","workspaceBackgroundColour","toolboxBackgroundColour","toolboxForegroundColour","flyoutBackgroundColour","flyoutForegroundColour","flyoutOpacity","scrollbarColour","insertionMarkerColour","insertionMarkerOpacity","scrollbarOpacity","cursorColour","blackBackground","inject","renderer","zoom","controls","wheel","startScale","maxScale","minScale","scaleSpeed","pinch","move","scrollbars","horizontal","vertical","trashcan","grid","spacing","snap","sounds","registerToolboxCategoryCallback","Procedures","flyoutCategoryNew","addChangeListener","masterEvent","allBlocks","removeSelect","Events","UI","CREATE","VIEWPORT_CHANGE","getElementsByClassName","stop","getThemeManager","removeEventListener","blocklyCode2JSCode","_getToolbox","_callee2","retry","_b","_context2","outerHTML","p1","MSG","CustomBlocks","Words","HUE","prototype","_x","DialogMessage","onImportBlocks","componentDidUpdate","renderMessageDialog","renderErrorDialog","renderExportDialog","renderImportDialog","url","callback","scriptTag","body","loadScripts","loadJS","adapters","toLoad","DOMParser","xmlStr","parseFromString","ActiveXObject","xmlDoc","async","loadXML","argsTitle","DialogScriptEditor","isReturn","ScriptEditorComponent","adapterName","IconSave","ICON_CACHE","MaterialDynamicIcon","iconName","_useState","useState","_useState2","setUrl","useEffect","_obj$common","Element","Icons","CardMenu","active","onTouchMove","cls","deepCopy","userRules","additionalParameter","_defineProperty","filterElement","CustomButton","square","CustomIcon","CustomCheckbox","customValue","switchChecked","setSwitchChecked","_Fragment","Checkbox","checked","Boolean","native","styleComponentBlock","memo","CustomInput","multiline","rows","inputText","setInputText","InputProps","formControl","mb","borderBottomColor","CustomInstance","attr","onInstanceHide","_useState3","_useState4","setOptions","_options","unshift","renderValue","input","placeContent","title2","FormHelperText","CustomModal","titleButtonApply","titleButtonClose","onApply","textInput","defaultValue","disableEscapeKeyDown","classes","paper","CustomSelect","doNotTranslate","doNotTranslate2","v","onlyItem","only","titleShort","titles","sel","valueOnly","CustomSlider","min","max","step","unit","marks","Slider","valueLabelDisplay","CustomSwitch","FormControlLabel","control","Switch","CustomTime","InputLabelProps","shrink","DAYS","CustomDate","_toString$split","_toString$split2","month","days","padStart","getName","STEPS","selector","_PureComponent","GenericBlock","renderText","frontText","backText","nameBlock","doNotTranslateBack","Fragment","renderSwitch","renderNameText","signature","renderNumber","settings","openCheckbox","visibility","noHelperText","renderColor","renderCheckbox","renderSlider","renderButton","buttonText","findIcon","getSelectIdIcon","o","catch","renderObjectID","checkReadOnly","showSelectId","_this$props","_obj$common2","_this$setState","lastObjectIdChange","write","DialogSelectID","imagePrefix","dialogName","statesOnly","onOk","_onChange2","role","states","read","setOnUpdate","renderIconTag","tagCard","tagCardArray","onChangeTag","openTagMenu","renderTime","renderSelect","_this$props2","renderInstance","_this$props3","hideAttributes","renderDialog","onShowDialog","renderModalInput","openModal","noTextEdit","renderDate","renderTags","_this$state","isTourOpen","tourStep","setTourStep","keepMounted","tag","onTagChange","search","_this$state2","newTagCardArray","newSettings","newTagCard","prevProps","acceptedBy","onUpdate","onChangeInput","attribute","_attr","getData","onValueChanged","render","_this$state3","inputs","iconTag","helpDialog","_this$props4","notFound","helpText","IconHelp","_ref2","nameRender","renderDebugInfo","renderSpecific","oid","instanceSelectionOptions","instanceSelectionDef","debugMessage","enableSimulation","debugHideTimeout","onDebugMessage","blockId","hideTimeout","renderDebug","context","_context$trigger","trigger","oidType","conditionsStates","PureComponent","sayitEngines","params","voice","emotion","gender","ename","ssml","ActionSayText","_GenericBlock","getStaticData","_get","_getPrototypeOf","config","volume","ActionSendEmail","recipients","subject","ActionTelegram","cachePromises","_setUsers","users","_users","user","userName","firstName","ActionPushover","sound","priority","ActionWhatsappcmb","phone","ActionPushsafer","device","vibration","DEFAULT_RULE","triggers","conditions","justCheck","actions","compileTriggers","json","jsonTriggers","vars","prelines","hist","conds","cond","findBlock","condition","conditionsDebug","conditionsVars","compile","ors","_ors","compileConditions","compileActions","_else","else","line","action","code2json","json2code","STANDARD_FUNCTION","STANDARD_FUNCTION_ONCHANGE","STANDARD_FUNCTION_STATE","STANDARD_FUNCTION_STATE_ONCHANGE","NO_FUNCTION","TriggerScriptSave","Compile","TriggerScheduleBlock","coordinates","_setAstro2","astro","offset","offsetValue","sunValue","time","astroTime","_ref$native","latitude","longitude","SunCalc","_time2String","order","setMinutes","_x2","_x3","_setInterval2","interval","_x4","_setAstro","_setInterval","textCron","openDialog","_callee3","_context3","convertCronToText","ComplexCron","cronExpression","wizardText","wizard","Schedule","valid","default","func","cron","_config$dow","_split","at","_split2","hours","minutes","dow","_dow","intervals","start","valueAck","valueNotAck","Transition","Slide","TriggerState","valOld","ackOld","ack","openSimulate","simulateValue","simulateAck","parseFloat","_this2$inputRef$curre","TransitionComponent","onKeyUp","keyCode","onWriteValue","IconCheck","isArray","HYSTERESIS","ConditionState","onShowHelp","showHysteresisHelp","_this$props$userRules","_this$props$userRules2","_this$props$userRules3","_this$props$userRules4","toUpperCase","compareWith","useTrigger","oidUnit","oidStates","_this$props$userRules5","_this$props$userRules6","isAllTriggersOnState","_setInputs","HysteresisImage","debugValue","histComp","compare","_context$trigger2","ConditionTime","withDate","ConditionAstronomical","TriggerSchedule","ActionSetState","toggle","_this$state$settings","oidMax","oidMin","oidRole","oidWrite","oidStep","isNaN","f","ignore","_this$_setInputs","ActionExec","exec","ActionHTTPCall","ActionPrintText","ActionPause","paused","pause","_getOptions","ActionFunction","ActionSetStateDelayed","delay","clearRunning","ActionOperateStates","oid1","oid2","operation","oidResult","ADAPTERS","telegram","email","sayit","pushover","pushsafer","ContextWrapperCreate","createContext","getOrLoadRemote","remote","shareScope","remoteFallbackUrl","reject","existingRemote","querySelector","__initialized","init","__webpack_share_scopes__","loadComponent","sharedScope","module","factory","Module","get","ContextWrapper","_ref3","setBlocks","_useState5","_useState6","setOnDebugMessage","_useState7","_useState8","setEnableSimulation","adapterDynamicBlocksArray","dynamicRules","alreadyCreated","_loop","k","adapterBlocksArray","_context4","javascriptRules","i18nURL","Component","protocol","i18n","fetch","t1","done","delegateYield","t2","StandardBlocks","Provider","CurrentItem","setUserRules","blockValue","setAnchorEl","_useContext","useContext","findElementBlocks","useCallback","newUserRules","findElement","handlePopoverOpen","blockInput","useMemo","CustomBlock","isDelete","setIsDelete","onMouseMove","onMouseEnter","onMouseLeave","ctrlKey","newItem","clientWidth","newItemsSwitches","layerStyles","pointerEvents","getItemStyles","initialOffset","currentOffset","isSnapToGrid","_snapToGrid","Math","round","snapToGrid","_snapToGrid2","WebkitTransform","CustomDragLayer","_useDragLayer","useDragLayer","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","targetIds","getTargetIds","useStateLocal","events","nameEvents","_React$useState","_React$useState2","newHeadCells","funcSet","_","setCards","moveCard","atIndex","cards","additionally","hoverClientY","hoverMiddleY","_findCard","findCard","copyCard","newTriggers","c","DragWrapper","typeBlocks","allProperties","isActive","end","dropResult","getDropResult","idNumber","preview","useRef","canDrop","hover","_ref$current","draggedId","hoverBoundingRect","getBoundingClientRect","getClientOffset","overIndexActions","overIndexConditions","overIndex","getEmptyImage","captureDraggingState","isMobile","innerWidth","DialogHelp","letterSpacing","DialogCondition","AdditionallyContentBlockItems","_itemsSwitchesRender$","itemsSwitchesRender","boolean","typeBlock","animation","checkItem","setCheckItem","canDropCheck","setCanDropCheck","checkId","setCheckId","hoverBlock","setHoverBlock","getHandlerId","_monitor$getItem","targetId","_options$","clientHeight","ContentBlockItems","_ref4","nameAdditionally","border","_useStateLocal","_useStateLocal2","additionallyClickItems","setAdditionallyClickItems","checkLocal","_useState9","_useState10","showHelp","setShowHelp","_useState11","_useState12","showConditionDialog","setShowConditionDialog","newArray","idx","_useState13","_useState14","setAnimation","_userRules","booleanAdditionally","newAdditionally","_props$allProperties","onDoubl","HamburgerMenu","addClass","setAllBlocks","onChangeBlocks","hamburgerOnOff","setHamburgerOnOff","_useStateLocal3","_useStateLocal4","setFilter","setBlocksFunc","typeFunc","newAllBlocks","a11yProps","ClickAwayListener","mouseEvent","touchEvent","onClickAway","AppBar","Tabs","Tab","_el$getStaticData2","CustomDragItem","running","importExport","setImportExport","modal","setModal","_jsInstance","_jsAlive","handler","handlerStatus","msg","ruleId","_obj$common3","subscribeObject","unsubscribeObject","setAddClass","editorDiv","Editor","scriptName","Console","onClearAllLogs","frameRoot","frameTextRoot","frameTextPrimary","frameTextSecondary","pl","listRoot","scopeType","textTransform","scopeType_local","scopeType_closure","scopeType_user","scopeName","textOverflow","scopeButton","scopeValueEditable","selectedFrame","splitter","toolbarScopes","scopesAfterToolbar","scopeNameName","scopeNameEqual","scopeNameValue","scopeButtonDel","valueNull","valueUndefined","valueString","valueNumber","valueBoolean","valueObject","valueNone","valueFunc","Stack","framesSizesStr","framesSizes","editValue","callFrames","editRef","onExpressionNameUpdate","scopeValue","onBlur","CheckIcon","formatValue","valueType","onExpressionDelete","expressions","renderExpression","frame","mainScriptId","currentScriptId","ListItemButton","onChangeCurrentFrame","currentFrame","functionName","secondary","forEdit","description","ReactJson","enableClipboard","collapsed","displayDataTypes","onWriteScopeValue","variableName","scopeNumber","callFrameId","_this$editRef$current","scopeId","_item$value","_item$value2","editable","_this$props$scopes","_this$props$scopes$lo","_this$props$scopes$lo2","_this$props$scopes2","_this$props$scopes2$c","_this$props$scopes2$c2","renderExpressions","scopes","local","properties","renderScope","closure","ReactSplit","SplitDirection","initialSizes","minWidths","onResizeFinished","_gutterIdx","gutterClassName","renderOneFrameTitle","onExpressionAdd","renderScopes","buttonRun","buttonPause","buttonRestart","buttonStop","buttonNext","buttonStep","buttonOut","buttonException","tabFile","tabText","closeButton","tabsRoot","tabRoot","bpListItem","borderTop","monospace","arrow","Debugger","fromInstance","cmd","debugInstance","_data$context","tabs","random","starting","finished","started","getLocation","reinitBreakpoints","readCurrentScope","readExpressions","_data$context2","_data$context3","scope","sendToInstance","toolsTab","logErrors","logWarnings","logs","expression","_data$breakpoints","_data$breakpoints$loc","_data$breakpoints2","_data$breakpoints2$lo","locations","queryBreakpoints","alert","toolSizesStr","toolSizes","stopOnException","_obj$common$engine","_this$state$context","scopeChain","global","_this$state$context2","getTextAtLocation","indicatorColor","scrollButtons","closeTab","Toolbar","onRestart","IconRestart","onResume","IconRun","onPause","onNext","IconNext","onStepIn","IconStep","onStepOut","IconOut","onToggleException","IconException","renderTabs","getPossibleBreakpoints","sourceId","toggleBreakpoint","_this$state$context3","logWarning","_console","Badge","badgeContent","renderFrames","renderConsole","LinearProgress","renderToolbar","minHeights","renderCode","renderQueryBreakpoints","renderTools","renderError","allObjectsCache","allObjects","channels","devices","enums","getObjectView","values","reduce","getText","detectDevices","devicesObject","detector","usedIds","ignoreIndicators","excludedTypes","rooms","funcs","list","deviceObj","idArray","parentObject","_parentObject$common","_grandParentObject$co","grandParentObject","_grandParentObject$co2","_parentObject$common2","ChannelDetector","_devicesObject$id","_devicesObject$id2","_devicesObject$id2$co","smartName","members","member","_keysOptional","_usedIdsOptional","detect","stateId","st","channelId","deviceId","deviceObject","deviceType","defaultRole","room","roomId","funcId","function","systemPrompt","docs","LANGUAGES","ru","de","es","fr","nl","pt","uk","ChatIcon","viewBox","fill","fullHeightDialog","question","setQuestion","answer","setAnswer","setOpen","working","setWorking","setError","showKeyWarning","setShowKeyWarning","devicesCache","gptKeyCache","docsCache","ask","apiKey","openai","chatCompletionPhase1","comments","gptKey","OpenAI","dangerouslyAllowBrowser","chat","completions","messages","choices","endsWith","flexDirection","gap","Close","Question","CircularProgress","Copy","Check","onAddCode","COLOR_DEBUG","COLOR_VERBOSE","toolbarButtonsDisabled","textButton","saveButton","textIcon","tabIcon","hintIcon","hintText","hintButton","tabMenuButton","tabChanged","tabChangedIcon","notRunning","tabButton","tabButtonWrapper","menuIcon","onInstanceChanged","onBrowserClose","isChanged","returnValue","tabsRef","rules","debugEnabled","verboseEnabled","showCompiledCode","showCron","showScript","showAstro","astroEvents","visible","cmdToBlockly","cmdToRules","menuTabsOpened","menuTabsAnchorEl","showDebugMenu","toast","instancesLoaded","setChangedInAdmin","initValue","scriptDialog","systemLang","selectIdDialog","cronDialog","showScriptDialog","getAllAdapterInstances","onSelectedChange","instanceObjects","configNotSaved","_changed","verbose","removeNonExistingScripts","oldSource","commonLocal","nextCommon","getSelect","showConfirmDialog","nowSelected","isScriptChanged","ok","onTabClose","confirmCallback","confirm","onTabChange","textColor","allowScrollButtonsMobile","getScriptFullName","wrapped","iconPosition","_event","IconCloseAll","menuDebugAnchorEl","IconVerbose","askAboutDebug","DialogConfirm","onDebugModeChange","cancel","isInstanceRunning","isScriptRunning","changedAll","onLocate","IconLocate","onStartStop","onSave","endIcon","onSaveAll","onCancel","sendCommandToBlockly","IconCron","OpenAiDialog","IconAstro","IconSelectId","onConvertBlockly2JS","sendCommandToRules","IconDebugMode","ImgBlockly2Js","ImgRules2Js","badgeMargin","getDebugBadge","IconDebugMenu","resizing","RulesEditor","_this$selectId","selectedId","types","_this22","DialogCron","_this23","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","Tooltip","isValidDate","toLocaleTimeString","align","serverTime","_this24","_this25","Snackbar","anchorOrigin","autoHideDuration","ContentProps","closeToast","_this26","isAnyRulesExists","Tour","steps","isOpen","onRequestClose","goToStep","_this27","_this28","getTabs","getToolbar","getScriptEditor","getAskAboutDebug","getBlocklyEditor","getRulesEditor","getDebug","getConfirmDialog","getSelectIdDialog","getCronDialog","getEditorDialog","getAstroDialog","getDebugMenu","getToast","getTour","DialogImportFile","readAsDataURL","menuDiv","splitterDivs","mainDiv","splitterDivWithMenu","menuDivWithoutMenu","progress","menuOpenCloseButton","showLogButton","App","_GenericApp","Connection","AdminConnection","translations","require","bottomButtons","autoSubscribeLog","sentryDSN","onScriptsChanged","onInstanceAliveChange","reload","onHostChanged","hosts","logSizesStr","logSizes","splitSizesStr","splitSizes","importFile","ready","updateScripts","updating","logMessage","menuSelectId","logHorzLayout","hideLog","subscribeOnInstances","readAdaptersWithBlockly","getHosts","readAllScripts","compareScripts","instancesArray","promises","instanceId","all","newScripts","oldIds","newIds","oldScript","newScript","promise","parentID","updateScript","renameGroup","_list","nId","delObject","expert","isFolder","reg","onSelect","newCommon","_obj","extendObject","_rev","getLiveHost","getFullYear","getMonth","getDate","getRawSocket","emit","link","fileStorageNamespace","click","remove","onImportConfirmed","showMessage","sum","onUpdateScript","IconShowLog","renderEditor","onResizeStarted","onResizing","toggleLogLayout","IconMenuOpened","IconMenuClosed","SideMenu","update","renderMain","StyledEngineProvider","injectFirst","ThemeProvider","Loader","GenericApp","propTypes","PropTypes","hostname","pgk","createRoot","DndProvider","TouchBackend","navigator","serviceWorker","registration","unregister","loadDynamicScript","port","socketLoadedHandler"],"sourceRoot":""}