{"version":3,"sources":["assets/tileJS.png","assets/tileTS.png","assets/tileBlockly.png","assets/blockly2js.png","Components/assets/state.png","Components/assets/channel.png","Components/assets/device.png","Components/assets/empty.png","assets/copy-content.svg","createTheme.js","Theme.js","i18n.js","Dialogs/Rename.js","Dialogs/Delete.js","Dialogs/AddNewScript.js","Dialogs/New.js","Dialogs/Error.js","SideMenu.js","Log.js","Components/ScriptEditorVanilaMonaco.js","Components/BlocklyEditor.js","Dialogs/Message.js","Dialogs/Export.js","Dialogs/Import.js","Dialogs/Confirmation.js","Components/cp-react-tree-table/src/component/Column.js","Components/cp-react-tree-table/src/component/ColumnWrapper.js","Components/cp-react-tree-table/src/component/VirtualListRow.js","Components/cp-react-tree-table/src/model/row.js","Components/cp-react-tree-table/src/util/index.js","Components/cp-react-tree-table/src/model/bt_node.js","Components/cp-react-tree-table/src/model/bt_leaf.js","Components/cp-react-tree-table/src/model/bt_root.js","Components/cp-react-tree-table/src/component/VirtualList.js","Components/cp-react-tree-table/src/component/TreeDataTable.js","Components/cp-react-tree-table/src/util/search.js","Components/cp-react-tree-table/src/index.js","Components/Utils.js","Components/SelectID.js","Dialogs/SelectID.js","Components/simple-cron/cron2text.js","Components/simple-cron/jquery.cron.locale.js","Components/simple-cron/cronText.js","Components/ComplexCron.js","Components/simple-cron/SimpleCron.js","Components/Schedule.js","Dialogs/Cron.js","Dialogs/ScriptEditor.js","Editor.js","Connection.js","Components/Loader.js","Dialogs/ImportFile.js","App.js","serviceWorker.js","index.js","assets/js.png","assets/blockly.png","assets/typescript.png"],"names":["module","exports","__webpack_require__","p","createTheme","type","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","Theme","root","flexGrow","display","width","height","menu","depthOffset","colors","selected","background","color","error","toolbar","tabs","I18n","lang","word","arg1","arg2","arg3","translations","w","console","log","concat","undefined","replace","en","require","ru","de","zh-cn","window","sysLang","DialogRename","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleCancel","onClose","handleOk","onRename","oldId","state","id","name","instance","handleChange","setState","getId","isShowInstance","folder","instances","length","prefix","getPrefix","parts","split","pop","join","nextProps","_this2","react_default","a","createElement","Dialog","disableBackdropClick","disableEscapeKeyDown","maxWidth","fullWidth","open","aria-labelledby","DialogTitle","t","DialogContent","noValidate","autoComplete","TextField","style","label","value","onKeyPress","ev","key","preventDefault","setTimeout","onChange","e","target","margin","disabled","FormControl","InputLabel","htmlFor","Select","parseInt","inputProps","map","MenuItem","DialogActions","Button","onClick","React","Component","DialogDelete","onDelete","index_esm","fontSize","fontWeight","DialogAddNew","html","getLanguage","focus","Card","className","classes","card","CardActionArea","CardMedia","media","image","ImgJS","title","CardContent","text","CardActions","size","openHtml","_this3","ImgTS","_this4","ImgBlockly","textAlign","getJSCard","getBlocklyCard","getTSCard","withStyles","DialogNew","onAdd","existingItems","indexOf","parent","helperText","minWidth","parents","splice","names","forEach","n","i","el","find","item","push","DialogError","aria-describedby","titleBackground","titleColor","DialogContentText","autoFocus","theme","Themes","&>h2","COLOR_RUN","green","COLOR_PROBLEM","yellow","COLOR_PAUSE","red","images","Blockly","Javascript/js","def","TypeScript/ts","ImgTypeScript","getObjectName","obj","common","prepareList","data","modified","result","ids","keys","sort","b","enabled","depth","engineType","engine","startsWith","index","it","parentIndex","SideDrawer","onDragUpdate","update","provided","destination","listItems","dragDepth","expanded","localStorage","getItem","JSON","parse","inputRef","createRef","scripts","problems","reorder","draggedId","creatingScript","creatingFolder","copingScript","renaming","deleting","choosingType","errorText","menuOpened","menuAnchorEl","searchMode","expertMode","searchText","filterMenuOpened","typeFilter","statusFilter","runningInstances","newExp","ensureSelectedIsVisible","scriptsHash","filterTimer","isAllZeroInstances","getIsAllZeroInstances","problemsTimer","onProblemUpdatedBound","onProblemUpdated","bind","assertThisInitialized","cb","tasks","shift","match","that","connection","getState","substring","err","readProblems","subscribeState","unsubscribeState","_this5","stringify","changed","val","pos","isDisable","_this6","noUpdate","newState","toLowerCase","filteredPartly","found","objects","source","lastIndexOf","filtered","filterList","selectId","setItem","stopPropagation","saveExpanded","newId","draggableId","event","children","_this7","IconButton","iconButtons","onEnableDisable","onEdit","_this8","Promise","resolve","isExpanded","_this9","gripHandle","noGripHandle","expandButton","onCollapse","onExpand","whiteSpace","padding","overflow","flex","items","_this10","childrenFiltered","filter","isFilteredOut","depthPx","assign","marginLeft","cursor","opacity","iconStyle","inner","ListItem","element","onDoubleClick","onDblClick","renderFolderButtons","ListItemIcon","fa_index_esm","scriptIcon","alt","src","ListItemText","getTextStyle","childrenCount","ListItemSecondaryAction","renderItemButtons","react_beautiful_dnd_esm","isDragDisabled","snapshot","ref","innerRef","draggableProps","dragHandleProps","isDragging","draggableStyle","objectSpread","userSelect","renderOneItem","dragging","_this11","List","dense","disablePadding","_this12","_this13","copyId","_this14","m","_this15","menuAnchorFilterEl","filterIcon","selectedItem","_this16","Menu","anchorEl","PaperProps","maxHeight","MENU_ITEM_HEIGHT","showError","then","iconDropdownMenu","onCloseMenu","onExpertModeChange","onExport","onImport","onThemeChange","onAddNew","onCopy","_this17","RootRef","rootRef","Input","toolbarSearch","placeholder","clearTimeout","onSearch","toolbarButtons","float","mini","marginTop","aria-label","aria-owns","aria-haspopup","currentTarget","getMainMenu","getFilterMenu","onAddNewFolder","folders","_this18","_this19","footerButtons","footerButtonsRight","onExpandAll","onCollapseAll","_this20","renamingItem","copingItem","Drawer","variant","paper","drawerPaper","anchor","getToolbarButtons","Divider","onDragStart","onDragEnd","droppableId","innerMenu","renderAllItems","footer","getBottomButtons","Rename","newName","newInstance","Delete","AddNewScript","New","getUniqueName","getFolders","getUniqueFolderName","Dialogs_Error","position","lineHeight","paddingRight","iconOnTheRight","right","top","overflowX","overflowY","borderRadius","marginRight","&:hover","backgroundColor","Log","lines","goBottom","editing","lastIndex","messagesEnd","logHandlerBound","logHandler","message","ts","severity","trTime","d","getHours","toString","getMinutes","getSeconds","getMilliseconds","getTimeString","Date","trSeverity","current","scrollIntoView","behavior","allLines","generateLine","ms","date","toLocaleString","registerLogHandler","unregisterLogHandler","scrollToBottom","hasOwnProperty","str","document","body","appendChild","select","execCommand","removeChild","copyToClipboard","logBox","toolbox","clearLog","onLayoutChange","layoutIcon","verticalLayout","logBoxInner","table","clear","paddingLeft","info","warn","debug","silly","fontFamily","left","boxShadow","toolboxXml","ScriptEditor","isDark","language","readOnly","alive","check","monacoDiv","editor","monaco","insert","originalCode","code","globalTypingHandles","typings","lastSearch","monacoCounter","waitForMonaco","componentDidMount","onRegisterSelect","getModel","getValueInRange","getSelection","compilerOptions","languages","typescript","typescriptDefaults","ScriptTarget","ES2015","allowJs","checkJs","noLib","lib","moduleResolution","ModuleResolutionKind","NodeJs","setCompilerOptions","setTypeCheck","create","lineNumbers","scrollBeyondLastLine","automaticLayout","onDidChangeModelContent","getValue","scriptAdapterInstance","getScripts","sendTo","setEditorTypings","addCommand","KeyMod","CtrlCmd","KeyCode","KEY_S","onForceSave","highlightText","options","selectOnLineNumbers","setEditorOptions","setValue","setEditorLanguage","updateOptions","lineWrap","wordWrap","typeCheck","setTheme","dispose","model","uri","path","filenameWithoutExtension","substr","extension","newLanguage","newModel","createModel","Uri","from","setModel","noSemanticValidation","noSyntaxValidation","setDiagnosticsOptions","isGlobal","handle","addExtraLib","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","return","isGlobalScript","test","partialDeclarationsPath","_i","_Object$keys","addTypingsToEditor","selection","range","Range","startLineNumber","startColumn","endLineNumber","endColumn","executeEdits","forceMoveMarkers","findMatches","r","setSelection","revealLine","row","getPosition","lineNumber","col","column","insertTextIntoEditor","onInserted","newValue","Fab","bottom","zIndex","forceUpdate","DialogMessage","DialogExport","popper","getElementById","dialog","textArea","textAreaLight","Popper","placement","transition","_ref","TransitionProps","Fade","timeout","Paper","typography","tabIndex","aria-hidden","spacing","unit","DialogImport","fullHeight","resize","languageBlocklyLoaded","languageOwnLoaded","toolboxText","scriptsLoaded","BlocklyEditor","blockly","blocklyWorkspace","exportText","importText","someSelected","changeTimer","onResizeBind","onResize","lastCommand","blinkBlock","loadLanguages","dom","Xml","workspaceToDom","searchXml","allBlocks","getAllBlocks","blocks","searchBlocks","addSelect","removeSelect","command","blocklyCheckBlocks","badBlock","blocklyBlinkBlock","exportBlocks","importBlocks","searchId","updateBackground","loadCode","fileLang","setAttribute","onload","onreadystatechange","readyState","getElementsByTagName","fileCustom","svgResize","xml","l","decodeURIComponent","atob","block","unselect","isShadow","connections","getConnections_","conn","j","targetConnection","warningText","blocklyGetUnconnectedBlock","blocklyGetBlockWithWarning","sourceBlock_","INPUT_VALUE","OUTPUT_VALUE","_optional","warning","oneWay","JavaScript","workspaceToCode","domToText","btoa","encodeURIComponent","xmlBlock","blockToDom","dragMode_","DRAG_FREE","deleteNext","xy","getRelativeToSurfaceXY","RTL","x","y","domToPrettyText","trim","xmlBlocks","textToDom","nodeName","paste","onBlocklyChanged","ignoreChanges","jsCode2Blockly","domToWorkspace","alert","blocklyRemoveOrphanedShadows","didUpdate","addEventListener","getToolbox","inject","zoom","controls","wheel","startScale","maxScale","minScale","scaleSpeed","trashcan","grid","colour","snap","addChangeListener","masterEvent","Events","UI","CREATE","getElementsByClassName","classList","darkBackground","add","remove","removeEventListener","blocklyCode2JSCode","outerHTML","p1","MSG","CustomBlocks","_b","Words","HUE","componentDidUpdate","Message","Export","Import","onImportBlocks","url","callback","location","scriptTag","onerror","adapter","loadJS","loadScripts","toLoad","DOMParser","xmlStr","parseFromString","ActiveXObject","xmlDoc","async","loadXML","_id","_result","tagName","attributes","innerText","childNodes","node","stroke","fill","DialogConfirm","onOk","question","ok","cancel","Column","ColumnWrapper","_this$props","rowData","toggle","rowMetadata","renderCell","classNameColumn","_width","cWidth","baseClass","STYLE_COLUMN","boxSizing","VirtualListRow","overscanHeight","topOffset","hasVisibleChildren","onToggle","columns","classNameRow","classNameSelected","metadata","getMetadata","STYLE_ROW","getHeight","data-rindex","onRowClick","data-depth","Children","toArray","ColumnWrapper_ColumnWrapper","Row","hasChildren","arguments","isVisible","_height","_cacheHeight","_hasChildren","_updateHeight","hide","show","diff","processData","rowHeightDefault","processLevel","needle","haystack","noop","BTNode","_size","ch","getSize","at","child","sz","rm","Math","min","oldHeight","removeInner","BTLeaf","rows","collapse","insertInner","remaining","leaf","slice","maybeSpill","me","sibling","myIndex","copy","op","used","mapRange","apply","BTRoot","get","prototype","Error","cur","chunk","rHeight","getRow","rowObj","VirtualList","_handleScroll","onScroll","container","scrollTop","_setHeight","offsetHeight","lastVisibleRowIndex","classNamePartlyVisible","classNameMover","classNameInner","_this$state","startYMax","max","startY","startIndex","getIndexAtY","endY","endIndex","contentTopOffset","getYAtIndex","visibleRowsData","visibleRows","relativeIndex","visible","VirtualListRow_VirtualListRow","STYLE_LIST","elem","STYLE_WRAPPER","STYLE_CONTENT","posY","parentNode","WebkitOverflowScrolling","minHeight","TreeDataTable","_handleOnToggle","delta","_toggleRow","hasChange","toggleOpen","currentDepth","rowIndex","getRowIndex","rowHeight","VirtualList_VirtualList","virtualList","expandAncestors","dataNode","mapAll","findNodeData","ancestors","currentRowIndex","previousDepth","currentRow","currentRoot","scrollTo","to","_from","_to","_isOpRangeValid","hasChanged","_walkOne","expandOrCollapse","_showRowsInRange","_hideRowsInRange","maxTo","days","months","Utils","toUpperCase","settings","isDesc","attr","desc","CapitalWords","forEnumId","custom","user","subOrder","order","subURLs","URLs","list","dest","Array","_result$splice","removed","slicedToArray","defaultEnabling","useCustom","icon","s","useCommon","pathname","defaultValue","g","rgb","seconds","parseFloat","isNaN","hours","floor","minutes","secs","angle","num","format","dateFormat","now","year","day","abs","getTime","getDay","getDate","getMonth","namespace","INSTANCES","binarySearch","applyFilter","filters","context","filteredOut","role","room","members","func","expert","fID","fName","getName","_item","formatDate","dateObj","getFullYear","v","formatValue","texts","valFull","states","ex","getStates","isCommon","valText","round","lc","ack","quality","q","quality2text","getSelectIdIcon","_id_","IconDefaultDevice","IconDefaultChannel","IconDefaultState","IconDefault","SelectID","loaded","statesUpdate","selectedFound","copyContentImg","CopyContentImg","treeTableRef","mainRef","subscribes","getObjects","_buildTree","currentPathArr","currentPath","currentPathLen","funcEnums","roomEnums","roles","croot","_loop","statesOnly","repeat","u","move","curPath","_loop2","k","_croot","buildTree","onSelect","onStateChangeBound","onStateChange","isDouble","toggleChildren","createRange","selectNode","removeAllRanges","addRange","__installed","cellCopy","div","img","A200","dataset","cellCopyPressed","prevProps","prevState","installCopyButtons","findNode","_parts","_path","_level","recordStates","unsubscribe","pattern","statesUpdateTimer","isState","data-index","cellWrapper","toggleButtonWrapper","cellWrapperElement","findRoomsForObject","withParentInfo","rooms","origin","findFunctionsForObject","funcs","subscribe","headerCellInput","marginBottom","underline","onFilter","values","displayEmpty","selectNone","selectIcon","getFilterSelect","expandAll","collapseAll","Toolbar","visibleButtons","onExpandVisible","onCollapseVisible","unsubscribeTimer","checkUnsubscribes","WIDTHS","mainDiv","getToolbar","header","headerCell","getFilterInput","getFilterSelectRole","getFilterSelectRoom","getFilterSelectFunction","tableDiv","cp_react_tree_table_src","partlyVisible","treeTableDark","treeTable","treeTableRow","isDoubleClick","grow","renderIndexColumn","cellDivId","renderColumnName","cellDiv","renderColumnRole","renderColumnRoom","renderColumnFunc","renderColumnValue","CircularProgress","borderTop","borderBottom","verticalAlign","alignItems","selectSpan","border","paddingTop","A700","DialogSelectID","headerID","content","Components_SelectID","fontStyle","cronToText","cronspec","withSeconds","locale","NAMES","JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC","SUN","MON","TUE","WED","THU","FRI","SAT","REPLACEMENTS","* * * * * *","@YEARLY","@ANNUALLY","@MONTHLY","@WEEKLY","@DAILY","@HOURLY","FIELDS","h","D","M","Y","offset","sched","inc","addHash","schedules","curSched","hash","dc","field","clone","cloneSchedule","except1","except2","exceptions","addWeekday","incSplit","rangeSplit","isHash","itemSorter","toInt","argumentForCoercion","number","coercedNumber","isFinite","ceil","ordinal","ORDINALS","th","st","nd","rd","numberList","numbers","lastVal","numberToDateName","DOW","MONTH","dateList","outputText","zeroPad","schedule","Every","hm","and","scheduleToSentence","expr","hasSeconds","prepared","prepareExpr","f","component","components","parseExpr","parseCron","JQUERY_CRON_LOCALE","every day","minute past the","hour","minute","minute of","second","second in minute","second of every","minute every hour","on the","of every month","and every","At","on","in","convertCronToText","cron","correctCasus","WEEKDAYS","MONTHS","convertMinusIntoArray","iMax","convertArrayIntoMinus","newParts","start","end","ComplexCron","cronExpression","cron2state","extended","tab","state2cron","modes","dates","dows","defineProperty","recalcCron","nums","numberButton","every","everyN","periodSelect","_this5$setState","_this5$setState2","_this5$setState3","InputLabelProps","shrink","getDigitsSelector","FormControlLabel","control","Checkbox","checked","AppBar","appBar","Tabs","active","Tab","tabContent","getPeriodsTab","cronParts","slider","numberButtonBreak","PERIODIC","once","interval","intervalBetween","specific","PERIODIC_TYPES","DEFAULT_STATE","mode","period","SimpleCron","time","timeFrom","timeTo","weekdays","formControl","formControlMarginRight","formControlPaddingTop","getControlsTime","getControlsDate","getControlsPeriodElements","getControlsWeekdaysElements","onModeChange","getOnceElements","getIntervalElements","getIntervalBetweenElements","getSpecificTimeElements","part","dow","text2weekdays","periodArray2text","partsDate","month","PERIODS","ASTRO","DEFAULT","exactTime","weeks","years","yearMonth","yearDate","valid","string2USdate","Schedule","now2string","refFrom","refTo","refOnce","state2text","force","isDiff","string2date","today","setHours","setMinutes","setSeconds","setMilliseconds","validFrom","tDows","last","tMonths","wholeDay","night","fromTo","rowDiv","modeDiv","Radio","inputRadio","_schedule","settingsDiv","inputTime","getPeriodSettingsMinutes","isAstro","hr","isOnce","rowOnce","inputDate","timerOnce","rowDays","getPeriodSettingsDaily","getPeriodSettingsWeekdays","rowDows","getPeriodSettingsWeekly","rowDowsDows","rowMonths","getPeriodSettingsMonthly","rowMonthsDates","getPeriodSettingsDates","rowYears","getPeriodSettingsYearly","inputEvery","isSpecific","FormGroup","inputGroup","inputGroupElement","inputSmallCheck","parsedDates","inputDateDay","inputDateDayCheck","pointerEvents","parsedMonths","isEnd","setDate","timerFrom","timerTo","scrollWindow","getTimePeriodElements","getTimeExactElements","getDivider","getPeriodModes","getValidSettings","rowDates","rowWeeks","rowDaysDows","paddingBottom","DialogCron","simple","dialogPaper","setMode","simple_cron_SimpleCron","Components_Schedule","Components_ComplexCron","radio","DialogScriptEditor","isReturn","args","argsTitle","ScriptEditorVanilaMonaco","setChangedInAdmin","isChanged","configNotSaved","Editor","tabsRef","debugEnabled","verboseEnabled","showBlocklyCode","showSelectId","showCron","showScript","cmdToBlockly","menuTabsOpened","menuTabsAnchorEl","showDebugMenu","initValue","scriptDialog","systemLang","selectIdDialog","cronDialog","showScriptDialog","onSelectedChange","onBrowserCloseBound","onBrowserClose","returnValue","_changed","verbose","removeNonExistingScripts","commonLocal","nextCommon","onRestart","getSelect","showConfirmDialog","nowSelected","script","isScriptChanged","onTabClose","confirmCallback","confirm","cmd","onTabChange","indicatorColor","textColor","scrollButtons","tabIcon","tabText","tabChanged","tabChangedIcon","closeButton","href","tabButton","wrapper","tabButtonWrapper","tabMenuButton","_event","hintButton","hintIcon","menuDebugAnchorEl","menuIcon","isInstanceRunning","isScriptRunning","onLocate","notRunning","textButton","onSave","onCancel","sendCommandToBlockly","onConvert2JS","ImgBlockly2Js","Badge","badgeMargin","badgeContent","getDebugBadge","editorDiv","Components_BlocklyEditor","resizing","Confirmation","Dialogs_SelectID","Cron","Dialogs_ScriptEditor","getTabs","getScriptEditor","getBlocklyEditor","getConfirmDialog","getSelectIdDialog","getCronDialog","getEditorDialog","getDebugMenu","hintText","textOverflow","PROGRESS","CONNECTING","CONNECTED","OBJECTS_LOADED","READY","Connection","autoSubscribes","autoSubscribeLog","socket","io","connect","protocol","host","query","hosts","groups","acl","firstConnect","waitForRestart","connected","statesSubscribes","onProgress","onError","emit","systemConfig","navigator","userLanguage","onLanguage","onReady","reload","subscribed","onLog","onLogHandler","operation","objectChange","stateChange","cbs","reg","RegExp","_rev","oldObj","onBlocklyChanges","onObjectChange","task","disableProgressUdpate","res","STATES_LOADED","reject","refresh","isEnable","newCommon","_obj","originalGroup","confirmed","deleted","deleteId","onConfirmDelete","_deleteGroup","_list","nId","renameGroup","handler","PropTypes","Loader","borderWidth","DialogImportFile","imageStatus","files","file","readFileDataUrl","dropzone","dropzoneAccepted","dropzoneRejected","es","maxSize","acceptClassName","rejectClassName","onDrop","handleDropFile","multiple","accept","getRootProps","getInputProps","isDragActive","isDragReject","dropzoneDiv","iconError","iconOk","reader","FileReader","onabort","readAsDataURL","borderStyle","borderColor","transform","App","progress","ready","updateScripts","updating","logMessage","menuSelectId","logHorzLayout","importFile","themeType","logSize","menuSize","setLanguage","isReady","nScripts","compareScripts","loadCustomBlockly","newScripts","oldIds","newIds","oldScript","newScript","promise","updateScript","catch","delObject","isFolder","setObject","getLiveHost","link","click","download","onImportConfirmed","showMessage","errorDialog","ImportFile","menuOpenCloseButton","lib_default","vertical","primaryMinSize","secondaryInitialSize","onSecondaryPaneSizeChange","src_Editor","onUpdateScript","extendObject","src_Log","toggleLogLayout","primaryIndex","secondaryMinSize","customClassName","splitterDivs","menuDivWithoutMenu","SideMenu","renderMain","Components_Loader","menuDiv","&>div","& .layout-splitter","default","splitterDivWithMenu","&>div:first-child","&>.layout-splitter","Boolean","hostname","build","Map","ReactDOM","render","MuiThemeProvider","src_App","_theme","serviceWorker","registration","unregister"],"mappings":"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CJC,GAAI,IAERM,MAAO,CACH,SACA,UACA,UACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAEJD,IAAK,CACD,UACA,SACA,WACA,WACA,aACA,UACA,WAEJM,MAAoB,UACpBE,IAAoB,MACpBY,YAAoB,YACpBC,kBAAoB,eACpBC,KAAoB,SACpBC,OAAoB,SACpBC,YAAoB,cACpBC,OAAoB,UACpBC,mBAAoB,wBACpBC,kBAAoB,aACpBC,oBAAqB,qBACrBC,SAAoB,KACpBC,iBAAoB,iBACpBC,YAAoB,eACpBC,GAAoB,KACpBC,GAAoB,KACpBC,GAAoB,MAGxBf,GAAwB,CACpB5B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,uCACA,6CACA,iCACA,uCACA,2BACA,2BACA,2BACA,6CACA,mDACA,6CACA,uCACA,8CAEJD,IAAK,CACD,qEACA,qEACA,6CACA,iCACA,6CACA,6CACA,8CAEJM,MAAoB,qDACpBE,IAAoB,SACpBY,YAAoB,gEACpBC,kBAAoB,8CACpBC,KAAoB,yCACpBC,OAAoB,uCACpBC,YAAoB,gDACpBC,OAAoB,6CACpBC,mBAAoB,yFACpBC,kBAAoB,gGACpBC,oBAAqB,+FACrBC,SAAoB,GACpBC,iBAAoB,iHACpBC,YAAoB,8CACpBC,GAAoB,SACpBC,GAAoB,SACpBC,GAAoB,UAGxBf,GAAwB,CACpB5B,SAAU,CACNC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAERM,MAAO,CACH,SACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,UAGJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAGJM,MAAoB,SACpBE,IAAoB,KACpBY,YAAoB,iBACpBC,kBAAoB,qBACpBC,KAAoB,QACpBC,OAAoB,SACpBC,YAAoB,YACpBC,OAAoB,UACpBC,mBAAoB,oBACpBC,kBAAoB,sBACpBC,oBAAoB,2BACpBC,SAAoB,SACpBC,iBAAoB,iBACpBC,YAAoB,UACpBC,GAAoB,OACpBC,GAAoB,MACpBC,GAAoB,QAGxBf,GAAwB,CACpB5B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,KACA,OAEJM,MAAqB,OACrBE,IAAqB,IACrBY,YAAqB,cACrBC,kBAAqB,cACrBC,KAAqB,MACrBC,OAAqB,SACrBC,YAAqB,YACrBC,OAAqB,UACrBC,mBAAqB,oBACrBC,kBAAqB,kBACrBC,oBAAqB,kBACrBC,SAAqB,MACrBC,iBAAqB,eACrBC,YAAqB,SACrBC,GAAqB,IACrBC,GAAqB,QACrBC,GAAqB,MAGzBf,GAAwB,CACpB5B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAEJM,MAAwB,OACxBE,IAAwB,IACxBY,YAAwB,WACxBC,kBAAwB,mBACxBC,KAAwB,OACxBC,OAAwB,SACxBC,YAAwB,YACxBC,OAAwB,UACxBC,mBAAwB,oBACxBC,kBAAwB,kBACxBC,oBAAwB,qBACxBC,SAAwB,KACxBC,iBAAwB,oBACxBC,YAAwB,UACxBC,GAAwB,KACxBC,GAAwB,KACxBC,GAAwB,UAG5Bf,GAAwB,CACpB5B,SAAU,CACNC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,MAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,WACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,WACA,MACA,WACA,OAEJM,MAAoB,iBACpBE,IAAoB,IACpBY,YAAoB,aACpBC,kBAAoB,WACpBC,KAAoB,UACpBC,OAAoB,WACpBC,YAAoB,WACpBC,OAAoB,UACpBC,mBAAoB,wBACpBC,kBAAoB,YACpBC,oBAAqB,wBACrBC,SAAoB,IACpBC,iBAAoB,6BACpBC,YAAoB,iBACpBC,GAAoB,IACpBC,GAAoB,IACpBC,GAAoB,KAGxBf,GAAwB,CACpB5B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,MACA,MACA,MACA,MACA,OAEJM,MAAwB,OACxBE,IAAwB,IACxBY,YAAwB,cACxBC,kBAAwB,mBACxBC,KAAwB,OACxBC,OAAwB,SACxBC,YAAwB,YACxBC,OAAwB,UACxBC,mBAAwB,oBACxBC,kBAAwB,kBACxBC,oBAAwB,mBACxBC,SAAwB,WACxBC,iBAAwB,cACxBC,YAAwB,SACxBC,GAAwB,IACxBC,GAAwB,KACxBC,GAAwB,MAG5Bf,GAAwB,CACpB5B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEJD,IAAK,CACD,MACA,MACA,KACA,KACA,MACA,OACA,MAEJM,MAAwB,OACxBE,IAAwB,KACxBY,YAAwB,WACxBC,kBAAwB,oBACxBC,KAAwB,MACxBC,OAAwB,SACxBC,YAAwB,aACxBC,OAAwB,SACxBC,mBAAwB,mBACxBC,kBAAwB,mBACxBC,oBAAwB,iBACxBC,SAAwB,QACxBC,iBAAwB,iBACxBC,YAAwB,UACxBC,GAAwB,KACxBC,GAAwB,KACxBC,GAAwB,MAG5Bf,QAA8B,CAC1B5B,SAAU,CACNC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,IAERM,MAAO,CACH,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,qBACA,sBAEJD,IAAK,CACD,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,sBAEJM,MAAoB,SACpBE,IAAoB,SACpBY,YAAoB,eACpBC,kBAAoB,uCACpBC,KAAoB,eACpBC,OAAoB,eACpBC,YAAoB,qBACpBC,OAAoB,SACpBC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","file":"static/js/main.0cb9602a.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAT3SURBVHhe7V0tUxxBEKVSkREIZCQiMhKZH4BKRSAQCAQmLgKBQ/AD8gMQSEREJAKBRCAQkYiIiIiIiIiISz+qu2pqs9zN3rzh5nafmDo+dofufvO6Z7p7l43ZbLah0YYNBERDi1FgCIw23EJr7lnMEDPEjD5WihlihpghZjTEAoEhMOSScrfQCuANsUVgCAy5LgXwhlggMKYMxov3H1/Z2LdxYePexi8bszUckBvyX9o4sLGZu0Macl21AG4C79r4voaGz1ksP02vD0MMnXMtHQxnw+cEhCv7+tDGNn6XI1Rr17hOb1wP6BOAnTNZQgXDhf7mwoLaB60ZliGPu6pwuQ8sQNhgBCNuTMDXDMVbnQP62YCeYMk5Q04aGB4jIBhWzKiBCMM7IMGQ3VJAKGC4e4pgPUrX9JSh3WVhEUL/opjIAgPbVwh0Vbo61vF+0/va9d8vkZ8FBs4RAOOwRJh1vdf0PnH9L0p0YIGBAxHA2C4RZl3vTeLlfYkOLDAiiBX5zBJFVnmvgbEV2/kSOVhgPB6CSgRZ93sdjCIbCAxS8lBgkAzJYKXAEBj/V+kYq4KxOlc5B8MGihkkdgkMkiEZjBIYAmP1McMTk3v2iTTMnSfpIlmH71EeRb7s2Q6hk2OGKbxp48zGn1B+wSeuw/VVatape5sUGKYsmJA2NNza90jQ7dh4rJ/g07/Hz6PwEzUWes16cmCYUV/aOE0YgHT1u5yg68BEehugnObct8w1k2BGAsRf+/p4SUMd2724vxogowfDXRMMCEMWuRncnwBSNFffghg1GAi6SYxYihFdo9l8R240xB5qUB87GNgFgRXXy7imOTXrrz7vGXne4jJCk+kQMxbaQmP7mhWscw1r8751MDA/7RwyWmYkseI218hDrgPb3Hh7Q+6bd+2YwYgGhxOWsTpngk9uvKIGgkmcM8xQSGnAB+9UAgMHRcx/x5p/zMyIhrgqnYlmOJzUH3NZAmNBtpWxyhYZmf03GPO1upv64cqJGYtWVc9hqniP3QmG0RSnmNEAGKhHAODau6nLobrOOUwWL8hW3VQ0Ut+wjNVhXjx9VNSoPJWtbXoCp7oqYxseB0PiUSfw3JVuxlJuKtdYbIr2bAqUtW0FDMiR5KhUz8gFhnHgmbNLiZIrADnKlanDXNQxVOlbxngdQ3Zr4F+QBs+Z14N11C+qlVydxePc2vYZ2l1W2h2CNDiyr33dIfg5tq/BBtxHL7Wy42aT54w5Lkt9U4tcQs2Y8QRLcA5RR+ETxin2l4sAb/33jAW5Vm6qZUAEhrrQV9+F3iJDxAwxQ8yotYlRACexS26KZEhGDGoJjN8uDK1dkmGg55rDdG/q3SHxXkK9VaeArayYEQ0EU3/fVFGDAwsMvHgXKZGpv4mt6JWALDCQTcWLdwFIkUDP5edZfwf6ut7Qv+gBHAoYXlzBY1rxZGmVTkCWAVnzmL7o2Y0aS3G9hAaGAxKt/FN7r21RrIjFwQYD7uohYcgoXZa7pmAE+oK3GGyjguHsACDncQiyT5RH8ZA8XlRPEZqh+JA5/BwB+aFH+lw5dpE0nehghJJufP2XgAHnjmpgOEv0/zNaAWOIK9C1s42qzJCBh/2jL4ExwI3UXlwCQ2AMo2/tFdnK/GKGmCFm9LFRzBAzxAwxoyEWCAyBIZeUu3VWAG+ILQJDYMh1KYA3xAKB0TgY/wCrKvMDWcWHNQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAR7SURBVHhe7Z2hUhxBEIap6AhEZAQCkQeIiIjgAVApJAKBTVUkAkFVHiEPgEAikQhEREQkIhIREYFAREZc+j96iq27pdid+Xe2b/cXUyHczl7PfP13z8zODluLxWJLJUYfCEQgZxQMwYgRFqKFZylDypAy2lQpZUgZUoaUEUgFgiEYCkldh9BK4IHUIhiCodClBB5IBYIxZxivPn1+beXQyoWVWysPVhYbWGA37L+0cmRlu+sIqc91gyVwM3jfyu8N7PguznJv7Tro09FdrqXDcDV8a0C4tp+Prezisy5GRbvG2/TO24H2JGDnTJVQYbjRv9xYSPsoWscy7PFQlULuHQsIG0ZSxHcz8C2j4VHvgfZZQTuhknOGnTQYniNgGDxm0iBSxzuQpJD9UiAUGB6eUrKeZGh6rqM9ZMEJ0f6inMiCgeErDLou9Y5NrG/tvvH2H5bYz4KBeQRgHJcYk1PXvvPMv/sspz6jjn3/qdtwUXI/FgxMiABjt8SYnLpBYGBOhfbf5rQh1WHBSEmsKGbmNKQRsykjmkwb3jiMh5z6bBjLSVCJIbl1I8CA7Q6jqA9YyhAMn5XnOhXqTQFGGskVJc+STpQyfDncwsOeh4ib0g4tqa8w9RirBaPpRQyvyPVKwVh5YjYyjA/+/T9ygTLqMfpgCgl8xzvijtGpufcQjMecIRiBcoZgBIKRliLuc0MMo57C1NNcY7QVgARSMARjfWsmwytKQsXY36/lkMZcx2CkJfxBNpd1cRSGQ2z8PMO9EttlkDd2unTcENfMFkZq+Ev/DtHpz91TMF7YtysYFXZ6r3qh/f+n/+49K5n2BTl7ZTTG+GmrzJ5gEB459vHEFmUIBnP2mQNDCbwlJzDipWBMYEOC5wi8J4F5xmj7fBkOOZVJn2CMlTNWQ5p5pWAEgvHVw8Rpn9zDvFZh6mkJPcJO9OJnKlPJGYIRKEwJRhQYzNifey/ljAqLkl3hCIZgxHsG3tV7h7xOypAypIw2hUkZUkYsZZhHfrRyZQXHDqHg5+UTv5pl9sqwDvhi5V/LQyb8ruo61axhuCLQ6cuOt4JTblBOGoCqKWTuMBCOsDi3pgCHg8+uaoWqucNAfkCHrx2n5ArBZ9VeExAMwWgdTf11z6h2doiPmuD9Jy1P/pA3qoUp+65QZ4ekcwmrnaqD4asn6tETuNkR6lQdnPda/bypRqJePmVbKdXOn2rYcVkyYKBMjMwYHLw7yklsrpBRJ31mQ9rRWLRViAVjGyMXB1JkUIlnjVG34Yhof9HLOhQYvpHswGHgLaI5nt5ZfAI0DYYDSWcVzu1c26JckRTNhoFwlV7pgkImGbI8NKX3CP9gaMsIkVQYrg4ASTv8kNSR3LB2hOEfxWhGw/vcw+cRsB/tSMkabcMoktYmOozGjhH9lYCey/iDwXCV6O9n9AAyKIw+oUDXkt7PUEdynipKGT3CyNBOJxiCwZH10J5a+/5ShpQhZbSpTsqQMqQMKSOQCgRDMBSSug6RlcADqUUwBEOhSwk8kAoEIziM/5ZTLyXvAlkpAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAUXSURBVHhe7V2rUlxBEE1FRyCQEQhEPiAiIoIPQKWQCAQ2VZEIBFX5hHwAAolEIhAREZGISEREBAIRGbHpQ/VUpnYvl57pvtne3SOmCnZnhp4+fU7P497hxWw2e8GSwwcEIlEwEgyCkUMWsskzmUFmkBlDrCQzyAwyg8xIxAKCQTAoSdYpNBN4IrYQDIJB6WICT8QCgrHJYLz88PGVlEMpF1JupTxIma1ggd2w/1LKkZQt6wyppd5kCVwM3pfycwUdbwmWexnXQYujLXXDwVA2fKlAuJafj6Xs4juLUdnq6Jje6DgwngLYeSRLQsFQo3+osaD2UTbHRtijUlUk9y4KkGgwCiO+ioGvIwaetQ+MTwrGCZacR9gZBobmCBiGiFlrIIrjFZDCkH0vICFgqDyVZL2W0vSUo1WyEIQYvysnRoGB6SsMuvZGxyq2l3Hf6PgPPfZHgYF1BMA4bjVG2pxp27PWtqjvbV9JTrcdYsOpjuGiZwylTRQYWBABjN1WY7zO9LYPAgNrKoz/tnX8df0oMEoSa9ZMrzMrzXbNaDx2SNttBeMhAxiPi6AeQzxOUJnC9oR7ehlgR7cPomXKbIg6zrLlYAI3AzM0KMw+eCpoo2TKbMgEYJSZnCt5bjQzxhJnAcwie1J3T+vfWOpXf9fETqv8tticjhkEY/G0c2kylQWMQDvMUp2OGZbcYZEd6eed9vXNUn9epgiG8bTP4lwBYkfBuLPUJxgjZ88BsxgXGIEMXT2Zmo9egvEvkf/3BD4BGGUr4r5Fpiawg8yIWv0GMJRgEIy5hOxZfXojkmDkA6Ns4Xc/XOYNCk9ALm3XNjpxKjPwuAw0e6c3iROMzmNTy9rAusE3tgJvAXZjmUEwxlfR3dO6HnmYj0L5/bt+9rY3offYUTNn45lRSUx5VGaPYOjGX4vGerR6gBkE46kd0BZQeuSBOSNhzngOlKmDgjljICgElHMFpvs53x6GEgyCMf6qsGda541InT2RGctK4ANbKp81IE5b8sSczHQ/+Nw7nZ63deUPl9QRLkdG9OFRh3XbKCQYiWSKYESA0avx2dqthUxlc2qvPQQj0V0gBINgLC4AI6KiVx6ytIvwwdLXGVmc6bWDYFCm4mRKoum9lCspuDIIBT8/ntZZi7cPb/vI6b150GPO6aGotPkk5c/AmQQ+M+0xefvwtl+LLXSNRjj90fFScEMNykkF0ChDvH142w9sVnY/lLHUvSmVIxi/wAAFB99dPcNGSFp3HxE2rAszkB/gyIWrkJQh+G70EX/NMd19eNuvEzMIxsAkJSqB/9ZIN90dUknEyUCEIW+0yFRXHxE2VDOpVHeHlHsJTbfqiCPwIr03gbv6iLChAiPVrTq477XpvqkqUQ/dVGC6e8rbh7d9BUa5b+rSuj4aqhclU+Vmm6ab2DQ6vYs+MKS7jyAbyhON3Y8KAZwoMLaq2YnLIE9kLaOtjLsEIiYl3S/rhIGhB/oHKlV4i2gTb+903wAdwoxKO8tdhZt2r60rV4SuwCswIFfllS4wZC0lS6WpvEf4S37fjpDIUGaoXAGQ8oQfZkpIbphtYPoXYnTEwFv6gN1qP8ZRkjXGhllk2JjCwZibe/O/BDQcB0wGhrKE/z8jCxgtUsC6QesMOtJ+Mjnmq0lliiC1gUQwGjR96uAiGASjjb5TR2SW/skMMoPMmOw8IwvNV90OyhRlijJFmUrEAoJBMChJ1okFE3githAMgkHpGpKuv887tA5HhhPjAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAABiCAYAAABEZ20wAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAPhJREFUeF7tyKEBADAQhLDff+nrAngqEDG5bfkEZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZhyYcWDGgRkHZgy7B/6DRu7DB74QAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/copy-content.770c7d5d.svg\";","import {createMuiTheme} from '@material-ui/core/styles';\n\nexport default type => {\n    if (type === 'dark') {\n        return createMuiTheme({\n            palette: {\n                type: type,\n                primary: {\n                    light: '#5F6975',\n                    main: '#2978d0',\n                    dark: '#053C72',\n                    contrastText: '#C00',\n                },\n                secondary: {\n                    light: '#7EB2CC',\n                    main: '#3399CC',\n                    dark: '#068ACC',\n                    contrastText: '#ee0000',\n                },\n            }\n        });\n    } else {\n        return createMuiTheme({\n            palette: {\n                type: type,\n                primary: {\n                    light: '#5F6975',\n                    main: '#164477',\n                    dark: '#053C72',\n                    contrastText: '#C00',\n                },\n                secondary: {\n                    light: '#7EB2CC',\n                    main: '#3399CC',\n                    dark: '#068ACC',\n                    contrastText: '#ee0000',\n                },\n            }\n        });\n    }\n}","export default {\r\n    type: 'dark',\r\n    root: {\r\n        flexGrow: 1,\r\n        display: 'flex',\r\n        width: '100%',\r\n        height: '100%'\r\n    },\r\n    menu: {\r\n        width: 300,\r\n        depthOffset: 20\r\n    },\r\n    colors: {\r\n        primary: '#3399CC',\r\n        secondary: '#164477',\r\n        selected: {\r\n            background: '#164477',\r\n            color: 'white'\r\n        },\r\n        error: {\r\n            background: '#dc0300',\r\n            color: '#FFFFFF'\r\n        }\r\n    },\r\n    toolbar: {\r\n        height: 48\r\n    },\r\n    tabs: {\r\n        height: 48\r\n    }\r\n};","/**\n * Copyright 2018 bluefox <dogafox@gmail.com>\n *\n * Licensed under the Creative Commons Attribution-NonCommercial License, Version 4.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://creativecommons.org/licenses/by-nc/4.0/legalcode.txt\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **/\n\nclass I18n {\n    static translations = {\n        'en': require('./i18n/en'),\n        'ru': require('./i18n/ru'),\n        'de': require('./i18n/de'),\n        'zh-cn': require('./i18n/zh-cn'),\n    };\n\n    static lang = window.sysLang || 'en';\n\n    static setLanguage(lang) {\n        if (lang) {\n            I18n.lang = lang;\n        }\n    }\n    static getLanguage() {\n        return I18n.lang;\n    }\n    static t(word, arg1, arg2, arg3) {\n        if (I18n.translations[I18n.lang]) {\n            const w = I18n.translations[I18n.lang][word];\n            if (w) {\n                word = w;\n            } else {\n                console.log(`Translate: ${word}`);\n            }\n        }\n        if (arg1 !== undefined) {\n            word = word.replace('%s', arg1);\n            if (arg2 !== undefined) {\n                word = word.replace('%s', arg2);\n                if (arg3 !== undefined) {\n                    word = word.replace('%s', arg3);\n\n                }\n            }\n        }\n        return word;\n    }\n}\n\n/*I18n.translations = {\n    'en': require('./i18n/en'),\n    'ru': require('./i18n/ru'),\n    'de': require('./i18n/de'),\n};\nI18n.fallbacks = true;\nI18n.t = function () {};*/\n\nexport default I18n;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport I18n from '../i18n';\n\nclass DialogRename extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n            instance: props.instance || 0\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n        this.prefix = this.getPrefix(props.id);\n        this.oldId = props.id;\n    }\n\n    getPrefix(id) {\n        const parts = (id || '').split('.');\n        parts.pop();\n        return parts.join('.');\n    }\n\n    getId(name) {\n        name = (name || '').replace(/[\\\\/\\][*,;'\"`<>?\\s]/g, '_');\n        return this.prefix + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.prefix = this.getPrefix(nextProps.id);\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onRename(this.oldId, this.state.id, this.state.name, this.state.instance);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        this.setState({name, id: this.getId(name)});\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Rename')}</DialogTitle>\n                <DialogContent>\n                    <form noValidate autoComplete=\"off\">\n                        <TextField\n                            style={{width: '100%'}}\n                            id=\"standard-name\"\n                            label={I18n.t('Name')}\n                            value={this.state.name}\n                            onKeyPress={(ev) => {\n                                if (ev.key === 'Enter') {\n                                    // Do code here\n                                    ev.preventDefault();\n                                    setTimeout(() => this.handleOk(), 200);\n                                }\n                            }}\n                            onChange={e => this.handleChange(e.target.value)}\n                            margin=\"normal\"\n                        />\n                        <TextField\n                            id=\"standard-name-id\"\n                            style={{width: '100%'}}\n                            label={I18n.t('ID')}\n                            value={this.state.id}\n                            disabled={true}\n                            margin=\"normal\"\n                        />\n                        {\n                            this.isShowInstance && (\n                                <FormControl>\n                                    <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                    <Select\n                                        value={this.state.instance}\n                                        onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                        inputProps={{name: 'instance', id: 'instance'}}\n                                    >\n                                        {this.props.instances.map(instance => (<MenuItem key={instance} value={instance}>{instance || '0'}</MenuItem>))}\n                                    </Select>\n                                </FormControl>)\n                        }\n                    </form>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} color=\"primary\">{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel} color=\"primary\">{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogRename.propTypes = {\n    onClose: PropTypes.func,\n    onRename: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    folder: PropTypes.bool,\n};\n\nexport default DialogRename;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport {MdDelete as IconDelete} from 'react-icons/md';\n\nimport I18n from '../i18n';\n\nclass DialogDelete extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose(null);\n    };\n\n    handleOk = () => {\n        this.props.onDelete(this.state.id);\n        this.props.onClose(this.props.value);\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Are you sure?')}</DialogTitle>\n                <DialogContent>\n                    <IconDelete/>\n                    <span style={{fontSize: 14, fontWeight: 'bold'}}>{I18n.t('Delete %s', this.state.name)}</span>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} color=\"primary\">{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel} color=\"primary\">{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogDelete.propTypes = {\n    onClose: PropTypes.func,\n    onDelete: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n};\n\nexport default DialogDelete;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n\nimport ImgJS from '../assets/tileJS.png';\nimport ImgTS from '../assets/tileTS.png';\nimport ImgBlockly from '../assets/tileBlockly.png';\n\nimport I18n from '../i18n';\n\nconst styles = {\n    card: {\n        maxWidth: 345,\n        display: 'inline-block',\n        margin: '0 10px 0 10px'\n    },\n    media: {\n        height: 100,\n    },\n    text: {\n        maxWidth: 200,\n    }\n};\nclass DialogAddNew extends React.Component {\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = type => {\n        this.props.onClose(type);\n    };\n\n    openHtml(html) {\n        const lang = I18n.getLanguage();\n        if (lang === 'de' || lang === 'ru') {\n            html = html.replace(/\\/en\\//, lang);\n        }\n        const win = window.open(html, '_blank');\n        win.focus();\n    }\n\n    getJSCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea\n                onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgJS}\n                    title=\"Javascript\"\n                />\n                <CardContent>\n                    <h2>Javascript</h2>\n                    <div className={this.props.classes.text}>{I18n.t('JS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    getTSCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea\n                onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgTS}\n                    title=\"Typescript\"\n                />\n                <CardContent>\n                    <h2>Typescript</h2>\n                    <div className={this.props.classes.text}>{I18n.t('TS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md#global-functions')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    getBlocklyCard() {\n        return (<Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Blockly')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgBlockly}\n                    title=\"Blockly\"\n                />\n                <CardContent>\n                    <h2>Blockly</h2>\n                    <div className={this.props.classes.text}>{I18n.t('Blockly description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.props.onClose && this.props.onClose('Blockly')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"primary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/blockly.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>);\n    }\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Add new script')}</DialogTitle>\n                <DialogContent style={{textAlign: 'center'}}>\n                    {this.getJSCard()}\n                    {this.getBlocklyCard()}\n                    {this.getTSCard()}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleCancel} color=\"primary\">{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogAddNew.propTypes = {\n    onClose: PropTypes.func\n};\n\nexport default withStyles(styles)(DialogAddNew);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport I18n from '../i18n';\n\nclass DialogNew extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name || 'Script',\n            instance: props.instance || 0,\n            parent: props.parent,\n            error: ''\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n    }\n\n    getId(name) {\n        name = name || this.state.name || '';\n        name = name.replace(/[\\\\/\\][*,;'\"`<>?\\s]/g, '_');\n        return (this.state ? this.state.parent : this.props.parent) + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onAdd(this.getId(this.state.name), this.state.name, this.state.instance, this.props.type);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        const id = this.getId(name);\n        if (!name) {\n            this.setState({name, id, error: I18n.t('Empty name is not allowed')});\n        } else\n        if (this.props.existingItems && this.props.existingItems.indexOf(id) !== -1) {\n            this.setState({name, id, error: I18n.t('Duplicate name')});\n        } else {\n            this.setState({name, id, error: ''});\n        }\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Create new')}</DialogTitle>\n                <DialogContent>\n                    <form noValidate autoComplete=\"off\">\n                        <TextField\n                            style={{width: '100%'}}\n                            id=\"standard-name\"\n                            error={!!this.state.error}\n                            label={I18n.t('Name')}\n                            value={this.state.name}\n                            helperText={this.state.error}\n                            onKeyPress={(ev) => {\n                                if (ev.key === 'Enter') {\n                                    // Do code here\n                                    ev.preventDefault();\n                                    setTimeout(() => this.handleOk(), 200);\n                                }\n                            }}\n                            onChange={e => this.handleChange(e.target.value)}\n                            margin=\"normal\"\n                        />\n                        <FormControl style={{minWidth: 100}}>\n                            <InputLabel htmlFor=\"parent\">{I18n.t('Folder')}</InputLabel>\n                            <Select\n                                style={{width: '100%'}}\n                                value={this.state.parent}\n                                onChange={e => this.setState({parent: e.target.value})}\n                                inputProps={{name: 'parent', id: 'parent',}}\n                            >\n                                {this.props.parents.map(parent => {\n                                    const parts = parent.id.split('.');\n                                    parts.splice(0, 2); // remove script.js\n                                    const names = [];\n                                    let id = 'script.js';\n                                    parts.forEach((n, i) => {\n                                        id += '.' + n;\n                                        const el = this.props.parents.find(item => item.id === id);\n                                        if (el) {\n                                            names.push(el.name);\n                                        } else {\n                                            names.push(n);\n                                        }\n                                    });\n                                    if (!names.length) {\n                                        names.push(parent.name);\n                                    }\n                                    return (<MenuItem key={parent.id} value={parent.id}>{names.join(' / ')}</MenuItem>)\n                                })}\n                            </Select>\n                        </FormControl>\n                        <TextField\n                            id=\"standard-name-id\"\n                            style={{width: '100%'}}\n                            label={I18n.t('ID')}\n                            value={this.getId()}\n                            disabled={true}\n                            margin=\"normal\"\n                        />\n                        {\n                            this.isShowInstance && (\n                                <FormControl>\n                                <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                <Select\n                                    value={this.state.instance}\n                                    onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                    inputProps={{name: 'instance', id: 'instance',}}\n                                >\n                                    {this.props.instances.map(instance => (<MenuItem key={'instance' + instance} value={instance}>{instance || '0'}</MenuItem>))}\n                                </Select>\n                            </FormControl>)\n                        }\n                    </form>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} disabled={!!this.state.error} color=\"primary\">{I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel} color=\"primary\">{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogNew.propTypes = {\n    onClose: PropTypes.func,\n    onAdd: PropTypes.func,\n    name: PropTypes.string,\n    title: PropTypes.string,\n    parent: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    parents: PropTypes.array,\n    existingItems: PropTypes.array,\n    folder: PropTypes.bool,\n    type: PropTypes.string,\n};\n\nexport default DialogNew;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport I18n from '../i18n';\nimport Themes from '../Theme';\n\nconst styles = theme => ({\n    titleBackground: {\n        background: Themes.colors.error.background\n    },\n    titleColor: {\n        color: Themes.colors.error.color,\n        '&>h2': {\n            color: Themes.colors.error.color,\n        }\n    },\n});\n\nclass DialogError extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log('Error created')\n    }\n    handleOk = () => {\n        this.props.onClose && this.props.onClose();\n    };\n\n    render() {\n        return (\n            <Dialog\n                open={true}\n                maxWidth=\"sm\"\n                fullWidth={true}\n                onClose={() => this.handleOk()}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle className={this.props.classes.titleBackground}\n                             classes={{root: this.props.classes.titleColor}}\n                             id=\"alert-dialog-title\">{this.props.title || I18n.t('Error')}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        {this.props.text || I18n.t('Unknown error!')}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()} color=\"primary\" autoFocus>{I18n.t('Ok')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogError.propTypes = {\n    onClose: PropTypes.func,\n    title: PropTypes.string,\n    text: PropTypes.string,\n    icon: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogError);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport {DragDropContext, Droppable, Draggable} from 'react-beautiful-dnd';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Input from '@material-ui/core/Input';\nimport RootRef from '@material-ui/core/RootRef';\n\nimport red from '@material-ui/core/colors/red';\nimport green from '@material-ui/core/colors/green';\nimport yellow from '@material-ui/core/colors/yellow';\n\nimport {MdMoreVert as IconMore} from 'react-icons/md';\nimport {FaFolder as IconFolder} from 'react-icons/fa';\nimport {FaFolderOpen as IconFolderOpened} from 'react-icons/fa';\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\nimport {MdDelete as IconDelete} from 'react-icons/md';\nimport {MdInput as IconDoEdit} from 'react-icons/md';\nimport {MdDragHandle as IconGrip} from 'react-icons/md';\nimport {MdExpandMore as IconCollapse} from 'react-icons/md';\nimport {MdKeyboardArrowRight as IconExpand} from 'react-icons/md';\nimport {MdClose as IconClear} from 'react-icons/md';\nimport {MdFormatClear as IconClose} from 'react-icons/md';\nimport {MdPlayArrow as IconPlay} from 'react-icons/md';\nimport {MdAdd as IconAdd} from 'react-icons/md';\nimport {MdCreateNewFolder as IconAddFolder} from 'react-icons/md';\nimport {MdPause as IconPause} from 'react-icons/md';\nimport {MdSwapVert as IconReorder} from 'react-icons/md';\nimport {MdEdit as IconEdit} from 'react-icons/md';\nimport {MdSearch as IconFind} from 'react-icons/md';\nimport {MdPersonPin as IconExpert} from 'react-icons/md';\nimport {FaFileExport as IconExport} from 'react-icons/fa';\nimport {FaFileImport as IconImport} from 'react-icons/fa';\nimport {MdPalette as IconDark} from 'react-icons/md';\nimport {MdUnfoldMore as IconExpandAll} from 'react-icons/md';\nimport {MdUnfoldLess as IconCollapseAll} from 'react-icons/md';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\n\nimport Theme from './Theme';\nimport I18n from './i18n';\nimport DialogRename from './Dialogs/Rename';\nimport DialogDelete from './Dialogs/Delete';\nimport DialogAddNewScript from './Dialogs/AddNewScript';\nimport DialogNew from './Dialogs/New';\nimport DialogError from './Dialogs/Error';\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_RUN = green[400];\nconst COLOR_PROBLEM = yellow[400];\nconst COLOR_PAUSE = red[400];\n\nconst styles = theme => ({\n    drawerPaper: {\n        position: 'relative',\n        width: '100%', //Theme.menu.width,\n        height: '100%',\n        overflow: 'hidden'\n    },\n    toolbar: {\n        height: Theme.toolbar.height\n    },\n    toolbarButtons: {\n        color: theme.palette.type === 'dark'? 'white !important' : 'black !important'\n    },\n    toolbarSearch: {\n        width: 'calc(100% - 105px)',\n        lineHeight: '34px',\n        marginLeft: 5\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 2\n    },\n    iconDropdownMenu: {\n        paddingRight: 5\n    },\n    iconOnTheRight: {\n        position: 'absolute',\n        right: 10,\n        top: 'calc(50% - 8px)'\n    },\n    menu: {\n        width: '100%',\n        height: '100%'\n    },\n    innerMenu: {\n        width: '100%',\n        height: 'calc(100% - 76px)',\n        overflowX: 'hidden',\n        overflowY: 'auto'\n    },\n    filterIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5\n    },\n    scriptIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2\n    },\n    gripHandle: {\n        paddingRight: 13\n    },\n    noGripHandle: {\n        width: 29\n    },\n    folder: {\n        background: theme.palette.type === 'dark' ? '#6a6a6a' : '#e2e2e2',\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none'\n    },\n    element: {\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none'\n    },\n    reorder: {\n        padding: '9px 16px 9px 9px',\n    },\n    expandButton: {\n        width: 37,\n        height: 37\n    },\n    selected: Theme.colors.selected,\n    instances: {\n        color: 'gray',\n        fontSize: 'smaller'\n    },\n    childrenCount: {\n        float: 'right',\n        marginRight: 5,\n        fontSize: 10,\n        opacity: 0.4,\n    },\n    footer: {\n        height: 24,\n    },\n    footerButtons: {\n        '&:hover': {\n            backgroundColor: '#dbdbdb'\n        },\n        color: theme.palette.type === 'dark' ? '#ffffff' : '#111111',\n        cursor: 'pointer',\n        marginTop: 1,\n        marginRight: 2,\n        height: 22,\n        width: 22,\n    },\n    footerButtonsRight: {\n        float: 'right'\n    }\n});\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    def: ImgJS,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst getItemStyle = (isDragging, draggableStyle) => ({\n    userSelect: 'none',\n    background: isDragging ? 'lightgreen' : 'inherit',\n    ...draggableStyle,\n});\n\nconst getObjectName = (id, obj, lang) => {\n    lang = lang || I18n.getLanguage();\n    if (obj && obj.common && obj.common.name) {\n        if (typeof obj.common.name === 'object') {\n            return obj.common.name[lang] || obj.common.name.en;\n        } else {\n            return obj.common.name;\n        }\n    } else {\n        return id.replace(/^script\\.js./, '');\n    }\n};\n\nconst prepareList = data => {\n    const result = [];\n    const ids = Object.keys(data);\n    ids.sort((a, b) => {\n        if ((a === 'script.js.common' || a === 'script.js.global') && (b === 'script.js.common' || b === 'script.js.global')) {\n            return a > b ? 1 : -1;\n        } else if (a === 'script.js.common' || a === 'script.js.global' || b === 'script.js.common' || b === 'script.js.global') {\n            return 1;\n        } else {\n            return a > b ? 1 : -1;\n        }\n    });\n\n    for (let i = 0; i < ids.length; i++) {\n        const obj = data[ids[i]];\n        const parts = ids[i].split('.');\n        parts.pop();\n        result.push({\n            id: ids[i],\n            title: getObjectName(ids[i], obj),\n            enabled: obj && obj.common && obj.common.enabled,\n            depth: parts.length - 2,\n            type: obj.type === 'script' ? obj.common.engineType : 'folder',\n            parent: parts.length > 2 ? parts.join('.') : null,\n            instance: obj.common.engine ? parseInt(obj.common.engine.split('.').pop(), 10) || 0 : null\n        });\n    }\n\n    // Place all folder-less scripts at start\n    result.sort((a, b) => {\n        // without folders => always at start\n        if (!a.parent && a.type !== 'folder' && !b.parent && b.type !== 'folder') {\n            if (a.id === b.id) return 0;\n            return a.id > b.id ? 1 : -1;\n        } else if (!a.parent && a.type !== 'folder') {\n            return -1;\n        } else if (!b.parent && b.type !== 'folder') {\n            return 1;\n        } else {\n            // common and global are always at the end\n            if ((a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) &&\n                (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global'))) {\n                if (a.id === b.id) return 0;\n                return a.id > b.id ? 1 : -1;\n            } else if (a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) {\n                return 1;\n            } else if (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global')) {\n                return -1;\n            } else {\n                if (a.id === b.id) return 0;\n                return a.id > b.id ? 1 : -1;\n            }\n        }\n    });\n\n    // Fill all index\n    result.forEach((item, i) => item.index = i);\n\n    let modified;\n    do {\n        modified = false;\n        // check if all parents exists\n        result.forEach(item => {\n            if (item.parent) {\n                const parent = result.find(it => it.id === item.parent);\n                if (!parent) {\n                    const parts = item.parent.split('.');\n                    parts.pop();\n                    result.push({\n                        id: item.parent,\n                        title: item.parent.replace(/^script\\.js./, ''),\n                        depth: parts.length - 2,\n                        type: 'folder',\n                        parent: parts.length > 2 ? parts.join('.') : null\n                    });\n                    modified = true;\n                }\n            }\n        });\n    } while(modified);\n\n\n    // Fill all parentIndex\n    result.forEach(item => {\n        if (item.parent) {\n            const parent = result.find(it => it.id === item.parent);\n            if (parent) {\n                item.parentIndex = parent.index;\n            }\n        }\n    });\n\n    return result;\n};\n\nclass SideDrawer extends React.Component {\n    constructor(props) {\n        super(props);\n\n        let expanded = window.localStorage ? window.localStorage.getItem('SideMenu.expanded') : '[]';\n        try {\n            expanded = JSON.parse(expanded) || [];\n        } catch (e) {\n            expanded = [];\n        }\n\n        this.inputRef = new React.createRef();\n\n        this.state = {\n            listItems: prepareList(props.scripts || {}),\n            expanded: expanded,\n            problems: [],\n            reorder: false,\n            theme: this.props.theme,\n            dragDepth: 0,\n            draggedId: null,\n            selected: window.localStorage ? window.localStorage.getItem('SideMenu.selected') || null : null,\n            creatingScript: false,\n            creatingFolder: false,\n            copingScript: '',\n            renaming: null,\n            deleting: null,\n            choosingType: null,\n            errorText: '',\n            instances: props.instances || [],\n            menuOpened: false,\n            menuAnchorEl: null,\n            searchMode: false,\n            expertMode: this.props.expertMode,\n            searchText: '',\n            width: this.props.width || 300,\n            filterMenuOpened: false,\n            typeFilter: window.localStorage ? window.localStorage.getItem('SideMenu.typeFilter') || '' : '', // blockly, js, ts\n            statusFilter: window.localStorage ? window.localStorage.getItem('SideMenu.statusFilter') || '' : '',\n            runningInstances: this.props.runningInstances || {}\n        };\n\n        const newExp = this.ensureSelectedIsVisible();\n        if (newExp) {\n            this.state.expanded = newExp;\n        }\n\n        this.scriptsHash = props.scriptsHash;\n\n        // debounce search process\n        this.filterTimer = null;\n\n        this.state.isAllZeroInstances = this.getIsAllZeroInstances();\n\n        this.problems = null; //cache\n        this.problemsTimer = null;\n        this.onProblemUpdatedBound = this.onProblemUpdated.bind(this);\n    }\n\n    readProblems(cb, tasks) {\n        if (!tasks) {\n            tasks = Object.keys(this.props.scripts);\n        }\n        if (!tasks || !tasks.length) {\n            cb && cb();\n        } else {\n            const id = tasks.shift();\n            if (this.props.scripts[id] &&\n                this.props.scripts[id].type === 'script' &&\n                this.props.scripts[id].common &&\n                this.props.scripts[id].common.enabled &&\n                !id.match(/^script\\.js\\.global\\./)\n            ) {\n                const instance = this.props.scripts[id].common.engine.split('.').pop();\n                const that = this; // sometimes lambda does not work\n                this.props.connection.getState('javascript.' + instance + '.scriptProblem.' + id.substring('script.js.'.length), (err, state, id) => {\n                    that.onProblemUpdated(err, state, id);\n                    setTimeout(() => that.readProblems(cb, tasks), 0);\n                });\n            } else {\n                setTimeout(() => this.readProblems(cb, tasks), 0);\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.readProblems(() =>  {\n            this.props.instances.forEach(instance => {\n                this.props.connection.subscribeState('javascript.' + instance + '.scriptProblem.*', this.onProblemUpdatedBound);\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        this.props.instances.forEach(instance => {\n            this.props.connection.unsubscribeState('javascript.' + instance + '.scriptProblem.*', this.onProblemUpdatedBound);\n        });\n    }\n\n    onProblemUpdated(err, state, id) {\n        err && console.error(err);\n        if (!state) return;\n        id = 'script.js.' + id.replace(/^javascript\\.\\d+\\.scriptProblem\\./, '');\n\n        if (!this.problems) {\n            this.problems = JSON.parse(JSON.stringify(this.state.problems));\n        }\n        let changed = false;\n\n        if (state.val) {\n            if (this.problems.indexOf(id) === -1) {\n                this.problems.push(id);\n                changed = true;\n            }\n        } else {\n            const pos = this.problems.indexOf(id);\n            if (pos !== -1) {\n                this.problems.splice(pos, 1);\n                changed = true;\n            }\n        }\n\n        if (changed && !this.problemsTimer) {\n            this.problemsTimer = setTimeout(() => {\n                this.problemsTimer = null;\n                this.setState({problems: this.problems});\n                this.problems = null;\n            }, 300);\n        }\n    }\n\n    filterList(isDisable, listItems, cb) {\n        const noUpdate = !!listItems;\n        listItems = listItems || JSON.parse(JSON.stringify(this.state.listItems));\n        let changed = false;\n        let newState = {listItems};\n        if (isDisable !== false && this.state.searchMode && this.state.searchText) {\n            const text = this.state.searchText.toLowerCase();\n            listItems.forEach(item => {\n                const id = item.title.toLowerCase();\n                item.filteredPartly = false;\n                let found = id.indexOf(text) !== -1;\n                if (!found && (this.props.objects && this.props.objects[item.id] && this.props.objects[item.id].common && this.props.objects[item.id].common.source)) {\n                    if (this.props.objects[item.id].common.engineType === 'Blockly') {\n                        const pos = this.props.objects[item.id].common.source.lastIndexOf('//');\n                        found = this.props.objects[item.id].common.source.substring(0, pos).toLowerCase().indexOf(text) !== -1;\n                    } else {\n                        found = this.props.objects[item.id].common.source.toLowerCase().indexOf(text) !== -1;\n                    }\n                }\n                if (found) {\n                    if (item.filtered) {\n                        item.filtered = false;\n                        changed = true;\n                    }\n                } else if (!item.filtered) {\n                    item.filtered = true;\n                    console.log(item.id + ' filtered out');\n                    changed = true;\n                }\n            });\n\n            if (changed) {\n                // check that all parents of every non-filtered item are visible\n                for (let i = listItems.length - 1; i >= 0; i--) {\n                    const item = listItems[i];\n                    if (!item.filtered || item.filteredPartly) {\n                        let it = item;\n                        do {\n                            if (it.parent) {\n                                changed = true;\n                                listItems[it.parentIndex].filteredPartly = true;\n                            }\n                            it = it.parent ? listItems[it.parentIndex] : null;\n                        } while(it);\n                    }\n                }\n            }\n        } else {\n            listItems.forEach(item => {\n                if (item.filtered || item.filteredPartly) {\n                    item.filtered = false;\n                    item.filteredPartly = false;\n                    changed = true;\n                }\n            });\n            if (isDisable === false) {\n                newState.searchText = '';\n                newState.searchMode = false;\n                changed = true;\n            }\n        }\n\n        if (!noUpdate && changed) {\n            this.setState(newState, () => cb && cb());\n        } else {\n            cb && cb();\n        }\n    }\n\n    ensureSelectedIsVisible(selected, expanded) {\n        expanded = JSON.parse(JSON.stringify(expanded || this.state.expanded));\n        selected = selected || this.state.selected;\n        let changed = false;\n        // ensure that the item is visible\n        let el = typeof selected === 'object' ? selected : this.state.listItems.find(it => it.id === selected);\n        do {\n            // eslint-disable-next-line\n            el = el && el.parent && this.state.listItems.find(it => it.id === el.parent);\n            if (el) {\n                if (expanded.indexOf(el.id) === -1) {\n                    expanded.push(el.id);\n                    changed = true;\n                }\n            }\n        } while (el);\n        return changed && expanded;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const newState = {};\n        let changed = false;\n        if (this.expertMode !== nextProps.expertMode) {\n            changed = true;\n            newState.expertMode = nextProps.expertMode;\n        }\n        if (this.scriptsHash !== nextProps.scriptsHash && nextProps.scripts) {\n            const listItems = prepareList(nextProps.scripts || {});\n            this.state.searchText && this.filterList(true, listItems);\n\n            const isAllZeroInstances = this.getIsAllZeroInstances(listItems, nextProps.instances || []);\n            const newExp = this.ensureSelectedIsVisible();\n            newState.listItems = listItems;\n            newState.isAllZeroInstances = isAllZeroInstances;\n            if (newExp) {\n                newState.expanded = newExp;\n            }\n            changed = true;\n            this.setState(newState);\n        }\n\n        if (this.state.width !== nextProps.width) {\n            changed = true;\n            newState.width = nextProps.width;\n        }\n        if (this.state.theme !== nextProps.theme) {\n            changed = true;\n            newState.theme = nextProps.theme;\n        }\n        changed && this.setState(newState);\n\n        if (nextProps.selectId && this.state.selected !== nextProps.selectId) {\n            this.onClick(this.state.listItems.find(item => item.id === nextProps.selectId));\n        }\n        /*\n        const newState = {};\n        let changed = false;\n        if (this.expertMode !== nextProps.expertMode) {\n            changed = true;\n            newState.expertMode = nextProps.expertMode;\n        }\n        if (JSON.stringify(nextProps.runningInstances) !== JSON.stringify(this.state.runningInstances)) {\n            changed = true;\n            newState.runningInstances = nextProps.runningInstances;\n        }\n        if (this.scriptsHash !== nextProps.scriptsHash && nextProps.scripts) {\n            const listItems = prepareList(nextProps.scripts || {});\n            const isAllZeroInstances = this.getIsAllZeroInstances(listItems, nextProps.instances || []);\n            const newExp = this.ensureSelectedIsVisible();\n            if (newExp) {\n                newState.expanded = newExp;\n            }\n            this.setState(newState);\n            newState.listItems = nextProps.listItems;\n            newState.isAllZeroInstances = nextProps.isAllZeroInstances;\n            changed = true;\n        }\n\n        if (nextProps.selectId && this.state.selected !== nextProps.selectId) {\n            this.onClick(this.state.listItems.find(item => item.id === nextProps.selectId));\n        }\n        changed && this.setState(newState);*/\n    }\n\n    getIsAllZeroInstances(listItems, instances) {\n        listItems = listItems || this.state.listItems;\n        instances = instances || this.state.instances;\n        let isAllZeroInstances = !instances[0] && instances.length <= 1;\n\n        if (isAllZeroInstances) {\n            listItems.forEach(item => {\n                if (item.type !== 'folder' && item.instance !== 0) {\n                    isAllZeroInstances = false;\n                }\n            });\n        }\n        return isAllZeroInstances;\n    }\n\n    saveExpanded(expanded) {\n        window.localStorage.setItem('SideMenu.expanded', JSON.stringify(expanded || this.state.expanded));\n    }\n\n    showError(err) {\n        this.setState({errorText: err});\n    }\n\n    onExpand(id, e) {\n        e && e.stopPropagation();\n        if (this.state.expanded.indexOf(id) === -1) {\n            const expanded = this.state.expanded.concat([id]);\n            this.setState({expanded});\n            this.saveExpanded(expanded);\n        }\n    }\n\n    onCollapse(id, e) {\n        e && e.stopPropagation();\n        const pos = this.state.expanded.indexOf(id);\n        if (pos !== -1) {\n            const expanded = this.state.expanded.concat([]);\n            expanded.splice(pos, 1);\n            if (this.state.selected && this.state.selected.startsWith(id + '.')) {\n                this.setState({expanded, selected: id});\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', id);\n            } else {\n                this.setState({expanded});\n            }\n            this.saveExpanded(expanded);\n        }\n    }\n\n    onDragEnd(result) {\n        // dropped outside the list\n        if (!result.destination) {\n            return;\n        }\n        let item = result.destination.index > result.source.index ? this.state.listItems[result.destination.index] : this.state.listItems[result.destination.index - 1];\n        while (item && (item.type !== 'folder' && item.parent)) {\n            item = this.state.listItems[item.parentIndex];\n        }\n        let parent = item ? item.id : 'script.js';\n        let newId = parent + '.' + result.draggableId.split('.').pop();\n        if (this.props.scripts[newId]) {\n            newId += '_' + I18n.t('copy');\n        }\n        this.props.onRename && this.props.onRename(result.draggableId, newId);\n    }\n\n    onDragStart(event) {\n        // fill the drag depth\n        this.setState({\n            dragDepth: this.state.listItems.find(i => i.id === event.draggableId).depth,\n            draggedId: event.draggableId\n        });\n    }\n\n    onDragUpdate = (update, provided) => {\n        if (!update.destination) return;\n        let item = this.state.listItems[update.destination.index - 1];\n        while (item && (item.type !== 'folder' || item.parent)) {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            this.setState({dragDepth: item.depth + 1});\n            console.log(`depth ${item.depth + 1}`);\n        } else {\n            console.log(`depth 0`);\n            this.setState({dragDepth: 0});\n        }\n    };\n\n    renderItemButtons(item, children) {\n        if (this.state.reorder) return null;\n        if (item.type !== 'folder') {\n            let color = item.enabled ? COLOR_RUN : COLOR_PAUSE;\n            if (item.enabled && this.state.problems.indexOf(item.id) !== -1) {\n                color = COLOR_PROBLEM;\n            }\n\n            return [\n                (<IconButton className={this.props.classes.iconButtons}\n                             onClick={e => {\n                                e.stopPropagation();\n                                this.props.onEnableDisable && this.props.onEnableDisable(item.id, !item.enabled)\n                             }}\n                            title={item.enabled ? I18n.t('Pause script') : I18n.t('Run script')}\n                            key=\"startStop\"\n                            style={{color}}>\n                            {item.enabled ? (<IconPause/>) : (<IconPlay/>)}\n                </IconButton>),\n                this.state.width > 350 ? (<IconButton\n                    key=\"delete\"\n                    title={I18n.t('Delete script')}\n                    disabled={item.id === 'script.js.global' || item.id === 'script.js.common'}\n                    onClick={e => this.onDelete(item, e)}><IconDelete/></IconButton>) : null,\n                (<IconButton key=\"openInEdit\" title={I18n.t('Edit script or just double click')} onClick={e => this.onEdit(item, e)}><IconDoEdit/></IconButton>),\n            ];\n        } else if (this.state.width > 350) {\n            if (item.id !== 'script.js' && item.id !== 'script.js.common' && item.id !== 'script.js.global' && (!children || !children.length)) {\n                return (<IconButton\n                    key=\"delete\"\n                    title={I18n.t('Delete folder')}\n                    disabled={item.id === 'script.js.global' || item.id === 'script.js.common'}\n                    onClick={e => this.onDelete(item, e)}><IconDelete/></IconButton>);\n            } else {\n                return null;\n            }\n        }\n    }\n\n    onDelete(item, e) {\n        e && e.stopPropagation();\n        return new Promise(resolve => {\n            if (typeof item !== 'object') {\n                this.setState({deleting: item});\n            } else {\n                this.setState({deleting: item.id});\n            }\n        });\n    }\n\n    onEdit(item, e) {\n        this.onClick(item, e);\n        this.props.onEdit && this.props.onEdit(item.id);\n    }\n\n    renderFolderButtons(item, children, isExpanded) {\n        if (this.state.reorder) {\n            if (item.type !== 'folder') {\n                return (<IconGrip className={this.props.classes.gripHandle}/>);\n            } else {\n                return (<div className={this.props.classes.noGripHandle}/>);\n            }\n        }\n        if (children && children.length) {\n            return (\n                <IconButton className={this.props.classes.expandButton}\n                            onClick={isExpanded ? e => this.onCollapse(item.id, e) : e => this.onExpand(item.id, e)}>\n                    {isExpanded ? (<IconCollapse fontSize=\"small\"/>) : (<IconExpand fontSize=\"small\"/>)}\n                </IconButton>\n            );\n        } else {\n            return (<div className={this.props.classes.expandButton}/>);\n        }\n    }\n\n    getTextStyle(item) {\n        if (!this.state.reorder && item.type !== 'folder') {\n            return {\n                //width: 130,\n                width: `calc(100% - ${this.state.width > 350 ? 245 : 197}px)`,\n                overflow: 'hidden',\n                whiteSpace: 'nowrap',\n                flex: 'none',\n                padding: '0 16px 0 0'\n            };\n        } else {\n            return {\n                whiteSpace: 'nowrap',\n                padding: '0 16px 0 0'\n            };\n        }\n    }\n\n    onClick(item, e) {\n        e && e.stopPropagation();\n        if (!this.state.reorder && item) {\n            const expanded = this.ensureSelectedIsVisible(item);\n            const newState = {selected: item.id};\n            if (expanded) {\n                newState.expanded = expanded;\n            }\n            this.setState(newState);\n            window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n        }\n    }\n\n    onDblClick(item, e) {\n        e && e.stopPropagation();\n        if (this.state.reorder) return;\n        if (item.type === 'folder') {\n            const isExpanded = this.state.expanded.indexOf(item.id) !== -1;\n            if (isExpanded) {\n                this.onCollapse(item.id);\n            } else {\n                this.onExpand(item.id);\n            }\n        } else {\n            this.onEdit(item);\n        }\n    }\n\n    isFilteredOut(item) {\n        if (item.filtered && !item.filteredPartly) return true;\n\n        if (this.state.typeFilter && item.type !== 'folder' && item.type !== this.state.typeFilter) {\n            return true;\n        }\n\n        if (this.state.statusFilter &&\n            item.type !== 'folder' &&\n            (\n                (this.state.statusFilter === 'running' && !item.enabled) ||\n                (this.state.statusFilter === 'paused' && item.enabled) ||\n                (this.state.statusFilter === 'problems' && (!item.enabled || this.state.problems.indexOf(item.id) === -1)))\n        ) {\n            return true;\n        }\n\n        return (item.id === 'script.js.global' && !this.state.expertMode);\n    }\n\n    renderOneItem(items, item) {\n        let childrenFiltered = (this.state.statusFilter || this.state.typeFilter) && items.filter(i => i.parent === item.id ? !this.isFilteredOut(i) : false);\n        let children = items.filter(i => i.parent === item.id);\n\n        if (this.isFilteredOut(item)) {\n            return;\n        }\n\n        if (item.type === 'folder' && (this.state.statusFilter || this.state.typeFilter) && !childrenFiltered.length) {\n            return;\n        }\n\n        const depthPx = this.state.reorder ?\n            8 + (this.state.draggedId === item.id ? this.state.dragDepth : item.depth) * Theme.menu.depthOffset :\n            item.depth * Theme.menu.depthOffset;\n\n        let title = item.title;\n\n        if (this.state.searchText) {\n            const pos = title.toLowerCase().indexOf(this.state.searchText.toLowerCase());\n            if (pos !== -1) {\n                title = [\n                    (<span key=\"first\">{title.substring(0, pos)}</span>),\n                    (<span key=\"second\" style={{color: 'orange'}}>{title.substring(pos, pos + this.state.searchText.length)}</span>),\n                    (<span key=\"third\">{title.substring(pos + this.state.searchText.length)}</span>),\n                ];\n            }\n        }\n\n        if (!this.state.isAllZeroInstances && item.type !== 'folder') {\n            title = [(<span key=\"instance\" title={I18n.t('Instance')} className={this.props.classes.instances}>[{item.instance}] </span>), (\n                <span key=\"title\">{title}</span>)];\n        }\n\n        const style = Object.assign({\n            marginLeft: depthPx,\n            cursor: item.type === 'folder' && this.state.reorder ? 'default' : 'inherit',\n            opacity: item.filteredPartly ? 0.5 : 1,\n            width: `calc(100% - ${depthPx}px)`\n        }, item.id === this.state.selected && !this.state.reorder ? Theme.colors.selected : {});\n\n        if (item.id === 'script.js.global' && item.id !== this.state.selected) {\n            style.color = '#00a200';\n        }\n\n        let isExpanded = false;\n        if (children && children.length) {\n            isExpanded = this.state.expanded.indexOf(item.id) !== -1;\n        }\n\n        let iconStyle = {};\n        if (item.id === 'script.js.global') {\n            iconStyle.color = '#356956';\n        } else if (item.id === 'script.js.common') {\n            iconStyle.color = '#4899e1';\n        }\n\n        const inner =\n            (<ListItem\n                key={item.id}\n                style={style}\n                className={(item.type === 'folder' ? this.props.classes.folder : this.props.classes.element) + ' ' + (this.state.reorder ? this.props.classes.reorder : '')}\n                onClick={e => this.onClick(item, e)}\n                onDoubleClick={e => this.onDblClick(item, e)}\n            >\n                {this.renderFolderButtons(item, children, isExpanded)}\n                <ListItemIcon>{item.type === 'folder' ? (isExpanded ? (<IconFolderOpened style={iconStyle}/>) : (<IconFolder style={iconStyle}/>)) : (\n                    <img className={this.props.classes.scriptIcon} alt={item.type} src={images[item.type] || images.def}/>)}</ListItemIcon>\n                <ListItemText\n                    classes={{primary: item.id === this.state.selected && !this.state.reorder ? this.props.classes.selected : undefined}}\n                    style={this.getTextStyle(item)} primary={(<span>{title}{(childrenFiltered && childrenFiltered.length) || children.length ? (<span className={this.props.classes.childrenCount}>{childrenFiltered && childrenFiltered.length !== children.length ? `${childrenFiltered.length}(${children.length})` : children.length}</span>) : null}</span>)}/>\n                <ListItemSecondaryAction>{this.renderItemButtons(item, children)}</ListItemSecondaryAction>\n            </ListItem>);\n\n        const result = [this.state.reorder ? (\n            <Draggable key={item.id} draggableId={item.id} index={item.index} isDragDisabled={item.type === 'folder'}>\n                {(provided, snapshot) => (\n                    <div ref={provided.innerRef}\n                         {...provided.draggableProps}\n                         {...provided.dragHandleProps}\n                         style={getItemStyle(\n                             snapshot.isDragging,\n                             provided.draggableProps.style\n                         )}>\n                        {inner}\n                    </div>\n                )}\n            </Draggable>) : inner];\n\n        if (children && (this.state.reorder || this.state.expanded.indexOf(item.id) !== -1)) {\n            children.forEach(it => result.push(this.renderOneItem(items, it)));\n        }\n        return result;\n    }\n\n    renderAllItems(items, dragging) {\n        const result = [];\n        items.forEach(item => !item.parent && result.push(this.renderOneItem(items, item, dragging)));\n\n        return (<List dense={true} disablePadding={true}>{result}</List>);\n    }\n\n    onAddNew(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = 'script.js';\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({choosingType: true});\n    }\n\n    onCopy(e, id) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === id);\n        let parent = 'script.js';\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({copingScript: id});\n    }\n\n    onAddNewFolder(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = 'script.js';\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({creatingFolder: true});\n    }\n\n    onRename(e) {\n        e && e.stopPropagation();\n        this.setState({renaming: this.state.selected});\n    }\n\n    getUniqueName(copyId) {\n        let i = 1;\n        let word = I18n.t('Script') + ' ';\n        if (copyId) {\n            let name = getObjectName(copyId, this.props.objects[copyId]);\n            const m = name.match(/\\d+$/);\n            if (m) {\n                word = name.replace(/\\d+$/, '');\n                i = parseInt(m[0], 10) + 1;\n            } else {\n                word = name;\n            }\n        }\n\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + word.replace(/\\s/g, '_') + i)) {\n            i++;\n        }\n        /*ignore jslint end*/\n        return word + i;\n    }\n\n    getUniqueFolderName() {\n        let i = 1;\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === this.parent + '.' + I18n.t('Folder') + '_' + i)) {\n            i++;\n        }\n        return I18n.t('Folder') + ' ' + i;\n    }\n\n    onCloseMenu(cb) {\n        this.setState({menuOpened: false, menuAnchorEl: null, filterMenuOpened: false, menuAnchorFilterEl: null}, cb);\n    }\n\n    getFilterBadge() {\n        return [\n            this.state.statusFilter === true && (<IconPlay className={this.props.classes.filterIcon} style={{color: COLOR_RUN}}/>),\n            this.state.statusFilter === false && (<IconPause className={this.props.classes.filterIcon} style={{color: COLOR_PAUSE}}/>),\n            this.state.typeFilter === 'Blockly' && ('Bl'),\n            this.state.typeFilter === 'Javascript/js' && ('JS'),\n            this.state.typeFilter === 'TypeScript/ts' && ('TS'),\n        ]\n    }\n\n    getMainMenu(children, selectedItem) {\n        return (<Menu\n            key=\"menu\"\n            id=\"long-menu\"\n            anchorEl={this.state.menuAnchorEl}\n            open={this.state.menuOpened}\n            onClose={() => this.setState({menuOpened: false, menuAnchorEl: null})}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                    //width: 200,\n                },\n            }}\n        >\n            {this.state.width <= 350 ? (<MenuItem\n                key=\"deleted\"\n                disabled={!this.state.selected || this.state.selected === 'script.js.global' || this.state.selected === 'script.js.common' || (children && children.length)}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    if (this.state.listItems.find(item => item.parent === this.state.selected)) {\n                        this.showError(I18n.t('Cannot delete non empty item!'));\n                        return;\n                    }\n\n                    this.setState({menuOpened: false, menuAnchorEl: null, filterMenuOpened: false}, () =>\n                        this.onDelete(this.state.selected).then(() => {}));\n                }}><IconDelete className={this.props.classes.iconDropdownMenu}  style={{color: 'red'}}/>{I18n.t('Delete')}\n            </MenuItem>) : null}\n            <MenuItem key=\"expertMode\" selected={this.state.expertMode}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.onCloseMenu(() =>\n                              this.props.onExpertModeChange && this.props.onExpertModeChange(!this.state.expertMode));\n                      }}><IconExpert className={this.props.classes.iconDropdownMenu} style={{color: 'orange'}}/>{I18n.t('Expert mode')}\n            </MenuItem>\n            {this.props.onExport && (<MenuItem key=\"exportAll\"\n                                               onClick={event => {\n                                                   event.stopPropagation();\n                                                   event.preventDefault();\n                                                   this.onCloseMenu(() => this.props.onExport());\n                                               }}><IconExport className={this.props.classes.iconDropdownMenu} />{I18n.t('Export all scripts')}\n            </MenuItem>)}\n            {this.props.onImport && (<MenuItem key=\"import\"\n                                               onClick={event => {\n                                                   event.stopPropagation();\n                                                   event.preventDefault();\n                                                   this.onCloseMenu(() => this.props.onImport());\n                                               }}><IconImport className={this.props.classes.iconDropdownMenu} />{I18n.t('Import scripts')}\n            </MenuItem>)}\n            {this.props.onThemeChange && (<MenuItem key=\"dark\"\n                                                    onClick={event => {\n                                                        //event.stopPropagation();\n                                                        //event.preventDefault();\n                                                        this.onCloseMenu(() =>\n                                                            this.props.onThemeChange(this.state.theme === 'dark' ? 'light' : 'dark'));\n                                                    }}><IconDark className={this.props.classes.iconDropdownMenu} />{this.state.theme === 'dark' ? I18n.t('Light style') : I18n.t('Dark style')}\n            </MenuItem>)}\n            {this.props.onAddNew && (<MenuItem key=\"copy\"\n                                               disabled={!this.state.selected || !selectedItem || selectedItem.type === 'folder'}\n                                               onClick={event => {\n                                                   const selected = this.state.selected;\n                                                   this.onCloseMenu(() => this.onCopy(event, selected))\n                                               }}>\n                <IconCopy className={this.props.classes.iconDropdownMenu} />{I18n.t('Copy script')}\n            </MenuItem>)}\n            {/*<MenuItem key=\"filter\"\n                       onClick={event => {\n                           this.setState({filterMenuOpened: !this.state.filterMenuOpened, menuAnchorFilterEl: this.state.filterMenuOpened ? null : event.currentTarget.getElementsByClassName(this.props.classes.iconOnTheRight)[0]})\n                       }}>\n                <IconFilter className={this.props.classes.iconDropdownMenu} />{I18n.t('Filter by')}\n                <IconExpandRight className={this.props.classes.iconOnTheRight} />\n            </MenuItem>*/}\n        </Menu>);\n    }\n\n    // render menu and toolbar\n    getToolbarButtons() {\n        const result = [];\n        const classes = this.props.classes;\n        if (this.state.searchMode) {\n            result.push((<RootRef key=\"searchInputRoof\" rootRef={this.inputRef}><Input\n                key=\"searchInput\"\n                value={this.state.searchText}\n                className={classes.toolbarSearch}\n                ref={this.inputRef}\n                autoFocus={true}\n                placeholder={I18n.t('Search...')}\n                onChange={e => {\n                    this.setState({searchText: e.target.value});\n                    this.filterTimer && clearTimeout(this.filterTimer);\n                    this.filterTimer = setTimeout(() => {\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    }, 400);\n                }}\n            /></RootRef>));\n            result.push((<IconButton\n                key=\"disableSearch\"\n                className={classes.toolbarButtons}\n                style={{float: 'right'}}\n                title={I18n.t('End search mode')}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.filterList(false, null, () => this.props.onSearch && this.props.onSearch(this.state.searchText));\n                }}\n            ><IconClose /></IconButton>));\n            this.state.searchText && result.push((<IconButton\n                key=\"cleanSearch\"\n                mini=\"true\"\n                title={I18n.t('Clear search input')}\n                className={classes.toolbarButtons}\n                style={{marginTop: 7, float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({searchText: ''}, () => {\n                        this.filterList(true, '');\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    });\n                }}\n            ><IconClear fontSize=\"small\"/></IconButton>));\n        } else {\n            if (!this.state.reorder) {\n                // Open Menu\n                result.push((\n                    <IconButton\n                        key=\"menuButton\"\n                        aria-label=\"More\"\n                        aria-owns={this.state.menuOpened ? 'long-menu' : undefined}\n                        title={I18n.t('Menu')}\n                        aria-haspopup=\"true\"\n                        onClick={event => {\n                            event.stopPropagation();\n                            event.preventDefault();\n                            this.setState({menuOpened: true, menuAnchorEl: event.currentTarget});\n                        }}\n                    >\n                        {/*<Badge className={classes.margin} badgeContent={this.getFilterBadge()}>*/}\n                            <IconMore />\n                        {/*</Badge>*/}\n                    </IconButton>));\n\n                const selectedItem = this.state.listItems.find(it => it.id === this.state.selected);\n                let children;\n                if (selectedItem && this.state.width <= 350 && selectedItem.type === 'folder') {\n                    children = this.state.listItems.filter(i => i.parent === this.state.selected);\n                }\n\n                // Menu\n                result.push(this.getMainMenu(children, selectedItem));\n\n                if (this.state.filterMenuOpened) {\n                    result.push(this.getFilterMenu());\n                }\n\n                // New Script\n                result.push((<IconButton\n                    key=\"new-script\"\n                    title={I18n.t('Create new script')}\n                    className={classes.toolbarButtons}\n                    style={{color: this.state.reorder ? 'red' : 'inherit'}}\n                    onClick={e => this.onAddNew(e)}\n                ><IconAdd/></IconButton>));\n\n                // New Folder\n                result.push((<IconButton\n                    key=\"new-folder\"\n                    title={I18n.t('Create new folder')}\n                    className={classes.toolbarButtons}\n                    style={{color: this.state.reorder ? 'red' : 'inherit'}}\n                    onClick={() => this.onAddNewFolder()}\n                ><IconAddFolder/></IconButton>));\n            }\n\n            // Search\n            result.push((<IconButton\n                key=\"search\"\n                disabled={this.state.reorder}\n                className={classes.toolbarButtons}\n                title={I18n.t('Search in scripts')}\n                style={{float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({searchMode: true});\n                }}\n            ><IconFind/></IconButton>));\n\n            // Reorder button\n            result.push((<IconButton\n                key=\"reorder\"\n                title={I18n.t('Reorder scripts in folders')}\n                className={classes.toolbarButtons}\n                style={{color: this.state.reorder ? 'red' : 'inherit', float: 'right'}}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({reorder: !this.state.reorder, draggedId: ''});\n                }}\n            ><IconReorder/></IconButton>));\n\n            if (!this.state.reorder && this.state.selected && this.state.selected !== 'script.js.global' && this.state.selected !== 'script.js.common') {\n                // Rename\n                result.push((<IconButton className={classes.toolbarButtons}\n                                         title={I18n.t('Rename')}\n                                         key=\"rename\"\n                                         onClick={e => this.onRename(e)}\n                ><IconEdit/></IconButton>));\n\n\n                // const selectedItem = this.state.listItems.find(i => i.id === this.state.selected);\n                // if (selectedItem && selectedItem.type !== 'folder') {\n                //     // Restart\n                //     result.push((<IconButton className={classes.toolbarButtons}\n                //          key=\"restart\"\n                //          onClick={e => {\n                //              e.stopPropagation();\n                //              this.props.onEnableDisable && this.props.onEnableDisable();\n                //          }}\n                //     ><IconRestart/></IconButton>));\n                // }\n            }\n\n        }\n        return result;\n    }\n\n    getFolders() {\n        const folders = [{id: 'script.js', name: I18n.t('Root folder')}];\n        this.state.listItems.forEach(item => item.type === 'folder' && folders.push({id: item.id, name: item.title}));\n        return folders;\n    }\n\n    onCollapseAll() {\n        this.setState({expanded: []});\n        this.saveExpanded([]);\n    }\n\n    onExpandAll() {\n        const expanded = [];\n        this.state.listItems.forEach(item => {\n            if (this.state.listItems.find(it => it.parent === item.id)) {\n                expanded.push(item.id);\n            }\n        });\n        this.setState({expanded});\n        this.saveExpanded(expanded);\n    }\n\n    getBottomButtons() {\n        return [\n            (<IconPause\n                key=\"filterByRunning\"\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_RUN, opacity: this.state.statusFilter === 'running' ? 1 : 0.3, background: this.state.statusFilter === 'running' ? 'gray' : 'inherit'}}\n                title={I18n.t('Show only running scripts')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    const statusFilter = this.state.statusFilter === 'running' ? '' : 'running';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />),\n            (<IconPlay\n                key=\"filterByPaused\"\n                title={I18n.t('Show only paused scripts')}\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_PAUSE, opacity: this.state.statusFilter === 'paused' ? 1 : 0.3, background: this.state.statusFilter === 'paused' ? 'gray' : 'inherit'}}\n                onClick={event => {\n                    const statusFilter = this.state.statusFilter === 'paused' ? '' : 'paused';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />),\n            (<IconPause\n                key=\"filterByProblem\"\n                title={I18n.t('Show only scripts with problems')}\n                className={this.props.classes.footerButtons}\n                style={{color: COLOR_PROBLEM, opacity: this.state.statusFilter === 'problems' ? 1 : 0.3, background: this.state.statusFilter === 'problems' ? 'gray' : 'inherit'}}\n                onClick={event => {\n                    const statusFilter = this.state.statusFilter === 'problems' ? '' : 'problems';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({statusFilter});\n                }}\n            />),\n            (<img\n                key=\"filterBlockly\"\n                className={this.props.classes.footerButtons}\n                alt=\"Blockly\"\n                style={{opacity: this.state.typeFilter === 'Blockly' ? 1 : 0.3, background: this.state.typeFilter === 'Blockly' ? 'gray' : 'inherit'}}\n                src={images.Blockly || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Blockly' ? '' : 'Blockly';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({typeFilter});\n                }}\n            />),\n            (<img\n                key=\"filterJS\"\n                className={this.props.classes.footerButtons}\n                alt=\"Javascript\"\n                style={{opacity: this.state.typeFilter === 'Javascript/js' ? 1 : 0.3, background: this.state.typeFilter === 'Javascript/js' ? 'gray' : 'inherit'}}\n                src={images['Javascript/js'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Javascript/js' ? '' : 'Javascript/js';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({typeFilter});\n                }}\n            />),\n            (<img\n                key=\"filterTS\"\n                className={this.props.classes.footerButtons}\n                alt=\"TypeScript\"\n                style={{opacity: this.state.typeFilter === 'TypeScript/ts' ? 1 : 0.3, background: this.state.typeFilter === 'TypeScript/ts' ? 'gray' : 'inherit'}}\n                src={images['TypeScript/ts'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'TypeScript/ts' ? '' : 'TypeScript/ts';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                this.setState({typeFilter});\n                }}\n            />),\n            (<IconExpandAll   key=\"expandAll\" className={this.props.classes.footerButtons + ' ' + this.props.classes.footerButtonsRight} title={I18n.t('Expand all')} onClick={() => this.onExpandAll()}/>),\n            this.state.expanded.length ? (<IconCollapseAll key=\"collapseAll\" className={this.props.classes.footerButtons + ' ' + this.props.classes.footerButtonsRight} title={I18n.t('Collapse all')} onClick={() => this.onCollapseAll()}/>) : null,\n        ];\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        const renamingItem = this.state.renaming && this.state.listItems.find(i => i.id === this.state.renaming);\n        const copingItem = this.state.copingScript && this.props.objects[this.state.copingScript];\n\n        return [(\n            <Drawer\n                key=\"drawer\"\n                variant=\"permanent\"\n                className={classes.menu}\n                classes={{paper: classes.drawerPaper}}\n                anchor='left'\n                onClick={() => this.onClick({id: ''})}\n            >\n                <div className={classes.toolbar}>\n                    {this.getToolbarButtons()}\n                </div>\n                <Divider/>\n                <DragDropContext\n                    onDragStart={e => this.onDragStart(e)}\n                    onDragEnd={e => this.onDragEnd(e)}\n                    onDragUpdate={e => this.onDragUpdate(e)}\n                >\n                    <Droppable droppableId=\"droppable\">\n                        {(provided, snapshot) => (\n                            <div ref={provided.innerRef}\n                                //style={getListStyle(snapshot.isDraggingOver)}\n                                 className={classes.innerMenu}>\n                                {this.renderAllItems(this.state.listItems)}\n                            </div>\n                        )}\n                    </Droppable>\n                </DragDropContext>\n                <Divider/>\n                <div className={classes.footer}>{\n                    this.getBottomButtons()\n                }</div>\n            </Drawer>),\n            renamingItem ? (<DialogRename\n                key=\"dialog-rename\"\n                name={renamingItem.title}\n                title={I18n.t('Rename')}\n                id={this.state.renaming}\n                folder={renamingItem.type === 'folder'}\n                instance={renamingItem.instance}\n                instances={this.props.instances}\n                onClose={() => this.setState({renaming: false})}\n                onRename={(oldId, newName, newId, newInstance) => this.props.onRename && this.props.onRename(oldId, newName, newId, newInstance)}\n            />) : null,\n            this.state.deleting ? (<DialogDelete\n                key=\"dialog-delete\"\n                name={this.state.listItems.find(i => i.id === this.state.deleting).title}\n                id={this.state.deleting}\n                onClose={() => this.setState({deleting: false})}\n                onDelete={id => this.props.onDelete && this.props.onDelete(id)}\n            />) : null,\n            this.state.choosingType ? (<DialogAddNewScript\n                key=\"dialog-script-type\"\n                onClose={type => {\n                    this.setState({choosingType: false});\n                    type && this.setState({creatingScript: type})\n                }}\n            />) : null,\n            this.state.creatingScript ? (<DialogNew\n                key=\"dialog-new-script\"\n                onClose={() => this.setState({creatingScript: false})}\n                title={I18n.t('Create new script')}\n                name={this.getUniqueName()}\n                parents={this.getFolders()}\n                folder={false}\n                existingItems={this.state.listItems.map(item => item.id)}\n                instance={this.props.instances[0] || 0}\n                instances={this.props.instances}\n                type={this.state.creatingScript}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) => {\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type);\n                }}\n            />) : null,\n            this.state.copingScript ? (<DialogNew\n                key=\"dialog-copy-script\"\n                onClose={() => this.setState({copingScript: ''})}\n                title={I18n.t('Copy script')}\n                name={this.getUniqueName(this.state.copingScript)}\n                parents={this.getFolders()}\n                folder={false}\n                instance={parseInt((copingItem && copingItem.common && copingItem.common.engine && copingItem.common.engine.split('.').pop()) || 0, 10)}\n                instances={this.props.instances}\n                type={(copingItem && copingItem.common && copingItem.common.engineType) || 'Javascript/js'}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) => {\n                    const copingItem = this.state.copingScript && this.props.objects[this.state.copingScript];\n                    if (copingItem && copingItem.common) {\n                        // disable script by coping\n                        copingItem.common.enabled = false;\n                    }\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type, copingItem && copingItem.common && copingItem.common.source);\n                }}\n            />) : null,\n            this.state.creatingFolder ? (<DialogNew\n                key=\"dialog-new-folder\"\n                onClose={() => this.setState({creatingFolder: false})}\n                title={I18n.t('Create new folder')}\n                parents={this.getFolders()}\n                name={this.getUniqueFolderName()}\n                parent={this.parent}\n                onAdd={(id, name) => {\n                    this.props.onAddNew && this.props.onAddNew(id, name, true);\n                }}\n            />) : null,\n            this.state.errorText ? (<DialogError onClose={() => this.setState({errorText: ''})} text={this.state.errorText}/>) : null\n        ];\n    }\n}\n\nSideDrawer.propTypes = {\n    classes: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    scripts: PropTypes.object.isRequired,\n    scriptsHash: PropTypes.number,\n    onEdit: PropTypes.func,\n    selectId: PropTypes.string,\n    expertMode: PropTypes.bool,\n    onExpertModeChange: PropTypes.func,\n    onEnableDisable: PropTypes.func,\n    runningInstances: PropTypes.object,\n    connection: PropTypes.object,\n    theme: PropTypes.string,\n    onSelect: PropTypes.func,\n    onAddNew: PropTypes.func,\n    onRename: PropTypes.func,\n    onDelete: PropTypes.func,\n    onImport: PropTypes.func,\n    onExport: PropTypes.func,\n    objects: PropTypes.object,\n    onSearch: PropTypes.func,\n    onThemeChange: PropTypes.func,\n    width: PropTypes.number\n};\n\nexport default withStyles(styles)(SideDrawer);\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {MdDeleteForever as IconDelete} from 'react-icons/md';\r\nimport {MdVerticalAlignBottom as IconBottom} from 'react-icons/md';\r\nimport {MdContentCopy as IconCopy} from 'react-icons/md';\r\n\r\nimport I18n from './i18n';\r\nimport {withStyles} from '@material-ui/core/styles/index';\r\n\r\n// replace later with MdHorizontalSplit and MdVerticalSplit\r\nconst IconVerticalSplit   = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAACFJREFUeAFjAIJRwP////8PYIKWHCigNQdKj/pn1D+jAABTG16wVQqVpQAAAABJRU5ErkJggg==';\r\nconst IconHorizontalSplit = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAABtJREFUeAFjAIJRwP8fCj7QkENn/4z6Z5QzCgBjbWaoyx1PqQAAAABJRU5ErkJggg==';\r\n\r\nfunction getTimeString(d) {\r\n    let text;\r\n    let i = d.getHours();\r\n    if (i < 10) i = '0' + i.toString();\r\n    text = i + ':';\r\n\r\n    i = d.getMinutes();\r\n    if (i < 10) i = '0' + i.toString();\r\n    text += i + ':';\r\n    i = d.getSeconds();\r\n    if (i < 10) i = '0' + i.toString();\r\n    text += i + '.';\r\n    i = d.getMilliseconds();\r\n    if (i < 10) {\r\n        i = '00' + i.toString();\r\n    } else if (i < 100) {\r\n        i = '0' + i.toString();\r\n    }\r\n    text += i;\r\n    return text;\r\n}\r\nconst TOOLBOX_WIDTH = 34;\r\n\r\nconst styles = theme => ({\r\n    logBox: {\r\n        width: '100%',\r\n        height: '100%',\r\n        position: 'relative',\r\n        overflow: 'hidden'\r\n    },\r\n    logBoxInner: {\r\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\r\n        width: `calc(100% - ${TOOLBOX_WIDTH}px)`,\r\n        height: '100%',\r\n        marginLeft: TOOLBOX_WIDTH,\r\n        overflow: 'auto',\r\n        position: 'relative'\r\n    },\r\n    info: {\r\n        background: theme.palette.type === 'dark' ? 'darkgrey' : 'lightgrey',\r\n        color: theme.palette.type === 'dark' ?  'black' : 'black'\r\n    },\r\n    error: {\r\n        background: '#FF0000',\r\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\r\n    },\r\n    warn: {\r\n        background: '#FF8000',\r\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\r\n    },\r\n    debug: {\r\n        background: 'gray',\r\n        opacity: 0.8,\r\n        color: theme.palette.type === 'dark' ?  'black' : 'white'\r\n    },\r\n    silly: {\r\n        background: 'gray',\r\n        opacity: 0.6,\r\n        color: theme.palette.type === 'dark' ? 'black' : 'white'\r\n    },\r\n    table: {\r\n        fontFamily: 'monospace',\r\n        width: '100%',\r\n\r\n    },\r\n    toolbox: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        marginLeft: 2,\r\n        width: TOOLBOX_WIDTH,\r\n        height: '100%',\r\n        boxShadow: '2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0px rgba(0, 0, 0, 0.14), 1px 0px 10px 0px rgba(0, 0, 0, 0.12)'\r\n    },\r\n    trTime: {\r\n        width: 90\r\n    },\r\n    trSeverity: {\r\n        width: 40,\r\n        fontWeight: 'bold'\r\n    },\r\n    iconButtons: {\r\n        width: 32,\r\n        height: 32,\r\n        padding: 4\r\n    },\r\n    layoutIcon: {\r\n        width: 32,\r\n        height: 32,\r\n    }\r\n});\r\n\r\nfunction copyToClipboard(str) {\r\n    const el = window.document.createElement('textarea');\r\n    el.value = str;\r\n    window.document.body.appendChild(el);\r\n    el.select();\r\n    window.document.execCommand('copy');\r\n    window.document.body.removeChild(el);\r\n}\r\n\r\nfunction paddingMs(ms) {\r\n    if (ms < 10) return '00' + ms;\r\n    if (ms < 100) return '0' + ms;\r\n    return ms;\r\n}\r\nclass Log extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lines: {},\r\n            goBottom: true,\r\n            selected: null,\r\n            editing: this.props.editing || []\r\n        };\r\n        this.text = {};\r\n        this.lastIndex = null;\r\n        this.messagesEnd = React.createRef();\r\n        this.logHandlerBound = this.logHandler.bind(this);\r\n    }\r\n\r\n    generateLine(message) {\r\n        return (<tr key={'tr_' + message.ts} className={this.props.classes[message.severity]}>\r\n            <td key=\"tdTime\" className={this.props.classes.trTime}>{getTimeString(new Date(message.ts))}</td>\r\n            <td key=\"tdSeverity\" className={this.props.classes.trSeverity}>{message.severity}</td>\r\n            <td key=\"tdMessage\">{message.message}</td>\r\n        </tr>);\r\n    }\r\n\r\n    scrollToBottom() {\r\n        this.messagesEnd && this.messagesEnd.current && this.messagesEnd.current.scrollIntoView({behavior: 'smooth'});\r\n    }\r\n    logHandler(message) {\r\n        let allLines = this.state.lines;\r\n        const selected = this.state.editing.find(id => message.message.indexOf(id) !== -1);\r\n        if (!selected) return;\r\n\r\n        let lines = allLines[selected] || [];\r\n        let text = this.text[selected] || [];\r\n\r\n        lines.push(this.generateLine(message));\r\n        let severity = message.severity;\r\n        if (severity === 'info' || severity === 'warn') {\r\n            severity += ' ';\r\n        }\r\n        const date = new Date(message.ts);\r\n        text.push(`${date.toLocaleString()}.${paddingMs(date.getMilliseconds())}\\t[${severity}]: ${message.message}`);\r\n        if (lines.length > 300) {\r\n            lines.splice(0, lines.length - 300);\r\n            text.splice(0, lines.length - 300);\r\n        }\r\n        this.text[selected] = text;\r\n        allLines[selected] = lines;\r\n\r\n        this.setState({lines: allLines});\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.connection.registerLogHandler(this.logHandlerBound);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.connection.unregisterLogHandler(this.logHandlerBound);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.state.goBottom && this.scrollToBottom();\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.selected !== this.state.selected) {\r\n            let selected = nextProps.selected;\r\n            let allLines = this.state.lines;\r\n            allLines[selected] = allLines[selected] || [];\r\n            this.text[selected] = this.text[selected] || [];\r\n            this.setState({selected});\r\n        }\r\n\r\n        if (JSON.stringify(nextProps.editing) !== JSON.stringify(this.state.editing)) {\r\n            const editing = JSON.parse(JSON.stringify(nextProps.editing));\r\n            let allLines = this.state.lines;\r\n            for (const id in this.text) {\r\n                if (this.text.hasOwnProperty(id)) {\r\n                    if (editing.indexOf(id) === -1) {\r\n                        delete this.text[id];\r\n                        delete allLines[id];\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.setState({editing});\r\n        }\r\n    }\r\n\r\n    onCopy() {\r\n        copyToClipboard((this.text[this.state.selected] || []).join('\\n'));\r\n    }\r\n\r\n    clearLog() {\r\n        let allLines = this.state.lines;\r\n        if (allLines[this.state.selected]) {\r\n            allLines[this.state.selected] = [];\r\n        }\r\n        if (this.text[this.state.selected]) {\r\n            this.text[this.state.selected] = [];\r\n        }\r\n        this.setState({lines: allLines});\r\n    }\r\n\r\n    render() {\r\n        const lines = this.state.selected && this.state.lines[this.state.selected];\r\n        return (\r\n            <div className={this.props.classes.logBox}>\r\n                <div className={this.props.classes.toolbox} key=\"toolbox\">\r\n                    <IconButton className={this.props.classes.iconButtons} onClick={() => this.setState({goBottom: !this.state.goBottom})} color={this.state.goBottom ? 'secondary' : ''}><IconBottom/></IconButton>\r\n                    {lines && lines.length ? (<IconButton className={this.props.classes.iconButtons} onClick={() => this.clearLog()}><IconDelete/></IconButton>) : null}\r\n                    {lines && lines.length ? (<IconButton className={this.props.classes.iconButtons} onClick={() => this.onCopy()}><IconCopy/></IconButton>) : null}\r\n                    {this.props.onLayoutChange ? (<IconButton className={this.props.classes.iconButtons} onClick={() => this.props.onLayoutChange()} title={I18n.t('Change layout')}><img className={this.props.classes.layoutIcon} alt=\"split\" src={this.props.verticalLayout ? IconVerticalSplit : IconHorizontalSplit} /></IconButton>) : null}\r\n                </div>\r\n                {this.state.selected && lines && lines.length ?\r\n                    (<div className={this.props.classes.logBoxInner} key=\"logList\">\r\n                        <table key=\"logTable\" className={this.props.classes.table}><tbody>{lines}</tbody></table>\r\n                        <div key=\"logScrollPoint\" ref={this.messagesEnd} style={{float: 'left', clear: 'both'}}/>\r\n                    </div>) :\r\n                    (<div key=\"logList\" className={this.props.classes.logBoxInner} style={{paddingLeft: 10}}>{I18n.t('Log outputs')}</div>)\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nLog.propTypes = {\r\n    selected: PropTypes.string,\r\n    onLayoutChange: PropTypes.func,\r\n    verticalLayout: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(styles)(Log);\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Fab from '@material-ui/core/Fab';\n\nimport {MdGTranslate as IconNoCheck} from 'react-icons/md';\nimport I18n from '../i18n';\n\nfunction isIdOfGlobalScript(id) {\n    return /^script\\.js\\.global\\./.test(id);\n}\nlet index = 0;\nclass ScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: 'current',\n            isDark: props.isDark || false,\n            language: props.language || 'javascript',\n            readOnly: props.readOnly || false,\n            alive: true,\n            check: false,\n            searchText: this.props.searchText || ''\n        };\n        this.monacoDiv = null; //ref\n        this.editor = null;\n        this.monaco = window.monaco;\n        this.insert = '';\n        this.originalCode = props.code || '';\n        this.globalTypingHandles  = [];\n        this.typings = {}; // TypeScript declarations\n        this.lastSearch = '';\n    }\n\n    waitForMonaco(cb) {\n        if (!this.monaco) {\n            this.monaco = window.monaco;\n            this.monacoCounter = this.monacoCounter || 0;\n            this.monacoCounter++;\n            if (!this.monaco && this.monacoCounter < 20) {\n                console.log('wait for monaco loaded');\n                return setTimeout(() => this.waitForMonaco(cb), 200);\n            } else if (this.monacoCounter >= 20) {\n                console.error('Cannot load monaco!');\n            }\n        } else {\n            cb && cb();\n        }\n    }\n\n    componentDidMount() {\n        if (!this.monaco) {\n            this.monaco = window.monaco;\n            if (!this.monaco) {\n                console.log('wait for monaco loaded');\n                return this.waitForMonaco(() => this.componentDidMount());\n            }\n        }\n        if (!this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(() => this.editor.getModel().getValueInRange(this.editor.getSelection()));\n            // For some reason we have to get the original compiler options\n            // and assign new properties one by one\n            const compilerOptions = this.monaco.languages.typescript.typescriptDefaults['getCompilerOptions']();\n            compilerOptions.target = this.monaco.languages.typescript.ScriptTarget.ES2015;\n            compilerOptions.allowJs = true;\n            compilerOptions.checkJs = this.props.checkJs !== false;\n            compilerOptions.noLib = true;\n            compilerOptions.lib = [];\n            compilerOptions.moduleResolution = this.monaco.languages.typescript.ModuleResolutionKind.NodeJs;\n            this.monaco.languages.typescript.typescriptDefaults.setCompilerOptions(compilerOptions);\n\n            this.setTypeCheck(false);\n\n            // Create the editor instances\n            this.editor = this.monaco.editor.create(this.monacoDiv, {\n                lineNumbers: 'on',\n                scrollBeyondLastLine: false,\n                automaticLayout: true\n            });\n\n            this.editor.onDidChangeModelContent(e => {\n                this.onChange(this.editor.getValue());\n            });\n\n            // Load typings for the JS editor\n            /** @type {string} */\n            let scriptAdapterInstance = this.props.connection.getScripts().instances[0];\n            if (scriptAdapterInstance || scriptAdapterInstance === 0) {\n                this.props.connection.sendTo('javascript.' + scriptAdapterInstance, 'loadTypings', null, result => {\n                    this.setState({alive: true, check: true});\n                    this.setTypeCheck(true);\n                    if (result.typings) {\n                        this.typings = result.typings;\n                        this.setEditorTypings();\n                    } else {\n                        console.error(`failed to load typings: ${result.error}`);\n                    }\n                });\n            }\n            this.editor.addCommand(this.monaco.KeyMod.CtrlCmd | this.monaco.KeyCode.KEY_S, () =>\n                this.onForceSave());\n\n            setTimeout(() => this.highlightText(this.state.searchText));\n        }\n        const options = {\n            selectOnLineNumbers: true,\n            scrollBeyondLastLine: false,\n            automaticLayout: true,\n            readOnly: this.state.readOnly,\n            language: this.state.language,\n            isDark: this.state.isDark\n        };\n        this.setEditorOptions(options);\n        this.editor.focus();\n        this.editor.setValue(this.originalCode);\n    }\n\n    /**\n     * Sets some options of the code editor\n     * @param {object} options The editor options to change\n     * @param {Partial<{readOnly: boolean, lineWrap: boolean, language: EditorLanguage, typeCheck: boolean}>} options\n     */\n    setEditorOptions(options) {\n        if (!options) return;\n        if (options.language) this.setEditorLanguage(options.language);\n        if (options.readOnly !== undefined) this.editor.updateOptions({readOnly: options.readOnly});\n        if (options.lineWrap !== undefined) this.editor.updateOptions({wordWrap: options.lineWrap ? 'on' : 'off'});\n        if (options.typeCheck !== undefined) this.setTypeCheck(options.typeCheck);\n        if (options.isDark !== undefined) this.monaco.editor.setTheme(options.isDark ? 'vs-dark' : 'vs');\n    }\n\n    componentWillUnmount() {\n        if (this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(null);\n            this.editor.dispose();\n            this.editor = null;\n        }\n    }\n\n    /** @typedef {\"javascript\" | \"typescript\" | \"coffee\"} EditorLanguage */\n\n    /**\n     * Sets the language of the code editor\n     * @param {monaco.editor.IStandaloneCodeEditor} editorInstance The editor instance to change the options for\n     * @param {EditorLanguage} language\n     */\n    setEditorLanguage(language) {\n        // we need to recreate the model when changing languages,\n        // so remember its settings\n        const model = this.editor.getModel();\n        const code = model.getValue();\n        const uri = model.uri.path;\n        const filenameWithoutExtension =\n            typeof uri === 'string' && uri.indexOf('.') > -1\n                ? uri.substr(0, uri.lastIndexOf('.'))\n                : 'index';\n        const extension =\n            language === 'javascript' ? 'js'\n                : language === 'typescript' ? 'ts'\n                : language === 'coffee' ? 'coffee'\n                    : language;\n        // get rid of the original model\n        model.dispose();\n        // Both JS and TS need the model to work in TypeScript as the script type\n        // is inferred from the file extension\n        const newLanguage = (language === 'javascript' || language === 'typescript') ? 'typescript' : language;\n\n        const newModel = this.monaco.editor.createModel(\n            code, newLanguage, this.monaco.Uri.from({path: `${filenameWithoutExtension}${index++}.${extension}`})\n        );\n        this.editor.setModel(newModel);\n    }\n\n    /**\n     * Enables or disables the type checking in the editor\n     * @param {boolean} enabled - Whether type checking is enabled or not\n     */\n    setTypeCheck(enabled) {\n        const options = {\n            noSemanticValidation: !this.state.alive || !enabled, // toggle the type checking\n            noSyntaxValidation: !this.state.alive // always check the syntax\n        };\n        this.monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions(options);\n    }\n\n    /**\n     * Adds the given declaration file to the editor\n     * @param {string} path The file path of the typings to add\n     * @param {string} typings The declaration file to add\n     * @param {boolean} [isGlobal=false] Whethere the file is a global declaration file\n     * @returns {void}\n     */\n    addTypingsToEditor(path, typings, isGlobal) {\n        try {\n            const handle = this.monaco.languages.typescript.typescriptDefaults.addExtraLib(typings, path);\n            if (isGlobal) this.globalTypingHandles.push(handle);\n        } catch (e) { /* might be added already */}\n    }\n\n    setEditorTypings() {\n        // clear previously added global typings\n        for (const handle of this.globalTypingHandles) {\n            handle && handle.dispose();\n        }\n\n        const isGlobalScript = isIdOfGlobalScript(this.state.name);\n        // The filename of the declarations this script can see if it is a global script\n        const partialDeclarationsPath = this.state.name + '.d.ts';\n        for (const path of Object.keys(this.typings)) {\n            // global scripts don't get to see all other global scripts\n            // but only a part of them\n            if (isGlobalScript) {\n                if (path === 'global.d.ts') continue;\n                if (path.startsWith('script.js.global') && path !== partialDeclarationsPath) continue;\n            }\n            this.addTypingsToEditor(path, this.typings[path], isGlobalScript);\n        }\n    }\n\n    /**\n     * Inserts some text into the given editor\n     * @param {string} text The text to add\n     */\n    insertTextIntoEditor(text) {\n        const selection = this.editor.getSelection();\n        const range = new this.monaco.Range(\n            selection.startLineNumber, selection.startColumn,\n            selection.endLineNumber, selection.endColumn\n        );\n        this.editor.executeEdits('', [{range: range, text: text, forceMoveMarkers: true}]);\n        this.editor.focus();\n    }\n\n    highlightText(text) {\n        let range = text && this.editor.getModel().findMatches(text);\n        if (range && range.length) {\n            range.forEach(r => this.editor.setSelection(r.range));\n            this.editor.revealLine(range[0].range.startLineNumber);\n        } else {\n            const row = this.editor.getPosition().lineNumber;\n            const col = this.editor.getPosition().column;\n            this.editor.setSelection(new this.monaco.Range(row, col, row, col));\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const options = {};\n        if (this.state.name !== nextProps.name) {\n            this.setState({name: nextProps.name});\n            this.originalCode = nextProps.code || '';\n            this.editor && this.editor.setValue(nextProps.code);\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.highlightText(this.lastSearch);\n        }\n\n        if (this.state.language !== (nextProps.language || 'javascript')) {\n            this.setState({language: nextProps.language || 'javascript'});\n            options.language = nextProps.language || 'javascript';\n        } else if (this.state.readOnly !== (nextProps.readOnly || false)) {\n            this.setState({readOnly: nextProps.readOnly || false});\n            options.readOnly = nextProps.readOnly;\n        } else if (this.state.isDark !== (nextProps.isDark || false)) {\n            this.setState({isDark: nextProps.isDark || false});\n            options.isDark = nextProps.isDark;\n        }\n\n        this.setEditorOptions(options);\n\n        if (this.insert !== nextProps.insert) {\n            this.insert = nextProps.insert;\n            if (nextProps.insert) {\n                this.insertTextIntoEditor(nextProps.insert);\n                setTimeout(() => this.props.onInserted && this.props.onInserted(), 100);\n            }\n        }\n    }\n\n    onChange(newValue, e) {\n        if (!this.props.readOnly) {\n            this.props.onChange && this.props.onChange(this.editor.getValue());\n        }\n    }\n\n    render() {\n        if (!this.monaco) {\n            setTimeout(() => {\n                this.monaco = window.monaco;\n                this.forceUpdate()\n            }, 200);\n            return null;\n        }\n\n        return (\n            <div ref={el => this.monacoDiv = el} style={{width: '100%', height: '100%', overflow: 'hidden', position: 'relative'}}>\n                {!this.state.check && (<Fab\n                    size=\"small\"\n                    title={I18n.t('Check is not active, because javascript adapter is disabled')}\n                    style={{bottom: 10, right: 10, opacity: 0.5, position: 'absolute', zIndex: 1, background: 'red', color: 'white'}}\n                    color=\"secondary\"><IconNoCheck/></Fab>)}\n            </div>\n        );\n    }\n}\n\nScriptEditor.propTypes = {\n    connection: PropTypes.object,\n    name: PropTypes.string,\n    onChange: PropTypes.func,\n    onForceSave: PropTypes.func,\n    onInserted: PropTypes.func,\n    isDark: PropTypes.bool,\n    readOnly: PropTypes.bool,\n    code: PropTypes.string,\n    language: PropTypes.string,\n    onRegisterSelect: PropTypes.func,\n    searchText: PropTypes.string,\n    checkJs: PropTypes.bool\n};\n\nexport default ScriptEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\n\nimport I18n from '../i18n';\nimport DialogMessage from '../Dialogs/Message';\nimport DialogError from '../Dialogs/Error';\nimport DialogExport from '../Dialogs/Export';\nimport DialogImport from '../Dialogs/Import';\n\nlet languageBlocklyLoaded = false;\nlet languageOwnLoaded = false;\nlet toolboxText = null;\nlet toolboxXml;\nlet scriptsLoaded = [];\nconst styles = theme => ({\n    darkBackground: {\n        stroke: '#3a3a3a !important',\n        fill: '#515151 !important'\n    }\n});\n\nclass BlocklyEditor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.blockly = null; //ref\n        this.blocklyWorkspace = null;\n        this.toolbox = null;\n        this.Blockly = window.Blockly;\n\n        this.state = {\n            languageOwnLoaded,\n            languageBlocklyLoaded,\n            changed: false,\n            message: '',\n            error: '',\n            theme: this.props.theme,\n            exportText: '',\n            importText: false,\n            searchText: this.props.searchText || '',\n        };\n        this.originalCode = props.code || '';\n\n        this.someSelected = null;\n        this.changeTimer = null;\n\n        this.onResizeBind = this.onResize.bind(this);\n\n        this.lastCommand = '';\n        this.lastSearch = this.props.searchText || '';\n        this.blinkBlock = null;\n        this.loadLanguages();\n    }\n\n    static loadJS(url, callback, location) {\n        const scriptTag = document.createElement('script');\n        try {\n            scriptTag.src = url;\n\n            scriptTag.onload = callback;\n            scriptTag.onreadystatechange = callback;\n            scriptTag.onerror = callback;\n\n            (location || window.document.body).appendChild(scriptTag);\n        } catch (e) {\n            console.error('Cannot load ' + url + ': ' + e);\n            callback && callback();\n        }\n    };\n\n    static loadScripts(scripts, callback) {\n        if (!scripts || !scripts.length) {\n            return callback && callback();\n        }\n        const adapter = scripts.pop();\n        if (scriptsLoaded.indexOf(adapter) === -1) {\n            scriptsLoaded.push(adapter);\n            BlocklyEditor.loadJS('../../adapter/' + adapter + '/blockly.js', (/*data, textStatus, jqxhr*/) =>\n                setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0));\n        } else {\n            setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0);\n        }\n    }\n\n    static loadCustomBlockly(objects, callback) {\n        // get all adapters, that can have blockly\n        const toLoad = [];\n        for (const id in objects) {\n            if (!objects.hasOwnProperty(id) || !objects[id]) continue;\n            if (!id.match(/^system\\.adapter\\./)) continue;\n            if (objects[id].type !== 'adapter') continue;\n            if (objects[id].common && objects[id].common.blockly) {\n                console.log('Detected custom blockly: ' + objects[id].common.name);\n                toLoad.push(objects[id].common.name);\n            }\n        }\n\n        BlocklyEditor.loadScripts(toLoad, callback);\n    }\n\n    static loadXMLDoc(text) {\n        let parseXml;\n        if (window.DOMParser) {\n            parseXml = function(xmlStr) {\n                return ( new window.DOMParser() ).parseFromString(xmlStr, \"text/xml\");\n            };\n        } else if (typeof window.ActiveXObject != \"undefined\" && new window.ActiveXObject(\"Microsoft.XMLDOM\")) {\n            parseXml = function(xmlStr) {\n                var xmlDoc = new window.ActiveXObject(\"Microsoft.XMLDOM\");\n                xmlDoc.async = \"false\";\n                xmlDoc.loadXML(xmlStr);\n                return xmlDoc;\n            };\n        } else {\n            parseXml = function() { return null; }\n        }\n        return parseXml(text);\n    }\n\n    static searchXml(root, text, _id, _result) {\n        _result = _result || [];\n        if (root.tagName === 'BLOCK') {\n            _id = root.id;\n        }\n        if (root.tagName === 'FIELD') {\n            for (let a = 0; a < root.attributes.length; a++) {\n                const val = (root.attributes[a].value || '').toLowerCase();\n                if (root.attributes[a].nodeName === 'name' && (val === 'oid' || val === 'text')) {\n                    if (root.innerText.toLowerCase().indexOf(text) !== -1) {\n                        _result.push(_id);\n                    }\n                }\n            }\n        }\n        root.childNodes.forEach(node => BlocklyEditor.searchXml(node, text, _id, _result));\n        return _result;\n    }\n\n    searchBlocks(text) {\n        if (this.blocklyWorkspace) {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const ids = BlocklyEditor.searchXml(dom, text.toLowerCase());\n            const allBlocks = this.blocklyWorkspace.getAllBlocks();\n            const result = [];\n            allBlocks.filter(b => ids.indexOf(b.id) !== -1).forEach(b => result.push(b));\n            return result;\n        }\n    }\n\n    searchId() {\n        const blocks = this.lastSearch && this.searchBlocks(this.lastSearch);\n        if (blocks && blocks.length) {\n            this.someSelected = blocks;\n            this.someSelected.forEach(b => b.addSelect());\n        } else if (this.someSelected) {\n            // remove selection\n            this.someSelected.forEach(b => b.removeSelect());\n            this.someSelected = null;\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.command && this.lastCommand !== nextProps.command) {\n            this.lastCommand = nextProps.command;\n            setTimeout(() => this.lastCommand = '', 300);\n            if (this.lastCommand === 'check') {\n                this.blocklyCheckBlocks((err, badBlock) => {\n                    if (!err) {\n                        this.setState({message: I18n.t('Ok')});\n                    } else {\n                        badBlock && this.blocklyBlinkBlock(badBlock);\n                        this.setState({error: {text: I18n.t(err), title: I18n.t('Error was found')}});\n                        this.blinkBlock = badBlock;\n                    }\n                });\n            } else if (this.lastCommand === 'export') {\n                this.exportBlocks();\n            } else if (this.lastCommand === 'import') {\n                this.importBlocks();\n            }\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.searchId();\n        }\n        if (this.state.theme !== nextProps.theme) {\n            this.setState({theme: nextProps.theme}, () => this.updateBackground());\n        }\n\n        if (this.originalCode !== nextProps.code) {\n            this.originalCode = nextProps.code || '';\n            this.loadCode();\n            this.searchId();\n        }\n    }\n\n    loadLanguages() {\n        // load blockly language\n        if (!languageBlocklyLoaded) {\n            const fileLang = window.document.createElement('script');\n            fileLang.setAttribute('type', 'text/javascript');\n            fileLang.setAttribute('src', 'google-blockly/msg/js/' + I18n.getLanguage() + '.js');\n\n            // most browsers\n            fileLang.onload = () => {\n                languageBlocklyLoaded = true;\n                this.setState({languageBlocklyLoaded});\n            };\n            // IE 6 & 7\n            fileLang.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageBlocklyLoaded = true;\n                    this.setState({languageBlocklyLoaded});\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileLang);\n        }\n        if (!languageOwnLoaded) {\n            const fileCustom = window.document.createElement('script');\n            fileCustom.setAttribute('type', 'text/javascript');\n            fileCustom.setAttribute('src', 'google-blockly/own/msg/' + I18n.getLanguage() + '.js');\n            // most browsers\n            fileCustom.onload = () => {\n                languageOwnLoaded = true;\n                this.setState({languageOwnLoaded});\n            };\n            // IE 6 & 7\n            fileCustom.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageOwnLoaded = true;\n                    this.setState({languageOwnLoaded});\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileCustom);\n        }\n    }\n\n    onResize() {\n        this.Blockly.svgResize(this.blocklyWorkspace);\n    }\n\n    jsCode2Blockly(text) {\n        text = text || '';\n        const lines = text.split(/[\\r\\n]+|\\r|\\n/g);\n        let xml = '';\n        for (let l = lines.length - 1; l >= 0; l--) {\n            if (lines[l].substring(0, 2) === '//') {\n                xml = lines[l].substring(2);\n                break;\n            }\n        }\n        if (xml.substring(0, 4) === '<xml') {\n            return xml;\n        } else {\n            let code;\n            try {\n                code = window.decodeURIComponent(window.atob(xml));\n            } catch (e) {\n                code = null;\n                console.error('cannot decode: ' + xml);\n                console.error(e);\n            }\n            return code;\n        }\n    }\n\n    blocklyBlinkBlock(block) {\n        for (let i = 300; i < 3000; i = i + 300) {\n            setTimeout(() => block.select(), i);\n            setTimeout(() => block.unselect(), i + 150);\n        }\n    }\n\n    blocklyRemoveOrphanedShadows() {\n        if (this.blocklyWorkspace) {\n            let blocks = this.blocklyWorkspace.getAllBlocks();\n            let block;\n            for (let i = 0; (block = blocks[i]); i++) {\n                if (block.isShadow()) {\n                    const connections = block.getConnections_(true);\n                    let conn;\n                    for (let j = 0; (conn = connections[j]); j++) {\n                        if (!conn.targetConnection) {\n                            // remove it\n                            block.dispose();\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    blocklyCheckBlocks(cb) {\n        let warningText;\n        if (!this.blocklyWorkspace || this.blocklyWorkspace.getAllBlocks().length === 0) {\n            cb && cb('no blocks found');\n            return;\n        }\n        let badBlock = this.blocklyGetUnconnectedBlock();\n        if (badBlock) {\n            warningText = 'not properly connected';\n        } else {\n            badBlock = this.blocklyGetBlockWithWarning();\n            if (badBlock) warningText = 'warning on this block';\n        }\n\n        if (badBlock) {\n            if (cb) {\n                cb(warningText, badBlock);\n            } else {\n                this.blocklyBlinkBlock(badBlock);\n            }\n            return false;\n        }\n\n        cb();\n\n        return true;\n    }\n\n    // get unconnected block\n    blocklyGetUnconnectedBlock () {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            const connections = block.getConnections_(true);\n            let conn;\n            for (let j = 0; (conn = connections[j]); j++) {\n                if (!conn.sourceBlock_ || ((conn.type === this.Blockly.INPUT_VALUE || conn.type === this.Blockly.OUTPUT_VALUE) && !conn.targetConnection && !conn._optional)) {\n                    return block;\n                }\n            }\n        }\n        return null;\n    }\n\n    // get block with warning\n    blocklyGetBlockWithWarning() {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            if (block.warning) {\n                return block;\n            }\n        }\n        return null;\n    }\n\n    blocklyCode2JSCode(oneWay) {\n        let code = this.Blockly.JavaScript.workspaceToCode(this.blocklyWorkspace);\n        if (!oneWay) {\n            code += '\\n';\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const text = this.Blockly.Xml.domToText(dom);\n            code += '//' + btoa(encodeURIComponent(text));\n        }\n\n        return code;\n    }\n\n    exportBlocks() {\n        let exportText;\n        if (this.Blockly.selected) {\n            const xmlBlock = this.Blockly.Xml.blockToDom(this.Blockly.selected);\n            if (this.Blockly.dragMode_ !== this.Blockly.DRAG_FREE) {\n                this.Blockly.Xml.deleteNext(xmlBlock);\n            }\n            // Encode start position in XML.\n            const xy = this.Blockly.selected.getRelativeToSurfaceXY();\n            xmlBlock.setAttribute('x', this.Blockly.selected.RTL ? -xy.x : xy.x);\n            xmlBlock.setAttribute('y', xy.y);\n\n            exportText = this.Blockly.Xml.domToPrettyText(xmlBlock);\n        } else {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            exportText = this.Blockly.Xml.domToPrettyText(dom);\n        }\n        this.setState({exportText});\n    }\n    \n    importBlocks() {\n        this.setState({importText: true});\n    }\n    \n    onImportBlocks(xml) {\n        xml = (xml || '').trim();\n        if (xml) {\n            try {\n                if (!xml.startsWith('<xml')) {\n                    xml = '<xml xmlns=\"http://www.w3.org/1999/xhtml\">' + xml + '</xml>';\n                }\n                xml = xml.replace(/[\\n\\r]/g, '').replace(/<variables>.*<\\/variables>/g, '');\n                let xmlBlocks = this.Blockly.Xml.textToDom(xml);\n                if (xmlBlocks.nodeName === 'xml') {\n                    for (let b = 0; b < xmlBlocks.children.length; b++) {\n                        this.blocklyWorkspace.paste(xmlBlocks.children[b]);\n                    }\n                } else {\n                    this.blocklyWorkspace.paste(xmlBlocks);\n                }\n                this.onBlocklyChanged();\n            } catch (e) {\n                this.setState({error: {text: e, title: I18n.t('Import error')}});\n            }\n        }\n    }\n\n    loadCode() {\n        if (!this.blocklyWorkspace) return;\n\n        this.ignoreChanges = true;\n        this.blocklyWorkspace.clear();\n\n        try {\n            const xml = this.jsCode2Blockly(this.originalCode) || '<xml xmlns=\"http://www.w3.org/1999/xhtml\"></xml>';\n            const dom = this.Blockly.Xml.textToDom(xml);\n            this.Blockly.Xml.domToWorkspace(dom, this.blocklyWorkspace);\n        } catch (e) {\n            console.error(e);\n            window.alert('Cannot extract Blockly code!');\n        }\n        setTimeout(() => this.ignoreChanges = false, 100);\n    }\n\n    onBlocklyChanged() {\n        this.blocklyRemoveOrphanedShadows();\n        this.setState({changed: true});\n        this.onChange();\n    }\n\n    componentDidUpdate() {\n        if (!this.blockly) return;\n        if (this.didUpdate) {\n            clearTimeout(this.didUpdate);\n            this.didUpdate = null;\n        }\n\n        if (this.blocklyWorkspace) return;\n\n        window.addEventListener('resize', this.onResizeBind, false);\n        toolboxText = toolboxText || this.getToolbox();\n        toolboxXml = toolboxXml || this.Blockly.Xml.textToDom(toolboxText);\n\n        this.blocklyWorkspace = this.Blockly.inject(\n            this.blockly,\n            {\n                media: 'google-blockly/media/',\n                toolbox: toolboxXml,\n                zoom: {\n                    controls:   true,\n                    wheel:      false,\n                    startScale: 1.0,\n                    maxScale:   3,\n                    minScale:   0.3,\n                    scaleSpeed: 1.2\n                },\n                trashcan: true,\n                grid: {\n                    spacing:    25,\n                    length:     3,\n                    colour:     '#ccc',\n                    snap:       true\n                }\n            }\n        );\n        // for blockly itself\n        window.scripts = {\n            blocklyWorkspace: this.blocklyWorkspace\n        };\n\n        // Listen to events on master workspace.\n        this.blocklyWorkspace.addChangeListener(masterEvent => {\n            if (this.someSelected) {\n                const allBlocks = this.blocklyWorkspace.getAllBlocks();\n                this.someSelected = null;\n                allBlocks.forEach(b => b.removeSelect());\n            }\n\n            if (masterEvent.type === this.Blockly.Events.UI || masterEvent.type === this.Blockly.Events.CREATE) {\n                return;  // Don't mirror UI events.\n            }\n            if (this.ignoreChanges) return;\n            this.changeTimer && clearTimeout(this.changeTimer);\n            this.changeTimer = setTimeout(() => {\n                this.changeTimer = null;\n                this.onBlocklyChanged();\n            }, 200);\n\n        });\n        this.loadCode();\n        this.onResize();\n        // Move toolbar to the valid position\n        const toolbar = document.getElementsByClassName('blocklyToolboxDiv')[0];\n        this.blockly.appendChild(toolbar);\n\n        this.updateBackground();\n        setTimeout(() => this.searchId(), 200); // select found blocks\n    }\n\n    updateBackground() {\n        const background = document.getElementsByClassName('blocklyMainBackground')[0];\n        if (this.state.theme === 'dark') {\n            let found = 0;\n            for (let i = 0; i < background.classList.length; i++) {\n                if (background.classList[i] === this.props.classes.darkBackground) {\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                background.classList.add(this.props.classes.darkBackground);\n            }\n        } else {\n            background.classList.remove(this.props.classes.darkBackground);\n        }\n    }\n\n    componentWillUnmount() {\n        if (!this.blocklyWorkspace) return;\n        this.blocklyWorkspace.dispose();\n        this.blocklyWorkspace = null;\n        this.changeTimer && clearTimeout(this.changeTimer);\n        this.changeTimer = null;\n        window.removeEventListener('resize', this.onResizeBind);\n    }\n\n    onChange() {\n        this.originalCode = this.blocklyCode2JSCode();\n        this.props.onChange && this.props.onChange(this.originalCode);\n    }\n\n    getToolbox() {\n        // Interpolate translated messages into toolbox.\n        let toolboxText = window.document.getElementById('toolbox').outerHTML;\n        toolboxText = toolboxText.replace(/{(\\w+)}/g, (m, p1) => window.MSG[p1]);\n\n        let blocks = '';\n        const lang = I18n.getLanguage();\n        for (let cb = 0; cb < this.Blockly.CustomBlocks.length; cb++) {\n            const name = this.Blockly.CustomBlocks[cb];\n            // add blocks\n            blocks += '<category name=\"' + this.Blockly.Words[name][lang] + '\" colour=\"' + this.Blockly[name].HUE + '\">';\n            for (const _b in this.Blockly[name].blocks) {\n                if (this.Blockly[name].blocks.hasOwnProperty(_b)) {\n                    blocks += this.Blockly[name].blocks[_b];\n                }\n            }\n            blocks += '</category>';\n        }\n        toolboxText = toolboxText.replace('<category><block>%%CUSTOM_BLOCKS%%</block></category>', blocks);\n        return toolboxText;\n    }\n\n    render() {\n        if (this.state.languageBlocklyLoaded && this.state.languageOwnLoaded) {\n            this.didUpdate = setTimeout(() => {\n                this.didUpdate = null;\n                this.componentDidUpdate();\n            }, 100);\n\n            return [\n                (<div key=\"blocklyDOM\" ref={el => this.blockly = el} style={{\n                    //marginLeft: 180,\n                    width: '100%',//'calc(100% - 180px)',\n                    height: '100%',\n                    //overflow: 'hidden',\n                    position: 'relative'}}/>),\n\n                this.state.message ?\n                    (<DialogMessage\n                        key=\"dialogMessage\"\n                        text={typeof this.state.message === 'object' ? this.state.message.text : this.state.message}\n                        title={typeof this.state.message === 'object' ? this.state.message.title : ''}\n                        onClose={() => this.setState({message: ''})}\n                    />) :\n                    null,\n\n                this.state.error ?\n                    (<DialogError\n                        key=\"dialogError\"\n                        text={typeof this.state.error === 'object' ? this.state.error.text.toString() : this.state.error}\n                        title={typeof this.state.error === 'object' ? this.state.error.title : ''}\n                        onClose={() => {\n                            if (this.blinkBlock) {\n                                this.blocklyBlinkBlock(this.blinkBlock);\n                                this.blinkBlock = null;\n                            }\n                            this.setState({error: ''});\n                        }}/>) :\n                    null,\n                \n                this.state.exportText ? (<DialogExport key=\"dialogExport\" theme={this.props.theme} onClose={() => this.setState({exportText: ''})} text={this.state.exportText}/>) : null,\n                \n                this.state.importText ? (<DialogImport key=\"dialogImport\" theme={this.props.theme} onClose={text => {\n                    this.setState({importText: false});\n                    this.onImportBlocks(text);\n                }}/>) : null\n            ];\n        } else {\n            return null;\n        }\n    }\n}\n\nBlocklyEditor.propTypes = {\n    command: PropTypes.string,\n    onChange: PropTypes.func,\n    searchText: PropTypes.string,\n    theme: PropTypes.string\n};\n\nexport default withStyles(styles)(BlocklyEditor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport I18n from '../i18n';\n\nclass DialogMessage extends React.Component {\n\n    handleOk = () => {\n        this.props.onClose && this.props.onClose();\n    };\n\n    render() {\n        return (\n            <Dialog\n                open={true}\n                maxWidth=\"sm\"\n                fullWidth={true}\n                onClose={() => this.handleOk()}\n                aria-labelledby=\"message-dialog-title\"\n                aria-describedby=\"message-dialog-description\"\n            >\n                <DialogTitle id=\"message-dialog-title\">{this.props.title || I18n.t('Message')}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"message-dialog-description\">\n                        {this.props.text}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()} color=\"primary\" autoFocus>{I18n.t('Close')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogMessage.propTypes = {\n    onClose: PropTypes.func,\n    title: PropTypes.string,\n    text: PropTypes.string,\n    icon: PropTypes.object\n};\n\nexport default DialogMessage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\n\nimport I18n from '../i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: '100%',\n        height: '100%',\n    },\n    textAreaLight: {\n        background: 'lightgray'\n    },\n    dialog: {\n        height: '95%'\n    },\n    typography: {\n        padding: theme.spacing.unit * 2,\n    },\n});\nclass DialogExport extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null,\n            popper: ''\n        };\n    }\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    onCopy(event) {\n        const el = window.document.getElementById('copy_input');\n        if (el) {\n            el.select();\n            window.document.execCommand('copy');\n            const target = event.currentTarget;\n\n            setTimeout(() => {\n                window.document.execCommand('copy');\n                this.setState({popper: I18n.t('Copied'), anchorEl: target});\n                setTimeout(() => this.setState({popper: '', anchorEl: null}), 1000);\n            }, 50);\n\n        }\n        /*el.value = this.props.text;\n        window.document.body.appendChild(el);\n        el.select();*/\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return (\n            <Dialog\n                key=\"export-dialog\"\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"export-dialog-title\"\n            >\n                <DialogTitle id=\"export-dialog-title\">{I18n.t('Export selected blocks')}</DialogTitle>\n                <DialogContent>\n                    <pre\n                        id=\"export-text\"\n                        className={classes.textArea + ' ' + (this.props.theme === 'dark' ? '' : classes.textAreaLight)}\n                    >{this.props.text}</pre>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={event  => this.onCopy(event )} color=\"secondary\">{I18n.t('Copy to clipboard')}</Button>\n                    <Button onClick={() => this.handleCancel()} color=\"primary\">{I18n.t('Close')}</Button>\n\n                    <Popper\n                        id=\"popper\"\n                        style={{zIndex: 10000}}\n                        open={!!this.state.popper}\n                        placement=\"top\"\n                        anchorEl={this.state.anchorEl} transition>\n                        {({ TransitionProps }) => (\n                            <Fade {...TransitionProps} timeout={350}>\n                                <Paper>\n                                    <p className={classes.typography}>{this.state.popper}</p>\n                                </Paper>\n                            </Fade>\n                        )}\n                    </Popper>\n                    <textarea id=\"copy_input\" readOnly={true} style={{position: 'absolute', left: -9999}} tabIndex={-1} aria-hidden={true} value={this.props.text}/>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogExport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n    theme: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogExport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport I18n from '../i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        height: '100%',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n});\nclass DialogImport extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose();\n    }\n\n    handleOk () {\n        this.props.onClose(this.state.text);\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"import-dialog-title\"\n            >\n                <DialogTitle id=\"import-dialog-title\">{I18n.t('Import blocks')}</DialogTitle>\n                <DialogContent className={classes.fullHeight}>\n                    <textarea\n                        id=\"import-text-area\"\n                        className={classes.textArea}\n                        onChange={e => this.onChange(e)}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button disabled={!this.state.text} onClick={event  => this.handleOk()} color=\"primary\">{I18n.t('Import')}</Button>\n                    <Button onClick={() => this.handleCancel()} color=\"secondary\">{I18n.t('Close')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogImport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n    theme: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogImport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport I18n from '../i18n';\n\nclass DialogConfirm extends React.Component {\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onOk();\n        this.props.onClose();\n    };\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"confirmation-dialog-title\"\n            >\n                <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Are you sure?')}</DialogTitle>\n                <DialogContent>\n                    <h2>{this.props.question}</h2>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleOk} color=\"primary\">{this.props.ok || I18n.t('Ok')}</Button>\n                    <Button onClick={this.handleCancel} color=\"secondary\">{this.props.cancel || I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogConfirm.propTypes = {\n    onClose: PropTypes.func,\n    onOk: PropTypes.func.isRequired,\n    title: PropTypes.string,\n    question: PropTypes.string.isRequired,\n    cancel: PropTypes.string,\n    ok: PropTypes.string\n\n};\n\nexport default DialogConfirm;\n","// @flow\nimport { Component } from 'react';\nimport type { Node } from 'react';\n\nimport type { RowMetadata } from '../model/row';\n\n\ntype Props = {\n  grow?: number,\n  basis?: string, // <length> | auto\n  width?: string, // <length> | auto\n\n  renderCell: (rowData: any, rowMetadata: RowMetadata, toggleChildren: () => void) => Node,\n  className?: string,\n};\n\ntype State = { };\n\nexport default class Column extends Component<Props, State> {\n\n  render() { return null; }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport type { Node } from 'react';\n\nimport type { RowMetadata } from '../model/row';\n\n\ntype Props = {\n  //grow?: number,\n  //basis?: string, // <length> | auto\n  width: string,  // <length> | auto\n\n  rowData: any,\n  rowMetadata: RowMetadata,\n  toggle: () => void,\n  renderCell: (rowData: any, rowMetadata: RowMetadata, toggleChildren: () => void) => Node,\n  className?: string,\n  classNameColumn?: string,\n};\n\ntype State = {\n  width: string\n  //_grow: number,\n  //_basis: string,\n};\n\nexport default class ColumnWrapper extends Component<Props, State> {\n  state = {\n    //_grow: 1,\n    //_basis: 'auto',\n      width: 'auto'\n  };\n\n  render() {\n    const { width, rowData, toggle, rowMetadata, renderCell, className, classNameColumn} = this.props;\n    const { _width } = this.state;\n\n    //const flexGrow = (grow != null) ? grow : _grow;\n    //const flexBasis = (basis != null) ? basis : _basis;\n    const cWidth = (width != null) ? width : _width;\n\n    const baseClass = (className ? `cp_tree-table_column ${className || ''}`: 'cp_tree-table_column') + ' ' + (classNameColumn || '');\n    return (\n      <div className={baseClass}\n        style={{ ...STYLE_COLUMN, width: cWidth/*flexGrow: flexGrow, flexBasis: flexBasis */}}>\n        { renderCell(rowData, rowMetadata, toggle) }\n      </div>\n    );\n  }\n}\n\nconst STYLE_COLUMN = {\n  boxSizing: 'border-box',\n  position: 'relative',\n  overflow: 'hidden',\n};\n","// @flow\nimport React, { Component, Children } from 'react';\nimport type { ChildrenArray, Element } from 'react';\n\nimport Column from './Column';\nimport ColumnWrapper from './ColumnWrapper';\n\n\ntype Props = {\n  row: any,\n  columns: ChildrenArray<Element<typeof Column>>,\n\n  hasVisibleChildren: boolean, // Metadata\n  classNamePartlyVisible?: string,\n  classNameColumn?: string,\n  classNameSelected?: string,\n  classNameRow?: string,\n  index: number,\n  selected?: string,\n  onToggle: () => void,\n  onRowClick: (data: object) => void,\n};\n\ntype State = {\n  overscanHeight: number,\n  height: number,\n  topOffset: number,\n};\n\nexport default class VirtualListRow extends Component<Props, State> {\n\n  state = {\n    overscanHeight: 100,\n    height: 0,\n    topOffset: 0,\n  };\n\n  render() {\n    const { row, hasVisibleChildren, index, onToggle, columns, classNameRow, classNameColumn, selected, classNameSelected } = this.props;\n\n    const metadata = { ...row.getMetadata(), hasVisibleChildren: hasVisibleChildren };\n\n    const style = {...STYLE_ROW, height: row.getHeight() + 'px'};\n\n    return (\n      <div className={'cp_tree-table_row ' + (classNameRow || '') + (selected === row.data.id ? ' ' + classNameSelected : '')}\n        style={style}\n        data-rindex={index}\n        onClick={() => this.props.onRowClick && this.props.onRowClick(row.data, metadata, onToggle)}\n        onDoubleClick={() => this.props.onRowClick && this.props.onRowClick(row.data, metadata, onToggle, true)}\n        data-depth={row.depth} >\n      \n        {Children.toArray(columns).map((column, index) => {\n          return (\n            <ColumnWrapper key={index}\n              {...column.props}\n              classNameColumn={classNameColumn}\n              rowData={row.data}\n              toggle={onToggle}\n              rowMetadata={metadata}/>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nconst STYLE_ROW = {\n  // display: 'flex',\n\n  boxSizing: 'border-box',\n  position: 'relative',\n  overflow: 'hidden',\n  width: '100%',\n};\n","// @flow\nimport BTLeaf from './bt_leaf';\n\n\nexport type TreeDataRow = {\n  data: any,\n  height?: number,\n  children?: Array<TreeDataRow>,\n};\n\nexport type RowMetadata = {\n  depth: number;\n  hasChildren: boolean;\n  hasVisibleChildren: boolean;\n};\n\nexport type PartialRowMetadata = {\n  depth: number;\n  hasChildren: boolean;\n};\n\nexport default class Row {\n  parent: ?BTLeaf = null;\n  depth: number;      // tree depth\n  data: any;          // row data\n\n  _hasChildren: boolean;\n\n  _height: number = 26;    // height in px (26px - fallback value)\n  _cacheHeight: number = 26;\n\n  constructor(data: any, hasChildren: boolean, depth: number = 0, isVisible: boolean, height: ?number) {\n    this.data = data;\n    this.depth = depth;\n    this._hasChildren = hasChildren;\n\n    if (height != null) {\n      this._height = height;\n      this._cacheHeight = height;\n    }\n\n    if (!isVisible) {\n      this._height = 0;\n    }\n  }\n\n  setHeight(value: number) {\n    this._updateHeight(value);\n    if (value > 0) {\n      this._cacheHeight = value;\n    }\n  }\n\n  getHeight(): number {\n    return this._height;\n  }\n\n  isVisible(): boolean {\n    return this._height > 0;\n  }\n\n  getMetadata(): PartialRowMetadata {\n    return {\n      depth: this.depth,\n      hasChildren: this._hasChildren,\n    };\n  }\n\n  toggle(): void {\n    if (this._height > 0) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  hide(): void {\n    this._cacheHeight = this._height;\n    this._updateHeight(0);\n  }\n\n  show(): void {\n    this._updateHeight(this._cacheHeight);\n  }\n\n  _updateHeight(value: number) {\n    let diff = value - this._height;\n    if (diff) {\n      for (let n = this; n; n = n.parent) {\n        n._height += diff;\n      }\n    }\n  }\n}\n","// @flow\nimport Row from '../model/row';\nimport type { TreeDataRow  } from '../model/row';\n\nexport * from './search';\n\n\nexport const processData = (data: Array<TreeDataRow>, rowHeightDefault: ?number = null): Array<Row> => {\n  return processLevel(data, rowHeightDefault, 0, true);\n}\n\nconst processLevel = (data: Array<TreeDataRow>, rowHeightDefault: ?number, depth: number = 0, isVisible: boolean = false): Array<Row> => {\n  let result: Array<Row> = [];\n  for (var i = 0; i < data.length; i++) {\n    const hasChildren: boolean = (data[i].children != null && data[i].children.length > 0);\n\n    result.push(new Row(data[i].data, hasChildren, depth, isVisible, data[i].height || rowHeightDefault));\n\n    if (data[i].children && data[i].children.length > 0) {\n      processLevel(data[i].children, rowHeightDefault, depth + 1).forEach((row) => {\n        result.push(row);\n      });\n    }\n  }\n  return result;\n}\n\nexport const indexOf = (needle: any, haystack: Array<any>): number => {\n  for (var i = 0; i < haystack.length; i++) {\n    if (haystack[i] === needle) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nexport const noop = () => undefined;\n","// @flow\nimport BTLeaf from './bt_leaf';\nimport Row from './row';\nimport { indexOf } from '../util';\n\n\nexport default class BTNode {\n  parent: ?BTNode = null;\n  children: Array<BTNode | BTLeaf> = [];\n\n  _size: number = 0;\n  _height: number = 0;\n\n\n  constructor(children: Array<BTNode | BTLeaf>) {\n    this.children = children;\n\n    let size = 0, height = 0;\n    for (let i = 0; i < children.length; ++i) {\n      let ch = children[i];\n      size += ch.getSize();\n      height += ch.getHeight();\n      ch.parent = this;\n    }\n\n    this._size = size;\n    this._height = height;\n  }\n\n  getSize(): number {\n    return this._size;\n  }\n\n  getHeight(): number {\n    return this._height;\n  }\n\n  // https://github.com/codemirror/CodeMirror/blob/e03ef21df390753eb35ff8426dd99b1be4d29d74/src/model/chunk.js#L79\n  removeInner(at: number, n: number) {\n    this._size -= n;\n    for (let i = 0; i < this.children.length; i++) {\n      let child = this.children[i], sz = child.getSize();\n      if (at < sz) {\n        let rm = Math.min(n, sz - at), oldHeight = child.getHeight();\n        child.removeInner(at, rm);\n        this._height -= oldHeight - child.getHeight();\n        if (sz === rm) {\n          this.children.splice(i--, 1);\n          child.parent = null;\n        }\n        n -= rm;\n        if (n === 0) {\n          break;\n        }\n        at = 0;\n      } else {\n        at -= sz;\n      }\n    }\n    // If the result is smaller than 25 rows, ensure that it is a\n    // single leaf node.\n    if (this.getSize() - n < 25 &&\n       (this.children.length > 1 || !(this.children[0] instanceof BTLeaf))) {\n      let rows = [];\n      this.collapse(rows);\n      this.children = [new BTLeaf(rows)];\n      this.children[0].parent = this;\n    }\n  }\n\n  collapse(rows: Array<Row>) {\n    for (let i = 0; i < this.children.length; i++) {\n      this.children[i].collapse(rows);\n    }\n  }\n\n  // https://github.com/codemirror/CodeMirror/blob/e03ef21df390753eb35ff8426dd99b1be4d29d74/src/model/chunk.js#L107\n  insertInner(at: number, rows: Array<Row>, height: number) {\n    this._size += rows.length;\n    this._height += height;\n\n    for (let i = 0; i < this.children.length; i++) {\n      let child = this.children[i], sz = child.getSize();\n      if (at <= sz) {\n        child.insertInner(at, rows, height);\n        if (child instanceof BTLeaf && child.getSize() > 50) {\n          // To avoid memory thrashing when child.rows is huge (e.g. first view of a large file), it's never spliced.\n          // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n          let remaining = child.getSize() % 25 + 25;\n          for (let pos = remaining; pos < child.getSize();) {\n            let leaf = new BTLeaf(child.rows.slice(pos, pos += 25));\n            child._height -= leaf.getHeight();\n            this.children.splice(++i, 0, leaf);\n            leaf.parent = this;\n          }\n          child.rows = child.rows.slice(0, remaining);\n          this.maybeSpill();\n        }\n        break;\n      }\n      at -= sz;\n    }\n  }\n\n  // When a node has grown, check whether it should be split.\n  maybeSpill() {\n    if (this.children.length <= 10) {\n      return;\n    }\n    let me: BTNode = this;\n    do {\n      let spilled = me.children.splice(me.children.length - 5, 5);\n      let sibling = new BTNode(spilled);\n      if (!me.parent) { // Become the parent node\n        let copy = new BTNode(me.children);\n        copy.parent = me;\n        me.children = [copy, sibling];\n        me = copy;\n     } else {\n        me._size -= sibling.getSize();\n        me._height -= sibling.getHeight();\n\n        let parent: ?BTNode = me.parent;\n        if (parent && parent.children) {\n          let myIndex = indexOf(me, parent.children);\n          parent.children.splice(myIndex + 1, 0, sibling);\n        }\n      }\n      sibling.parent = me.parent;\n    } while (me.children.length > 10)\n    if (me.parent) {\n      me.parent.maybeSpill();\n    }\n  }\n\n  mapRange(at: number, n: number, op: (data: Row) => ?boolean): ?boolean {\n    for (let i = 0; i < this.children.length; i++) {\n      let child = this.children[i], sz = child.getSize();\n      if (at < sz) {\n        let used = Math.min(n, sz - at);\n        if (child.mapRange(at, used, op)) {\n          return true;\n        }\n        n -= used;\n        if (n === 0) {\n          break;\n        }\n        at = 0;\n      } else {\n        at -= sz;\n      }\n    }\n  }\n\n  mapAll(op: (data: Row) => ?boolean): ?boolean {\n    return this.mapRange(0, this._size, op);\n  }\n}\n","// @flow\nimport BTNode from './bt_node';\nimport Row from './row';\n\n\nexport default class BTLeaf {\n  parent: ?BTNode = null;\n  rows: Array<Row> = [];\n\n  _height: number = 0;\n\n  constructor(rows: Array<Row> = []) {\n    this.rows = rows;\n\n    let height = 0;\n    for (let i = 0; i < rows.length; ++i) {\n      rows[i].parent = this;\n      height += rows[i].getHeight();\n    }\n    this._height = height;\n  }\n\n  getSize(): number {\n    return this.rows.length;\n  }\n\n  getHeight(): number {\n    return this._height;\n  }\n\n  // Remove n rows at offset 'at'.\n  removeInner(at: number, n: number) {\n    for (let i = at, e = at + n; i < e; ++i) {\n      let row = this.rows[i];\n      this._height -= row.getHeight();\n\n      row.parent = null;\n    }\n    this.rows.splice(at, n);\n  }\n\n  collapse(rows: Array<Row>) {\n    rows.push.apply(rows, this.rows)\n  }\n\n  // Insert the given array of rows at offset 'at', count them as\n  // having the given height.\n  insertInner(at: number, rows: Array<Row>, height: number) {\n    this._height += height\n    this.rows = this.rows.slice(0, at).concat(rows).concat(this.rows.slice(at))\n    for (let i = 0; i < rows.length; ++i) {\n      rows[i].parent = this;\n    }\n  }\n\n  mapRange(at: number, n: number, op: (data: Row) => ?boolean): ?boolean {\n    for (let e = at + n; at < e; ++at) {\n      if (op(this.rows[at])) {\n        return true;\n      }\n    }\n  }\n}\n","// @flow\nimport BTLeaf from './bt_leaf';\nimport BTNode from './bt_node';\nimport Row from './row';\nimport { indexOf } from '../util';\n\n\nexport default class BTRoot extends BTNode {\n  constructor(data: Array<Row> = []) {\n    super([new BTLeaf([])]);\n\n    this.insert(0, data);\n  }\n\n  insert(at: number, rows: Array<Row>) {\n    let height = 0\n    for (let i = 0; i < rows.length; ++i) {\n      height += rows[i].getHeight();\n    }\n    super.insertInner(at, rows, height);\n  }\n\n  remove(at: number, n: number) {\n    super.removeInner(at, n);\n  }\n\n  getRow(index: number): Row {\n    if (index < 0 || index >= this.getSize()) {\n      throw new Error('Invalid index! No row at index: ' + index);\n    }\n    let node = this;\n    while (node instanceof BTNode) {\n      for (let i = 0;; i++) {\n        let child = node.children[i], sz = child.getSize();\n        if (index < sz) {\n          node = child;\n          break;\n        }\n        index -= sz;\n      }\n    }\n    return node.rows[index];\n  }\n\n  getRowIndex(row: Row): number {\n    if (row.parent == null) {\n      throw new Error('Invalid row object! No parent node: (row.parent == null)');\n    }\n    let cur = row.parent, index = indexOf(row, cur.rows);\n    for (let chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (let i = 0;; i++) {\n        if (chunk.children[i] === cur) {\n          break;\n        }\n        index += chunk.children[i].getSize();\n      }\n    }\n    return index;\n  }\n\n  getIndexAtY(y: number): number {\n    if (y < 0 || y > this.getHeight()) {\n      throw new Error('Invalid y position! No row at y: ' + y);\n    }\n\n    let n = 0, height = y;\n    let node = this;\n    do {\n      let ch = 0;\n      for (let i = 0; i < node.children.length; i++) {\n        let child = node.children[i];\n        ch = child.getHeight();\n        if (height < ch) {\n          node = child;\n          break;\n        }\n        height -= ch;\n        n += child.getSize();\n      }\n      if (height >= ch) {\n        return n;\n      }\n    } while (!node.rows);\n\n    let i = 0;\n    if (node instanceof BTLeaf) {\n      for (; i < node.getSize(); i++) {\n        let row = node.rows[i], rHeight = row.getHeight();\n        if (height < rHeight) {\n          break;\n        }\n        height -= rHeight;\n      }\n    }\n    return n + i;\n  }\n  \n  getYAtIndex(index: number): number {\n    let row = this.getRow(index);\n    if (row.parent == null) {\n      throw new Error('Invalid row object! No parent node: (row.parent == null)');\n    }\n\n    let height = 0, chunk = row.parent;\n    for (let i = 0; i < chunk.rows.length; i++) {\n      let rowObj = chunk.rows[i];\n      if (rowObj === row) {\n        break;\n      } else {\n        height += rowObj.getHeight();\n      }\n    }\n    for (let p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (let i = 0; i < p.children.length; i++) {\n        let cur = p.children[i];\n        if (cur === chunk) {\n          break\n        } else {\n          height += cur.getHeight();\n        }\n      }\n    }\n    return height;\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport type { ChildrenArray, Element } from 'react';\n\nimport Column from './Column';\nimport VirtualListRow from './VirtualListRow';\n\nimport BTRoot from '../model/bt_root';\nimport Row from '../model/row';\n\n\ntype Props = {\n  root: BTRoot,\n  columns: ChildrenArray<Element<typeof Column>>,\n\n  height: number,\n  onToggle: (row: Row) => void,\n  onRowClick: (data: object) => void,\n  onScroll: (scrollTop: number) => void,\n  className?: string,\n  classNamePartlyVisible?: string,\n  classNameColumn?: string,\n  classNameMover?: string,\n  classNameRow?: string,\n  classNameInner?: string,\n  selected?: string,\n  classNameSelected?: string,\n};\n\ntype State = {\n  overscanHeight: number,\n  height: number,\n  topOffset: number,\n};\n\ntype RowData = {\n  row: Row,\n  hasVisibleChildren: boolean,\n};\n\nexport default class VirtualList extends Component<Props, State> {\n\n  state = {\n    overscanHeight: 100,\n    height: 0,\n    topOffset: 0,\n  };\n\n  container: ?HTMLElement;\n\n  componentDidUpdate() {\n    this._setHeight();\n  }\n\n  componentDidMount() {\n    this._setHeight();\n    window.addEventListener(\"resize\", this._setHeight);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this._setHeight);\n  }\n\n  render() {\n    const { root, columns, onToggle, className, classNameColumn, onRowClick, classNamePartlyVisible, classNameMover, classNameRow, selected, classNameSelected, classNameInner} = this.props;\n    const { overscanHeight, height, topOffset } = this.state;\n\n    const startYMax = Math.max(0, root.getHeight() - height - (overscanHeight * 2));\n    const startY = Math.min(startYMax, Math.max(0, topOffset - overscanHeight));\n    let startIndex = root.getIndexAtY(startY);\n\n    const endY = Math.min(root.getHeight(), topOffset + height + overscanHeight);\n    let endIndex = root.getIndexAtY(endY);\n\n    const contentTopOffset =  root.getYAtIndex(startIndex);\n\n    let visibleRowsData: Array<RowData> = [], lastVisibleRowIndex;\n    root.mapRange(startIndex, endIndex - startIndex, (row: Row) => {\n      if (row.isVisible()) {\n        if (lastVisibleRowIndex != null && !visibleRowsData[lastVisibleRowIndex].hasVisibleChildren) {\n          const data = visibleRowsData[lastVisibleRowIndex];\n          \n          if (data != null && data.row.depth === row.depth - 1 && !data.hasVisibleChildren) {\n            visibleRowsData[lastVisibleRowIndex].hasVisibleChildren = true;\n          }\n        }\n\n        lastVisibleRowIndex = visibleRowsData.length;\n        visibleRowsData.push({\n          row: row,\n          hasVisibleChildren: false,\n        });\n      }\n    });\n\n    let visibleRows = [];\n    let relativeIndex = 0;\n    visibleRowsData.forEach((data: RowData) => {\n        (data.row.data.visible === undefined || data.row.data.visible || data.row.data.hasVisibleChildren) && visibleRows.push(\n        <VirtualListRow\n          row={data.row}\n          columns={columns}\n          selected={selected}\n          onRowClick={onRowClick}\n          classNameSelected={classNameSelected}\n          classNameColumn={classNameColumn}\n          classNameRow={classNameRow + (!data.row.data.visible && classNamePartlyVisible && data.row.data.hasVisibleChildren ? ' ' + classNamePartlyVisible : '')}\n          hasVisibleChildren={data.hasVisibleChildren}\n          index={relativeIndex}\n          key={relativeIndex++}\n          onToggle={() => onToggle(data.row)}/>\n      );\n    });\n\n    return (\n      <div className={className}\n        style={{ ...STYLE_LIST, height: this.props.height + 'px', }}\n        ref={elem => {this.container = elem}}\n        onScroll={this._handleScroll}>\n\n        <div style={{ ...STYLE_WRAPPER, height: (root.getHeight()) + 'px', }} className={classNameInner || ''}>\n          <div style={{ ...STYLE_CONTENT, top: (contentTopOffset) + 'px' }}\n            className={'cp_tree-table_mover ' + (classNameMover || '')}>\n            {visibleRows}\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n\n  scrollTop(posY: number = 0) {\n    if (this.container) {\n      this.container.parentNode.scrollTop = posY;\n    }\n  }\n\n  // virtual scroll\n  _handleScroll = () => {\n    const { onScroll } = this.props;\n\n    if (this.container) {\n      const { scrollTop } = this.container;\n\n      onScroll(scrollTop);\n\n      this.setState({\n        topOffset: scrollTop\n      });\n    }\n  };\n\n  // virtual scroll\n  _setHeight = () => {\n    const { height } = this.state;\n    \n    if (this.container) {\n      const { offsetHeight } = this.container;\n\n      if (height !== offsetHeight) {\n        this.setState({\n          height: offsetHeight\n        });\n      }\n    }\n  };\n}\n\nconst STYLE_LIST = {\n  overflow: 'auto',\n  WebkitOverflowScrolling: 'touch',\n};\n\nconst STYLE_WRAPPER = {\n  position: 'relative',\n  overflow: 'hidden',\n  width: '100%',\n  minHeight: '100%',\n};\n\nconst STYLE_CONTENT = {\n  position: 'absolute',\n  overflow: 'visible',\n  height: '100%',\n  width: '100%',\n  top: '0',\n  left: '0',\n};\n","// @flow\nimport React, { Component } from 'react';\nimport type { ChildrenArray, Element } from 'react';\n\nimport Column from './Column';\nimport VirtualList from './VirtualList';\n\nimport BTRoot from '../model/bt_root';\nimport Row from '../model/row';\nimport type { TreeDataRow  } from '../model/row';\n\nimport { processData, noop, findNodeData } from '../util';\n\n\ntype TreeChange = {\n  root: BTRoot,\n  hasChange: boolean,\n};\n\ntype Props = {\n  data: Array<TreeDataRow>,\n  children: ChildrenArray<Element<typeof Column>>,\n  classNameColumn?: string,\n  classNamePartlyVisible?: string,\n  classNameMover?: string,\n  classNameInner?: string,\n  classNameRow?: string,\n  selected?: string,\n  classNameSelected?: string,\n  selected?: string,\n  height?: number,\n  rowHeight?: number,\n  onScroll?: (scrollTop: number) => void,\n  onRowClick?: (data: object) => void,\n  className?: string,\n};\n\ntype State = {\n  root: BTRoot,\n};\n\nexport default class TreeDataTable extends Component<Props, State> {\n  static Column = Column;\n\n  virtualList: ?VirtualList;\n\n  constructor(props: Props) {\n    super(props);\n    const { rowHeight } = props;\n    this.depth = 0;\n    this.state = {\n      root: new BTRoot(processData(this.props.data, rowHeight)),\n    };\n  }\n\n  render() {\n    const { height, children, onScroll, className, classNameRow, classNamePartlyVisible, classNameColumn, classNameMover, classNameInner, selected, classNameSelected } = this.props;\n    \n    const baseClass = className ? `cp_tree-table ${className}`: 'cp_tree-table';\n    return (\n      <VirtualList className={baseClass}\n                   classNameSelected={classNameSelected}\n                   selected={selected}\n                   classNameRow={classNameRow}\n                   classNamePartlyVisible={classNamePartlyVisible}\n                   classNameColumn={classNameColumn}\n                   classNameMover={classNameMover}\n                   onRowClick={this.props.onRowClick}\n                   classNameInner={classNameInner}\n        ref={elem => {this.virtualList = elem}}\n\n        columns={children}\n\n        height={height || 200}\n        root={this.state.root}\n        \n        onScroll={onScroll || noop}\n        onToggle={(row) => this._handleOnToggle(row)}/>\n    );\n  }\n\n  // Public API\n  scrollIntoView(node: TreeDataRow, expandAncestors: boolean = true) {\n    const { root } = this.state;\n\n    const row = node && findNodeData(root, node);\n    if (row) {\n      const rowIndex = root.getRowIndex(row);\n      if (expandAncestors && !row.isVisible()) {\n        let ancestors: Array<Row> = [];\n        for (let currentRowIndex = Math.max(rowIndex - 1, 0), previousDepth = row.depth; currentRowIndex >= 0; currentRowIndex--) {\n          const currentRow = root.getRow(currentRowIndex);\n          \n          if (currentRow.depth === previousDepth - 1) {  // Parent\n            ancestors.push(currentRow);\n            previousDepth = currentRow.depth;\n\n            if (currentRow.isVisible()) { // From here up, all the ancestors are visible\n              break;\n            }\n          }\n\n          if (currentRow.depth === 0) {\n            break;\n          }\n        }\n\n        // Batch changes\n        let currentRoot = root;\n        let hasChange: boolean = false;\n        for (let i = 0; i < ancestors.length; i++) {\n          const currentRow = ancestors[i];\n          const delta = this._toggleRow(currentRoot, currentRow);\n\n          if (!hasChange) {\n            hasChange = delta.hasChange;\n          }\n        }\n\n        if (hasChange) {\n          this.setState({ root: currentRoot }, () => {\n            const posY = root.getYAtIndex(rowIndex);\n            this.scrollTo(posY);\n          });\n        }\n      } else {\n        const posY = root.getYAtIndex(rowIndex);\n        this.scrollTo(posY);\n      }\n    }\n  }\n\n  // Public API\n  scrollTo(posY: number) {\n    if (this.virtualList) {\n      this.virtualList.scrollTop(posY);\n    }\n  }\n\n  // Makes rows in the given range that don't represent root nodes (row.depth == 0) visible\n  _showRowsInRange(from?: number, to?: number) {\n    const { root } = this.state;\n\n    let _from = (from != null) ? from : 0;\n    let _to = (to != null) ? to : root.getSize();\n\n    // Validation\n    if (!this._isOpRangeValid(_from, _to)) {\n      return;\n    }\n\n    // Expand op\n    let hasChange: boolean = false;\n    root.mapRange(_from, _to, (row: Row) => {\n      if (row.depth > 0 && !row.isVisible()) {\n        row.show();\n        hasChange = true;\n      }\n    });\n\n    if (hasChange) {\n      this.setState({ root: root });\n    }\n  }\n\n  _walkOne(root: BTRoot, depth: number) {\n    let hasChanged;\n    if (root.rows) {\n        for (let i = 0; i < root.rows.length; i++) {\n          if (root.rows[i].depth <= depth) {\n            if (!root.rows[i].isVisible()) {\n              hasChanged = true;\n              root.rows[i].show();\n            }\n          } else if (root.rows[i].isVisible()) {\n              hasChanged = true;\n              root.rows[i].hide();\n          }\n        }\n    } else if (root.children) {\n        for (let i = 0; i < root.children.length; i++) {\n            const changed = this._walkOne(root.children[i], depth);\n            if (changed) {\n                hasChanged = true;\n            }\n        }\n    }\n    return hasChanged;\n  }\n\n  // Public API\n  expandAll(expandOrCollapse?: boolean) { // _showRowsInRange alias with the default arguments\n    if (expandOrCollapse === undefined) {\n        this._showRowsInRange();\n    } else {\n      if (expandOrCollapse === true || expandOrCollapse === false) {\n          this.depth = expandOrCollapse ? this.depth + 1 : this.depth - 1;\n      } else {\n          this.depth = expandOrCollapse;\n      }\n      if (this.depth < 0) {\n          this.depth = 0;\n      }\n        if (this._walkOne(this.state.root, this.depth)) {\n            this.setState({root: this.state.root});\n        }\n    }\n  }\n\n  // Hides rows in the given range that don't represent root nodes (row.depth == 0)\n  _hideRowsInRange(from?: number, to?: number) {\n    const { root } = this.state;\n\n    let _from = (from != null) ? from : 0;\n    let _to = (to != null) ? to : root.getSize();\n\n    // Validation\n    if (!this._isOpRangeValid(_from, _to)) {\n      return;\n    }\n\n    // Expand op\n    let hasChange: boolean = false;\n    root.mapRange(_from, _to, (row: Row) => {\n      if (row.depth > 0 && row.isVisible()) {\n        row.hide();\n        hasChange = true;\n      }\n    });\n\n    if (hasChange) {\n      this.setState({ root: root });\n    }\n  }\n\n  // Public API\n  collapseAll() { // _hideRowsInRange alias with the default arguments\n    this._hideRowsInRange();\n  }\n\n  _isOpRangeValid(from: number, to: number): boolean {\n    const { root } = this.state;\n    const maxTo = root.getSize();\n    // Validation\n    if (from < 0) {\n      console.warn('Invalid range: from < 0');\n      return false;\n    }\n    if (from > maxTo) {\n      console.warn('Invalid range: from > max size');\n      return false;\n    }\n    if (to > maxTo) {\n      console.warn('Invalid range: to > max size');\n      return false;\n    }\n    if (from > to) {\n      console.warn('Invalid range: to > from');\n      return false;\n    }\n    return true;\n  }\n\n  _handleOnToggle = (row: Row) => {\n    const { root } = this.state;\n\n    const delta = this._toggleRow(root, row);\n    if (delta.hasChange) {\n      this.setState({ root: delta.root });\n    }\n  }\n\n  _toggleRow = (root: BTRoot, row: Row): TreeChange => {\n    const currentDepth = row.depth;\n    let rowIndex = Math.min(root.getRowIndex(row) + 1, root.getSize());\n\n    let hasChange: boolean = false;\n    let toggleOpen: ?boolean;\n    root.mapRange(rowIndex, root.getSize() - rowIndex, (row: Row) => {\n      if (toggleOpen == null) {\n        toggleOpen = !row.isVisible();\n      }\n\n      if (row.depth >= currentDepth + 1) {\n        if (row.depth === currentDepth + 1) {\n          row.toggle();\n          hasChange = true;\n        } else if (!toggleOpen && row.isVisible()) { // Close all children\n          row.toggle();\n          hasChange = true;\n        }\n        \n        return false;\n      } else {\n        return true;\n      }\n    });\n\n    return {\n      root: root,\n      hasChange: hasChange,\n    };\n  }\n}\n","// @flow\nimport Row from '../model/row';\nimport BTRoot from '../model/bt_root';\nimport type { TreeDataRow  } from '../model/row';\n\n\nexport const findNodeData = (root: BTRoot, dataNode: TreeDataRow): ?Row => {\n  let result;\n\n  root.mapAll((row: Row) => {\n    if (dataNode.data === row.data) {\n      result = row;\n      return true;\n    }\n  });\n  return result;\n}\n","import TreeDataTable from './component/TreeDataTable';\nimport type { TreeDataRow } from './component/TreeDataTable';\nimport type { RowMetadata } from '../model/row';\n\nexport default TreeDataTable;\nexport type { TreeDataRow };\nexport type { RowMetadata };\n","/**\n * Copyright 2018 bluefox <dogafox@gmail.com>\n *\n * Licensed under the Creative Commons Attribution-NonCommercial License, Version 4.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://creativecommons.org/licenses/by-nc/4.0/legalcode.txt\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n **/\n\nimport React from 'react';\nimport I18n from '../i18n';\n\nconst NAMESPACE = 'material';\nconst days = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];\nconst months = ['Jan', 'Feb', 'Mar', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nclass Utils {\n    static namespace = NAMESPACE;\n    static INSTANCES = 'instances';\n    static dateFormat = ['DD', 'MM'];\n\n    static CapitalWords(name) {\n        return (name || '').split(/[\\s_]/)\n            .filter(item => item)\n            .map(word => word ? word[0].toUpperCase() + word.substring(1).toLowerCase() : '')\n            .join(' ');\n    }\n\n    static getObjectName(objects, id, settings, options, isDesc) {\n        let item = objects[id];\n        let text = id;\n        const attr = isDesc ? 'desc' : 'name';\n\n        options = options || {};\n        if (!options.language) {\n            options.language = (objects['system.config'] && objects['system.config'].common && objects['system.config'].common.language) || window.sysLang || 'en';\n        }\n        if (settings && settings.name) {\n            text = settings.name;\n            if (typeof text === 'object') {\n                text = text[options.language] || text.en;\n            }\n        } else\n        if (item && item.common && item.common[attr]) {\n            text = item.common[attr];\n            if (attr !== 'desc' && !text && item.common.desc) {\n                text = item.common.desc;\n            }\n            if (typeof text === 'object') {\n                text = text[options.language] || text.en;\n            }\n            text = (text || '').toString().replace(/[_.]/g, ' ');\n\n            if (text === text.toUpperCase()) {\n                text = text[0] + text.substring(1).toLowerCase();\n            }\n        } else {\n            let pos = id.lastIndexOf('.');\n            text = id.substring(pos + 1).replace(/[_.]/g, ' ');\n            text = Utils.CapitalWords(text);\n        }\n        return text.trim();\n    }\n\n    static getSettingsOrder(obj, forEnumId, options) {\n        if (obj && obj.hasOwnProperty('common')) {\n            obj = obj.common;\n        }\n        let settings;\n        if (obj && obj.custom) {\n            settings = (obj.custom || {})[NAMESPACE];\n            const user = options.user || 'admin';\n            if (settings && settings[user]) {\n                if (forEnumId) {\n                    if (settings[user].subOrder && settings[user].subOrder[forEnumId]) {\n                        return JSON.parse(JSON.stringify(settings[user].subOrder[forEnumId]));\n                    }\n                } else {\n                    if (settings[user].order) {\n                        return JSON.parse(JSON.stringify(settings[user].order));\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    static getSettingsCustomURLs(obj, forEnumId, options) {\n        if (obj && obj.hasOwnProperty('common')) {\n            obj = obj.common;\n        }\n        let settings;\n        if (obj && obj.custom) {\n            settings = (obj.custom || {})[NAMESPACE];\n            const user = options.user || 'admin';\n            if (settings && settings[user]) {\n                if (forEnumId) {\n                    if (settings[user].subURLs && settings[user].subURLs[forEnumId]) {\n                        return JSON.parse(JSON.stringify(settings[user].subURLs[forEnumId]));\n                    }\n                } else {\n                    if (settings[user].URLs) {\n                        return JSON.parse(JSON.stringify(settings[user].URLs));\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    static reorder(list, source, dest) {\n        const result = Array.from(list);\n        const [removed] = result.splice(source, 1);\n        result.splice(dest, 0, removed);\n        return result;\n    };\n\n    static getSettings(obj, options, defaultEnabling) {\n        let settings;\n        const id = (obj && obj._id) || (options && options.id);\n        if (obj && obj.hasOwnProperty('common')) {\n            obj = obj.common;\n        }\n        if (obj && obj.custom) {\n            settings = obj.custom || {};\n            settings = settings[NAMESPACE] && settings[NAMESPACE][options.user || 'admin'] ? JSON.parse(JSON.stringify(settings[NAMESPACE][options.user || 'admin'])) : {enabled: true};\n        } else {\n            settings = {enabled: defaultEnabling === undefined ? true : defaultEnabling, useCustom: false};\n        }\n\n        if (!settings.hasOwnProperty('enabled')) {\n            settings.enabled = defaultEnabling === undefined ? true : defaultEnabling;\n        }\n\n        if (false && settings.useCommon) {\n            if (obj.color) settings.color = obj.color;\n            if (obj.icon)  settings.icon  = obj.icon;\n            if (obj.name)  settings.name  = obj.name;\n        } else {\n            if (options) {\n                if (!settings.name  && options.name)  settings.name  = options.name;\n                if (!settings.icon  && options.icon)  settings.icon  = options.icon;\n                if (!settings.color && options.color) settings.color = options.color;\n            }\n\n            if (obj) {\n                if (!settings.color && obj.color) settings.color = obj.color;\n                if (!settings.icon  && obj.icon)  settings.icon  = obj.icon;\n                if (!settings.name  && obj.name)  settings.name  = obj.name;\n            }\n        }\n\n        if (typeof settings.name === 'object') {\n            settings.name = settings.name[options.language] || settings.name.en;\n\n            settings.name = (settings.name || '').replace(/_/g, ' ');\n\n            if (settings.name === settings.name.toUpperCase()) {\n                settings.name = settings.name[0] + settings.name.substring(1).toLowerCase();\n            }\n        }\n        if (!settings.name && id) {\n            let pos = id.lastIndexOf('.');\n            settings.name = id.substring(pos + 1).replace(/[_.]/g, ' ');\n            settings.name = (settings.name || '').replace(/_/g, ' ');\n            settings.name = Utils.CapitalWords(settings.name);\n        }\n\n        return settings;\n    }\n\n    static setSettings(obj, settings, options) {\n        if (obj) {\n            obj.common = obj.common || {};\n            obj.common.custom = obj.common.custom || {};\n            obj.common.custom[NAMESPACE] = obj.common.custom[NAMESPACE] || {};\n            obj.common.custom[NAMESPACE][options.user || 'admin'] = settings;\n            const s = obj.common.custom[NAMESPACE][options.user || 'admin'];\n            if (s.useCommon) {\n                if (s.color !== undefined) {\n                    obj.common.color = s.color;\n                    delete s.color;\n                }\n                if (s.icon !== undefined) {\n                    obj.common.icon = s.icon;\n                    delete s.icon;\n                }\n                if (s.name !== undefined) {\n                    if (typeof obj.common.name !== 'object') {\n                        obj.common.name = {};\n                        obj.common.name[options.language] = s.name;\n                    } else{\n                        obj.common.name[options.language] = s.name;\n                    }\n                    delete s.name;\n                }\n            }\n\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    static getIcon(settings, style) {\n        if (settings && settings.icon) {\n            if (settings.icon.startsWith('data:image')) {\n                return (<img alt={settings.name} src={settings.icon} style={style || {}}/>);\n            } else { // may be later some changes for second type\n                return (<img alt={settings.name} src={settings.icon} style={style || {}}/>);\n            }\n        }\n        return null;\n    }\n\n    static getObjectIcon(id, obj) {\n        if (obj && obj.common && obj.common.icon) {\n            let icon = obj.common.icon;\n            if (icon.startsWith('data:image')) {\n                return icon;\n            } else {\n                const parts = id.split('.');\n                if (parts[0] === 'system') {\n                    icon = 'adapter/' + parts[2] + icon;\n                } else {\n                    icon = 'adapter/' + parts[0] + icon;\n                }\n\n                if (window.location.pathname.match(/material\\/[.\\d]+/)) {\n                    icon = '../../' + icon;\n                } else\n                if (window.location.pathname.match(/material\\//)) {\n                    icon = '../' + icon;\n                }\n                return icon;\n            }\n        } else {\n            return null;\n        }\n\n    }\n\n    static splitCamelCase(text) {\n        if (false && text !== text.toUpperCase()) {\n            const words = text.split(/\\s+/);\n            for (let i = 0; i < words.length; i++) {\n                let word = words[i];\n                if (word.toLowerCase() !== word && word.toUpperCase() !== word) {\n                    let z = 0;\n                    const ww = [];\n                    let start = 0;\n                    while (z < word.length) {\n                        if (word[z].match(/[A-Z-]/)) {\n                            ww.push(word.substring(start, z));\n                            start = z;\n                        }\n                        z++;\n                    }\n                    if (start !== z) {\n                        ww.push(word.substring(start, z));\n                    }\n                    for (let k = 0; k < ww.length; k++) {\n                        words.splice(i + k, 0, ww[k]);\n                    }\n                    i += ww.length;\n                }\n            }\n\n            return words.map(w => {\n                w = w.trim();\n                if (w) {\n                    return w[0].toUpperCase() + w.substring(1).toLowerCase();\n                }\n                return '';\n            }).join(' ');\n        } else {\n            return Utils.CapitalWords(text);\n        }\n    }\n\n    // https://stackoverflow.com/questions/35969656/how-can-i-generate-the-opposite-color-according-to-current-color\n    static isUseBright(color, defaultValue) {\n        if (color === null || color === undefined || color === '') {\n            return defaultValue === undefined ? true : defaultValue;\n        }\n        color = color.toString();\n        if (color.indexOf('#') === 0) {\n            color = color.slice(1);\n        }\n        let r;\n        let g;\n        let b;\n\n        const rgb = color.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n        if (rgb && rgb.length === 4) {\n            r = parseInt(rgb[1], 10);\n            g = parseInt(rgb[2], 10);\n            b = parseInt(rgb[3], 10);\n        } else {\n            // convert 3-digit hex to 6-digits.\n            if (color.length === 3) {\n                color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];\n            }\n            if (color.length !== 6) {\n                return false;\n            }\n\n            r = parseInt(color.slice(0, 2), 16);\n            g = parseInt(color.slice(2, 4), 16);\n            b = parseInt(color.slice(4, 6), 16);\n        }\n\n\n        // http://stackoverflow.com/a/3943023/112731\n        return (r * 0.299 + g * 0.587 + b * 0.114) <= 186;\n    };\n\n    static getTimeString(seconds) {\n        seconds = parseFloat(seconds);\n        if (isNaN(seconds)) {\n            return '--:--';\n        }\n        const hours = Math.floor(seconds / 3600);\n        let minutes = Math.floor((seconds % 3600) / 60);\n        let secs = seconds % 60;\n        if (hours) {\n            if (minutes < 10) minutes = '0' + minutes;\n            if (secs < 10) secs = '0' + secs;\n            return hours + ':' + minutes + ':' + secs;\n        } else {\n            if (secs < 10) secs = '0' + secs;\n            return minutes + ':' + secs;\n        }\n    }\n\n    static getWindDirection(angle) {\n        if (angle >= 0 && angle < 11.25) {\n            return 'N'\n        } else if (angle >= 11.25 && angle < 33.75) {\n            return 'NNE'\n        } else if (angle >= 33.75 && angle < 56.25) {\n            return 'NE'\n        } else if (angle >= 56.25 && angle < 78.75) {\n            return 'ENE'\n        } else if (angle >= 78.75 && angle < 101.25) {\n            return 'E'\n        } else if (angle >= 101.25 && angle < 123.75) {\n            return 'ESE'\n        } else if (angle >= 123.75 && angle < 146.25) {\n            return 'SE'\n        } else if (angle >= 146.25 && angle < 168.75) {\n            return 'SSE'\n        } else if (angle >= 168.75 && angle < 191.25) {\n            return 'S'\n        } else if (angle >= 191.25 && angle < 213.75) {\n            return 'SSW'\n        } else if (angle >= 213.75 && angle < 236.25) {\n            return 'SW'\n        } else if (angle >= 236.25 && angle < 258.75) {\n            return 'WSW'\n        } else if (angle >= 258.75 && angle < 281.25) {\n            return 'W'\n        } else if (angle >= 281.25 && angle < 303.75) {\n            return 'WNW'\n        } else if (angle >= 303.75 && angle < 326.25) {\n            return 'NW'\n        } else if (angle >= 326.25 && angle < 348.75) {\n            return 'NNW'\n        } else if (angle >= 348.75) {\n            return 'N'\n        }\n    }\n\n    static padding(num) {\n        if (typeof num === 'string') {\n            if (num.length < 2) {\n                return '0' + num;\n            } else {\n                return num;\n            }\n        } else if (num < 10) {\n            return '0' + num;\n        } else {\n            return num;\n        }\n    }\n\n    static setDataFormat(format) {\n        if (format) {\n            Utils.dateFormat = format.toUpperCase().split(/[.-/]/);\n            Utils.dateFormat.splice(Utils.dateFormat.indexOf('YYYY'), 1);\n        }\n    }\n\n    static date2string(now) {\n        if (typeof now === 'string') {\n            now = now.trim();\n            if (!now) return '';\n            // only letters\n            if (now.match(/^[\\w\\s]+$/)) {\n                // Day of week\n                return now;\n            }\n            let m = now.match(/(\\d{1,4})[-./](\\d{1,2})[-./](\\d{1,4})/);\n            if (m) {\n                let a = [parseInt(m[1], 10), parseInt(m[2], 10), parseInt(m[3], 10)];\n                let year = a.find(y => y > 31);\n                a.splice(a.indexOf(year), 1);\n                let day = a.find(m => m > 12);\n                if (day) {\n                    a.splice(a.indexOf(day), 1);\n                    now = new Date(year, a[0] - 1, day);\n                } else {\n                    // MM DD\n                    if (Utils.dateFormat[0][0] === 'M' && Utils.dateFormat[1][0] === 'D') {\n                        now = new Date(year, a[0] - 1, a[1]);\n                        if (Math.abs(now.getTime - Date.now()) > 3600000 * 24 * 10) {\n                            now = new Date(year, a[1] - 1, a[0]);\n                        }\n                    } else\n                    // DD MM\n                    if (Utils.dateFormat[0][0] === 'D' && Utils.dateFormat[1][0] === 'M') {\n                        now = new Date(year, a[1] - 1, a[0]);\n                        if (Math.abs(now.getTime - Date.now()) > 3600000 * 24 * 10) {\n                            now = new Date(year, a[0] - 1, a[1]);\n                        }\n                    } else {\n                        now = new Date(now);\n                    }\n                }\n            } else {\n                now = new Date(now);\n            }\n        } else {\n            now = new Date(now);\n        }\n\n        let date = I18n.t('dow_' + days[now.getDay()]).replace('dow_', '');\n        date += '. ' + now.getDate() + ' ' + I18n.t('month_' + months[now.getMonth()]).replace('month_', '');\n        return date;\n    }\n}\n\nexport default Utils;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport TreeDataTable from './cp-react-tree-table/src';\nimport {withStyles} from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport secondary from '@material-ui/core/colors/orange';\n\nimport {FaFolder as IconClosed} from 'react-icons/fa';\nimport {FaFolderOpen as IconOpen} from 'react-icons/fa';\nimport {FaFileAlt as IconState} from 'react-icons/fa';\nimport {FaFile as IconDocument} from 'react-icons/fa';\nimport {MdPerson as IconExpert} from 'react-icons/md';\n//import {MdContentCopy as IconCopy} from 'react-icons/md';\nimport IconDefaultState from './assets/state.png';\nimport IconDefaultChannel from './assets/channel.png';\nimport IconDefaultDevice from './assets/device.png';\nimport IconDefault from './assets/empty.png';\n\nimport I18n from '../i18n';\nimport Utils from './Utils';\n\nimport CopyContentImg from '../assets/copy-content.svg';\n\nconst styles = theme => ({\n    toolbar: {\n        minHeight: 38,//Theme.toolbar.height,\n//        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    toolbarButtons: {\n        padding: 4,\n        marginLeft: 4\n    },\n    treeTable: {\n        background: '#ffffff',\n        borderTop: '1px solid #999',\n        borderBottom: '1px solid #999'\n    },\n    treeTableDark: {\n        background: 'inherit',\n        borderTop: '1px solid #999',\n        borderBottom: '1px solid #999'\n    },\n    treeTableRow: {\n        boxShadow: 'inset 0 1px 0 #eeeeee',\n        display: 'block'\n    },\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden'\n    },\n    tableDiv: {\n        width: '100%',\n        height: 'calc(100% - 34px - 38px)',\n        overflow: 'auto'\n    },\n    cellDiv: {\n        display: 'inline-block',\n        fontSize: 12,\n        height: 26,\n        verticalAlign: 'top'\n    },\n    cellDivId: {\n        display: 'inline-block',\n        height: 26,\n        verticalAlign: 'top'\n    },\n    cellWrapper: {\n        display: 'flex',\n        alignItems: 'center',\n        fontWeight: 300,\n        fontSize: 13,\n        height: '100%',\n        width: '100%',\n//        fontFamily: \"'SF Mono', 'Segoe UI Mono', 'Roboto Mono', Menlo, Courier, monospace\",\n        lineHeight: '1em'\n    },\n    selectNone: {\n        opacity: 0.5,\n    },\n    selectIcon: {\n        width: 16,\n        height: 16,\n        paddingRight: 5\n    },\n    cellWrapperElement: {\n        flexGrow: 1,\n        cursor: 'default'\n    },\n\n    toggleButtonWrapper: {\n        width: 16,\n        flexGrow: 0,\n        color: '#008fff',\n        cursor: 'pointer',\n        padding: 1,\n        borderRadius: 3\n    },\n    partlyVisible: {\n        opacity: 0.3\n    },\n    /*.toggle-button-wrapper > span:hover {\n        background: #d7d7d7;\n    }*/\n    \n    selectSpan: {\n//        fontFamily: \"'SF Mono', 'Segoe UI Mono', 'Roboto Mono', Menlo, Courier, monospace\",\n        background: '#efefef',\n        border: '1px solid #e5e5e5',\n        padding: 2,\n        borderRadius: 3\n    },\n    selected: {\n        background: '#008fff',\n        color: 'white'\n    },\n    icon: {\n        width: 20,\n        height: 20,\n        paddingTop: 2,\n        paddingRight: 2\n    },\n    header: {\n        width: '100%'\n    },\n    headerCell: {\n        display: 'inline-block'\n    },\n    headerCellInput: {\n        width: 'calc(100% - 5px)'\n    },\n    visibleButtons: {\n        color: '#2196f3',\n        opacity: 0.7\n    },\n    depth: {\n        position: 'absolute',\n        top: 8,\n        left: 10,\n        color: 'black',\n        fontSize: 14\n    },\n    cellCopy: {\n        position: 'absolute',\n        top: 3,\n        right: 10,\n        width: 16,\n        height: 16,\n        background: 'lightblue',\n        cursor: 'grab',\n        borderRadius: 2,\n        padding: 2,\n    },\n    cellCopyPressed: {\n        cursor: 'grabbing',\n        background: secondary.A700,\n    }\n});\n\n// d=data, t=target, s=start, e=end, m=middle\nfunction binarySearch(d, t, s, e) {\n    s = s || 0;\n    if (e === undefined) {\n        e = d.length - 1;\n        if (!e) {\n            return d[0] === t;\n        }\n    }\n    const m = Math.floor((s + e) / 2);\n    if (t === d[m]) return d[m];\n    if (e - 1 === s) return d[s] === t || d[e] === t;\n    if (t > d[m]) return binarySearch(d, t, m, e);\n    if (t < d[m]) return binarySearch(d, t, s, m);\n}\n\n/* function walkTree(tree, func) {\n    func(tree);\n    if (tree.children) {\n        tree.children.forEach(item => walkTree(item, func));\n    }\n}\n*/\nfunction applyFilter(item, filters, lang, objects, context) {\n    let filteredOut = false;\n    if (!context) {\n        context = {};\n        if (filters.id) {\n            context.id = filters.id.toLowerCase();\n        }\n        if (filters.name) {\n            context.name = filters.name.toLowerCase();\n        }\n        if (filters.role) {\n            context.role = filters.role.toLowerCase();\n        }\n        if (filters.room) {\n            context.room = (objects[filters.room] && objects[filters.room].common && objects[filters.room].common.members) || [];\n        }\n        if (filters.func) {\n            context.func = (objects[filters.func] && objects[filters.func].common && objects[filters.func].common.members) || [];\n        }\n    }\n\n    if (item.data.id) {\n        if (!filters.expert) {\n            filteredOut = item.data.id === 'system' || item.data.id.startsWith('system.') || (item.data.obj && item.data.obj.common && item.data.obj.common.expert);\n        }\n        if (!filteredOut && context.id) {\n            if (item.data.fID === undefined) {\n                item.data.fID = item.data.id.toLowerCase();\n            }\n            filteredOut = item.data.fID.indexOf(context.id) === -1;\n        }\n        if (!filteredOut && context.name) {\n            if (item.data.fName === undefined) {\n                item.data.fName = (item.data.obj && item.data.obj.common && getName(item.data.obj.common.name, lang)) || '';\n                item.data.fName = item.data.fName.toLowerCase();\n            }\n            filteredOut = item.data.fName.indexOf(context.name) === -1;\n        }\n        if (!filteredOut && filters.role) {\n            filteredOut = !(item.data && item.data.obj && item.data.obj.common && item.data.obj.common.role && item.data.obj.common.role.startsWith(context.role));\n        }\n        if (!filteredOut && context.room) {\n            filteredOut = !context.room.find(id => id === item.data.id || item.data.id.startsWith(id + '.'));\n        }\n        if (!filteredOut && context.func) {\n            filteredOut = !context.func.find(id => id === item.data.id || item.data.id.startsWith(id + '.'));\n        }\n    }\n    item.data.visible = !filteredOut;\n    item.data.hasVisibleChildren = false;\n    if (item.children) {\n        item.children.forEach(_item => {\n            const visible = applyFilter(_item, filters, lang, objects, context);\n            if (visible) {\n                item.data.hasVisibleChildren = true;\n            }\n        });\n    }\n    return item.data.visible || item.data.hasVisibleChildren;\n}\n\nfunction buildTree(objects, options) {\n    options = options || {};\n\n    const ids = Object.keys(objects);\n    ids.sort((a, b) => {\n        if (a === b) return 0;\n        a = a.replace(/\\./g, '!!!');\n        b = b.replace(/\\./g, '!!!');\n        if (a > b) return 1;\n        return -1;\n    });\n\n    // find empty nodes and create names for it\n    let currentPathArr = [];\n    let currentPath = '';\n    let currentPathLen = 0;\n    let root = {data: {name: '', id: ''}, children: []};\n\n    let info = {\n        funcEnums: [],\n        roomEnums: [],\n        roles: [],\n        ids: [],\n        objects\n    };\n\n    let croot = root;\n    for (let i = 0; i < ids.length; i++) {\n        const id = ids[i];\n        const parts = id.split('.');\n\n        if (objects[id]) {\n            if (objects[id].common && objects[id].common.role) {\n                if (info.roles.indexOf(objects[id].common.role) === -1) {\n                    info.roles.push(objects[id].common.role);\n                }\n            } else if (id.startsWith('enum.rooms.')) {\n                info.roomEnums.push(id);\n            } else if (id.startsWith('enum.functions.')) {\n                info.funcEnums.push(id);\n            }\n        }\n\n        if (options.statesOnly && (!objects[id] || objects[id].type !== 'state')) {\n            continue;\n        }\n        info.ids.push(id);\n\n        let repeat;\n        // if next level\n        do {\n            repeat = false;\n            if (!currentPath || id.substring(0, currentPath.length + 1) === currentPath + '.') {\n                if (parts.length - currentPathLen > 1) {\n                    let curPath = currentPath;\n                    for (let k = currentPathLen; k < parts.length - 1; k++) {\n                        curPath += (curPath ? '.' : '') + parts[k];\n                        if (!binarySearch(info.ids, curPath)) {\n                            const _croot = {data: {name: parts[k], parent: croot, id: curPath, obj: objects[curPath]}};\n                            croot.children = croot.children || [];\n                            croot.children.push(_croot);\n                            croot = _croot;\n                            //ids.splice(i, 0, curPath);\n                            info.ids.push(curPath);\n                            //i++;\n                        } else {\n                            croot = croot.children.find(item => item.data.name === parts[k]);\n                        }\n                    }\n                }\n\n                const _croot = {data: {name: parts[parts.length - 1], obj: objects[id], parent: croot, id}, children: []};\n                croot.children = croot.children || [];\n                croot.children.push(_croot);\n                croot = _croot;\n\n                currentPathLen = parts.length;\n                currentPathArr = parts;\n                currentPath    = id;\n            } else {\n                let u = 0;\n                while (currentPathArr[u] === parts[u]) u++;\n                if (u > 0) {\n                    let move = currentPathArr.length;\n                    currentPathArr = currentPathArr.splice(0, u);\n                    currentPathLen = u;\n                    currentPath = currentPathArr.join('.');\n                    while (move > u) {\n                        croot = croot.data.parent;\n                        move--;\n                    }\n                } else {\n                    croot = root;\n                    currentPathArr = [];\n                    currentPath = '';\n                    currentPathLen = 0;\n                }\n                repeat = true;\n            }\n        } while(repeat);\n    }\n\n    info.roomEnums.sort();\n    info.funcEnums.sort();\n    info.roles.sort();\n\n    return {info, root};\n}\n\nfunction findNode(root, id, _parts, _path, _level) {\n    if (root.data.id === id) {\n        return root;\n    }\n    if (!_parts) {\n        _parts = id.split('.');\n        _level = 0;\n        _path = _parts[_level];\n    }\n    if (!root.children && root.data.id !== id) {\n        return null;\n    } else {\n        let found;\n        for (let i = 0; i< root.children.length; i++) {\n            const _id = root.children[i].data.id;\n            if (_id === _path) {\n                found = root.children[i];\n                break;\n            } else\n            if (_id < _path) continue;\n            if (_id > _path) break;\n        }\n        if (found) {\n            return findNode(found, id, _parts, _path + '.' + _parts[_level + 1], _level + 1);\n        } else {\n            return null;\n        }\n    }\n}\n\nfunction getName(name, lang) {\n    if (name && typeof name === 'object') {\n        return name[lang] || name.en;\n    } else {\n        return name || '';\n    }\n}\n\nfunction findRoomsForObject(data, id, lang, withParentInfo, rooms) {\n    if (!id) {\n        return [];\n    }\n    rooms = rooms || [];\n    for (let i = 0; i < data.roomEnums.length; i++) {\n        const common = data.objects[data.roomEnums[i]] && data.objects[data.roomEnums[i]].common;\n        const name = getName(common.name, lang);\n\n        if (common.members && common.members.indexOf(id) !== -1 && rooms.indexOf(name) === -1) {\n            if (!withParentInfo) {\n                rooms.push(name);\n            } else {\n                rooms.push({name: name, origin: id});\n            }\n        }\n    }\n    const parts = id.split('.');\n    parts.pop();\n    id = parts.join('.');\n    if (data.objects[id]) {\n        findRoomsForObject(data, id, lang, withParentInfo, rooms);\n    }\n\n    return rooms;\n}\n\n/* function findRoomsForObjectAsIds(data, id, rooms) {\n    if (!id) {\n        return [];\n    }\n    rooms = rooms || [];\n    for (let i = 0; i < data.roomEnums.length; i++) {\n        const common = data.objects[data.roomEnums[i]] && data.objects[data.roomEnums[i]].common;\n        if (common && common.members && common.members.indexOf(id) !== -1 &&\n            rooms.indexOf(data.roomEnums[i]) === -1) {\n            rooms.push(data.roomEnums[i]);\n        }\n    }\n    return rooms;\n}\n*/\nfunction findFunctionsForObject(data, id, lang, withParentInfo, funcs) {\n    if (!id) {\n        return [];\n    }\n    funcs = funcs || [];\n    for (let i = 0; i < data.funcEnums.length; i++) {\n        const common = data.objects[data.funcEnums[i]] && data.objects[data.funcEnums[i]].common;\n        const name = getName(common.name, lang);\n        if (common && common.members && common.members.indexOf(id) !== -1 && funcs.indexOf(name) === -1) {\n            if (!withParentInfo) {\n                funcs.push(name);\n            } else {\n                funcs.push({name: name, origin: id});\n            }\n        }\n    }\n    const parts = id.split('.');\n    parts.pop();\n    id = parts.join('.');\n    if (data.objects[id]) {\n        findFunctionsForObject(data, id, lang, withParentInfo, funcs);\n    }\n\n    return funcs;\n}\n\n/*function findFunctionsForObjectAsIds(data, id, funcs) {\n    if (!id) {\n        return [];\n    }\n    funcs = funcs || [];\n    for (let i = 0; i < data.funcEnums.length; i++) {\n        const common = data.objects[data.funcEnums[i]] && data.objects[data.funcEnums[i]].common;\n        if (common && common.members && common.members.indexOf(id) !== -1 &&\n            funcs.indexOf(data.funcEnums[i]) === -1) {\n            funcs.push(data.funcEnums[i]);\n        }\n    }\n\n    return funcs;\n}\n*/\nfunction getStates(obj) {\n    let states;\n    if (obj &&\n        obj.common &&\n        obj.common.states) {\n        states = obj.common.states;\n    }\n    if (states) {\n        if (typeof states === 'string' && states[0] === '{') {\n            try {\n                states = JSON.parse(states);\n            } catch (ex) {\n                console.error('Cannot parse states: ' + states);\n                states = null;\n            }\n        } else\n        // if old format val1:text1;val2:text2\n        if (typeof states === 'string') {\n            const parts = states.split(';');\n            states = {};\n            for (let p = 0; p < parts.length; p++) {\n                const s = parts[p].split(':');\n                states[s[0]] = s[1];\n            }\n        }\n    }\n    return states;\n}\n\nfunction quality2text(q) {\n    if (!q) return 'ok';\n    const custom = q & 0xFFFF0000;\n    let text = '';\n    if (q & 0x40) text += 'device';\n    if (q & 0x80) text += 'sensor';\n    if (q & 0x01) text += ' bad';\n    if (q & 0x02) text += ' not connected';\n    if (q & 0x04) text += ' error';\n\n    return text + (custom ? '|0x' + (custom >> 16).toString(16).toUpperCase() : '') + ' [0x' + q.toString(16).toUpperCase() + ']';\n}\n\nfunction formatDate(dateObj) {\n    //return dateObj.getFullYear() + '-' +\n    //    ('0' + (dateObj.getMonth() + 1).toString(10)).slice(-2) + '-' +\n    //    ('0' + (dateObj.getDate()).toString(10)).slice(-2) + ' ' +\n    //    ('0' + (dateObj.getHours()).toString(10)).slice(-2) + ':' +\n    //    ('0' + (dateObj.getMinutes()).toString(10)).slice(-2) + ':' +\n    //    ('0' + (dateObj.getSeconds()).toString(10)).slice(-2);\n    // Following implementation is 5 times faster\n    if (!dateObj) return '';\n\n    var text = dateObj.getFullYear();\n    var v = dateObj.getMonth() + 1;\n    if (v < 10) {\n        text += '-0' + v;\n    } else {\n        text += '-' + v;\n    }\n\n    v = dateObj.getDate();\n    if (v < 10) {\n        text += '-0' + v;\n    } else {\n        text += '-' + v;\n    }\n\n    v = dateObj.getHours();\n    if (v < 10) {\n        text += ' 0' + v;\n    } else {\n        text += ' ' + v;\n    }\n    v = dateObj.getMinutes();\n    if (v < 10) {\n        text += ':0' + v;\n    } else {\n        text += ':' + v;\n    }\n\n    v = dateObj.getSeconds();\n    if (v < 10) {\n        text += ':0' + v;\n    } else {\n        text += ':' + v;\n    }\n\n    v = dateObj.getMilliseconds();\n    if (v < 10) {\n        text += '.00' + v;\n    } else if (v < 100) {\n        text += '.0' + v;\n    } else {\n        text += '.' + v;\n    }\n\n    return text;\n}\n\nfunction formatValue(id, state, obj, texts) {\n    const states = getStates(obj);\n    const isCommon = obj.common;\n\n    let valText = state.val === null || state.val === undefined ? '' : state.val;\n    const type = typeof valText;\n    if (type === 'number') {\n        valText = Math.round(valText * 1000000) / 1000000; // remove 4.00000000000000001\n    } else if (type === 'object') {\n        valText = JSON.stringify(valText);\n    } else if (type !== 'string') {\n        valText = valText.toString();\n    }\n\n    if (isCommon && isCommon.role && typeof isCommon.role === 'string' && isCommon.role.match(/^value\\.time|^date/)) {\n        valText = valText ? (new Date(valText)).toString() : valText;\n    }\n\n    if (states && states[valText] !== undefined) {\n        valText = states[valText] + '(' + valText + ')';\n    }\n\n    let valFull;\n    if (valText === undefined) {\n        valText = '&nbsp;';\n    } else {\n        // if less 2000.01.01 00:00:00\n        if (state.ts && state.ts < 946681200000) state.ts *= 1000;\n        if (state.lc && state.lc < 946681200000) state.lc *= 1000;\n\n        if (isCommon && isCommon.unit) {\n             valText += ' ' + isCommon.unit;\n        }\n        valFull =           texts.value   + ': ' + state.val;\n        if (state.ack !== undefined) {\n            valFull += '\\x0A' + texts.ack     + ': ' + state.ack;\n        }\n        if (state.ts) {\n            valFull += '\\x0A' + texts.ts + ': ' + (state.ts ? formatDate(new Date(state.ts)) : '');\n        }\n        if (state.lc) {\n            valFull += '\\x0A' + texts.lc + ': ' + (state.lc ? formatDate(new Date(state.lc)) : '');\n        }\n        if (state.from) {\n            valFull += '\\x0A' + texts.from + ': ' + (state.from || '');\n        }\n        if (state.user) {\n            valFull += '\\x0A' + texts.user    + ': ' + (state.user || '');\n        }\n        valFull += '\\x0A' + texts.quality + ': ' + quality2text(state.q || 0);\n    }\n\n    if (typeof valText === 'string' && valText !== '') {\n        valText = valText.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\n    }\n\n    return {\n        valText: valText,\n        valFull: valFull,\n        style: {color: state.ack ? (state.q ? 'orange' : '') : '#c00000'}\n    };\n}\n\nfunction getSelectIdIcon(objects, id, prefix) {\n    prefix = prefix || '.';//http://localhost:8081';\n    let icon = '';\n    let alt  = '';\n    const _id_ = 'system.adapter.' + id;\n    if (id && objects[_id_] && objects[_id_].common && objects[_id_].common.icon) {\n        // if not BASE64\n        if (!objects[_id_].common.icon.match(/^data:image\\//)) {\n            if (objects[_id_].common.icon.indexOf('.') !== -1) {\n                icon = prefix + '/adapter/' + objects[_id_].common.name + '/' + objects[_id_].common.icon;\n            } else {\n                return null; //'<i class=\"material-icons iob-list-icon\">' + objects[_id_].common.icon + '</i>';\n            }\n        } else {\n            icon = objects[_id_].common.icon;\n        }\n    } else {\n        const obj = objects[id];\n\n        if (obj && obj.common) {\n            if (obj.common.icon) {\n                if (!obj.common.icon.match(/^data:image\\//)) {\n                    if (obj.common.icon.indexOf('.') !== -1) {\n                        var instance;\n                        if (obj.type === 'instance') {\n                            icon = prefix + '/adapter/' + obj.common.name + '/' + obj.common.icon;\n                        } else if (id && id.match(/^system\\.adapter\\./)) {\n                            instance = id.split('.', 3);\n                            if (obj.common.icon[0] === '/') {\n                                instance[2] += obj.common.icon;\n                            } else {\n                                instance[2] += '/' + obj.common.icon;\n                            }\n                            icon = prefix + '/adapter/' + instance[2];\n                        } else {\n                            instance = id.split('.', 2);\n                            if (obj.common.icon[0] === '/') {\n                                instance[0] += obj.common.icon;\n                            } else {\n                                instance[0] += '/' + obj.common.icon;\n                            }\n                            icon = prefix + '/adapter/' + instance[0];\n                        }\n                    } else {\n                        return null; // '<i class=\"material-icons iob-list-icon\">' + obj.common.icon + '</i>';\n                    }\n                } else {\n                    // base 64 image\n                    icon = obj.common.icon;\n                }\n            } else if (obj.type === 'device') {\n                icon = IconDefaultDevice;\n                alt  = 'device';\n            } else if (obj.type === 'channel') {\n                icon = IconDefaultChannel;\n                alt  = 'channel';\n            } else if (obj.type === 'state') {\n                icon = IconDefaultState;\n                alt  = 'state';\n            }\n        }\n    }\n\n    if (icon) {\n        return {src: icon, alt};\n    } else {\n        return  {src: IconDefault, alt: ''};\n    }\n}\n\nclass SelectID extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loaded: false,\n            selected: (this.props.selected || '').replace(/[\"']/g, ''),\n            filter: {\n                id: '',\n                name: '',\n                room: '',\n                func:  '',\n                role: '',\n                expert: false\n            },\n            depth: 0,\n            statesUpdate: 0,\n        };\n        this.selectedFound = false;\n        this.copyContentImg = CopyContentImg;\n        this.treeTableRef = React.createRef();\n        this.mainRef = React.createRef();\n        this.root = null;\n        this.lang = I18n.getLanguage();\n        this.states = {};\n        this.subscribes = [];\n\n        this.props.connection.getObjects(objects => {\n            //this.props.connection.getStates(states => {\n            //    this.states = states;\n                this.objects = objects;\n                const {info, root} = buildTree(this.objects, this.props);\n                this.root = root;\n                this.info = info;\n                applyFilter(this.root, this.state.filter, this.lang, this.objects);\n                this.setState({loaded: true});\n\n                this.state.selected && this.onSelect(this.state.selected);\n            //}, true);\n        }, true);\n\n        this.texts = {\n            value:   I18n.t('tooltip_value'),\n            ack:     I18n.t('tooltip_ack'),\n            ts:      I18n.t('tooltip_ts'),\n            lc:      I18n.t('tooltip_lc'),\n            from:    I18n.t('tooltip_from'),\n            user:    I18n.t('tooltip_user'),\n            quality: I18n.t('tooltip_quality')\n        };\n\n        this.onStateChangeBound = this.onStateChange.bind(this);\n    }\n\n    onSelect(selected, isDouble) {\n        selected !== this.state.selected && this.setState({selected});\n        const name = selected ? Utils.getObjectName(this.objects, selected, null, {language: this.lang}) : '';\n        this.props.onSelect && this.props.onSelect(selected, name, isDouble);\n    }\n\n    onDoubleClick(data, metadata, toggleChildren) {\n        if (metadata.hasChildren) {\n            toggleChildren();\n\n        } else if (data.obj && data.obj.type === 'state') {\n            this.onSelect(data.obj._id, true);\n        }\n    }\n\n    onCopy(e, id) {\n        const el = window.document.createElement('textarea');\n        el.value = id;\n        el.style.position = 'absolute';\n        el.style.left = '-9999px';\n        window.document.body.appendChild(el);\n        el.select();\n        const selection = window.document.getSelection();\n        const range = window.document.createRange();\n        range.selectNode(el);\n        selection.removeAllRanges();\n        selection.addRange(range);\n        console.log('copy success', window.document.execCommand('copy'));\n        selection.removeAllRanges();\n        window.document.body.removeChild(el);\n        console.log(id);\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    installCopyButtons() {\n        if (!this.mainRef.current) return;\n        const rows = this.mainRef.current.getElementsByClassName('add-copy-button');\n        for (let i = 0; i < rows.length; i++) {\n            if (!rows[i].__installed) {\n                rows[i].addEventListener('mouseenter', e => {\n                    const copy = e.target.getElementsByClassName(this.props.classes.cellCopy);\n                    if (!copy || !copy.length) {\n                        const div = document.createElement('div');\n                        const img = document.createElement('img');\n                        img.src = this.copyContentImg;\n                        img.width = 16;\n                        img.height = 16;\n                        img.color = secondary.A200;\n                        div.appendChild(img);\n                        div.className = this.props.classes.cellCopy;\n                        div.addEventListener('click', e =>\n                            this.onCopy(e, e.target.parentNode.dataset.index || e.target.parentNode.parentNode.dataset.index), false);\n                        div.addEventListener('mousedown', e => {\n                            if (e.target.parentNode.className.indexOf(this.props.classes.cellCopyPressed) === -1) {\n                                e.target.parentNode.className += ' ' + this.props.classes.cellCopyPressed;\n                            }\n                        }, false);\n                        div.addEventListener('mouseup', e => {\n                            let className = e.target.parentNode.className.split(' ');\n                            let pos = className.indexOf(this.props.classes.cellCopyPressed);\n                            while (pos !== -1) {\n                                className.splice(pos);\n                                pos = className.indexOf(this.props.classes.cellCopyPressed);\n                            }\n                            e.target.parentNode.className = className.join(' ');\n                        }, false);\n                        e.target.appendChild(div);\n                    }\n                }, false);\n                rows[i].addEventListener('mouseleave', e => {\n                    const copy = e.target.getElementsByClassName(this.props.classes.cellCopy);\n                    if (copy && copy.length) {\n                        e.target.removeChild(copy[0]);\n                    }\n                }, false);\n                rows[i].__installed = true;\n            }\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        this.installCopyButtons();\n        if (!this.selectedFound) {\n            if (this.props.selected && this.treeTableRef.current) {\n                const node = findNode(this.root, this.props.selected);\n                this.treeTableRef.current.scrollIntoView(node);\n                this.selectedFound = true;\n            }\n        }\n    }\n    checkUnsubscribes() {\n        // Remove unused subscribed\n        for (let i = this.subscribes.length - 1; i >= 0; i--) {\n            if (this.recordStates.indexOf(this.subscribes[i]) === -1) {\n                this.unsubscribe(this.subscribes[i]);\n            }\n        }\n        this.recordStates = [];\n    }\n\n    componentWillUnmount() {\n        // remove all subscribes\n        this.subscribes.forEach(pattern => {\n            console.log('- unsubscribe ' + pattern);\n            this.props.connection.unsubscribeState(pattern, this.onStateChangeBound);\n        });\n        this.subscribes = [];\n    }\n\n    onStateChange(err, state, id) {\n        this.states[id] = state;\n        console.log('+ subscribe ' + id);\n        if (!this.statesUpdateTimer) {\n            this.statesUpdateTimer = setTimeout(() => {\n                this.statesUpdateTimer = null;\n                this.setState({statesUpdate: this.state.statesUpdate + 1});\n            }, 300);\n        }\n    }\n\n    subscribe(id) {\n        if (this.subscribes.indexOf(id) === -1) {\n            this.subscribes.push(id);\n            this.props.connection.subscribeState(id, this.onStateChangeBound);\n        }\n    }\n\n    unsubscribe(id) {\n        const pos = this.subscribes.indexOf(id);\n        if (pos !== -1) {\n            this.subscribes.splice(pos, 1);\n            if (this.states[id]) delete this.states[id];\n            console.log('- unsubscribe ' + id);\n            this.props.connection.unsubscribeState(id, this.onStateChangeBound);\n        }\n    }\n\n    renderIndexColumn(data, metadata, toggleChildren) {\n        const selected = this.state.selected === data.id;\n        const isExist = !!this.objects[data.id];\n        const isState = isExist && this.objects[data.id].type === 'state';\n        // const isChannel = isExist && !isState && this.objects[data.id].type === 'channel';\n        // const isDevice = isExist && !isChannel && !isState && this.objects[data.id].type === 'device';\n\n        const padding = (metadata.depth * 25) + 'px';\n        const width = `calc(100% - ${padding})`;\n        return (\n            <div style={{paddingLeft: padding, width: width}}\n                 data-index={data.id}\n                 className={this.props.classes.cellWrapper + ' add-copy-button'}\n            >\n                <span className={(selected ? this.props.classes.selected : '') + ' ' + this.props.classes.toggleButtonWrapper}>\n                  {metadata.hasChildren\n                      ? (<span onClick={toggleChildren}>{metadata.hasVisibleChildren ? (<IconOpen/>) : (<IconClosed/>)}</span>)\n                      : (isState ? (<IconState/>) : (<IconDocument/>))\n                  }\n                </span>\n                <span className={this.props.classes.cellWrapperElement} style={{fontWeight: metadata.hasChildren ? 'bold' : 'normal'}}>{data.name}</span>\n            </div>\n        );\n    }\n\n    renderColumnName(data, metadata, toggleChildren) {\n        const icon = getSelectIdIcon(this.objects, data.id, this.props.prefix);\n        return (<span className={this.props.classes.cellWrapper}>\n            <img src={icon.src} className={this.props.classes.icon} alt={icon.alt}/>\n            {data.obj && Utils.getObjectName(this.objects, data.obj._id, null, {language: this.lang})}\n            </span>);\n    }\n    renderColumnRole(data, metadata, toggleChildren) {\n        if (!data.obj) return null;\n        return (<span className={this.props.classes.cellWrapper}>{(data.obj.common && data.obj.common.role) || ''}</span>);\n    }\n    renderColumnRoom(data, metadata, toggleChildren) {\n        if (!data.obj) return null;\n        const list = findRoomsForObject(this.info, data.obj._id, this.lang) || [];\n        return (<span className={this.props.classes.cellWrapper}>{list.join(', ')}</span>);\n    }\n    renderColumnFunc(data, metadata, toggleChildren) {\n        if (!data.obj) return null;\n        const list = findFunctionsForObject(this.info, data.obj._id, this.lang) || [];\n        return (<span className={this.props.classes.cellWrapper}>{list.join(', ')}</span>);\n    }\n    renderColumnValue(data, metadata, toggleChildren) {\n        if (!data.obj || !data.obj._id || !this.states) return null;\n\n        if (!this.states[data.obj._id]) {\n            if (data.obj.type === 'state') {\n                this.recordStates.push(data.obj._id);\n                this.states[data.obj._id] = {val: null};\n                this.subscribe(data.obj._id);\n            }\n            return null;\n        } else {\n            this.recordStates.push(data.obj._id);\n        }\n\n        const id = data.obj._id;\n        const state = this.states[id];\n        const info = formatValue(id, state, data.obj, this.texts);\n        return (<span className={this.props.classes.cellWrapper} style={info.style} title={info.valFull}>{info.valText}</span>);\n    }\n\n    onFilter(name, value) {\n        if (this.state.filter[name] !== value) {\n            const filter = JSON.parse(JSON.stringify(this.state.filter));\n            filter[name] = value;\n            this.filterTimer && clearTimeout(this.filterTimer);\n            this.filterTimer = setTimeout(() => {\n                applyFilter(this.root, filter, this.lang, this.objects);\n                this.forceUpdate();\n            }, 400);\n            this.setState({filter});\n        }\n    }\n\n    getFilterInput(name) {\n        return (<FormControl className={this.props.classes.headerCellInput} style={{marginTop: 0, marginBottom: 0}} margin=\"dense\">\n            <Input\n                classes={{underline: 'no-underline'}}\n                id={name}\n                placeholder={I18n.t('filter_' + name)}\n                value={this.state.filter[name]}\n                onChange={e => this.onFilter(name, e.target.value)}\n                autoComplete=\"off\"\n            />\n        </FormControl>);\n    }\n\n    getFilterSelect(name, values) {\n        //<!--InputLabel htmlFor=\"demo-controlled-open-select\">Age</InputLabel-->\n        return (\n            <Select className={this.props.classes.headerCellInput + ' no-underline'}\n                value={this.state.filter[name]}\n                onChange={e => this.onFilter(name, e.target.value)}\n                inputProps={{name, id: name,}}\n                displayEmpty={true}\n            >\n                <MenuItem key=\"empty\" value=\"\"><span className={this.props.classes.selectNone}>{I18n.t('filter_' + name)}</span></MenuItem>\n                {values.map(item => {\n                    let id;\n                    let name;\n                    let icon;\n                    if (typeof item === 'object') {\n                        id = item.value;\n                        name = item.name;\n                        icon = getSelectIdIcon(this.objects, id, this.props.prefix);\n                    } else {\n                        id = item;\n                        name = item;\n                    }\n\n                    return (\n                        <MenuItem key={id} value={id}>\n                            {icon && (<img className={this.props.classes.selectIcon} src={icon.src} alt={name}/>)}\n                            {name}\n                        </MenuItem>)\n                })}\n            </Select>);\n    }\n\n    getFilterSelectRole() {\n        return this.getFilterSelect('role', this.info.roles);\n    }\n    getFilterSelectRoom() {\n        const rooms = this.info.roomEnums.map(id => {\n            return {name: getName((this.objects[id] && this.objects[id].common && this.objects[id].common.name) || id.split('.').pop()), value: id};\n        });\n\n        return this.getFilterSelect('room', rooms);\n\n    }\n    getFilterSelectFunction() {\n        const func = this.info.funcEnums.map(id => {\n            return {name: getName((this.objects[id] && this.objects[id].common && this.objects[id].common.name) || id.split('.').pop()), value: id};\n        });\n        return this.getFilterSelect('func', func);\n\n    }\n    onExpandAll() {\n        this.treeTableRef.current.expandAll();\n    }\n    onCollapseAll() {\n        this.treeTableRef.current.collapseAll();\n    }\n    onExpandVisible() {\n        if (this.state.depth < 9) {\n            const depth = this.state.depth + 1;\n            this.setState({depth: depth}, () => {\n                this.treeTableRef.current.expandAll(depth);\n            });\n        }\n    }\n    onCollapseVisible() {\n        if (this.state.depth > 0) {\n            const depth = this.state.depth - 1;\n            this.setState({depth: depth}, () => {\n                this.treeTableRef.current.expandAll(depth);\n            });\n        }\n    }\n\n    getToolbar() {\n        return (\n            <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar\">\n                <IconButton key=\"expert\" variant=\"contained\" className={this.props.classes.toolbarButtons} color={this.state.filter.expert ? 'secondary' : 'primary'} onClick={() => this.onFilter('expert', !this.state.filter.expert)}><IconExpert /></IconButton>\n                <IconButton key=\"expandAll\" variant=\"contained\" className={this.props.classes.toolbarButtons} onClick={() => this.onExpandAll()}><IconOpen /></IconButton>\n                <IconButton key=\"collapseAll\" variant=\"contained\" className={this.props.classes.toolbarButtons} onClick={() => this.onCollapseAll()}><IconClosed /></IconButton>\n                <IconButton key=\"expandVisible\" variant=\"contained\" className={this.props.classes.toolbarButtons + ' ' + this.props.classes.visibleButtons} onClick={() => this.onExpandVisible()}><IconOpen />{this.state.depth ? (<div className={this.props.classes.depth}>{this.state.depth}</div>) : null}</IconButton>\n                <IconButton key=\"collapseVisible\" variant=\"contained\" className={this.props.classes.toolbarButtons + ' ' + this.props.classes.visibleButtons} onClick={() => this.onCollapseVisible()}><IconClosed />{this.state.depth ? (<div className={this.props.classes.depth}>{this.state.depth}</div>) : null}</IconButton>\n            </Toolbar>);\n    }\n\n    render() {\n        console.log('render');\n        this.recordStates = [];\n        this.unsubscribeTimer && clearTimeout(this.unsubscribeTimer);\n        this.unsubscribeTimer = setTimeout(() => {\n            this.unsubscribeTimer = null;\n            this.checkUnsubscribes();\n        }, 200);\n        if (!this.state.loaded) {\n            return (<CircularProgress/>);\n        } else {\n            const classes = this.props.classes;\n            const idWidth = 300;\n            const WIDTHS = [120, 180, 180, 120];\n            const width = `calc(100% - ${idWidth + WIDTHS[0] + WIDTHS[1] + WIDTHS[2] + WIDTHS[3]}px)`;\n            return (<div className={classes.mainDiv} ref={this.mainRef}>\n                {this.getToolbar()}\n                <div key=\"header\" className={classes.header}>\n                    <div className={classes.headerCell} style={{width: idWidth}}>{this.getFilterInput('id')}</div>\n                    <div className={classes.headerCell} style={{width: width}}>{this.getFilterInput('name')}</div>\n                    <div className={classes.headerCell} style={{width: WIDTHS[0]}}>{this.getFilterSelectRole()}</div>\n                    <div className={classes.headerCell} style={{width: WIDTHS[1]}}>{this.getFilterSelectRoom()}</div>\n                    <div className={classes.headerCell} style={{width: WIDTHS[2]}}>{this.getFilterSelectFunction()}</div>\n                    <div className={classes.headerCell} style={{width: WIDTHS[3]}}>{I18n.t('Value')}</div>\n                </div>\n                <div className={classes.tableDiv}>\n                <TreeDataTable\n                    ref={this.treeTableRef}\n                    key=\"table\"\n                    data={this.root.children}\n                    height={'100%'}\n                    selected={this.state.selected}\n                    classNameSelected={classes.selected}\n                    classNamePartlyVisible={classes.partlyVisible}\n                    className={this.props.theme === 'dark' ? classes.treeTableDark : classes.treeTable}\n                    classNameRow={classes.treeTableRow}\n                    onRowClick={(data, metadata, toggleChildren, isDoubleClick) => isDoubleClick ?\n                        this.onDoubleClick(data, metadata, toggleChildren) :\n                        this.onSelect(data.id)}\n                >\n                    <TreeDataTable.Column grow={0} renderCell={this.renderIndexColumn.bind(this)} className={classes.cellDivId} width={idWidth} />\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnName.bind(this)}  className={classes.cellDiv} width={width}/>\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnRole.bind(this)}  className={classes.cellDiv} width={WIDTHS[0]}/>\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnRoom.bind(this)}  className={classes.cellDiv} width={WIDTHS[1]}/>\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnFunc.bind(this)}  className={classes.cellDiv} width={WIDTHS[2]}/>\n                    <TreeDataTable.Column grow={1} renderCell={this.renderColumnValue.bind(this)} className={classes.cellDiv} width={WIDTHS[3]}/>\n                </TreeDataTable></div>\n            </div>);\n        }\n    }\n}\n\nSelectID.propTypes = {\n    classes: PropTypes.object,\n    statesOnly: PropTypes.bool,\n    selected: PropTypes.string,\n    onSelect: PropTypes.func,\n    connection: PropTypes.object,\n    prefix: PropTypes.string,\n    theme: PropTypes.string,\n};\n\nexport default withStyles(styles)(SelectID);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport I18n from '../i18n';\nimport SelectID from '../Components/SelectID';\nimport {withStyles} from '@material-ui/core/styles/index';\n\nconst styles = theme => ({\n    headerID: {\n        fontWeight: 'bold',\n        fontStyle: 'italic'\n    },\n    dialog: {\n        height: '95%'\n    },\n    content: {\n        height: '100%',\n        overflow: 'hidden'\n    }\n});\n\nclass DialogSelectID extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state =  {\n            selected: this.props.selected || '',\n            name:     ''\n        };\n    }\n\n    handleCancel() {\n        this.props.onClose();\n    };\n\n    handleOk() {\n        this.props.onOk(this.state.selected, this.state.name);\n        this.props.onClose();\n    };\n\n    render() {\n        let title;\n        if (this.state.name || this.state.selected) {\n            title = [(<span key=\"selected\">{I18n.t('Selected')} </span>), (<span key=\"id\" className={this.props.classes.headerID}>{\n                (this.state.name || this.state.selected) + (this.state.name ? ' [' + this.state.selected + ']' : '')\n            }</span>)];\n        } else {\n            title = this.props.title || I18n.t('Please select object ID...');\n        }\n\n        return (\n            <Dialog\n                disableBackdropClick\n                maxWidth={false}\n                disableEscapeKeyDown\n                classes={{paper: this.props.classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"selectid-dialog-title\"\n            >\n                <DialogTitle id=\"selectid-dialog-title\">{title}</DialogTitle>\n                <DialogContent className={this.props.classes.content}>\n                    <SelectID\n                        prefix={this.props.prefix}\n                        statesOnly={this.props.statesOnly}\n                        style={{width: '100%', height: '100%'}}\n                        connection={this.props.connection}\n                        selected={this.state.selected}\n                        name={this.state.name}\n                        theme={this.props.theme}\n                        onSelect={(selected, name, isDouble) => {\n                            selected !== this.state.selected && this.setState({selected, name});\n                            isDouble && this.handleOk();\n                        }}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()} disabled={!this.state.selected} color=\"primary\">{this.props.ok || I18n.t('Ok')}</Button>\n                    <Button onClick={() => this.handleCancel()} color=\"primary\">{this.props.cancel || I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogSelectID.propTypes = {\n    classes: PropTypes.object,\n    onClose: PropTypes.func,\n    onOk: PropTypes.func.isRequired,\n    title: PropTypes.string,\n    selected: PropTypes.string,\n    statesOnly: PropTypes.bool,\n    connection: PropTypes.object.isRequired,\n    cancel: PropTypes.string,\n    prefix: PropTypes.string,\n    ok: PropTypes.string,\n    theme: PropTypes.string,\n\n};\n\nexport default withStyles(styles)(DialogSelectID);\n","/**\n * Given a cronspec, return the human-readable string.\n * @param {string} cronspec\n * @param withSeconds\n * @param {Object=} locale\n */\nfunction cronToText(cronspec, withSeconds, locale) {\n\n\n    // Constant array to convert valid names to values\n    const NAMES = {\n        JAN: 1, FEB: 2, MAR: 3, APR: 4, MAY: 5, JUN: 6, JUL: 7, AUG: 8,\n        SEP: 9, OCT: 10, NOV: 11, DEC: 12,\n        SUN: 1, MON: 2, TUE: 3, WED: 4, THU: 5, FRI: 6, SAT: 7\n    };\n\n    // Parsable replacements for common expressions\n    const REPLACEMENTS = {\n        '* * * * * *': '0/1 * * * * *',\n        '@YEARLY': '0 0 1 1 *',\n        '@ANNUALLY': '0 0 1 1 *',\n        '@MONTHLY': '0 0 1 * *',\n        '@WEEKLY': '0 0 * * 0',\n        '@DAILY': '0 0 * * *',\n        '@HOURLY': '0 * * * *'\n    };\n\n    // Contains the index, min, and max for each of the constraints\n    const FIELDS = {\n        s: [0, 0, 59], // seconds\n        m: [1, 0, 59], // minutes\n        h: [2, 0, 23], // hours\n        D: [3, 1, 31], // day of month\n        M: [4, 1, 12], // month\n        Y: [6, 1970, 2099], // year\n        d: [5, 1, 7, 1] // day of week\n    };\n\n    /**\n     * Returns the value + offset if value is a number, otherwise it\n     * attempts to look up the value in the NAMES table and returns\n     * that result instead.\n     *\n     * @param {Number,String} value: The value that should be parsed\n     * @param {Number=} offset: Any offset that must be added to the value\n     * @param {Number=} max\n     * @returns {Number|null}\n     */\n    function getValue(value) {\n        const offset = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n        const max = arguments.length <= 2 || arguments[2] === undefined ? 9999 : arguments[2];\n\n        return isNaN(value) ? NAMES[value] || null : Math.min(+value + offset, max);\n    }\n\n    /**\n     * Returns a deep clone of a schedule skipping any day of week\n     * constraints.\n     *\n     * @param {Object} sched: The schedule that will be cloned\n     * @returns {Object}\n     */\n    function cloneSchedule(sched) {\n        const clone = {};\n        let field;\n\n        for (field in sched) {\n            if (field !== 'dc' && field !== 'd') {\n                clone[field] = sched[field].slice(0);\n            }\n        }\n\n        return clone;\n    }\n\n    /**\n     * Adds values to the specified constraint in the current schedule.\n     *\n     * @param {Object} sched: The schedule to add the constraint to\n     * @param {String} name: Name of constraint to add\n     * @param {Number} min: Minimum value for this constraint\n     * @param {Number} max: Maximum value for this constraint\n     */\n    function add(sched, name, min, max) {\n        const inc = arguments.length <= 4 || arguments[4] === undefined ? 0 : arguments[4];\n\n        let i = min;\n\n        if (!sched[name]) {\n            sched[name] = [];\n        }\n\n        while (i <= max) {\n            if (sched[name].indexOf(i) < 0) {\n                sched[name].push(i);\n            }\n            i += inc || 1;\n        }\n\n        sched[name].sort(function (a, b) {\n            return a - b;\n        });\n    }\n\n    /**\n     * Adds a hash item (of the form x#y or xL) to the schedule.\n     *\n     * @param {Object} schedules: The current schedule array to add to\n     * @param {Object} curSched: The current schedule to add to\n     * @param {Number} value: The value to add (x of x#y or xL)\n     * @param {Number} hash: The hash value to add (y of x#y)\n     */\n    function addHash(schedules, curSched, value, hash) {\n        // if there are any existing day of week constraints that\n        // aren't equal to the one we're adding, create a new\n        // composite schedule\n        if ((curSched.d && !curSched.dc) || (curSched.dc && curSched.dc.indexOf(hash) < 0)) {\n            schedules.push(cloneSchedule(curSched));\n            curSched = schedules[schedules.length - 1];\n        }\n\n        add(curSched, 'd', value, value);\n        add(curSched, 'dc', hash, hash);\n    }\n\n    /**\n     *\n     * @param {Object} s: The existing set of schedules\n     * @param {Object} curSched: The current schedule to add to\n     * @param {Number} value\n     */\n    function addWeekday(s, curSched, value) {\n        const except1 = {},\n            except2 = {};\n        if (value === 1) {\n            // cron doesn't pass month boundaries, so if 1st is a\n            // weekend then we need to use 2nd or 3rd instead\n            add(curSched, 'D', 1, 3);\n            add(curSched, 'd', NAMES.MON, NAMES.FRI);\n            add(except1, 'D', 2, 2);\n            add(except1, 'd', NAMES.TUE, NAMES.FRI);\n            add(except2, 'D', 3, 3);\n            add(except2, 'd', NAMES.TUE, NAMES.FRI);\n        } else {\n            // normally you want the closest day, so if v is a\n            // Saturday, use the previous Friday.  If it's a\n            // sunday, use the following Monday.\n            add(curSched, 'D', value - 1, value + 1);\n            add(curSched, 'd', NAMES.MON, NAMES.FRI);\n            add(except1, 'D', value - 1, value - 1);\n            add(except1, 'd', NAMES.MON, NAMES.THU);\n            add(except2, 'D', value + 1, value + 1);\n            add(except2, 'd', NAMES.TUE, NAMES.FRI);\n        }\n        s.exceptions.push(except1);\n        s.exceptions.push(except2);\n    }\n\n    /**\n     * Adds a range item (of the form x-y/z) to the schedule.\n     *\n     * @param {String} item: The cron expression item to add\n     * @param {Object} curSched: The current schedule to add to\n     * @param {String} name: The name to use for this constraint\n     * @param {Number} min: The min value for the constraint\n     * @param {Number} max: The max value for the constraint\n     * @param {Number} offset: The offset to apply to the cron value\n     */\n    function addRange(item, curSched, name, min, max, offset) {\n        // parse range/x\n        const incSplit = item.split('/'),\n            inc = +incSplit[1],\n            range = incSplit[0];\n\n        // parse x-y or * or 0\n        if (range !== '*' && range !== '0') {\n            const rangeSplit = range.split('-');\n            min = getValue(rangeSplit[0], offset, max);\n\n            // fix for issue #13, range may be single digit\n            max = getValue(rangeSplit[1], offset, max) || max;\n        }\n\n        add(curSched, name, min, max, inc);\n    }\n\n    /**\n     * Parses a particular item within a cron expression.\n     *\n     * @param {String} item: The cron expression item to parse\n     * @param {Object} s: The existing set of schedules\n     * @param {String} name: The name to use for this constraint\n     * @param {Number} min: The min value for the constraint\n     * @param {Number} max: The max value for the constraint\n     * @param {Number} offset: The offset to apply to the cron value\n     */\n    function parse(item, s, name, min, max, offset) {\n        let value,\n            split,\n            schedules = s.schedules,\n            curSched = schedules[schedules.length - 1];\n\n        // L just means min - 1 (this also makes it work for any field)\n        if (item === 'L') {\n            item = (min - 1).toString(10);\n        }\n\n        // parse x\n        if ((value = getValue(item, offset, max)) !== null) {\n            add(curSched, name, value, value);\n        }\n        // parse xW\n        else if ((value = getValue(item.replace('W', ''), offset, max)) !== null) {\n            addWeekday(s, curSched, value);\n        }\n        // parse xL\n        else if ((value = getValue(item.replace('L', ''), offset, max)) !== null) {\n            addHash(schedules, curSched, value, min - 1);\n        }\n        // parse x#y\n        else if ((split = item.split('#')).length === 2) {\n            value = getValue(split[0], offset, max);\n            addHash(schedules, curSched, value, getValue(split[1]));\n        }\n        // parse x-y or x-y/z or */z or 0/z\n        else {\n            addRange(item, curSched, name, min, max, offset);\n        }\n    }\n\n    /**\n     * Returns true if the item is either of the form x#y or xL.\n     *\n     * @param {String} item: The expression item to check\n     */\n    function isHash(item) {\n        return item.indexOf('#') > -1 || item.indexOf('L') > 0;\n    }\n\n    function itemSorter(a, b) {\n        return isHash(a) && !isHash(b) ? 1 : a - b;\n    }\n\n    /**\n     * Parses each of the fields in a cron expression.  The expression must\n     * include the seconds field, the year field is optional.\n     *\n     * @param {String} expr: The cron expression to parse\n     */\n    function parseExpr(expr) {\n        const schedule = { schedules: [{}], exceptions: [] };\n        const components = expr.replace(/(\\s)+/g, ' ').split(' ');\n        let field;\n        let f;\n        let component;\n        let items;\n\n        for (field in FIELDS) {\n            f = FIELDS[field];\n            component = components[f[0]];\n            if (component && component !== '*' && component !== '?') {\n                // need to sort so that any #'s come last, otherwise\n                // schedule clones to handle # won't contain all of the\n                // other constraints\n                items = component.split(',').sort(itemSorter);\n                let i;\n                const length = items.length;\n                for (i = 0; i < length; i++) {\n                    parse(items[i], schedule, field, f[1], f[2], f[3]);\n                }\n            }\n        }\n\n        return schedule;\n    }\n\n    /**\n     * Make cron expression parsable.\n     *\n     * @param {String} expr: The cron expression to prepare\n     */\n    function prepareExpr(expr) {\n        const prepared = expr.toUpperCase();\n        return REPLACEMENTS[prepared] || prepared;\n    }\n\n    function parseCron(expr, hasSeconds) {\n        const e = prepareExpr(expr);\n        return parseExpr(hasSeconds ? e : '0 ' + e);\n    }\n\n    const schedule = parseCron(cronspec, withSeconds);\n\n    function absFloor(number) {\n        if (number < 0) {\n            return Math.ceil(number);\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        const coercedNumber = +argumentForCoercion;\n        let value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    function ordinal(number) {\n        const b = number % 10,\n            output = (toInt(number % 100 / 10) === 1) ? locale.ORDINALS.th :\n                (b === 1) ? locale.ORDINALS.st :\n                    (b === 2) ? locale.ORDINALS.nd :\n                        (b === 3) ? locale.ORDINALS.rd : locale.ORDINALS.th;\n        return number + output;\n    }\n\n    /**\n     * For an array of numbers, e.g. a list of hours in a schedule,\n     * return a string listing out all of the values (complete with\n     * \"and\" plus ordinal text on the last item).\n     * @param {Number[]} numbers\n     * @returns {string}\n     */\n    function numberList(numbers) {\n        if (numbers.length < 2) {\n            return ordinal(numbers);\n        }\n\n        const lastVal = numbers.pop();\n        return numbers.join(', ') + ' ' + locale['and'] + ' ' + ordinal(lastVal);\n    }\n\n    /**\n     * Parse a number into day of week, or a month name;\n     * used in dateList below.\n     * @param {Number|String} value\n     * @param {String} type\n     * @returns {String}\n     */\n    function numberToDateName(value, type) {\n        if (type === 'dow') {\n            return locale.DOW[value - 1];\n        } else if (type === 'mon') {\n            return locale.MONTH[value - 1];\n        }\n    }\n\n    /**\n     * From an array of numbers corresponding to dates (given in type: either\n     * days of the week, or months), return a string listing all the values.\n     * @param {Number[]} numbers\n     * @param {String} type\n     * @returns {String}\n     */\n    function dateList(numbers, type) {\n        if (numbers.length < 2) {\n            return numberToDateName('' + numbers[0], type);\n        }\n\n        const lastVal = '' + numbers.pop();\n        let outputText = '';\n\n        for (let i = 0, value; (value = numbers[i]); i++) {\n            if (outputText.length > 0) {\n                outputText += ', ';\n            }\n            outputText += numberToDateName(value, type);\n        }\n        return outputText + ' ' + locale['and'] + ' ' + numberToDateName(lastVal, type);\n    }\n\n    /**\n     * Pad to equivalent of sprintf('%02d').\n     * @param {Number} x\n     * @returns {string}\n     */\n    function zeroPad(x) {\n        return (x < 10) ? '0' + x : x;\n    }\n\n    //----------------\n\n    /**\n     * Given a schedule, generate a friendly sentence description.\n     * @param {Object} schedule\n     * @param {boolean} withSeconds\n     * @returns {string}\n     */\n    function scheduleToSentence(schedule, withSeconds) {\n        let outputText = locale.Every + ' ';\n\n        if (schedule['h'] && schedule['m'] && schedule['h'].length <= 2 && schedule['m'].length <= 2 && withSeconds && schedule['s'] && schedule['s'].length <= 2 ) {\n            // If there are only one or two specified values for\n            // hour or minute, print them in HH:MM:SS format\n\n            const hm = [];\n            for (let i = 0; i < schedule['h'].length; i++) {\n                for (let j = 0; j < schedule['m'].length; j++) {\n                    for (let k = 0; k < schedule['s'].length; k++) {\n                        hm.push(zeroPad(schedule['h'][i]) + ':' + zeroPad(schedule['m'][j]) + ':' + zeroPad(schedule['s'][k]));\n                    }\n                }\n            }\n            if (hm.length < 2) {\n                outputText = locale['At'] + ' ' + hm[0];\n            } else {\n                const lastVal = hm.pop();\n                outputText = locale['At'] + ' ' + hm.join(', ') + ' ' + locale.and + ' ' + lastVal;\n            }\n            if (!schedule['d'] && !schedule['D']) {\n                outputText += ' ' + locale['every day'] + ' ';\n            }\n        } else\n        if (schedule['h'] && schedule['m'] && schedule['h'].length <= 2 && schedule['m'].length <= 2) {\n            // If there are only one or two specified values for\n            // hour or minute, print them in HH:MM format\n\n            const hm = [];\n            for (let i = 0; i < schedule['h'].length; i++) {\n                for (let j = 0; j < schedule['m'].length; j++) {\n                    hm.push(zeroPad(schedule['h'][i]) + ':' + zeroPad(schedule['m'][j]));\n                }\n            }\n            if (hm.length < 2) {\n                outputText = locale['At'] + ' ' + hm[0];\n            } else {\n                const lastVal = hm.pop();\n                outputText = locale['At'] + ' ' + hm.join(', ') + ' ' + locale.and + ' ' + lastVal;\n            }\n\n            if (!schedule['d'] && !schedule['D']) {\n                outputText += ' ' + locale['every day'] + ' ';\n            }\n        } else {\n            // Otherwise, list out every specified hour/minute value.\n\n            if (schedule['h']) { // runs only at specific hours\n                if (schedule['m']) { // and only at specific minutes\n                    if (withSeconds) {\n                        if (!schedule['s'] || schedule['s'].length === 60) {\n                            outputText += locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        } else {\n                            outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' +numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        }\n                    } else {\n                        outputText += numberList(schedule['m']) + ' ' + locale['minute past the'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                    }\n                } else { // specific hours, but every minute\n                    if (withSeconds) {\n                        if (!schedule['s'] || schedule['s'].length === 60) {\n                            outputText += locale['second of every'] + ' ' + locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        } else {\n                            outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' + locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                        }\n                    } else {\n                        outputText += locale['minute of'] + ' ' + numberList(schedule['h']) + ' ' + locale['hour'];\n                    }\n                }\n            } else if (schedule['m']) { // every hour, but specific minutes\n                if (withSeconds) {\n                    if (!schedule['s'] || schedule['s'].length === 60) {\n                        outputText += locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                    } else {\n                        outputText += numberList(schedule['s']) + ' ' + locale['second of every'] + ' ' + numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                    }\n                } else {\n                    outputText += numberList(schedule['m']) + ' ' + locale['minute every hour'];\n                }\n            } else if (withSeconds) {\n                if (!schedule['s'] || schedule['s'].length === 60) {\n                    outputText += locale['second'];\n                } else {\n                    outputText += numberList(schedule['s']) + ' ' + locale['second'];\n                }\n            } else { // cronspec has \"*\" for both hour and minute\n                outputText += locale['minute'];\n            }\n        }\n\n        if (schedule['D']) { // runs only on specific day(s) of month\n            outputText += (locale['on the'] ? ' ' + locale['on the'] + ' ' : ' ') + numberList(schedule['D']);\n            if (!schedule['M']) {\n                outputText += ' ' + locale['of every month'];\n            }\n        }\n\n        if (schedule['d']) { // runs only on specific day(s) of week\n            if (schedule['D']) {\n                // if both day fields are specified, cron uses both; superuser.com/a/348372\n                outputText += ' ' + locale['and every'] + ' ';\n            } else {\n                outputText += ' ' + locale['on'] + ' ';\n            }\n            outputText += dateList(schedule['d'], 'dow');\n        }\n\n        if (schedule['M']) {\n            // runs only in specific months; put this output last\n            outputText += ' ' + locale['in'] + ' ' + dateList(schedule['M'], 'mon');\n        }\n\n        return outputText;\n    }\n\n    return scheduleToSentence(schedule.schedules[0], withSeconds);\n}\n\nexport default cronToText;\n","var JQUERY_CRON_LOCALE = {};\n\nJQUERY_CRON_LOCALE.en = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Sun',\n        'Mon',\n        'Tue',\n        'Wed',\n        'Thu',\n        'Fri',\n        'Sat'\n    ],\n    'Every':            'Every', // start of expression\n    'and':              'and', // 1, 2, 3 and 15th\n    'every day':        'every day',\n    'minute past the':  'minute past the',\n    'hour':             'hour',\n    'minute':           'minute',\n    'minute of':        'minute of',\n    'second':           'second',\n    'second in minute': 'second in minute',\n    'second of every':  'second of every',\n    'minute every hour': 'minute every hour',\n    'on the':           'on the',\n    'of every month':   'of every month',\n    'and every':        'and every',\n    'At':               'At',\n    'on':               'on', // on sun, mon\n    'in':               'in' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.de = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Januar',\n        'Februar',\n        'Mrz',\n        'April',\n        'Mai',\n        'Juni',\n        'Juli',\n        'August',\n        'September',\n        'Oktober',\n        'November',\n        'Dezember'\n    ],\n    DOW: [\n        'Sonntag',\n        'Montag',\n        'Dienstag',\n        'Mittwoch',\n        'Donnerstag',\n        'Freitag',\n        'Samstag'\n    ],\n    'Every':            'Jede(r)', // start of expression\n    'and':              'und', // 1, 2, 3 and 15th\n    'every day':        'jeden Tag',\n    'minute past the':  'Minuten nach',\n    'hour':             'Stunde',\n    'minute':           'Minute',\n    'minute of':        'Minuten von',\n    'second':           'Sekunde',\n    'second in minute': 'Sekunde in der Minute',\n    'second of every':  'Sekunde in',\n    'minute every hour': 'Minute jede Stunde',\n    'on the':           'am',\n    'of every month':   'im jeden Monat',\n    'and every':        'und am jeden',\n    'At':               'Um',\n    'on':               'am', // on sun, mon\n    'in':               'im' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.ru = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ],\n    DOW: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ],\n    'Every':            '()', // start of expression\n    'and':              '', // 1, 2, 3 and 15th\n    'every day':        ' ',\n    'minute past the':  ' ',\n    'hour':             '()',\n    'minute':           '',\n    'minute of':        '() ',\n    'second':           '',\n    'second in minute': '  ',\n    'second of every':  ' ()',\n    'minute every hour': '  ',\n    'on the':           '',\n    'of every month':   '  ',\n    'and every':        ' ',\n    'At':               '',\n    'on':               '', // on sun, mon\n    'in':               '' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.fr = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [\n        'Fv',\n        'Mar',\n        'Avr',\n        'Mai',\n        'Jun',\n        'Juil',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dc'\n\n    ],\n    DOW: [\n        'Dim',\n        'Lun',\n        'Mar',\n        'Mer',\n        'Jeu',\n        'Ven',\n        'Sam'\n\n    ],\n    'Every':            'Chaque',\n    'and':              'et',\n    'every day':        'tous les jours',\n    'minute past the':  'minute aprs le',\n    'hour':             'heure',\n    'minute':           'minute',\n    'minute of':        'minute de',\n    'second':           'seconde',\n    'second in minute': 'seconde en minute',\n    'second of every':  'deuxime de tous',\n    'minute every hour':'minute toutes les heures',\n    'on the':           'sur le',\n    'of every month':   'de chaque mois',\n    'and every':        'et tous',\n    'At':               '',\n    'on':               'sur',\n    'in':               'dans'\n};\n\nJQUERY_CRON_LOCALE.it = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'Pot',\n        'Giu',\n        'Lug',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dic'\n    ],\n    DOW: [\n        'Dom',\n        'Mon',\n        'Mar',\n        'Mer',\n        'Gio',\n        'Ve',\n        'Sat'\n    ],\n    'Every':             'Ogni',\n    'and':               'e',\n    'every day':         'ogni giorno',\n    'minute past the':   'minuto dopo',\n    'hour':              'ora',\n    'minute':            'Minuto',\n    'minute of':         'minuto di',\n    'second':            'secondo',\n    'second in minute':  \"secondo in minuto\",\n    'second of every':   'secondo di ogni',\n    'minute every hour': 'minuto ogni ora',\n    'on the':            'sul',\n    'of every month':    'di ogni mese',\n    'and every':         'e ogni',\n    'At':                'A',\n    'on':                'sopra',\n    'in':                'in'\n};\n\nJQUERY_CRON_LOCALE.pt = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Abr',\n        'Pod',\n        'Jun',\n        'Jul',\n        'Ago',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Dom',\n        'Seg',\n        'Ter',\n        'Qua',\n        'Qui',\n        'Sex',\n        'Sen'\n    ],\n    'Every':                'Cada',\n    'and':                  'e',\n    'every day':            'todo dia',\n    'minute past the':      'minuto aps o',\n    'hour':                 'hora',\n    'minute':               'minuto',\n    'minute of':            'minuto de',\n    'second':               'segundo',\n    'second in minute':     'segundo em minuto',\n    'second of every':      'segundo de cada',\n    'minute every hour':    'minuto a cada hora',\n    'on the':               'no',\n    'of every month':       'de todos os meses',\n    'and every':            'e todos',\n    'At':                   'At',\n    'on':                   'em',\n    'in':                   'dentro'\n};\n\nJQUERY_CRON_LOCALE.pl = {\n    ORDINALS: {\n        th: 'th',\n        st: 'st',\n        nd: 'nd',\n        rd: 'rd'\n    },\n    MONTH: [ //short or full names\n        'Sty', // or 'Stycze'\n        'Lut', // or 'Luty'\n        'Mar', // or 'Marzec'\n        'Kwi', // or 'Kwiecie'\n        'Maj', // or 'Maj'\n        'Cze', // or 'Czerwiec'\n        'Lip', // or 'Lipiec'\n        'Sie', // or 'Sierpie'\n        'Wrz', // or 'Wrzesie'\n        'Pa', // or 'Padziernik'\n        'Lis', // or 'Listopad'\n        'Gru'  // or 'Grudzie'\n    ],\n    DOW: [ //short or full days name\n        'Nie', // or 'Niedziela'\n        'Pon', // or 'Poniedziaek'\n        'Wto', // or 'Wtorek'\n        'ro', // or 'roda'\n        'Czw', // or 'Czwartek'\n        'Pi', // or 'Pitek'\n        'Sob'  // or 'Sobota\n    ],\n    'Every':            'Kade(go)', // start of expression\n    'and':              'i', // 1, 2, 3 and 15th\n    'every day':        'codziennie',\n    'minute past the':  'minut po', //minute past the hour ?\n    'hour':             'godzina',\n    'minute':           'minut(a)',\n    'minute of':        'minut po',\n    'second':           'sekunda',\n    'second in minute': 'sekund na minut',\n    'second of every':  'sekund co',\n    'minute every hour': 'minut co godzin',\n    'on the':           'w',\n    'of every month':   'kadego miesica',\n    'and every':        'i kadego',\n    'At':               'O',\n    'on':               'w', // on sun, mon\n    'in':               'w' // in jan, apr\n};\n\nJQUERY_CRON_LOCALE.es = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Ene',\n        'Feb',\n        'Mar',\n        'Abr',\n        'Mayo',\n        'Jun',\n        'Jul',\n        'Ago',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dic'\n    ],\n    DOW: [\n        'Sol',\n        'Lun',\n        'Mar',\n        'Mie',\n        'Jue',\n        'Vie',\n        'Sab'\n    ],\n    'Every':                'Cada',\n    'and':                  'y',\n    'every day':            'cada da',\n    'minute past the':      'minuto pasado el',\n    'hour':                 'hora',\n    'minute':               'minuto',\n    'minute of':            'minuto de',\n    'second':               'segundo',\n    'second in minute':     'segundo en minuto',\n    'second of every':      'segundo de cada',\n    'minute every hour':    'minuto cada hora',\n    'on the':               'sobre el',\n    'of every month':       'de cada mes',\n    'and every':            'y cada',\n    'At':                   'A',\n    'on':                   'en',\n    'in':                   'en'\n};\n\nJQUERY_CRON_LOCALE.nl = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'Mei',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Okt',\n        'Nov',\n        'Dec'\n    ],\n    DOW: [\n        'Zon',\n        'Mon',\n        'Di',\n        'Wo',\n        'Don',\n        'Vrij',\n        'Za'\n    ],\n    'Every':                'Elke',\n    'and':                  'en',\n    'every day':            'elke dag',\n    'minute past the':      'minuut voorbij de',\n    'hour':                 'uur',\n    'minute':               'minuut',\n    'minute of':            'minuut van',\n    'second':               'tweede',\n    'second in minute':     'tweede in minuut',\n    'second of every':      'tweede van alles',\n    'minute every hour':    'minuut elk uur',\n    'on the':               'op de',\n    'of every month':       'van elke maand',\n    'and every':            'en elke',\n    'At':                   'Op',\n    'on':                   'op',\n    'in':                   'in'\n};\n\nJQUERY_CRON_LOCALE['zh-cn'] = {\n    ORDINALS: {\n        th: '',\n        st: '',\n        nd: '',\n        rd: ''\n    },\n    MONTH: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ],\n    DOW: [\n        '',\n        '',\n        '',\n        '',\n        '',\n        '',\n        ''\n    ],\n    'Every':            '', // start of expression\n    'and':              '', // 1, 2, 3 and 15th\n    'every day':        '',\n    'minute past the':  '',\n    'hour':             '',\n    'minute':           '',\n    'minute of':        '',\n    'second':           '',\n    'second in minute': '',\n    'second of every':  '',\n    'minute every hour': '',\n    'on the':           '',\n    'of every month':   '',\n    'and every':        '',\n    'At':               '',\n    'on':               '', // on sun, mon\n    'in':               '' // in jan, apr\n};\n\nexport default JQUERY_CRON_LOCALE;\n","import cronToText from './cron2text';\nimport JQUERY_CRON_LOCALE from './jquery.cron.locale';\n\nfunction correctCasus(text, seconds) {\n    text = text.replace('() ',    ' ');\n    text = text.replace('() ()',  ' ');\n    text = text.replace('() ',       ' ');\n    text = text.replace('() ',   ' ');\n    text = text.replace(/ (\\d{1,2}) /,     ' $1 ');\n\n    text = text.replace(/ (\\d{1,2})  /,  ' $1   ');\n    text = text.replace(/ (\\d{1,2})  /, ' $1   ');\n    text = text.replace(/ (\\d{1,2})  /,   ' $1   ');\n    text = text.replace(/ (\\d{1,2})  /,  ' $1   ');\n    text = text.replace(/ (\\d{1,2})  /,    ' $1   ');\n    text = text.replace(/ (\\d{1,2})  /,    ' $1   ');\n    text = text.replace(/ (\\d{1,2})  /,    ' $1   ');\n    text = text.replace(/ (\\d{1,2})  /,  ' $1   ');\n    text = text.replace(/ (\\d{1,2})  /,  ' $1   ');\n    text = text.replace(/ (\\d{1,2})  /,  ' $1   ');\n    text = text.replace(/ (\\d{1,2})  /,  ' $1   ');\n    text = text.replace(/ (\\d{1,2})  /,  ' $1   ');\n\n    text = text.replace('() 0 ',   '  ');\n    text = text.replace(/\\(\\) ([\\d\\s,]+) /, ' $1 ');\n\n    text = text.replace(/\\(\\) ([\\d\\s,]+) /, ' $1 ');\n    text = text.replace('() ()',  ' ');\n\n    text = text.replace(' 0 ()',           ' 0 ');\n    text = text.replace(' 1 ()',           ' 1 ');\n    text = text.replace(' 2 ()',           ' 2 ');\n    text = text.replace(' 3 ()',           ' 3 ');\n    text = text.replace(' 4 ()',           ' 4 ');\n    text = text.replace(/ (\\d{1,2}) \\(\\)/, ' $1 ');\n\n    text = text.replace('Jede(r) Sekunde',      'Jede Sekunde');\n    text = text.replace(/Jede\\(r\\) ([\\d\\sund,]+) Sekunde/, 'Jede $1 Sekunde');\n    text = text.replace('Jede(r) Minute',       'Jede Minute');\n    text = text.replace('Jede Minuten',         'Jede Minute');\n    text = text.replace('Jede(r) Stunde',       'Jede Stunde');\n    text = text.replace(/Jede\\(r\\) ([\\d\\sund,]+) Minute/, 'Jede $1 Minute');\n    text = text.replace('Jede Sekunde in Minuten', 'Jede Sekunde in jeder Minute');\n\n    return text;\n}\n\nfunction convertCronToText(cron, lang) {\n    const withSeconds = cron.split(' ').length === 6;\n    let text = cronToText(cron, withSeconds, JQUERY_CRON_LOCALE[lang] || JQUERY_CRON_LOCALE.en);\n    return correctCasus(text, withSeconds);\n}\n\nexport default convertCronToText;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Button from '@material-ui/core/Button';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport I18n from '../i18n';\nimport TextField from '@material-ui/core/TextField';\nimport convertCronToText from './simple-cron/cronText';\n\nconst styles = theme => ({\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto'\n    },\n    periodSelect: {\n        //margin: '0 10px 60px 10px',\n        display: 'block',\n        width: 200\n    },\n    slider: {\n        marginTop: 20,\n        display: 'block',\n        width: '100%'\n    },\n    tabContent: {\n        padding: 20\n    },\n    numberButton: {\n        padding: 4,\n        minWidth: 40,\n        margin: 5\n    },\n    numberButtonBreak: {\n        display: 'block'\n    },\n    appBar: {\n        color: 'white'\n    }\n});\n\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\nconst MONTHS = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\n\n// 5-7,9-11 => [5,6,7,9,10,11]\nfunction convertMinusIntoArray(value, max) {\n    let result = [];\n    if (value === '*') {\n        if (max === 24 || max === 60 || max === 7) {\n            for (let i = 0; i < max; i++) {\n                result.push(i);\n            }\n        } else {\n            for (let i = 1; i <= max; i++) {\n                result.push(i);\n            }\n        }\n        return result; // array with entries max\n    }\n    const parts = (value || '').toString().split(',');\n    for (let p = 0; p < parts.length; p++) {\n        if (! parts[p].trim().length) continue;\n        const items = parts[p].trim().split('-');\n        if (items.length > 1) {\n            let iMax = parseInt(items[1], 10);\n            for (let i = parseInt(items[0], 10); i <= iMax; i++) {\n                result.push(i);\n            }\n        } else {\n            result.push(parseInt(parts[p], 10));\n        }\n    }\n    result = result.map(a => parseInt(a, 10));\n\n    result.sort();\n\n\n    // remove double entries\n    for (let p = result.length - 1; p >= 0; p--) {\n        if (result[p] === result[p + 1]) {\n            result.splice(p + 1, 1);\n        }\n    }\n\n\n    return result;\n}\n\n// [5,6,7,9,10,11] => 5-7,9-11\nfunction convertArrayIntoMinus(value, max) {\n    if (typeof value !== 'object') {\n        value = [value];\n    }\n    if (value.length === max) {\n        return '*';\n    }\n    const newParts = [];\n    if (!value.length) {\n        return '-';\n    }\n    value = value.map(a => parseInt(a, 10));\n\n    value.sort((a, b) => a -b);\n\n    let start = value[0];\n    let end = value[0];\n    for (let p = 1; p < value.length; p++) {\n        if (value[p] - 1 !== parseInt(value[p - 1], 10)) {\n            if (start === end) {\n                newParts.push(start)\n            } else if (end - 1 === start) {\n                newParts.push(start + ',' + end);\n            } else {\n                newParts.push(start + '-' + end);\n            }\n            start = value[p];\n            end = value[p];\n        } else {\n            end = value[p];\n        }\n    }\n\n    if (start === end) {\n        newParts.push(start)\n    } else if (end - 1 === start) {\n        newParts.push(start + ',' + end);\n    } else {\n        newParts.push(start + '-' + end);\n    }\n\n    return newParts.join(',');\n}\n\nclass ComplexCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron = (typeof this.props.cronExpression === 'string') ? this.props.cronExpression.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '') : '';\n        if (cron[0] === '{') {\n            cron = '';\n        }\n        const state = ComplexCron.cron2state(cron || '* * * * *');\n\n        this.state = {\n            extended: false,\n            tab: state.seconds !== false ? 1 : 0,\n            cron: ComplexCron.state2cron(state),\n            modes: {\n                seconds: null,\n                minutes: null,\n                hours: null,\n                dates: null,\n                months: null,\n                dows: null\n            }\n        };\n        Object.assign(this.state, state);\n        if (this.state.cron !== this.props.cronExpression) {\n            setTimeout(() => this.props.onChange && this.props.onChange(this.state.cron), 100);\n        }\n    }\n\n    static cron2state(cron) {\n        cron = cron.replace(/['\"]/g, '').trim();\n        const cronParts = cron.split(' ').map(p => p.trim());\n        const options = {};\n\n        if (cronParts.length === 6) {\n            options.seconds = cronParts[0] || '*';\n            options.minutes = cronParts[1] || '*';\n            options.hours = cronParts[2] || '*';\n            options.dates = cronParts[3] || '*';\n            options.months = cronParts[4] || '*';\n            options.dows = cronParts[5] || '*';\n        } else {\n            options.seconds = false;\n            options.minutes = cronParts[0] || '*';\n            options.hours = cronParts[1] || '*';\n            options.dates = cronParts[2] || '*';\n            options.months = cronParts[3] || '*';\n            options.dows = cronParts[4] || '*';\n        }\n        return options;\n    }\n    static state2cron(state) {\n        let text = `${state.minutes} ${state.hours} ${state.dates} ${state.months} ${state.dows}`;\n        if (state.seconds !== false) {\n            text = state.seconds + ' ' + text;\n        }\n        return text;\n    }\n\n    recalcCron() {\n        let cron = ComplexCron.state2cron(this.state);\n        if (cron !== this.state.cron) {\n            this.setState({cron}, () => {\n                this.props.onChange && this.props.onChange(this.state.cron);\n            });\n        }\n    }\n\n    onChange(cron) {\n        if (cron !== this.state.cron) {\n            this.setState({cron});\n            this.props.onChange && this.props.onChange(cron);\n        }\n    }\n\n    onToggle(i, type, max) {\n        if (i === true) {\n            this.setState({[type]: '*'}, () => this.recalcCron());\n        } else if (i === false) {\n            if (max === 60 || max === 24) {\n                this.setState({[type]: '0'}, () => this.recalcCron());\n            } else {\n                this.setState({[type]: '1'}, () => this.recalcCron());\n            }\n        } else {\n            let nums = convertMinusIntoArray(this.state[type], max);\n            const pos = nums.indexOf(i);\n            if (pos !== -1) {\n                nums.splice(pos, 1);\n            } else {\n                nums.push(i);\n                nums.sort();\n            }\n            this.setState({[type]: convertArrayIntoMinus(nums, max)}, () => this.recalcCron());\n        }\n    }\n\n    getDigitsSelector(type, max) {\n        let values = [];\n        if (max === 7) {\n            values = [1,2,3,4,5,6,0];\n        } else if (max === 60 || max === 24) {\n            for (let i = 0; i < max; i++) {\n                values.push(i);\n            }\n        } else {\n            for (let i = 1; i <= max; i++) {\n                values.push(i);\n            }\n        }\n        const parts = convertMinusIntoArray(this.state[type], max);\n        return [\n            (<Button\n                key=\"removeall\"\n                variant={'outlined'}\n                className={this.props.classes.numberButton}\n                //style={{paddingBottom: 20}}\n                color={'primary'}\n                onClick={() => this.onToggle(false, type, max)}>{I18n.t('Deselect all')}</Button>),\n            (<Button\n                key=\"addall\"\n                variant={'contained'}\n                //style={{paddingBottom: 20}}\n                className={this.props.classes.numberButton}\n                color={'secondary'}\n                onClick={() => this.onToggle(true, type, max)}>{I18n.t('Select all')}</Button>),\n            (<div key=\"all\">\n                {values.map(i =>\n                    [((max === 7 && i === 4) ||\n                    (max === 12 && i === 7) ||\n                    (max === 31 && !((i - 1) % 10)) ||\n                    (max === 60 && i && !(i % 10)) ||\n                    (max === 24 && i && !(i % 6))) ?\n                    (<div key={'allInner' + i} style={{width: '100%'}}/>) : null,\n                        (<Button\n                            key={'_' + i}\n                            variant={parts.indexOf(i) !== -1 ? 'contained' : 'outlined'}\n                            className={this.props.classes.numberButton}\n                            color={parts.indexOf(i) !== -1 ? 'secondary' : 'primary'}\n                            onClick={() => this.onToggle(i, type, max)}>{max === 7 ? I18n.t(WEEKDAYS[i]) : (max === 12 ? MONTHS[i - 1] : i)}</Button>\n                    )])}\n                    </div>)];\n    }\n\n    getPeriodsTab(type, max) {\n        let value = this.state[type];\n        let every = value === '*';\n        let everyN = value.toString().indexOf('/') !== -1;\n        let select;\n        if (this.state.modes[type] === null) {\n            select = every ? 'every' : (everyN ? 'everyN' : 'specific');\n            const modes = JSON.parse(JSON.stringify(this.state.modes));\n            modes[type] = select;\n            return setTimeout(() => this.setState({modes}, () => this.recalcCron()), 100);\n        } else {\n            every = this.state.modes[type] === 'every';\n            everyN = this.state.modes[type] === 'everyN';\n            select = this.state.modes[type];\n        }\n\n        if (everyN) {\n            value = parseInt(value.replace('*/', ''), 10) || 1;\n        }\n\n        return (<div>\n            <Select\n                className={this.props.classes.periodSelect}\n                style={{verticalAlign: 'bottom'}}\n                value={select}\n                onChange={e => {\n                    const modes = JSON.parse(JSON.stringify(this.state.modes));\n                    modes[type] = e.target.value;\n                    if (e.target.value === 'every') {\n                        this.setState({[type]: '*', modes}, () => this.recalcCron());\n                    } else if (e.target.value === 'everyN') {\n                        const num = parseInt(this.state[type].toString().replace('*/', ''), 10) || 1;\n                        this.setState({[type]: '*/' + num, modes}, () => this.recalcCron());\n                    } else if (e.target.value === 'specific') {\n                        let num = parseInt(this.state[type].split(',')[0], 10) || 0;\n                        console.log(num);\n                        if (!num && (type === 'months' || type === 'dates')) {\n                            num = 1;\n                        }\n                        this.setState({[type]: convertArrayIntoMinus(num, max), modes}, () => this.recalcCron());\n                    }\n                }}>\n                <MenuItem key='every' value='every'>{I18n.t('sc_every_' + type)}</MenuItem>\n                <MenuItem key='everyN' value='everyN'>{I18n.t('sc_everyN_' + type)}</MenuItem>\n                <MenuItem key='specific' value='specific'>{I18n.t('sc_specific_' + type)}</MenuItem>\n            </Select>\n            {everyN && false && (<span>{value}</span>)}\n            {everyN && (<TextField\n                key=\"interval\"\n                label={I18n.t('sc_' + type)}\n                value={value}\n                min={1}\n                max={max}\n                onChange={e => {\n                    this.setState({[type]: '*/' + e.target.value}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                type=\"number\"\n                margin=\"normal\"\n            />)}\n            {!every && !everyN && this.getDigitsSelector(type, max)}\n        </div>);\n    }\n\n    convertCronToText(cron, lang) {\n        if (cron.split(' ').indexOf('-') !== -1) {\n            return I18n.t('Invalid CRON');\n        } else {\n            return convertCronToText(cron, lang);\n        }\n    }\n\n    render() {\n        const tab = this.state.seconds !== false ? this.state.tab : this.state.tab + 1;\n        return (\n            <div className={this.props.classes.mainDiv}>\n                <div style={{paddingLeft: 8, width: '100%'}}><TextField style={{width: '100%'}} value={this.state.cron} disabled={true}/></div>\n                <div style={{paddingLeft: 8, width: '100%', height: 60}}>{this.convertCronToText(this.state.cron, this.props.language || 'en')}</div>\n                <FormControlLabel\n                    control={<Checkbox checked={this.state.seconds}\n                                       onChange={e => this.setState({seconds: e.target.checked ? '*' : false}, () => this.recalcCron())}/>}\n                    label={I18n.t('use seconds')}\n                />\n                <AppBar position=\"static\" classes={{root: this.props.classes.appBar}} color=\"secondary\">\n                    <Tabs value={this.state.tab} className={this.props.classes.appBar} color=\"secondary\" onChange={(active, tab) =>\n                        this.setState({tab})}>\n                        {this.state.seconds !== false && <Tab id=\"sc_seconds\" label={I18n.t('sc_seconds')}/>}\n                        <Tab  id=\"minutes\" label={I18n.t('sc_minutes')}/>\n                        <Tab  id=\"hours\" label={I18n.t('sc_hours')}/>\n                        <Tab  id=\"dates\" label={I18n.t('sc_dates')}/>\n                        <Tab  id=\"months\" label={I18n.t('sc_months')}/>\n                        <Tab  id=\"dows\" label={I18n.t('sc_dows')}/>\n                    </Tabs>\n                </AppBar>\n                {tab === 0 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('seconds', 60)}</div>)}\n                {tab === 1 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('minutes', 60)}</div>)}\n                {tab === 2 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('hours', 24)}</div>)}\n                {tab === 3 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('dates', 31)}</div>)}\n                {tab === 4 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('months', 12)}</div>)}\n                {tab === 5 && (<div className={this.props.classes.tabContent}>{this.getPeriodsTab('dows', 7)}</div>)}\n            </div>\n        );\n    }\n}\n\nComplexCron.propTypes = {\n    cronExpression: PropTypes.string,\n    onChange: PropTypes.func,\n    language: PropTypes.string,\n};\n\nexport default withStyles(styles)(ComplexCron);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport convertCronToText from './cronText';\n\nimport I18n from '../../i18n';\n\nconst styles = theme => ({\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto'\n    },\n    formControl: {\n        margin: 0,\n        minWidth: 120,\n    },\n    formControlMarginRight: {\n        marginRight: 5\n    },\n    formControlPaddingTop: {\n        paddingTop: 6.2\n    }\n});\n\nconst PERIODIC = {\n    once: 'once',\n    interval: 'interval',\n    intervalBetween: 'intervalBetween',\n    specific: 'specific'\n};\nconst PERIODIC_TYPES = {\n    seconds: 'seconds',\n    minutes: 'minutes',\n    //hours: 'hours',\n};\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\n\nfunction padding(num) {\n    if (num < 10) return '0' + num;\n    return '' + num;\n}\nconst DEFAULT_STATE = {\n    mode: PERIODIC.interval,\n    interval: {\n        period: 1,\n        unit: PERIODIC_TYPES.minutes\n    }\n};\n\nclass SimpleCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron = (typeof this.props.cronExpression === 'string') ? this.props.cronExpression.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '') : '';\n        if (cron[0] === '{') {\n            cron = '';\n        }\n        const state = SimpleCron.cron2state(cron || '* * * * *') || DEFAULT_STATE;\n\n        this.state = {\n            extended: false,\n            cron: SimpleCron.state2cron(state),\n            mode: 'interval',\n            once: {\n                time: '00:00',\n                date: ''\n            },\n            interval: {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes\n            },\n            intervalBetween: {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes,\n                timeFrom: 0,\n                timeTo: 24,\n                weekdays: [0, 1, 2, 3, 4, 5, 6]\n            },\n            specific: {\n                time: '00:00',\n                weekdays: [0, 1, 2, 3, 4, 5, 6]\n            }\n        };\n        Object.assign(this.state, state);\n\n        if (this.state.cron !== this.props.cronExpression) {\n            setTimeout(() => this.props.onChange && this.props.onChange(this.state.cron), 100);\n        }\n    }\n\n    static periodArray2text(list, max) {\n        max = max || 7;\n        if (list.length === max) {\n            return '*';\n        } else {\n            let text = [];\n            let start = null;\n            let end = null;\n            for (let i = 0; i < list.length; i++) {\n                if (start === null) {\n                    start = list[i];\n                    end = list[i];\n                } else if (list[i - 1] + 1 === list[i]) {\n                    end = list[i];\n                } else {\n                    if (start !== end) {\n                        text.push(start + '-' + end);\n                    } else {\n                        text.push(start);\n                    }\n                    start = list[i];\n                    end = list[i];\n                }\n            }\n            if (start !== end) {\n                text.push(start + '-' + end);\n            } else {\n                text.push(start);\n            }\n            return text.join(',');\n        }\n    }\n\n    static text2weekdays(text) {\n        if (text === '*') {\n            return [0,1,2,3,4,5,6];\n        }\n        const parts = text.split(',');\n        const list = [];\n        parts.forEach(part => {\n            const _parts = part.split('-');\n            if (_parts.length === 2) {\n                const start = parseInt(_parts[0], 10);\n                const end = parseInt(_parts[1], 10);\n                for (let day = start; day <= end; day++) {\n                    if (list.indexOf(day === 7 ? 0 : day) === -1) {\n                        list.push(day === 7 ? 0 : day);\n                    }\n                }\n            } else {\n                if (part === '7') {\n                    part = 0;\n                }\n                part = parseInt(part, 10);\n                if (list.indexOf(part) === -1) {\n                    list.push(part);\n                }\n            }\n        });\n        list.sort();\n        return list;\n    }\n\n    static cron2state(cron) {\n        cron = cron.replace(/['\"]/g, '').trim();\n        const cronParts = cron.split(' ');\n        const options = {};\n        const state = {\n            mode: ''\n        };\n        if (cronParts.length === 6) {\n            options.seconds = cronParts[0] || '*';\n            options.minutes = cronParts[1] || '*';\n            options.hours = cronParts[2] || '*';\n            options.date = cronParts[3] || '*';\n            options.months = cronParts[4] || '*';\n            options.dow = cronParts[5] || '*';\n        } else {\n            options.seconds = null;\n            options.minutes = cronParts[0] || '*';\n            options.hours = cronParts[1] || '*';\n            options.date = cronParts[2] || '*';\n            options.months = cronParts[3] || '*';\n            options.dow = cronParts[4] || '*';\n        }\n\n        // * * * * *\n        if (options.seconds === null &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: 1,\n                unit: PERIODIC_TYPES.minutes\n            };\n        } // * * * * * *\n        if (options.seconds === '*' &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: 1,\n                unit: PERIODIC_TYPES.seconds\n            };\n        } else// */n * * * *\n        if (options.seconds === null &&\n            options.minutes.indexOf('/') !== -1 &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: parseInt(options.minutes.split('/')[1], 10),\n                unit: PERIODIC_TYPES.minutes\n            };\n        } else\n        // */n * * * * *\n        if (options.seconds !== null && options.seconds.indexOf('/') !== -1 &&\n            options.minutes === '*' &&\n            options.hours === '*' &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.interval;\n            state.interval = {\n                period: parseInt(options.seconds.split('/')[1], 10),\n                unit: PERIODIC_TYPES.seconds\n            };\n        } else\n        // */n * 1-24 * * 1-7 or  */n * 1-24 * * *\n        if (options.seconds !== null && options.seconds.indexOf('/') !== -1 &&\n            options.minutes === '*' &&\n            options.hours.indexOf('-') !== -1 &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.intervalBetween;\n            state.intervalBetween = {\n                period: parseInt(options.seconds.split('/')[1], 10),\n                unit: PERIODIC_TYPES.seconds,\n                timeFrom: parseInt(options.hours.split('-')[0], 10),\n                timeTo: parseInt(options.hours.split('-')[1], 10),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // */n 1-24 * * 1-7 or  */n 1-24 * * *\n        if (options.seconds === null &&\n            options.minutes.indexOf('/') !== -1 &&\n            options.hours.indexOf('-') !== -1 &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.intervalBetween;\n            state.intervalBetween = {\n                period: parseInt(options.minutes.split('/')[1], 10),\n                unit: PERIODIC_TYPES.minutes,\n                timeFrom: parseInt(options.hours.split('-')[0], 10),\n                timeTo: parseInt(options.hours.split('-')[1], 10),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // m h * * 1-7 or m h * * *\n        if (options.seconds === null &&\n            parseInt(options.minutes, 10).toString() === options.minutes &&\n            parseInt(options.hours, 10).toString() === options.hours &&\n            options.date === '*' &&\n            options.months === '*') {\n            state.mode = PERIODIC.specific;\n            state.specific = {\n                time: padding(parseInt(options.hours, 10)) + ':' + padding(parseInt(options.minutes, 10)),\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            };\n        } else\n        // m h d M *\n        if (options.seconds === null &&\n            parseInt(options.minutes, 10).toString() === options.minutes &&\n            parseInt(options.hours, 10).toString() === options.hours &&\n            parseInt(options.date, 10).toString() === options.date &&\n            parseInt(options.months, 10).toString() === options.months &&\n            options.dow === '*') {\n            state.mode = PERIODIC.once;\n            state.once = {\n                time: padding(parseInt(options.hours, 10)) + ':' + padding(parseInt(options.minutes, 10)),\n                date: padding(parseInt(options.date, 10)) + '.' + padding(parseInt(options.months, 10)),\n            // ignored\n                weekdays: SimpleCron.text2weekdays(options.dow)\n            }\n        }\n\n        if (state.mode) {\n            return state;\n        } else {\n            return null;\n        }\n    }\n\n    static state2cron(state) {\n        let cron = '* * * * *';\n        if (state.mode === PERIODIC.interval) {\n            const settings = state.interval || {};\n            if (settings.period > 60) settings.period = 60;\n            if (settings.period < 1) settings.period = 1;\n\n            if (settings.minutes > 60) settings.minutes = 60;\n            if (settings.minutes < 1) settings.minutes = 1;\n\n            if (settings.hours > 24) settings.hours = 24;\n            if (settings.hours < 1) settings.hours = 1;\n\n            if (state.extended) {\n                cron = `${settings.minutes > 1 ? '*/' + settings.minutes : '*'} ${settings.hours > 1 ? '*/' + settings.hours : '*'} * * *`;\n            } else {\n                switch (settings.unit) {\n                    case PERIODIC_TYPES.seconds:\n                        cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * * * * *`;\n                        break;\n                    case PERIODIC_TYPES.minutes:\n                        cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * * * *`;\n                        break;\n                    default:\n                        break;\n                }\n            }\n        } else if (state.mode === PERIODIC.intervalBetween) {\n            const settings = state.intervalBetween || {};\n            let hours;\n            settings.timeFrom = settings.timeFrom || 0;\n            settings.timeTo = settings.timeTo === undefined ? 24 : settings.timeTo;\n            if (settings.timeFrom === 0 && settings.timeTo === 24) {\n                hours = '*';\n            } else {\n                hours = settings.timeFrom !== settings.timeTo ? settings.timeFrom + '-' + settings.timeTo : '*';\n            }\n            if (settings.period > 60) settings.period = 60;\n            if (settings.period < 1) settings.period = 1;\n            settings.unit = settings.unit || PERIODIC_TYPES.minutes;\n            switch (settings.unit) {\n                case PERIODIC_TYPES.seconds:\n                    cron = `${settings.period > 1 ? '*/' + settings.period : '*'} * ${hours} * * ${this.periodArray2text(settings.weekdays)}`;\n                    break;\n                case PERIODIC_TYPES.minutes:\n                    cron = `${settings.period > 1 ? '*/' + settings.period : '*'} ${hours} * * ${this.periodArray2text(settings.weekdays)}`;\n                    break;\n                default:\n                    break;\n            }\n        } else if (state.mode === PERIODIC.specific) {\n            const settings = state.specific || {};\n            const parts = (settings.time || '00:00').split(':');\n            let minutes = parseInt(parts[1], 10) || 0;\n            if (minutes > 59) minutes = 59;\n            if (minutes < 0) minutes = 0;\n            let hours = parseInt(parts[0], 10) || 0;\n            if (hours > 23) hours = 59;\n            if (hours < 0) hours = 0;\n\n            cron = `${minutes} ${hours} * * ${this.periodArray2text(settings.weekdays || [])}`;\n        } else if (state.mode === PERIODIC.once) {\n            const settings = state.once || {};\n            if (!settings.date) {\n                settings.date = new Date().getDate() + '.' + padding(new Date().getMonth() + 1);\n            }\n            const parts = (settings.time || '00:00').split(':');\n            const partsDate = settings.date.split('.');\n            let minutes = parseInt(parts[1], 10) || 0;\n            if (minutes > 59) minutes = 59;\n            if (minutes < 0) minutes = 0;\n            let hours = parseInt(parts[0], 10) || 0;\n            if (hours > 23) hours = 59;\n            if (hours < 0) hours = 0;\n            let date = parseInt(partsDate[0], 10) || 1;\n            if (date > 31) date = 31;\n            if (date < 1) hours = 1;\n            let month = parseInt(partsDate[1], 10) || 1;\n            if (month > 12) month = 12;\n            if (month < 1) month = 1;\n\n            cron = `${minutes} ${hours} ${date} ${month} *`;\n        }\n        return cron;\n    }\n\n    recalcCron() {\n        this.onChange(SimpleCron.state2cron(this.state));\n    }\n\n    getControlsWeekdaysElements(type) {\n        const settings = this.state[type];\n        return (<div key=\"weekdays\" style={{paddingLeft: 8, width: '100%', maxWidth: 600}}>\n            <h5>{I18n.t('On weekdays')}</h5>\n            {[1,2,3,4,5,6,0].map(day => (\n                <FormControlLabel\n                    key={WEEKDAYS[day]}\n                    control={\n                        <Checkbox\n                            checked={settings.weekdays.indexOf(day) !== -1}\n                            onChange={e => {\n                                const settings = JSON.parse(JSON.stringify(this.state[type]));\n                                const pos = settings.weekdays.indexOf(day);\n                                e.target.checked && pos === -1 && settings.weekdays.push(day);\n                                !e.target.checked && pos !== -1 && settings.weekdays.splice(pos, 1);\n                                settings.weekdays.sort();\n                                this.setState({[type]: settings}, () => this.recalcCron());\n                            }}\n                            value={day.toString()}\n                        />\n                    }\n                    label={I18n.t(WEEKDAYS[day])}\n                />))\n            }</div>);\n    }\n\n    getControlsPeriodElements(type) {\n        const settings = this.state[type];\n\n        if (this.state.extended) {\n            return (<div key=\"period\" style={{paddingLeft: 8, display: 'inline-block'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_period')}</h5>\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_minutes')}\n                    value={settings.minutes}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.minutes = parseInt(e.target.value, 10);\n                        if (settings.minutes < 1) settings.minutes = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={60}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                />\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_hours')}\n                    value={settings.hours}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.hours = parseInt(e.target.value, 10);\n                        if (settings.hours < 1) settings.hours = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={24}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                />\n            </div>);\n        } else {\n            return (<div key=\"period\" style={{paddingLeft: 8, display: 'inline-block'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_period')}</h5>\n                <TextField\n                    style={{marginTop: 0, marginBottom: 0, verticalAlign: 'bottom'}}\n                    key=\"value\"\n                    label={I18n.t('sc_every')}\n                    value={settings.period}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state[type]));\n                        settings.period = parseInt(e.target.value, 10);\n                        if (settings.period < 1) settings.period = 1;\n                        this.setState({[type]: settings}, () => this.recalcCron());\n                    }}\n                    min={1}\n                    max={60}\n                    type=\"number\"\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                /><Select\n                style={{verticalAlign: 'bottom'}}\n                value={settings.unit}\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.unit = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}>\n                {Object.keys(PERIODIC_TYPES).map(mode => (<MenuItem key={PERIODIC_TYPES[mode]} value={PERIODIC_TYPES[mode]}>{I18n.t('sc_' + PERIODIC_TYPES[mode])}</MenuItem>))}\n            </Select></div>);\n        }\n    }\n\n    getControlsTime(type) {\n        const settings = this.state[type];\n        return (<FormControl className={this.props.classes.formControl} classes={{root: this.props.classes.formControlMarginRight}}>\n            <TextField\n                key=\"at\"\n                label={I18n.t('sc_time')}\n                value={settings.time}\n                type=\"time\"\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.time = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                margin=\"normal\"\n            />\n        </FormControl>);\n    }\n\n    getControlsDate(type) {\n        const settings = this.state[type];\n\n        if (!settings.date) {\n            const d = new Date();\n            settings.date = d.getDate() + '.'  + padding(d.getMonth() + 1);\n        }\n\n        //<InputLabel htmlFor=\"formatted-text-mask-input\">{I18n.t('sc_at')}</InputLabel>\n        return (<FormControl className={this.props.classes.formControl}>\n            <TextField\n                key=\"date\"\n                label={I18n.t('sc_date')}\n                value={settings.date}\n                type=\"text\"\n                inputProps={{className: this.props.classes.formControlPaddingTop}}\n                onChange={e => {\n                    const settings = JSON.parse(JSON.stringify(this.state[type]));\n                    settings.date = e.target.value;\n                    this.setState({[type]: settings}, () => this.recalcCron());\n                }}\n                InputLabelProps={{shrink: true,}}\n                margin=\"normal\"\n            />\n        </FormControl>);\n    }\n\n    getOnceElements() {\n        return (<div style={{marginLeft: 8}}>\n            {this.getControlsTime('once')}\n            {this.getControlsDate('once')}\n            </div>);\n    }\n\n    getIntervalElements() {\n        return this.getControlsPeriodElements('interval');\n    }\n\n    getIntervalBetweenElements() {\n        const settings = this.state.intervalBetween;\n        return [\n            this.getControlsPeriodElements('intervalBetween'),\n            (<div key=\"between\" style={{paddingLeft: 8, display: 'inline-block', verticalAlign: 'top'}}>\n                <h5 style={{marginBottom: 5}}>{I18n.t('sc_hours')}</h5>\n                <FormControl className={this.props.classes.formControl}>\n                    <InputLabel shrink htmlFor=\"age-label-placeholder\">{I18n.t('sc_from')}</InputLabel>\n                    <Select\n                    style={{width: 100}}\n                    value={settings.timeFrom}\n                    onChange={e => {\n                        const settings = JSON.parse(JSON.stringify(this.state.intervalBetween));\n                        settings.timeFrom = parseInt(e.target.value, 10);\n                        this.setState({intervalBetween: settings}, () => this.recalcCron());\n                    }}>\n                    {[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23].map(hour => (<MenuItem key={'B_' + hour} value={hour}>{padding(hour) + ':00'}</MenuItem>))}\n                </Select>\n                </FormControl>\n                <FormControl className={this.props.classes.formControl}>\n                    <InputLabel shrink htmlFor=\"age-label-placeholder\">{I18n.t('sc_to')}</InputLabel>\n                    <Select\n                        style={{width: 100}}\n                        value={settings.timeTo}\n                        onChange={e => {\n                            const settings = JSON.parse(JSON.stringify(this.state.intervalBetween));\n                            settings.timeTo = parseInt(e.target.value, 10);\n                            this.setState({intervalBetween: settings}, () => this.recalcCron());\n                        }}>\n                        {[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map(hour => (<MenuItem key={'A_' + hour} value={hour}>{padding(hour) + ':00'}</MenuItem>))}\n                    </Select>\n                </FormControl>\n            </div>),\n            this.getControlsWeekdaysElements('intervalBetween')\n        ];\n    }\n\n    getSpecificTimeElements() {\n        return [\n            (<div key=\"time\" style={{marginLeft: 8}}>{this.getControlsTime('specific')}</div>),\n            this.getControlsWeekdaysElements('specific')\n        ]\n    }\n\n    onModeChange(mode) {\n        if (mode !== this.state.mode) {\n            this.setState({mode}, () => this.recalcCron());\n        }\n    }\n\n    onChange(cron) {\n        if (cron !== this.state.cron) {\n            this.setState({cron});\n            this.props.onChange && this.props.onChange(cron);\n        }\n    }\n\n    render() {\n        return (\n            <div className={this.props.classes.mainDiv}>\n                <div style={{paddingLeft: 8, width: '100%'}}><TextField style={{width: '100%'}} value={this.state.cron} disabled={true}/></div>\n                <div style={{paddingLeft: 8, width: '100%', height: 60}}>{convertCronToText(this.state.cron, this.props.language || 'en')}</div>\n                <div><FormControl style={{marginLeft: 8, marginTop: 8}} className={this.props.classes.formControl}>\n                    <InputLabel>{I18n.t('Repeat')}</InputLabel>\n                    <Select\n                        value={this.state.mode}\n                        onChange={e => this.onModeChange(e.target.value)}\n                        inputProps={{name: 'mode', id: 'mode',}}>\n                        {Object.keys(PERIODIC).map(mode => (<MenuItem key={PERIODIC[mode]} value={PERIODIC[mode]}>{I18n.t('sc_' + PERIODIC[mode])}</MenuItem>))}\n                    </Select>\n                </FormControl></div>\n                {this.state.mode === PERIODIC.once && this.getOnceElements()}\n                {this.state.mode === PERIODIC.interval && this.getIntervalElements()}\n                {this.state.mode === PERIODIC.intervalBetween && this.getIntervalBetweenElements()}\n                {this.state.mode === PERIODIC.specific && this.getSpecificTimeElements()}\n            </div>\n        );\n    }\n}\n\nSimpleCron.propTypes = {\n    cronExpression: PropTypes.string,\n    onChange: PropTypes.func,\n    language: PropTypes.string,\n};\n\nexport default withStyles(styles)(SimpleCron);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport MaskedInput from 'react-text-mask';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport TextField from \"@material-ui/core/TextField\";\n\nimport I18n from '../i18n';\nimport Theme from '../Theme';\n\nconst styles = theme => ({\n    hr: {\n        border: 0,\n        borderTop: '1px solid gray'\n    },\n    scrollWindow: {\n        width: '100%',\n        overflow: 'auto',\n        height: 'calc(100% - 22px)'\n    },\n    rowDiv: {\n        width: '100%',\n    },\n    modeDiv: {\n        width: 200,\n        display: 'inline-block',\n        verticalAlign: 'top'\n    },\n    settingsDiv: {\n        display: 'inline-block',\n        verticalAlign: 'top'\n    },\n    inputTime: {\n        width: 90,\n        marginTop: 0,\n        marginLeft: 5\n    },\n    inputDate: {\n        width: 140,\n        marginTop: 0,\n        marginLeft: 5\n    },\n    inputEvery: {\n        width: 40,\n        marginLeft: 5,\n        marginRight: 5,\n    },\n    inputRadio: {\n        padding: '4px 12px',\n        verticalAlign: 'top'\n    },\n    inputGroup: {\n        maxWidth: 400,\n        display: 'inline-block'\n    },\n    inputGroupElement: {\n        width: 120,\n    },\n    inputDateDay: {\n        width: 60,\n    },\n    inputDateDayCheck: {\n        padding: 4,\n    },\n    inputSmallCheck: {\n        padding: 0,\n    },\n    rowOnce: {\n\n    },\n\n    rowDays: {\n        background: theme.palette.type !== 'dark' ? '#ddeaff' :  '#4b5057'\n    },\n    rowDows: {\n        background: theme.palette.type !== 'dark' ? '#DDFFDD' :  '#52646c'\n    },\n    rowDates: {\n        background: theme.palette.type !== 'dark' ? '#DDDDFF' :  '#747a86'\n    },\n    rowWeeks: {\n        background: theme.palette.type !== 'dark' ? '#DDDDFF' :  '#717680'\n    },\n    rowMonths: {\n        background: theme.palette.type !== 'dark' ? '#DDFFFF' :  '#1f5557'\n    },\n    rowMonthsDates: {\n        background: theme.palette.type !== 'dark' ? '#EEFFFF' :  '#3c5737',\n        maxWidth: 600\n    },\n    rowYears: {\n        background: theme.palette.type !== 'dark' ? '#fbffdd' :  '#574b33'\n    },\n    rowDaysDows: {\n        background: theme.palette.type !== 'dark' ? '#EEEAFF' :  '#573544',\n        paddingLeft: 10,\n        paddingBottom: 10\n    },\n    rowDowsDows: {\n        background: theme.palette.type !== 'dark' ? '#EEFFEE' :  '#3d4c54',\n        paddingLeft: 10,\n        paddingBottom: 10\n    }\n});\n\nconst WEEKDAYS = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday',\n];\nconst MONTHS = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n];\nconst PERIODS = {\n    'minutes': 'minutes',\n    'hours': 'hours',\n};\nconst ASTRO = [\n    'sunrise',\n    'sunriseEnd',\n    'goldenHourEnd',\n    'solarNoon',\n    'goldenHour',\n    'sunsetStart',\n    'sunset',\n    'dusk',\n    'nauticalDusk',\n    'night',\n    'nightEnd',\n    'nauticalDawn',\n    'dawn',\n    'nadir',\n];\n\nfunction padding(num) {\n    if (num < 10) return '0' + num;\n    return '' + num;\n}\n\nfunction TextTime(props) {\n    const { inputRef, ...other } = props;\n\n    return (\n        <MaskedInput\n            {...other}\n            ref={inputRef}\n            mask={[/[0-2]/, /[0-9]/, ':', /[0-5]/, /[0-9]/]}\n            placeholderChar={props.placeholder || '00:00'}\n            showMask\n        />\n    );\n}\n\nTextTime.propTypes = {\n    inputRef: PropTypes.func.isRequired,\n};\n\nfunction TextDate(props) {\n    const { inputRef, ...other } = props;\n\n    return (\n        <MaskedInput\n            {...other}\n            ref={inputRef}\n            mask={[/[0-3]/, /[0-9]/, '.', /[0-1]/, /[0-9]/, '.', '2', '0', /[0-9]/, /[0-9]/]}\n            placeholderChar={props.placeholder || '01.01.2019'}\n            showMask\n        />\n    );\n}\n\nTextDate.propTypes = {\n    inputRef: PropTypes.func.isRequired,\n};\n\nconst DEFAULT = {\n    time: {\n        exactTime: false,\n\n        start: '00:00',\n        end: '23:59',\n\n        mode: 'hours',\n        interval: 1,\n    },\n    period: {\n        once: '',\n        days: 1,\n        dows: '',\n        dates: '',\n        weeks: 0,\n        months: '',\n\n        years: 0,\n        yearMonth: 0,\n        yearDate: 0,\n    },\n    valid: {\n        from: '',\n        to: ''\n    }\n};\nfunction string2USdate(date) {\n    const parts = date.split('.');\n    if (parts.length === 3) {\n        return parts[2] + '-' + parts[1] + '-' + parts[0];\n    }\n\n}\nclass Schedule extends React.Component {\n    constructor(props) {\n        super(props);\n        let schedule;\n        if (this.props.schedule && typeof this.props.schedule === 'string' && this.props.schedule[0] === '{') {\n            try {\n                schedule = JSON.parse(this.props.schedule);\n            } catch (e) {\n\n            }\n        }\n\n        if ((!schedule || !Object.keys(schedule).length) && this.props.onChange) {\n            setTimeout(() => this.onChange(this.state.schedule, true), 200);\n        }\n        schedule = schedule || {};\n        schedule = Object.assign({}, DEFAULT, schedule);\n        schedule.valid.from = schedule.valid.from || this.now2string();\n\n        this.refFrom = React.createRef();\n        this.refTo = React.createRef();\n        this.refOnce = React.createRef();\n\n        this.state = {\n            schedule,\n            desc: this.state2text(schedule)\n        };\n\n        if (JSON.stringify(schedule) !== this.props.schedule) {\n            setTimeout(() => this.props.onChange && this.props.onChange(JSON.stringify(schedule)), 100);\n        }\n    }\n\n    onChange(schedule, force) {\n        const isDiff = JSON.stringify(schedule) !== JSON.stringify(this.state.schedule);\n        if (force || isDiff) {\n            isDiff && this.setState({schedule, desc: this.state2text(schedule)});\n            const copy = JSON.parse(JSON.stringify(schedule));\n            if (copy.period.once) {\n                let once = copy.period.once;\n                delete copy.period;\n                copy.period = {once};\n                delete copy.valid;\n            } else\n            if (copy.period.days) {\n                let days = copy.period.days;\n                let dows = copy.period.dows;\n                delete copy.period;\n                copy.period = {days};\n                if (dows && dows !== '[]') {\n                    copy.period.dows = dows;\n                }\n            } else\n            if (copy.period.weeks) {\n                let weeks = copy.period.weeks;\n                let dows = copy.period.dows;\n                delete copy.period;\n                copy.period = {weeks};\n                if (dows && dows !== '[]') {\n                    copy.period.dows = dows;\n                }\n            } else\n            if (copy.period.months) {\n                let months = copy.period.months;\n                let dates = copy.period.dates;\n                delete copy.period;\n                copy.period = {months};\n                if (dates && dates !== '[]') {\n                    copy.period.dates = dates;\n                }\n            } else\n            if (copy.period.years) {\n                let years = copy.period.years;\n                let yearMonth = copy.period.yearMonth;\n                let yearDate = copy.period.yearDate;\n                delete copy.period;\n                copy.period = {years, yearDate};\n                if (yearMonth) {\n                    copy.period.yearMonth = yearMonth;\n                }\n            }\n\n            if (copy.time.exactTime) {\n                delete copy.time.end;\n                delete copy.time.mode;\n                delete copy.time.interval;\n            } else {\n                delete copy.time.exactTime;\n            }\n            if (copy.valid) {\n                if (!copy.valid.to) {\n                    delete copy.valid.to;\n                }\n                if (copy.period.days === 1 || copy.period.weeks === 1 || copy.period.months === 1 || copy.period.years === 1) {\n                    const from = this.string2date(copy.valid.from);\n                    const today = new Date();\n                    today.setHours(0);\n                    today.setMinutes(0);\n                    today.setSeconds(0);\n                    today.setMilliseconds(0);\n                    if (from <= today) {\n                        delete copy.valid.from;\n                    }\n                }\n                if (!copy.valid.from && !copy.valid.to) {\n                    delete copy.valid;\n                }\n            }\n\n            this.props.onChange && this.props.onChange(JSON.stringify(copy));\n        }\n    }\n\n    state2text(schedule) {\n        let desc = [];\n        let validFrom = this.string2date(schedule.valid.from);\n        if (schedule.period.once) {\n            // once\n            let once = this.string2date(schedule.period.once);\n            let now = new Date();\n            now.setMilliseconds(0);\n            now.setSeconds(0);\n            now.setMinutes(0);\n            now.setHours(0);\n\n            //\n            if (once < now) {\n                // will ne be not executed any more, because start is in the past\n                return I18n.t('sch_desc_onceInPast');\n            } else {\n                // only once\n                desc.push(I18n.t('sch_desc_once_on', schedule.period.once));\n            }\n        } else\n        if (schedule.period.days) {\n            if (schedule.period.days === 1) {\n                if (schedule.period.dows) {\n                    const dows = JSON.parse(schedule.period.dows);\n                    if (dows.length === 2 && dows[0] === 0 && dows[1] === 6) {\n                        // on weekends\n                        desc.push(I18n.t('sch_desc_onWeekends'));\n                    } else if (dows.length === 5 && dows[0] === 1 && dows[1] === 2 && dows[2] === 3 && dows[3] === 4 && dows[4] === 5) {\n                        // on workdays\n                        desc.push(I18n.t('sch_desc_onWorkdays'));\n                    } else {\n                        const tDows = dows.map(day => I18n.t(WEEKDAYS[day]));\n                        if (tDows.length === 1) {\n                            // on Monday\n                            desc.push(I18n.t('sch_desc_onWeekday', tDows[0]));\n                        } else if (tDows.length === 7) {\n                            // on every day\n                            desc.push(I18n.t('sch_desc_everyDay'));\n                        } else {\n                            const last = tDows.pop();\n                            // on Monday and Sunday\n                            desc.push(I18n.t('sch_desc_onWeekdays', tDows.join(', '), last));\n                        }\n                    }\n                } else {\n                    desc.push(I18n.t('sch_desc_everyDay'));\n                }\n            } else {\n                desc.push(I18n.t('sch_desc_everyNDay', schedule.period.days));\n            }\n        } else\n        if (schedule.period.weeks) {\n            if (schedule.period.weeks === 1) {\n                desc.push(I18n.t('sch_desc_everyWeek'));\n            } else {\n                desc.push(I18n.t('sch_desc_everyNWeeks', schedule.period.weeks));\n            }\n\n            if (schedule.period.dows) {\n                const dows = JSON.parse(schedule.period.dows);\n                if (dows.length === 2 && dows[0] === 0 && dows[1] === 6) {\n                    // on weekends\n                    desc.push(I18n.t('sch_desc_onWeekends'));\n                } else if (dows.length === 5 && dows[0] === 1 && dows[1] === 2 && dows[2] === 3 && dows[3] === 4 && dows[4] === 5) {\n                    // on workdays\n                    desc.push(I18n.t('sch_desc_onWorkdays'));\n                } else {\n                    const tDows = dows.map(day => I18n.t(WEEKDAYS[day]));\n                    if (tDows.length === 1) {\n                        // on Monday\n                        desc.push(I18n.t('sch_desc_onWeekday', tDows[0]));\n                    } else if (tDows.length === 7) {\n                        // on every day\n                        desc.push(I18n.t('sch_desc_everyDay'));\n                    } else {\n                        const last = tDows.pop();\n                        // on Monday and Sunday\n                        desc.push(I18n.t('sch_desc_onWeekdays', tDows.join(', '), last));\n                    }\n                }\n            } else {\n                return I18n.t('sch_desc_never');\n            }\n        } else\n        if (schedule.period.months) {\n            if (schedule.period.dates) {\n                const dates = JSON.parse(schedule.period.dates);\n                if (dates.length === 1) {\n                    // in 1 of month\n                    desc.push(I18n.t('sch_desc_onDate', dates[0]));\n                } else if (dates.length === 31) {\n                    desc.push(I18n.t('sch_desc_onEveryDate'));\n                } else if (!dates.length) {\n                    return I18n.t('sch_desc_never');\n                } else {\n                    const last = dates.pop();\n                    // in 1 and 4 of month\n                    desc.push(I18n.t('sch_desc_onDates', dates.join(', '), last));\n                }\n            } else {\n                desc.push(I18n.t('sch_desc_onEveryDate'));\n            }\n\n            if (schedule.period.months === 1) {\n                desc.push(I18n.t('sch_desc_everyMonth'));\n            } else if (typeof schedule.period.months === 'number') {\n                desc.push(I18n.t('sch_desc_everyNMonths', schedule.period.months));\n            } else {\n                const months = JSON.parse(schedule.period.months);\n                const tMonths = months.map(month => I18n.t(MONTHS[month - 1]));\n                if (!tMonths.length) {\n                    // in January\n                    return I18n.t('sch_desc_never');\n                } else if (tMonths.length === 1) {\n                    // in January\n                    desc.push(I18n.t('sch_desc_onMonth', tMonths[0]));\n                } else if (tMonths.length === 12) {\n                    // every month\n                    desc.push(I18n.t('sch_desc_everyMonth'));\n                } else {\n                    const last = tMonths.pop();\n                    // in January and May\n                    desc.push(I18n.t('sch_desc_onMonths', tMonths.join(', '), last));\n                }\n            }\n        }\n        else\n        if (schedule.period.years) {\n            if (schedule.period.years === 1) {\n                desc.push(I18n.t('sch_desc_everyYear'));\n            } else {\n                desc.push(I18n.t('sch_desc_everyNYears', schedule.period.years));\n            }\n            desc.push(I18n.t('sch_desc_onDate', schedule.period.yearDate, schedule.period.yearMonth ? I18n.t(MONTHS[schedule.period.yearMonth - 1]) : I18n.t('sch_desc_everyMonth')));\n        }\n\n        // time\n        if (schedule.time.exactTime) {\n            if (ASTRO.indexOf(schedule.time.start) !== -1) {\n                // at sunset\n                desc.push(I18n.t('sch_desc_atTime', I18n.t('sch_astro_' + schedule.time.start)));\n            } else {\n                // at HH:MM\n                desc.push(I18n.t('sch_desc_atTime', schedule.time.start));\n            }\n        } else {\n            if (schedule.time.mode === PERIODS.minutes) {\n                if (schedule.time.interval === 1) {\n                    // every minute\n                    desc.push(I18n.t('sch_desc_everyMinute'));\n                } else {\n                    // every N minutes\n                    desc.push(I18n.t('sch_desc_everyNMinutes', schedule.time.interval));\n                }\n            } else {\n                if (schedule.time.interval === 1) {\n                    // every minute\n                    desc.push(I18n.t('sch_desc_everyHour'));\n                } else {\n                    // every N minutes\n                    desc.push(I18n.t('sch_desc_everyNHours', schedule.time.interval));\n                }\n            }\n            const start = ASTRO.indexOf(schedule.time.start) !== -1 ? I18n.t('sch_astro_' + schedule.time.start) : schedule.time.start;\n            const end = ASTRO.indexOf(schedule.time.end) !== -1 ? I18n.t('sch_astro_' + schedule.time.end) : schedule.time.end;\n            if (start !== '00:00' || (end !== '24:00' && end !== '23:59')) {\n                // from HH:mm to HH:mm\n                desc.push(I18n.t('sch_desc_intervalFromTo', start, end));\n            }\n        }\n\n        if (!schedule.period.once) {\n            // valid\n            if (validFrom.getTime() > Date.now() && schedule.valid.to) {\n                // from XXX to XXXX\n                desc.push(I18n.t('sch_desc_validFromTo', schedule.valid.from, schedule.valid.to));\n            } else if (validFrom.getTime() > Date.now()) {\n                // from XXXX\n                desc.push(I18n.t('sch_desc_validFrom', schedule.valid.from));\n            } else if (schedule.valid.to) {\n                // till XXXX\n                desc.push(I18n.t('sch_desc_validTo', schedule.valid.to));\n            }\n        }\n        return desc.join(' ');\n    }\n\n    getTimePeriodElements() {\n        const schedule = this.state.schedule;\n        let wholeDay = false;\n        let day = false;\n        let night = false;\n        let fromTo = true;\n        if (schedule.time.start === '00:00' && schedule.time.end === '24:00') {\n            wholeDay = true;\n            fromTo = false;\n        } else if (schedule.time.start === 'sunrise') {\n            day = true;\n            fromTo = false;\n        } else if (schedule.time.start === 'sunset') {\n            night = true;\n            fromTo = false;\n        }\n\n        return (\n            <div key=\"timePeriod\" className={this.props.classes.rowDiv}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={!schedule.time.exactTime} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.exactTime = false;\n                        this.onChange(_schedule);\n                    }}/>} label={I18n.t('sch_intervalTime')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>\n                        {!schedule.time.exactTime && (<div>\n                            <div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={fromTo} onClick={() => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.time.start = '00:00';\n                                _schedule.time.end = '23:59';\n                                this.onChange(_schedule);\n                            }}/>} label={!fromTo ? I18n.t('sch_fromTo') : ''} />\n                                {fromTo && [\n                                    (<TextField\n                                        className={this.props.classes.inputTime}\n                                        style={{marginRight: 10}}\n                                        key=\"exactTimeFrom\"\n                                        type=\"time\"\n                                        value={this.state.schedule.time.start}\n                                        //InputProps={{inputComponent: TextTime}}\n                                        onChange={e => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.time.start = e.target.value;\n                                            this.onChange(_schedule);\n                                        }}\n                                        InputLabelProps={{shrink: true,}}\n                                        label={I18n.t('sch_from')}\n                                        margin=\"normal\"\n                                    />),\n                                    (<TextField\n                                        className={this.props.classes.inputTime}\n                                        key=\"exactTimeTo\"\n                                        type=\"time\"\n                                        value={this.state.schedule.time.end}\n                                        //InputProps={{inputComponent: TextTime}}\n                                        onChange={e => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.time.end = e.target.value;\n                                            this.onChange(_schedule);\n                                        }}\n                                        InputLabelProps={{shrink: true,}}\n                                        label={I18n.t('sch_to')}\n                                        margin=\"normal\"\n                                    />)\n                                ]}\n                            </div>\n                        </div>)}\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={wholeDay} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = '00:00';\n                            _schedule.time.end = '24:00';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_wholeDay')} /></div>) }\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={day} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = 'sunrise';\n                            _schedule.time.end = 'sunset';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_astroDay')} /></div>) }\n\n                        {!schedule.time.exactTime && (<div><FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={night} onClick={() => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.time.start = 'sunset';\n                            _schedule.time.end = 'sunrise';\n                            this.onChange(_schedule);\n                        }}/>} label={I18n.t('sch_astroNight')} /></div>) }\n                    </div>\n                    {!schedule.time.exactTime && this.getPeriodSettingsMinutes()}\n                </div>\n            </div>);\n    }\n\n    getTimeExactElements() {\n        const isAstro = ASTRO.indexOf(this.state.schedule.time.start) !== -1;\n\n        return (<div key=\"timeExact\"  className={this.props.classes.rowDiv}>\n            <div className={this.props.classes.modeDiv}>\n                <FormControlLabel control={<Radio className={this.props.classes.inputRadio} checked={this.state.schedule.time.exactTime} onClick={() => {\n                    const schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    schedule.time.exactTime = true;\n                    this.onChange(schedule);\n                }}/>} label={I18n.t('sch_exactTime')} />\n            </div>\n            {this.state.schedule.time.exactTime &&\n                (<Select value={isAstro ? this.state.schedule.time.start : '00:00'}\n                         onChange={e => {\n                             const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                             _schedule.time.start = e.target.value;\n                             this.onChange(_schedule);\n                         }}\n                >\n                    <MenuItem key=\"specific\" value={'00:00'}>{I18n.t('sch_specificTime')}</MenuItem>\n                    {ASTRO.map(event => (<MenuItem key={event} value={event}>{I18n.t('sch_astro_' + event)}</MenuItem>))}\n                </Select>)\n            }\n            {this.state.schedule.time.exactTime && !isAstro &&\n                (<div className={this.props.classes.settingsDiv}><TextField\n                    className={this.props.classes.inputTime}\n                    key=\"exactTimeValue\"\n                    value={this.state.schedule.time.start}\n                    type=\"time\"\n                    // inputComponent={TextTime}\n                    onChange={e => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.start = e.target.value;\n                        this.onChange(_schedule);\n                    }}\n                    InputLabelProps={{shrink: true,}}\n                    margin=\"normal\"\n                /></div>)\n            }\n        </div>)\n    }\n\n    getDivider() {\n        return (<hr className={this.props.classes.hr}/>);\n    }\n\n    getPeriodModes() {\n        const schedule = this.state.schedule;\n        const isOnce = !schedule.period.dows && !schedule.period.months && !schedule.period.dates && !schedule.period.years && !schedule.period.days && !schedule.period.weeks;\n        if (isOnce && !schedule.period.once) {\n            schedule.period.once = this.now2string(true);\n        }\n\n        return [\n            // ----- once ---\n            (<div key=\"once\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowOnce}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={isOnce} onClick={() => {\n                                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.once = _schedule.period.once || this.now2string(true);\n                                    _schedule.period.dows = '';\n                                    _schedule.period.months = '';\n                                    _schedule.period.dates = '';\n                                    _schedule.period.years = 0;\n                                    _schedule.period.yearDate = 0;\n                                    _schedule.period.yearMonth = 0;\n                                    _schedule.period.weeks = 0;\n                                    _schedule.period.days = 0;\n                                    this.onChange(_schedule);\n                                }}/>)}\n                              label={I18n.t('sch_periodOnce')} />\n                </div>\n                {isOnce && (<div className={this.props.classes.settingsDiv}>\n                    {<TextField\n                        className={this.props.classes.inputDate}\n                        type=\"date\"\n                        ref={this.refOnce}\n                        key=\"exactDateAt\"\n                        defaultValue={string2USdate(schedule.period.once)}\n                        //InputProps={{inputComponent: TextTime}}\n                        onChange={e => {\n                            this.timerOnce && clearTimeout(this.timerOnce);\n\n                            this.refOnce.current.style.background = '#ff000030';\n                            this.timerOnce = setTimeout(value => {\n                                this.timerOnce = null;\n                                this.refOnce.current.style.background = '';\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const date = this.string2date(value);\n                                if (date.toString() !== 'Invalid Date') {\n                                    _schedule.period.once = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                    this.onChange(_schedule);\n                                }\n                            }, 1500, e.target.value);\n                        }}\n                        InputLabelProps={{shrink: true,}}\n                        label={I18n.t('sch_at')}\n                        margin=\"normal\"\n                    />}\n                </div>)}\n            </div>),\n\n\n            // ----- days ---\n            (<div key=\"days\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDays}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.days} onClick={() => {\n                               const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.days = 1;\n                                _schedule.period.dows = '';\n                                _schedule.period.months = '';\n                                _schedule.period.dates = '';\n                                _schedule.period.years = 0;\n                                _schedule.period.yearDate = 0;\n                                _schedule.period.yearMonth = 0;\n                                _schedule.period.weeks = 0;\n                                _schedule.period.once = '';\n                               this.onChange(_schedule);\n                           }}/>)}\n                           label={I18n.t('sch_periodDaily')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    {this.getPeriodSettingsDaily()}\n                    {schedule.period.days ? this.getPeriodSettingsWeekdays() : null}\n                </div>\n            </div>),\n\n\n            // ----- days of weeks ---\n            /*!schedule.period.days && (\n                <div key=\"dows\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDows}>\n                    <div className={this.props.classes.modeDiv}>\n                        <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.dows} onClick={() => {\n                            const schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            schedule.period.dows = schedule.period.dows ? '' : '[0,1,2,3,4,5,6]';\n                            this.onChange(schedule);\n                        }}/>)}\n                        label={I18n.t('sch_periodWeekdays')} />\n                    </div>\n                    <div className={this.props.classes.settingsDiv}>\n                        {this.getPeriodSettingsWeekdays()}\n                    </div>\n                </div>),\n*/\n            // ----- weeks ---\n            (<div key=\"weeks\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowDows}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.weeks} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.period.weeks = schedule.period.weeks ? 0 : 1;\n                        _schedule.period.dows = schedule.period.dows || '[0]';\n                        _schedule.period.months = '';\n                        _schedule.period.dates = '';\n                        _schedule.period.years = 0;\n                        _schedule.period.yearDate = 0;\n                        _schedule.period.yearMonth = 0;\n                        _schedule.period.days = 0;\n                        _schedule.period.once = '';\n                        this.onChange(_schedule);\n                    }}/>)}\n                    label={I18n.t('sch_periodWeekly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>{this.getPeriodSettingsWeekly()}</div>\n                    <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowDowsDows}>{this.state.schedule.period.weeks ? this.getPeriodSettingsWeekdays() : null}</div>\n                </div>\n            </div>),\n\n\n            // ----- months ---\n            (<div key=\"months\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowMonths}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.months} onClick={() => {\n                           const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.months = 1;\n                            _schedule.period.dows = '';\n                            _schedule.period.dates = '';\n                            _schedule.period.years = 0;\n                            _schedule.period.yearDate = 0;\n                            _schedule.period.yearMonth = 0;\n                            _schedule.period.weeks = 0;\n                            _schedule.period.days = 0;\n                            _schedule.period.once = '';\n                           this.onChange(_schedule);\n                       }}/>)}\n                       label={I18n.t('sch_periodMonthly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    {this.getPeriodSettingsMonthly()}\n                    {schedule.period.months ? (<div>\n                        <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowMonthsDates}>\n                            <FormControlLabel control={(<Checkbox className={this.props.classes.inputRadio} checked={!!schedule.period.dates} onClick={() => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.months = _schedule.period.months || 1;\n                                const dates = [];\n                                for (let i = 1; i <= 31; i++) {\n                                    dates.push(i);\n                                }\n                                _schedule.period.dates = _schedule.period.dates || JSON.stringify(dates);\n                                _schedule.period.dows = '';\n                                _schedule.period.years = 0;\n                                _schedule.period.yearDate = 0;\n                                _schedule.period.yearMonth = 0;\n                                _schedule.period.weeks = 0;\n                                _schedule.period.days = 0;\n                                _schedule.period.once = '';\n\n                                this.onChange(_schedule);\n                            }}/>)}\n                            label={I18n.t('sch_periodDates')} /></div>\n                        <div className={this.props.classes.settingsDiv + ' ' + this.props.classes.rowMonthsDates}>\n                            {this.getPeriodSettingsDates()}\n                        </div>\n                    </div>) : null}\n                </div>\n            </div>),\n\n\n            // ----- years ---\n            (<div key=\"years\" className={this.props.classes.rowDiv + ' ' + this.props.classes.rowYears}>\n                <div className={this.props.classes.modeDiv}>\n                    <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={!!schedule.period.years} onClick={() => {\n                       const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.period.years = 1;\n                        _schedule.period.yearDate = 1;\n                        _schedule.period.yearMonth = 1;\n                        _schedule.period.dows = '';\n                        _schedule.period.months = 0;\n                        _schedule.period.dates = '';\n                        _schedule.period.weeks = 0;\n                        _schedule.period.days = 0;\n                        _schedule.period.once = '';\n                       this.onChange(_schedule);\n                   }}/>)}\n                   label={I18n.t('sch_periodYearly')} />\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <div className={this.props.classes.settingsDiv}>{this.getPeriodSettingsYearly()}</div>\n                    {!!schedule.period.years && (<div className={this.props.classes.settingsDiv}>\n                        <span>{I18n.t('sch_on')}</span>\n                        <Input key=\"input\" value={this.state.schedule.period.yearDate} className={this.props.classes.inputEvery} type=\"number\" min=\"1\" max=\"31\" onChange={e => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.yearDate = parseInt(e.target.value, 10);\n                            if (_schedule.period.yearDate < 1) _schedule.period.yearDate = 31;\n                            if (_schedule.period.yearDate > 31) _schedule.period.yearDate = 1;\n                            this.onChange(_schedule);\n                        }} />\n                        <Select value={schedule.period.yearMonth}\n                             onChange={e => {\n                                 const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                 _schedule.period.yearMonth = e.target.value;\n                                 this.onChange(_schedule);\n                             }}\n                        >\n                            <MenuItem key=\"every\" value={0}>{I18n.t('sch_yearEveryMonth')}</MenuItem>\n                            {MONTHS.map((month, i) => (<MenuItem key={month} value={i + 1}>{I18n.t(month)}</MenuItem>))}\n                        </Select>\n                    </div>)}\n                </div>\n            </div>),\n        ];\n    }\n\n    getPeriodSettingsMinutes() {\n        return (<div style={{display: 'inline-block'}}>\n            <label>{I18n.t('sch_every')}</label>\n            <Input value={this.state.schedule.time.interval}\n                   style={{ verticalAlign: 'bottom'}}\n                   className={this.props.classes.inputEvery} type=\"number\" min=\"1\" onChange={e => {\n                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                _schedule.time.interval = parseInt(e.target.value, 10);\n                this.onChange(_schedule);\n            }} />\n            <Select value={this.state.schedule.time.mode}\n                    onChange={e => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.time.mode = e.target.value;\n                        this.onChange(_schedule);\n                    }}\n            >\n                <MenuItem value={PERIODS.minutes}>{I18n.t('sch_periodMinutes')}</MenuItem>\n                <MenuItem value={PERIODS.hours}>{I18n.t('sch_periodHours')}</MenuItem>\n            </Select>\n        </div>);\n    }\n\n    getPeriodSettingsWeekdays() {\n        // || this.state.schedule.period.dows === '[1, 2, 3, 4, 5]' || this.state.schedule.period.dows === '[0, 6]'\n        const schedule = this.state.schedule;\n        const isSpecific = schedule.period.dows && schedule.period.dows !== '[1, 2, 3, 4, 5]' && schedule.period.dows !== '[0, 6]';\n        return [\n            (<div key=\"workdays\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.dows === '[1, 2, 3, 4, 5]'} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[1, 2, 3, 4, 5]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)}\n                label={I18n.t('sch_periodWorkdays')} /></div>),\n\n            (<div key=\"weekend\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.dows === '[0, 6]'} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[0, 6]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)}\n                label={I18n.t('sch_periodWeekend')} /></div>),\n\n            (<div key=\"specific\" style={{verticalAlign: 'top'}}><FormControlLabel style={{verticalAlign: 'top'}}\n                                                                   control={(<Radio className={this.props.classes.inputRadio} checked={isSpecific} onClick={() => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.dows = '[0,1,2,3,4,5,6]';\n                    if (_schedule.period.days) {\n                        _schedule.period.days = 1;\n                    }\n                    this.onChange(_schedule);\n                }}/>)\n                }\n                label={I18n.t('sch_periodWeekdays')} />\n                {isSpecific && (schedule.period.days === 1 || schedule.period.weeks) && (<FormGroup row className={this.props.classes.inputGroup} style={{width: 150}}>\n                    {[1,2,3,4,5,6,0].map(i =>\n                        (<FormControlLabel key={'specific_' + i} className={this.props.classes.inputGroupElement} control={\n                              <Checkbox className={this.props.classes.inputSmallCheck} checked={schedule.period.dows.indexOf('' + i) !== -1}\n                                    onChange={e => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        let dows;\n                                        try {\n                                            dows = JSON.parse(_schedule.period.dows);\n                                        } catch (e) {\n                                            dows = [];\n                                        }\n                                        if (e.target.checked && dows.indexOf(i) === -1) {\n                                            dows.push(i);\n                                        } else if (!e.target.checked && dows.indexOf(i) !== -1) {\n                                            dows.splice(dows.indexOf(i), 1);\n                                        }\n                                        dows.sort((a, b) => a - b);\n                                        _schedule.period.dows = JSON.stringify(dows);\n                                        if (_schedule.period.days) {\n                                            _schedule.period.days = 1;\n                                        }\n                                        this.onChange(_schedule);\n                                    }}\n                              />\n                          }\n                          label={I18n.t(WEEKDAYS[i])}\n                        />))}\n                </FormGroup>)}\n            </div>),\n            ];\n    }\n\n    getPeriodSettingsDaily() {\n        if (!this.state.schedule.period.days) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div key=\"every_day\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.days === 1 && !schedule.period.dows} onClick={() => {\n                                   const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.days = 1;\n                                    _schedule.period.dows = '';\n                                   this.onChange(_schedule);\n                               }}/>)}\n                                    label={I18n.t('sch_periodEveryDay')} /></div>),\n            (<div key=\"everyN_day\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.days > 1} onClick={() => {\n                                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                    _schedule.period.days = 2;\n                                    _schedule.period.dows = '';\n                                    this.onChange(_schedule);\n                               }}/>)}\n                                    label={I18n.t('sch_periodEvery')} />\n                {schedule.period.days > 1 && [(<Input key=\"input\" value={this.state.schedule.period.days} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.days = parseInt(e.target.value, 10);\n                    _schedule.period.dows = '';\n                    this.onChange(_schedule);\n                }} />), (<span key=\"span\" style={{paddingRight: 10}}>{I18n.t('sch_periodDay')}</span>)]}\n            </div>),\n            ];\n    }\n\n    getPeriodSettingsWeekly() {\n        if (!this.state.schedule.period.weeks) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div key=\"radios\" style={{display: 'inline-block', verticalAlign: 'top'}}>\n                    <div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.weeks === 1} onClick={() => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.period.weeks = 1;\n                                            this.onChange(_schedule);\n                                        }}/>)\n                                        }\n                                             label={I18n.t('sch_periodEveryWeek')} /></div>\n                    <div>\n                        <FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.weeks > 1} onClick={() => {\n                                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                            _schedule.period.weeks = 2;\n                                            this.onChange(_schedule);\n                                        }}/>)\n                                        }\n                                        label={I18n.t('sch_periodEvery')} />\n                        {schedule.period.weeks > 1 && [(<Input value={this.state.schedule.period.weeks} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                            const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                            _schedule.period.weeks = parseInt(e.target.value, 10);\n                            this.onChange(_schedule);\n                        }} />), (<span>{I18n.t('sch_periodWeek')}</span>)]}\n                    </div>\n                </div>),\n            ];\n    }\n\n    getPeriodSettingsDates() {\n        if (!this.state.schedule.period.dates) {\n            return;\n        }\n        const schedule = this.state.schedule;\n\n        const dates = [];\n        for (let i = 1; i <= 31; i++) {\n            dates.push(i);\n        }\n\n        const parsedDates = JSON.parse(schedule.period.dates);\n\n        return (\n            <FormGroup row className={this.props.classes.inputGroup} style={{maxWidth: 620}}>\n                <FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={parsedDates.length === 31}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const dates = [];\n                                for (let i = 1; i <= 31; i++) {\n                                    dates.push(i);\n                                }\n                                _schedule.period.dates = JSON.stringify(dates);\n                                this.onChange(_schedule);\n                            }}\n                      />\n                    } label={I18n.t('sch_all')}\n                />\n                <FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={!parsedDates.length}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                _schedule.period.dates = '[]';\n                                this.onChange(_schedule);\n                            }}\n                        />\n                    } label={I18n.t('sch_no_one')}\n                />\n                {parsedDates.length !== 31 && !!parsedDates.length && (<FormControlLabel className={this.props.classes.inputDateDay}\n                    control={\n                        <Checkbox className={this.props.classes.inputDateDayCheck} checked={false}\n                            onChange={e => {\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const result = [];\n                                const parsedDates = JSON.parse(_schedule.period.dates);\n                                for (let i = 1; i <= 31; i++) {\n                                    if (parsedDates.indexOf(i) === -1) {\n                                        result.push(i);\n                                    }\n                                }\n                                result.sort((a, b) => a - b);\n                                _schedule.period.dates = JSON.stringify(result);\n                                this.onChange(_schedule);\n                            }}\n                        />\n                    } label={I18n.t('sch_invert')}\n                />)}\n                <div/>\n            {dates.map(i =>\n                (<FormControlLabel key={'date_' + i} className={this.props.classes.inputDateDay} style={!i ? {opacity: 0, cursor: 'default', userSelect: 'none', pointerEvents: 'none'}: {}}\n                      control={\n                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={JSON.parse(schedule.period.dates).indexOf(i) !== -1}\n                                    onChange={e => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        let dates;\n                                        try {\n                                            dates = JSON.parse(_schedule.period.dates);\n                                        } catch (e) {\n                                            dates = [];\n                                        }\n                                        if (e.target.checked && dates.indexOf(i) === -1) {\n                                            dates.push(i);\n                                        } else if (!e.target.checked && dates.indexOf(i) !== -1) {\n                                            dates.splice(dates.indexOf(i), 1);\n                                        }\n                                        dates.sort((a, b) => a - b);\n                                        _schedule.period.dates = JSON.stringify(dates);\n                                        this.onChange(_schedule);\n                                    }}\n                          />\n                      } label={i < 10 ? [(<span key=\"0\" style={{opacity: 0}}>0</span>), (<span key=\"num\">{i}</span>)] : i}\n                />))}\n            </FormGroup>);\n    }\n\n    getPeriodSettingsMonthly() {\n        if (!this.state.schedule.period.months) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        const parsedMonths = typeof schedule.period.months === 'string' ? JSON.parse(schedule.period.months)  : [];\n\n        return [\n            (<div key=\"every\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'number' && schedule.period.months === 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = 1;\n                                        this.onChange(schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEveryMonth')} /></div>),\n            (<div key=\"everyN\"><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'number' && schedule.period.months > 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = 2;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEvery')} />\n                {typeof schedule.period.months === 'number' && schedule.period.months > 1 && [(<Input value={schedule.period.months} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.months = parseInt(e.target.value, 10);\n                    if (_schedule.period.months < 1) _schedule.period.months = 1;\n                    this.onChange(_schedule);\n                }} />), (<span>{I18n.t('sch_periodMonth')}</span>)]}\n            </div>),\n            (<div  key=\"specific\" style={{verticalAlign: 'top'}}><FormControlLabel style={{verticalAlign: 'top'}} control={(<Radio className={this.props.classes.inputRadio} checked={typeof schedule.period.months === 'string'} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.months = '[1,2,3,4,5,6,7,8,9,10,11,12]';\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodSpecificMonths')} />\n                {typeof schedule.period.months === 'string' &&\n                (<FormGroup row className={this.props.classes.inputGroup}>\n                    <FormControlLabel className={this.props.classes.inputDateDay}\n                                      control={\n                                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={parsedMonths.length === 12}\n                                                    onChange={e => {\n                                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                        const months = [];\n                                                        for (let i = 1; i <= 12; i++) {\n                                                            months.push(i);\n                                                        }\n                                                        _schedule.period.months = JSON.stringify(months);\n                                                        this.onChange(_schedule);\n                                                    }}\n                                          />\n                                      } label={I18n.t('sch_all')}\n                    />\n                    <FormControlLabel className={this.props.classes.inputDateDay}\n                                      control={\n                                          <Checkbox className={this.props.classes.inputDateDayCheck} checked={!parsedMonths.length}\n                                                    onChange={e => {\n                                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                        _schedule.period.months = '[]';\n                                                        this.onChange(_schedule);\n                                                    }}\n                                          />\n                                      } label={I18n.t('sch_no_one')}\n                    />\n                    {parsedMonths.length !== 12 && !!parsedMonths.length && (<FormControlLabel className={this.props.classes.inputDateDay}\n                                                                                             control={\n                                                                                                 <Checkbox className={this.props.classes.inputDateDayCheck} checked={false}\n                                                                                                           onChange={e => {\n                                                                                                               const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                                                                                               const result = [];\n                                                                                                               const parsedMonths = JSON.parse(_schedule.period.months);\n                                                                                                               for (let i = 1; i <= 12; i++) {\n                                                                                                                   if (parsedMonths.indexOf(i) === -1) {\n                                                                                                                       result.push(i);\n                                                                                                                   }\n                                                                                                               }\n                                                                                                               result.sort((a, b) => a - b);\n                                                                                                               _schedule.period.months = JSON.stringify(result);\n                                                                                                               this.onChange(_schedule);\n                                                                                                           }}\n                                                                                                 />\n                                                                                             } label={I18n.t('sch_invert')}\n                    />)}\n                    <div/>\n                    {MONTHS.map((month, i) => (<FormControlLabel className={this.props.classes.inputGroupElement}\n                        control={\n                            <Checkbox className={this.props.classes.inputSmallCheck} checked={JSON.parse(schedule.period.months).indexOf(i + 1) !== -1}\n                                      onChange={e => {\n                                          const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                          let months;\n                                          try {\n                                              months = JSON.parse(_schedule.period.months);\n                                          } catch (e) {\n                                              months = [];\n                                          }\n                                          if (e.target.checked && months.indexOf(i + 1) === -1) {\n                                              months.push(i + 1);\n                                          } else if (!e.target.checked && months.indexOf(i + 1) !== -1) {\n                                              months.splice(months.indexOf(i + 1), 1);\n                                          }\n                                          months.sort((a, b) => a - b);\n                                          _schedule.period.months = JSON.stringify(months);\n                                          this.onChange(_schedule);\n                                      }}\n                            />\n                        }\n                        label={I18n.t(month)}\n                    />))}\n                </FormGroup>)}\n            </div>),\n        ];\n    }\n\n    getPeriodSettingsYearly() {\n        if (!this.state.schedule.period.years) {\n            return;\n        }\n        const schedule = this.state.schedule;\n        return [\n            (<div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.years === 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.years = 1;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEveryYear')} /></div>),\n            (<div><FormControlLabel control={(<Radio className={this.props.classes.inputRadio} checked={schedule.period.years > 1} onClick={() => {\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        _schedule.period.years = 2;\n                                        this.onChange(_schedule);\n                                    }}/>)\n                                    }\n                                    label={I18n.t('sch_periodEvery')} />\n                {schedule.period.years > 1 && [(<Input value={this.state.schedule.period.years} className={this.props.classes.inputEvery} type=\"number\" min=\"2\" onChange={e => {\n                    const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                    _schedule.period.years = parseInt(e.target.value, 10);\n                    if (_schedule.period.years < 1) _schedule.period.years = 1;\n                    this.onChange(_schedule);\n                }} />), (<span>{I18n.t('sch_periodYear')}</span>)]}\n            </div>),\n        ];\n    }\n\n    now2string(isEnd) {\n        const d = new Date();\n        d.setHours(0);\n        d.setMinutes(0);\n        d.setSeconds(0);\n        d.setMilliseconds(0);\n        if (isEnd) {\n            d.setDate(d.getDate() + 2);\n            d.setMilliseconds(d.getMilliseconds() - 1);\n        }\n\n        return padding(d.getDate()) + '.' + padding(d.getMonth() + 1) + '.' + padding(d.getFullYear());\n    }\n\n    string2date(str) {\n        let parts = str.split('.'); // 31.12.2019\n        if (parts.length === 1) {\n            parts = str.split('-'); // 2018-12-31\n            return new Date(parseInt(parts[0], 10), parseInt(parts[1], 10) - 1, parseInt(parts[2], 10));\n        } else {\n            return new Date(parseInt(parts[2], 10), parseInt(parts[1], 10) - 1, parseInt(parts[0], 10));\n        }\n    }\n\n    getValidSettings() {\n        const schedule = this.state.schedule;\n        // ----- from ---\n        return (\n            <div className={this.props.classes.rowDiv}>\n                <div className={this.props.classes.modeDiv} style={{verticalAlign: 'middle'}}>\n                    <span style={{fontWeight: 'bold', paddingRight: 10}}>{I18n.t('sch_valid')}</span>\n                    <span>{I18n.t('sch_validFrom')}</span>\n                </div>\n                <div className={this.props.classes.settingsDiv}>\n                    <TextField\n                        className={this.props.classes.inputDate}\n                        style={{marginRight: 10}}\n                        key=\"exactTimeFrom\"\n                        inputRef={this.refFrom}\n                        defaultValue={string2USdate(schedule.valid.from)}\n                        type=\"date\"\n                        //inputComponent={TextDate}\n                        onChange={e => {\n                            this.timerFrom && clearTimeout(this.timerFrom);\n\n                            this.refFrom.current.style.background = '#ff000030';\n\n                            this.timerFrom = setTimeout(value => {\n                                this.timerFrom = null;\n                                this.refFrom.current.style.background = '';\n                                const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                const date = this.string2date(value);\n                                if (date.toString() !== 'Invalid Date') {\n                                    _schedule.valid.from = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                    this.onChange(_schedule);\n                                }\n                            }, 1500, e.target.value);\n                        }}\n                        InputLabelProps={{shrink: true,}}\n                        margin=\"normal\"\n                    />\n                    <FormControlLabel control={(<Checkbox className={this.props.classes.inputRadio} checked={!!schedule.valid.to} onClick={() => {\n                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                        _schedule.valid.to = _schedule.valid.to ? '' : this.now2string(true);\n                        this.onChange(_schedule);\n                    }}/>)}\n                        label={I18n.t('sch_validTo')} />\n                        {!!schedule.valid.to && (\n                            <TextField\n                                inputRef={this.refTo}\n                                className={this.props.classes.inputDate}\n                                style={{marginRight: 10}}\n                                key=\"exactTimeFrom\"\n                                type=\"date\"\n                                defaultValue={string2USdate(schedule.valid.to)}\n                                //inputComponent={TextDate}\n                                onChange={e => {\n                                    this.timerTo && clearTimeout(this.timerTo);\n\n                                    this.refTo.current.style.background = '#ff000030';\n                                    this.timerTo = setTimeout(value => {\n                                        this.timerTo = null;\n                                        this.refTo.current.style.background = '';\n                                        const _schedule = JSON.parse(JSON.stringify(this.state.schedule));\n                                        const date = this.string2date(value);\n                                        if (date.toString() !== 'Invalid Date') {\n                                            _schedule.valid.to = padding(date.getDate()) + '.' + padding(date.getMonth() + 1) + '.' + date.getFullYear();\n                                            this.onChange(_schedule);\n                                        }\n                                    }, 1500, e.target.value);\n                                }}\n                                InputLabelProps={{shrink: true,}}\n                                margin=\"normal\"\n                            />)}\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        return (<div style={{height: 'calc(100% - 48px)', width: '100%', overflow: 'hidden'}}>\n            <div>{this.state.desc}</div>\n            <div className={this.props.classes.scrollWindow}>\n                <h5>{I18n.t('sch_time')}</h5>\n                {this.getTimePeriodElements()}\n                {this.getTimeExactElements()}\n                {this.getDivider()}\n                <h5>{I18n.t('sch_period')}</h5>\n                {this.getPeriodModes()}\n                {!this.state.schedule.period.once && this.getDivider()}\n                {!this.state.schedule.period.once && this.getValidSettings()}\n            </div>\n        </div>);\n    }\n}\n\nSchedule.propTypes = {\n    schedule: PropTypes.string,\n    onChange: PropTypes.func\n};\n\nexport default withStyles(styles)(Schedule);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles/index';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Radio from '@material-ui/core/Radio';\n\nimport ComplexCron from '../Components/ComplexCron';\nimport SimpleCron from '../Components/simple-cron/SimpleCron';\nimport Schedule from '../Components/Schedule';\n\nimport I18n from '../i18n';\n\n// Generate cron expression\n\nconst styles = theme => ({\n    headerID: {\n        fontWeight: 'bold',\n        fontStyle: 'italic'\n    },\n    radio: {\n        display: 'inline-block'\n    },\n    dialogPaper: {\n        height: 'calc(100% - 96px)'\n    }\n});\n\nclass DialogCron extends React.Component {\n    constructor(props) {\n        super(props);\n        let cron;\n        if (this.props.cron && typeof this.props.cron === 'string' && this.props.cron.replace(/^[\"']/, '')[0] !== '{') {\n            cron = this.props.cron.replace(/['\"]/g, '').trim();\n        } else {\n            cron = this.props.cron || '{}';\n            if (typeof cron === 'string') {\n                cron = cron.replace(/^[\"']/, '').replace(/[\"']\\n?$/, '');\n            }\n        }\n\n        this.state =  {\n            cron,\n            mode: this.props.simple ?\n                'simple' :\n                (typeof cron === 'object' || cron[0] === '{' ?\n                    'wizard' :\n                    (SimpleCron.cron2state(this.props.cron || '* * * * *') ? 'simple' : 'complex'))\n        };\n    }\n\n    handleCancel() {\n        this.props.onClose();\n    }\n\n    handleOk() {\n        this.props.onOk(this.state.cron);\n        this.props.onClose();\n    }\n\n    setMode(mode) {\n        this.setState({mode});\n    }\n\n    render() {\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"md\"\n                fullWidth={true}\n                classes={{paper: this.props.classes.dialogPaper}}\n                open={true}\n                aria-labelledby=\"cron-dialog-title\"\n            >\n                <DialogTitle id=\"cron-dialog-title\">{this.props.title || I18n.t('Define schedule...')}</DialogTitle>\n                <DialogContent style={{height: '100%', overflow: 'hidden'}}>\n                    {!this.props.simple && (<div>\n                        <Radio\n                            key=\"wizard\"\n                            checked={this.state.mode === 'wizard'}\n                            onChange={e => this.setMode('wizard')}\n                        /><label onClick={e => this.setMode('wizard')}\n                                 style={this.state.mode !== 'wizard' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_wizard')}</label>\n\n                        <Radio\n                            key=\"simple\"\n                            checked={this.state.mode === 'simple'}\n                            onChange={e => this.setMode('simple')}\n                        /><label onClick={e => this.setMode('simple')}\n                                 style={this.state.mode !== 'simple' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_simple')}</label>\n                        <Radio\n                            key=\"complex\"\n                            checked={this.state.mode === 'complex'}\n                            onChange={e => this.setMode('complex')}\n                        /><label onClick={e => this.setMode('complex')} style={this.state.mode !== 'complex' ? {color: 'lightgrey'} : {}}>{I18n.t('sc_cron')}</label></div>)}\n\n                    {this.state.mode === 'simple' &&\n                        (<SimpleCron\n                            cronExpression={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                    {this.state.mode === 'wizard' &&\n                        (<Schedule\n                            schedule={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                    {this.state.mode === 'complex' &&\n                        (<ComplexCron\n                            cronExpression={this.state.cron}\n                            onChange={cron => this.setState({cron})}\n                            language={I18n.getLanguage()}\n                        />)}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleOk()}     color=\"primary\">{this.props.ok || I18n.t('Ok')}</Button>\n                    <Button onClick={() => this.handleCancel()} color=\"secondary\">{this.props.cancel || I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogCron.propTypes = {\n    classes: PropTypes.object,\n    onClose: PropTypes.func,\n    onOk: PropTypes.func.isRequired,\n    title: PropTypes.string,\n    cron: PropTypes.string,\n    cancel: PropTypes.string,\n    ok: PropTypes.string,\n    simple: PropTypes.bool,\n    language: PropTypes.string\n\n};\n\nexport default withStyles(styles)(DialogCron);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport ScriptEditorComponent from '../Components/ScriptEditorVanilaMonaco';\n\nimport I18n from '../i18n';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    args: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        height: 30,\n        width: '100%',\n        fontSize: 16\n    },\n    argsTitle: {\n        color: theme.palette.type === 'dark' ? 'white' : 'black',\n        fontWeight: 'bold'\n    }\n});\n\nclass DialogScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            source: this.props.source,\n        };\n        if (!this.state.source && this.props.isReturn) {\n            this.state.source = '\\nreturn false';\n        }\n\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('source-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose(false);\n    }\n\n    handleOk () {\n        if (this.props.isReturn && this.state.source.indexOf('return ') === -1) {\n\n        } else {\n            this.props.onClose(this.state.source);\n        }\n    }\n\n    onChange(value) {\n        this.setState({source: value});\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"source-dialog-title\"\n            >\n                <DialogTitle id=\"source-dialog-title\">{I18n.t('Function editor')}</DialogTitle>\n                <DialogContent className={classes.fullHeight}>\n                    {this.props.args && (<div key=\"arguments\" className={classes.args}>\n                        <span className={classes.argsTitle}>{I18n.t('function (')}</span>\n                        {this.props.args}\n                        <span className={classes.argsTitle}>)</span>\n                    </div>)}\n                    <ScriptEditorComponent\n                        className={classes.textArea}\n                        style={{height: this.props.args ? 'calc(100% - 30px)' : '100%'}}\n                        key=\"scriptEditor\"\n                        name={'blockly'}\n                        connection={this.props.connection}\n                        readOnly={false}\n                        checkJs={false}\n                        code={this.state.source}\n                        isDark={this.props.theme === 'dark'}\n                        onChange={newValue => this.onChange(newValue)}\n                        language={'javascript'}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={event => this.handleOk()} color=\"primary\">{I18n.t('Save')}</Button>\n                    <Button onClick={event => this.handleCancel()} color=\"secondary\">{I18n.t('Cancel')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogScriptEditor.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    source: PropTypes.string,\n    args: PropTypes.string,\n    isReturn: PropTypes.bool,\n    theme: PropTypes.string,\n    connection: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogScriptEditor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport {withStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Badge from '@material-ui/core/Badge';\n\nimport {MdSave as IconSave} from 'react-icons/md';\nimport {MdCancel as IconCancel} from 'react-icons/md';\nimport {MdClose as IconClose} from 'react-icons/md';\nimport {MdRefresh as IconRestart} from 'react-icons/md';\nimport {MdInput as IconDoEdit} from 'react-icons/md';\nimport {FaClock as IconCron} from 'react-icons/fa';\nimport {FaClipboardList as IconSelectId} from 'react-icons/fa';\nimport {FaFileExport as IconExport} from 'react-icons/fa';\nimport {FaFileImport as IconImport} from 'react-icons/fa';\nimport {FaFlagCheckered as IconCheck} from 'react-icons/fa';\nimport {MdGpsFixed as IconLocate} from 'react-icons/md';\nimport {MdClearAll as IconCloseAll} from 'react-icons/md';\nimport {MdBuild as IconDebugMenu} from 'react-icons/md';\nimport {MdBugReport as IconDebug} from 'react-icons/md';\nimport {MdPlaylistAddCheck as IconVerbose} from 'react-icons/md';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgBlockly2Js from './assets/blockly2js.png'\n\nimport I18n from './i18n';\nimport Theme from './Theme';\nimport ScriptEditor from './Components/ScriptEditorVanilaMonaco';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport DialogConfirm from './Dialogs/Confirmation';\nimport DialogSelectID from './Dialogs/SelectID';\nimport DialogCron from './Dialogs/Cron';\nimport DialogScriptEditor from './Dialogs/ScriptEditor';\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    def: ImgJS,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_DEBUG = '#02a102';\nconst COLOR_VERBOSE = '#70aae9';\n\n\nconst styles = theme => ({\n\n    toolbar: {\n        minHeight: 38,//Theme.toolbar.height,\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    toolbarButtons: {\n        padding: 4,\n        marginLeft: 4\n    },\n    editorDiv: {\n        height: `calc(100% - ${Theme.toolbar.height + 38/*Theme.toolbar.height */ + 1}px)`,\n        width: '100%',\n        overflow: 'hidden',\n        position: 'relative'\n    },\n    textButton: {\n        marginRight: 10,\n        minHeight: 24,\n        padding: '6px 16px'\n    },\n    tabIcon: {\n        width: 24,\n        height: 24,\n        verticalAlign: 'middle',\n        marginBottom: 2,\n        marginRight: 2,\n        borderRadius: 3\n    },\n    hintIcon: {\n        //fontSize: 32,\n        padding: '0 8px 0 8px'\n    },\n    hintText: {\n        //fontSize: 18\n    },\n    hintButton: {\n        marginTop: 8,\n        marginLeft: 20\n    },\n    tabMenuButton: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n    },\n    tabChanged: {\n        color: theme.palette.secondary.main\n    },\n    tabText: {\n        maxWidth: 130,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    tabChangedIcon: {\n        color: '#FF0000',\n        fontSize: 16\n    },\n    closeButton: {\n        position: 'absolute',\n        top: 8,\n        right: 0,\n        zIndex: 10,\n        padding: 8,\n        cursor: 'pointer'\n    },\n    notRunning: {\n        color: '#ffbc00'\n    },\n    tabButton: {\n\n    },\n    tabButtonWrapper: {\n        display: 'inline-block',\n    },\n    menuIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5\n    },\n});\n\nfunction setChangedInAdmin(isChanged) {\n    if (typeof window.parent !== 'undefined' && window.parent) {\n        window.parent.configNotSaved = isChanged;\n    }\n}\n\nclass Editor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const selected = window.localStorage.getItem('Editor.selected') || '';\n        let editing = window.localStorage.getItem('Editor.editing') || '[]';\n        try {\n            editing = JSON.parse(editing);\n        } catch (e) {\n            editing = [];\n        }\n        if (selected && editing.indexOf(selected) === -1) {\n            editing.push(selected);\n        }\n\n        this.tabsRef = React.createRef();\n\n        this.state = {\n            selected: selected,\n            editing: editing, // array of opened scripts\n            changed: false,\n            blockly: null,\n            debugEnabled: false,\n            verboseEnabled: false,\n            showBlocklyCode: false,\n            showSelectId: false,\n            showCron: false,\n            showScript: false,\n            insert: '',\n            searchText: '',\n            theme: this.props.theme,\n            visible: props.visible,\n            cmdToBlockly: '',\n            menuOpened: !!this.props.menuOpened,\n            menuTabsOpened: false,\n            menuTabsAnchorEl: null,\n            runningInstances: this.props.runningInstances || {},\n            showDebugMenu: false,\n        };\n        \n        setChangedInAdmin(false);\n        /* ----------------------- */\n        // required by selectIdDialog in Blockly\n        this.selectId = {\n            initValue: null,\n            callback: null\n        };\n        this.cron = {\n            initValue: null,\n            callback: null\n        };\n        this.scriptDialog = {\n            initValue: null,\n            callback: null,\n            args: null,\n            isReturn: false\n        };\n\n        const instances = [];\n        if (this.props.objects) {\n            for (let id in this.props.objects) {\n                if (this.props.objects.hasOwnProperty(id) && id.startsWith('system.adapter.') && this.props.objects[id] && this.props.objects[id].type === 'instance') {\n                    instances.push(id);\n                }\n            }\n        }\n\n        window.systemLang = I18n.getLanguage();\n        window.main = {\n            objects: this.props.objects,\n            instances,\n            selectIdDialog: (initValue, cb) => {\n                this.selectId.callback = cb;\n                this.selectId.initValue = initValue;\n                this.setState({showSelectId: true});\n            },\n            cronDialog: (initValue, cb) => {\n                this.cron.callback = cb;\n                this.cron.initValue = initValue;\n                this.setState({showCron: true});\n            },\n            showScriptDialog: (value, args, isReturn, cb) => {\n                this.scriptDialog.callback = cb;\n                this.scriptDialog.initValue = value;\n                this.scriptDialog.args = args;\n                this.scriptDialog.isReturn = isReturn || false;\n                this.setState({showScript: true});\n            }\n        };\n        this.objects = props.objects;\n        /* ----------------------- */\n\n        this.scripts = {};\n\n        if (!this.state.selected && this.state.editing.length) {\n            this.state.selected = this.state.editing[0];\n        }\n\n        // to enable logging\n        if (this.props.onSelectedChange && this.state.selected) {\n            setTimeout(() => this.props.onSelectedChange(this.state.selected, this.state.editing), 100);\n        }\n        this.onBrowserCloseBound = this.onBrowserClose.bind(this);\n    }\n\n    componentDidMount() {\n        window.addEventListener('beforeunload', this.onBrowserCloseBound, false);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('beforeunload', this.onBrowserCloseBound);\n    }\n\n    onBrowserClose(e) {\n        const isChanged = Object.keys(this.scripts).find(id =>\n            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common));\n\n        if (!!isChanged) {\n            console.log('Script ' + console.log('Script ' + JSON.stringify(this.scripts[isChanged])));\n            const message = I18n.t('Configuration not saved.');\n            e = e || window.event;\n            // For IE and Firefox\n            if (e) {\n                e.returnValue = message;\n            }\n\n            // For Safari\n            return message;\n        }\n    }\n\n    removeNonExistingScripts(nextProps, newState) {\n        nextProps = nextProps || this.props;\n        newState = newState || {};\n\n        let _changed = false;\n        if (this.state.editing && nextProps.objects['system.config']) {\n            const isAnyNonExists = this.state.editing.find(id => !nextProps.objects[id]);\n\n            if (isAnyNonExists) {\n                // remove non-existing scripts\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                for (let i = editing.length - 1; i >= 0; i--) {\n                    if (!this.objects[editing[i]]) {\n                        _changed = true;\n                        editing.splice(i, 1);\n                    }\n                }\n                if (_changed) {\n                    newState.editing = editing;\n                }\n                if (this.state.selected && !this.objects[this.state.selected]) {\n                    _changed = true;\n                    newState.selected = editing[0] || '';\n                    if (this.scripts[newState.selected]) {\n                        if (this.state.blockly !== (this.scripts[newState.selected].engineType === 'Blockly')) {\n                            newState.blockly = this.scripts[newState.selected].engineType === 'Blockly';\n                            _changed = true;\n                        }\n                        if (this.state.verboseEnabled !== this.scripts[newState.selected].verbose) {\n                            newState.verboseEnabled = this.scripts[newState.selected].verbose;\n                            _changed = true;\n                        }\n                        if (this.state.debugEnabled !== this.scripts[newState.selected].debug) {\n                            newState.debugEnabled = this.scripts[newState.selected].debug;\n                            _changed = true;\n                        }\n                    }\n                }\n            }\n        }\n        return _changed;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const newState = {};\n        let _changed = false;\n        if (JSON.stringify(nextProps.runningInstances) !== JSON.stringify(this.state.runningInstances)) {\n            _changed = true;\n            newState.runningInstances = nextProps.runningInstances;\n        }\n\n        if (this.state.menuOpened !== nextProps.menuOpened) {\n            newState.menuOpened = nextProps.menuOpened;\n            _changed = true;\n        }\n\n        if (this.state.theme !== nextProps.theme) {\n            newState.theme = nextProps.theme;\n            _changed = true;\n        }\n\n        // check if all opened files still exists\n        if (this.removeNonExistingScripts(nextProps, newState)) {\n            _changed = true;\n        }\n\n        // update search text\n        if (this.state.searchText !== nextProps.searchText) {\n            newState.searchText = nextProps.searchText;\n            _changed = true;\n        }\n\n        // if objects read\n        if (this.objects !== nextProps.objects) {\n            this.objects = nextProps.objects;\n            window.main.objects = nextProps.objects;\n\n            // update all scripts\n            for (const id in this.scripts) {\n                if (!this.scripts.hasOwnProperty(id)) continue;\n                const source = this.scripts[id].source;\n                this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                this.scripts[id].source = source;\n            }\n\n            const instances = [];\n            for (let id in window.main.objects) {\n                if (window.main.objects.hasOwnProperty(id) && id.startsWith('system.adapter.') && window.main.objects[id] && window.main.objects[id].type === 'instance') {\n                    instances.push(id);\n                }\n            }\n            window.main.instances = instances;\n\n            // if script is blockly\n            if (this.state.selected && this.objects[this.state.selected]) {\n                this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.objects[this.state.selected].common));\n                if (this.state.blockly !== (this.scripts[this.state.selected].engineType === 'Blockly')) {\n                    newState.blockly = this.scripts[this.state.selected].engineType === 'Blockly';\n                    _changed = true;\n                }\n                if (this.state.verboseEnabled !== this.scripts[this.state.selected].verbose) {\n                    newState.verboseEnabled = this.scripts[this.state.selected].verbose;\n                    _changed = true;\n                }\n                if (this.state.debugEnabled !== this.scripts[this.state.selected].debug) {\n                    newState.debugEnabled = this.scripts[this.state.selected].debug;\n                    _changed = true;\n                }\n            }\n\n            // remove non-existing scripts\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            for (let i = editing.length - 1; i >= 0; i--) {\n                if (!this.objects[editing[i]]) {\n                    _changed = true;\n                    editing.splice(i, 1);\n                }\n            }\n            if (this.state.selected && !this.objects[this.state.selected]) {\n                newState.selected = editing[0] || '';\n            }\n            if (_changed) {\n                newState.editing = editing;\n            }\n        } else {\n            // update all scripts\n            for (const id in this.scripts) {\n                if (!this.scripts.hasOwnProperty(id)) continue;\n                if (this.objects[id] && this.objects[id].common) {\n                    const source = this.scripts[id].source;\n                    const commonLocal = JSON.parse(JSON.stringify(this.scripts[id]));\n                    commonLocal.source = this.objects[id].common.source;\n                    if (JSON.stringify(commonLocal) !== JSON.stringify(this.objects[id].common)) {\n                        this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                        this.scripts[id].source = source;\n                    }\n\n                    if (id === nextProps.selected) {\n                        if (this.scripts[id].source !== this.objects[id].common.source) {\n                            if (!this.state.changed) {\n                                newState.changed = true;\n                                _changed = true;\n                                setChangedInAdmin(true);\n                            }\n                        } else {\n                            if (this.state.changed) {\n                                newState.changed = false;\n                                _changed = true;\n                                setChangedInAdmin(false);\n                            }\n                        }\n                    }\n\n                } else {\n                    delete this.scripts[id];\n                    if (this.state.selected === id) {\n                        if (this.state.editing.indexOf(id) !== -1) {\n                            const editing = JSON.parse(JSON.stringify(this.state.editing));\n                            const pos = editing.indexOf(id);\n                            if (pos !== -1) {\n                                editing.splice(pos, 1);\n                                newState.editing = editing;\n                                _changed = true;\n                            }\n                        }\n                        newState.selected = this.state.editing[0] || '';\n                        _changed = true;\n                    }\n                }\n            }\n        }\n\n        if (this.state.selected !== nextProps.selected && nextProps.selected) {\n            if (nextProps.selected) {\n                this.scripts[nextProps.selected] = this.scripts[nextProps.selected] || JSON.parse(JSON.stringify(this.props.objects[nextProps.selected].common));\n            }\n\n            const nextCommon = this.props.objects[nextProps.selected] && this.props.objects[nextProps.selected].common;\n\n            const changed = nextCommon && JSON.stringify(this.scripts[nextProps.selected]) !== JSON.stringify(nextCommon);\n\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            if (nextProps.selected && editing.indexOf(nextProps.selected) === -1) {\n                editing.push(nextProps.selected);\n                this.props.onSelectedChange(nextProps.selected, editing);\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n            }\n\n            _changed = true;\n            newState.changed = changed;\n            newState.editing = editing;\n            newState.selected = nextProps.selected;\n            newState.blockly = this.scripts[nextProps.selected].engineType === 'Blockly';\n            newState.verboseEnabled = this.scripts[nextProps.selected].verbose;\n            newState.debugEnabled = this.scripts[nextProps.selected].debug;\n            newState.showBlocklyCode = false;\n            setChangedInAdmin(newState.changed);\n        } else {\n\n        }\n\n        if (this.state.visible !== nextProps.visible) {\n            _changed = true;\n            newState.visible = nextProps.visible;\n        }\n        _changed && this.setState(newState);\n    }\n\n    onRestart() {\n        this.props.onRestart && this.props.onRestart(this.state.selected);\n    }\n\n    onSave() {\n        if (this.state.changed) {\n            setChangedInAdmin(false);\n            this.setState({changed: false}, () =>\n                this.props.onChange && this.props.onChange(this.state.selected, this.scripts[this.state.selected]));\n        }\n    }\n\n    onCancel() {\n        this.scripts[this.state.selected] = JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n        setChangedInAdmin(false);\n        this.setState({changed: false});\n    }\n\n    onRegisterSelect(func) {\n        this.getSelect = func;\n    }\n\n    onConvert2JS() {\n        this.showConfirmDialog(I18n.t('It will not be possible to revert this operation.'), result => {\n            if (result) {\n                this.scripts[this.state.selected].engineType = 'Javascript/js';\n                let source = this.scripts[this.state.selected].source;\n                const lines = source.split('\\n');\n                lines.pop();\n                this.scripts[this.state.selected].source = lines.join('\\n');\n                const nowSelected = this.state.selected;\n                setChangedInAdmin(true);\n                this.setState({changed: true, blockly: false, selected: ''}, () => {\n                    // force update of the editor\n                    setTimeout(() => this.setState({selected: nowSelected}), 100);\n                });\n            }\n        });\n    }\n\n    onChange(options) {\n        options = options || {};\n        if (options.script !== undefined) {\n            this.scripts[this.state.selected].source = options.script;\n        }\n        if (options.debug !== undefined) {\n            this.scripts[this.state.selected].debug = options.debug;\n        }\n        if (options.verbose !== undefined) {\n            this.scripts[this.state.selected].verbose = options.verbose;\n        }\n        const changed = JSON.stringify(this.scripts[this.state.selected]) !== JSON.stringify(this.props.objects[this.state.selected].common);\n        if (changed !== this.state.changed) {\n            this.setState({changed});\n            setChangedInAdmin(changed);\n        }\n    }\n\n    onTabChange(event, selected) {\n        window.localStorage && window.localStorage.setItem('Editor.selected', selected);\n        const common = this.scripts[selected] || (this.props.objects[selected] && this.props.objects[selected].common);\n        this.setState({selected, blockly: common.engineType === 'Blockly', showBlocklyCode: false, verboseEnabled: common.verbose, debugEnabled: common.debug});\n        this.props.onSelectedChange && this.props.onSelectedChange(selected, this.state.editing);\n    }\n\n    isScriptChanged(id) {\n        return this.scripts[id] && this.props.objects[id] && JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common);\n    }\n\n    onTabClose(id, e) {\n        e && e.stopPropagation();\n\n        const pos = this.state.editing.indexOf(id);\n        if (this.state.editing.indexOf(id) !== -1) {\n            if (this.isScriptChanged(id)) {\n                this.showConfirmDialog(I18n.t('Discard changes for %s', this.props.objects[id].common.name), ok => {\n                    if (ok) {\n                        delete this.scripts[id];\n                        this.onTabClose(id);\n                    }\n                });\n            } else {\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                editing.splice(pos, 1);\n                const newState = {editing};\n                if (id === this.state.selected) {\n                    if (editing.length) {\n                        if (pos === 0 || editing.length === 1) {\n                            newState.selected = editing[0];\n                        } else {\n                            newState.selected = editing[pos - 1];\n                        }\n                    } else {\n                        newState.selected = '';\n                    }\n                } else if (this.state.selected && !editing.length) {\n                    newState.selected = '';\n                }\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                if (newState.selected !== undefined) {\n                    newState.changed = this.isScriptChanged(newState.selected);\n                    const common = newState.selected && (this.scripts[newState.selected] || (this.props.objects[newState.selected] && this.props.objects[newState.selected].common));\n                    newState.blockly = common ? common.engineType === 'Blockly' : false;\n                    newState.verboseEnabled = common ? common.verbose : false;\n                    newState.debugEnabled = common ? common.debug : false;\n                    newState.showBlocklyCode = false;\n                    setChangedInAdmin(newState.changed);\n                }\n\n                this.setState(newState, () =>  {\n                    if (newState.selected !== undefined) {\n                        this.props.onSelectedChange && this.props.onSelectedChange(newState.selected, this.state.editing);\n                        window.localStorage && window.localStorage.setItem('Editor.selected', newState.selected);\n                    } else {\n                        this.props.onSelectedChange && this.props.onSelectedChange(this.state.selected, this.state.editing);\n                    }\n                });\n            }\n        }\n    }\n\n    showConfirmDialog(question, cb) {\n        this.confirmCallback = cb;\n        this.setState({confirm: question});\n    }\n\n    sendCommandToBlockly(cmd) {\n        this.setState({cmdToBlockly: cmd}, () =>\n            setTimeout(() =>\n                this.setState({cmdToBlockly: ''}), 200));\n    }\n\n    getTabs() {\n        if (this.state.editing.length) {\n            return [(<Tabs\n                    component={'div'}\n                    key=\"tabs1\"\n                    value={this.state.selected}\n                    onChange={(event, value) => this.onTabChange(event, value)}\n                    indicatorColor=\"primary\"\n                    style={{position: 'relative', width: this.state.editing.length > 1 ? 'calc(100% - 50px)' : '100%', display: 'inline-block'}}\n                    textColor=\"primary\"\n                    variant=\"scrollable\"\n                    scrollButtons=\"auto\"\n                >\n                    {this.state.editing.map(id => {\n                        if (!this.props.objects[id]) {\n                            const label = [\n                                (<div key=\"text\" className={this.props.classes.tabText + ' ' + (this.isScriptChanged(id) ? this.props.classes.tabChanged : '')}>{id.split('.').pop()}</div>),\n                                (<span key=\"icon\" className={this.props.classes.closeButton}><IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} fontSize=\"small\"/></span>)];\n                            return (<Tab\n                                component={'div'}\n                                href={'#' + id}\n                                key={id}\n                                label={label}\n                                value={id}\n                                classes={{wrapper: this.props.classes.tabButtonWrapper}}\n                            />);\n                        } else {\n                            let text = this.props.objects[id].common.name;\n                            let title = '';\n                            if (text.length > 18) {\n                                title = text;\n                                text = text.substring(0, 15) + '...';\n                            }\n                            const changed = this.props.objects[id].common && this.scripts[id] && this.props.objects[id].common.source !== this.scripts[id].source;\n                            const label = [\n                                (<img key=\"icon\" alt={\"\"} src={images[this.props.objects[id].common.engineType] || images.def} className={this.props.classes.tabIcon}/>),\n                                (<div key=\"text\" className={this.props.classes.tabText + ' ' + (this.isScriptChanged(id) ? this.props.classes.tabChanged : '')}>{text}</div>),\n                                changed ? (<span key=\"changedSign\" className={this.props.classes.tabChangedIcon}></span>) : null,\n                                (<span key=\"icon2\" className={this.props.classes.closeButton}><IconClose key=\"close\" onClick={e => this.onTabClose(id, e)} fontSize=\"small\"/></span>)];\n\n                            return (<Tab\n                                component={'div'}\n                                href={'#' + id}\n                                key={id}\n                                label={label}\n                                className={this.props.classes.tabButton}\n                                value={id}\n                                title={title}\n                                classes={{wrapper: this.props.classes.tabButtonWrapper}}\n                            />);\n                        }\n                    })}\n                </Tabs>),\n                this.state.editing.length > 1 ? (<IconButton\n                    key=\"menuButton\"\n                    href=\"#\"\n                    aria-label=\"Close all but current\"\n                    className={this.props.classes.tabMenuButton}\n                    title={I18n.t('Close all but current')}\n                    aria-haspopup=\"false\"\n                    onClick={_event => {\n                        const editing = [this.state.selected];\n                        // Do not close not saved tabs\n                        Object.keys(this.scripts).forEach(id =>\n                            id !== this.state.selected &&\n                            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common) &&\n                            editing.push(id)\n                        );\n\n                        window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                        this.setState({menuTabsOpened: false, menuTabsAnchorEl: null, editing: editing});\n                    }}\n                >\n                    <IconCloseAll />\n                </IconButton>) : null\n            ];\n        } else {\n            return (<div key=\"tabs2\" className={this.props.classes.toolbar}>\n                <Button key=\"select1\" disabled={true} className={this.props.classes.hintButton} href=\"\">\n                    <span key=\"select2\">{I18n.t('Click on this icon')}</span>\n                    <IconDoEdit key=\"select3\" className={this.props.classes.hintIcon}/>\n                    <span key=\"select4\">{I18n.t('for edit or create script')}</span>\n                </Button>\n            </div>);\n        }\n    }\n\n    getDebugMenu() {\n        if (!this.state.showDebugMenu) return null;\n\n        return (<Menu\n            key=\"menuDebug\"\n            id=\"menu-debug\"\n            anchorEl={this.state.menuDebugAnchorEl}\n            open={this.state.showDebugMenu}\n            onClose={() => this.setState({showDebugMenu: false, menuDebugAnchorEl: null})}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                },\n            }}\n        >\n            <MenuItem key=\"debugEnabled\"\n                      title={I18n.t('debug_help')}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.setState({showDebugMenu: false, menuDebugAnchorEl: null, debugEnabled: !this.state.debugEnabled}, () => this.onChange({debug: this.state.debugEnabled}));\n                      }}>\n                <Checkbox checked={this.state.debugEnabled}/>\n                <IconDebug className={this.props.classes.menuIcon} style={{color: COLOR_DEBUG}}/>\n                {I18n.t('debug')}\n            </MenuItem>\n            <MenuItem key=\"verboseEnabled\"\n                      title={I18n.t('verbose_help')}\n                      onClick={event => {\n                          event.stopPropagation();\n                          event.preventDefault();\n                          this.setState({showDebugMenu: false, menuDebugAnchorEl: null, verboseEnabled: !this.state.verboseEnabled}, () => this.onChange({verbose: this.state.verboseEnabled}));\n                      }}>\n                <Checkbox checked={this.state.verboseEnabled}/>\n                <IconVerbose className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>\n                {I18n.t('verbose')}\n            </MenuItem>\n        </Menu>);\n    }\n\n    getDebugBadge() {\n        return [\n            this.state.debugEnabled && this.state.verboseEnabled  && (<IconDebug key=\"DebugVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>),\n            this.state.debugEnabled && !this.state.verboseEnabled && (<IconDebug key=\"DebugNoVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_DEBUG}}/>),\n            !this.state.debugEnabled && this.state.verboseEnabled && (<IconVerbose key=\"noDebugVerbose\" className={this.props.classes.menuIcon} style={{color: COLOR_VERBOSE}}/>),\n        ]\n    }\n\n    getToolbar() {\n        const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n        const isScriptRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].enabled;\n\n        if (this.state.selected) {\n            return (\n                <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar1\">\n                    {this.state.menuOpened && this.props.onLocate && (<IconButton className={this.props.classes.toolbarButtons} key=\"locate\" title={I18n.t('Locate file')} onClick={() => this.props.onLocate(this.state.selected)}><IconLocate/></IconButton>)}\n                    {!this.state.changed && isInstanceRunning && (<IconButton key=\"restart\" variant=\"contained\" className={this.props.classes.toolbarButtons} onClick={() => this.onRestart()} title={I18n.t('Restart')}><IconRestart /></IconButton>)}\n                    {!this.state.changed && !isScriptRunning && (<span className={this.props.classes.notRunning}>{I18n.t('Script is not running')}</span>)}\n                    {!this.state.changed && isScriptRunning && !isInstanceRunning && (<span className={this.props.classes.notRunning}>{I18n.t('Instance is disabled')}</span>)}\n                    {this.state.changed && (<Button key=\"save\" variant=\"contained\" color=\"secondary\" className={this.props.classes.textButton} onClick={() => this.onSave()}>{I18n.t('Save')}<IconSave /></Button>)}\n                    {this.state.changed && (<Button key=\"cancel\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onCancel()}>{I18n.t('Cancel')}<IconCancel /></Button>)}\n                    <div style={{flex: 2}}/>\n\n                    {this.state.blockly && !this.state.showBlocklyCode &&\n                        (<IconButton key=\"export\" aria-label=\"Export Blocks\"\n                                     title={I18n.t('Export blocks')}\n                             className={this.props.classes.toolbarButtons}\n                             onClick={() => this.sendCommandToBlockly('export')}>\n                        <IconExport /></IconButton>)}\n\n                    {this.state.blockly && !this.state.showBlocklyCode &&\n                        (<IconButton key=\"import\" aria-label=\"Import Blocks\"\n                                     title={I18n.t('Import blocks')}\n                                     className={this.props.classes.toolbarButtons}\n                                     onClick={() => this.sendCommandToBlockly('import')}>\n                            <IconImport /></IconButton>)}\n\n                    {this.state.blockly && !this.state.showBlocklyCode &&\n                        (<IconButton key=\"check\" aria-label=\"Check code\"\n                                     title={I18n.t('Check blocks')}\n                                     className={this.props.classes.toolbarButtons}\n                                     onClick={() => this.sendCommandToBlockly('check')}>\n                            <IconCheck /></IconButton>)}\n\n                    {!this.state.blockly && !this.state.showBlocklyCode && (<IconButton key=\"select-cron\" aria-label=\"create CRON\"\n                                                                                        title={I18n.t('Create or edit CRON or time wizard')}\n                                                                                        className={this.props.classes.toolbarButtons}\n                                                                                        onClick={() => this.setState({showCron: true})}><IconCron/></IconButton>)}\n\n                    {!this.state.blockly && !this.state.showBlocklyCode && (<IconButton key=\"select-id\" aria-label=\"select ID\"\n                                                                                        title={I18n.t('Insert object ID')}\n                                                                                        className={this.props.classes.toolbarButtons}\n                                                                                        onClick={() => this.setState({showSelectId: true})}><IconSelectId/></IconButton>)}\n\n                    {this.state.blockly && this.state.showBlocklyCode && (<Button key=\"convert2js\" aria-label=\"convert to javascript\"\n                                                                                  title={I18n.t('Convert blockly to javascript for ever.')}\n                                                                                  onClick={() => this.onConvert2JS()}\n                    >Blockly=>JS</Button>)}\n\n                    {this.state.blockly && (<Button key=\"blockly-code\" aria-label=\"blockly\"\n                                                    title={I18n.t('Show javascript code')}\n                                                    className={this.props.classes.toolbarButtons}\n                                                    color={this.state.showBlocklyCode ? 'secondary' : 'inherit'}\n                                                    style={{padding: '0 5px'}}\n                                                    onClick={() => this.setState({showBlocklyCode: !this.state.showBlocklyCode})}>\n                        <img alt=\"blockly2js\" src={ImgBlockly2Js} /></Button>)}\n\n                    {!this.state.showBlocklyCode && (<IconButton key=\"debug\" aria-label=\"Debug menu\"\n                                                                 title={I18n.t('Debug options')}\n                                                                 className={this.props.classes.toolbarButtons}\n                                                                 onClick={e => this.setState({showDebugMenu: true, menuDebugAnchorEl: e.currentTarget})}>\n                        <Badge className={this.props.classes.badgeMargin} badgeContent={this.getDebugBadge()}>\n                            <IconDebugMenu />\n                        </Badge>\n                    </IconButton>)}\n\n                </Toolbar>);\n        } else {\n            return null;\n        }\n    }\n\n    getScriptEditor() {\n        if (this.state.selected && this.props.objects[this.state.selected] && this.state.blockly !== null && (!this.state.blockly || this.state.showBlocklyCode)) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return (<div className={this.props.classes.editorDiv} key=\"scriptEditorDiv\">\n                <ScriptEditor\n                    key=\"scriptEditor\"\n                    name={this.state.selected}\n                    insert={this.state.insert}\n                    onInserted={() => this.setState({insert: ''})}\n                    onForceSave={() => this.onSave()}\n                    searchText={this.state.searchText}\n                    onRegisterSelect={func => this.onRegisterSelect(func)}\n                    readOnly={this.state.showBlocklyCode}\n                    code={this.scripts[this.state.selected].source || ''}\n                    isDark={this.state.theme === 'dark'}\n                    connection={this.props.connection}\n                    onChange={newValue => this.onChange({script: newValue})}\n                    language={this.scripts[this.state.selected].engineType === 'TypeScript/ts' ? 'typescript' : 'javascript'}\n                />\n            </div>);\n        } else {\n            return null;\n        }\n    }\n\n    getBlocklyEditor() {\n        if (this.state.selected && this.props.objects[this.state.selected] && (this.state.blockly && !this.state.showBlocklyCode) && this.state.visible) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return (<div className={this.props.classes.editorDiv} key=\"blocklyEditorDiv\">\n                <BlocklyEditor\n                    command={this.state.cmdToBlockly}\n                    key=\"BlocklyEditor\"\n                    theme={this.state.theme}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    onChange={newValue => this.onChange({script: newValue})}\n                />\n            </div>);\n        } else {\n            return null;\n        }\n    }\n\n    getConfirmDialog() {\n        if (this.state.confirm) {\n            return (<DialogConfirm\n                key=\"dialogConfirm1\"\n                question={this.state.confirm}\n                onClose={() => {\n                    this.setState({confirm: ''});\n                    if (this.confirmCallback) {\n                        const cb = this.confirmCallback;\n                        this.confirmCallback = null;\n                        cb(false);\n                    }\n                }}\n                onOk={() => {\n                    if (this.confirmCallback) {\n                        const cb = this.confirmCallback;\n                        this.confirmCallback = null;\n                        cb(true);\n                    }\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    getSelectIdDialog() {\n        if (this.state.showSelectId) {\n            return (<DialogSelectID\n                key=\"dialogSelectID1\"\n                prefix={'../..'}\n                theme={this.props.theme}\n                connection={this.props.connection}\n                selected={this.selectId.callback ? this.selectId.initValue || '' : this.getSelect ? this.getSelect() : ''}\n                statesOnly={true}\n                onClose={() => this.setState({showSelectId: false})}\n                onOk={(selected, name) => {\n                    this.selectId.initValue = null;\n                    if (this.selectId.callback) {\n                        this.selectId.callback(selected);\n                        this.selectId.callback = null;\n                    } else {\n                        this.setState({insert: `'${selected}'/*${name}*/`})\n                    }\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    getCronDialog() {\n        if (this.state.showCron) {\n            return (<DialogCron\n                key=\"dialogCron1\"\n                cron={this.cron.callback ? this.cron.initValue || '' : this.getSelect ? this.getSelect() : '* * * * *'}\n                onClose={() => this.setState({showCron: false})}\n                onOk={cron => {\n                    this.cron.initValue = null;\n                    if (this.cron.callback) {\n                        this.cron.callback(cron);\n                        this.cron.callback = null;\n                    } else {\n                        this.setState({insert: `'${cron}'`})\n                    }\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    getEditorDialog() {\n        if (this.state.showScript) {\n            return (<DialogScriptEditor\n                key=\"scriptEditorDialog\"\n                source={this.scriptDialog.initValue}\n                args={this.scriptDialog.args ? this.scriptDialog.args.join(', ') : ''}\n                isReturn={this.scriptDialog.isReturn}\n                connection={this.props.connection}\n                theme={this.state.theme}\n                onClose={result => {\n                    this.scriptDialog.initValue = null;\n                    if (this.scriptDialog.callback) {\n                        result !== false && this.scriptDialog.callback(result || '');\n                        this.scriptDialog.callback = null;\n                    }\n                    this.setState({showScript: false});\n                }}\n            />);\n        } else {\n            return null;\n        }\n    }\n\n    render() {\n        if (this.state.selected && this.props.objects[this.state.selected] && this.state.blockly === null) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n            setTimeout(() => {\n                const newState = {\n                    blockly: this.scripts[this.state.selected].engineType === 'Blockly',\n                    showBlocklyCode: false,\n                    debugEnabled: this.scripts[this.state.selected].debug,\n                    verboseEnabled: this.scripts[this.state.selected].verbose,\n                };\n\n                // check if all opened files still exists\n                this.removeNonExistingScripts(null, newState);\n                this.setState(newState);\n            }, 100);\n        }\n\n        return [\n            this.getTabs(),\n            this.getToolbar(),\n            this.getScriptEditor(),\n            this.getBlocklyEditor(),\n            this.getConfirmDialog(),\n            this.getSelectIdDialog(),\n            this.getCronDialog(),\n            this.getEditorDialog(),\n            this.getDebugMenu(),\n        ];\n    }\n}\n\nEditor.propTypes = {\n    objects: PropTypes.object.isRequired,\n    selected: PropTypes.string.isRequired,\n    onSelectedChange: PropTypes.func.isRequired,\n    onRestart: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    visible: PropTypes.bool,\n    menuOpened: PropTypes.bool,\n    onLocate: PropTypes.func,\n    runningInstances: PropTypes.object,\n    connection: PropTypes.object,\n    searchText: PropTypes.string,\n    theme: PropTypes.string\n};\n\nexport default withStyles(styles)(Editor);\n","import PropTypes from 'prop-types';\n\nexport const PROGRESS = {\n    CONNECTING: 0,\n    CONNECTED: 1,\n    OBJECTS_LOADED: 2,\n    READY: 3\n};\n\nclass Connection {\n    constructor(props) {\n        props = props || {};\n        this.props = props;\n        this.autoSubscribes = this.props.autoSubscribes || [];\n        this.autoSubscribeLog = this.props.autoSubscribeLog;\n        this.socket = window.io.connect(\n            window.location.protocol + '//' + window.location.host.replace('3000', '8081'),\n            {query: 'ws=true'});\n        this.states = {};\n        this.objects = null;\n        this.scripts = {\n            list: [],\n            hosts: [],\n            groups: [],\n            instances: []\n        };\n        this.acl = null;\n        this.firstConnect = true;\n        this.waitForRestart = false;\n        this.systemLang = 'en';\n        this.connected = false;\n        this.statesSubscribes = {}; // subscribe for states\n        this.onProgress = this.props.onProgress || function () {};\n        this.onError = this.props.onError || function (err) {console.error(err);};\n\n        this.socket.on('connect', () => {\n            this.connected = true;\n            if (this.firstConnect) {\n                this.onProgress(PROGRESS.CONNECTED);\n                this.firstConnect = false;\n                this.socket.emit('getUserPermissions', (err, acl) => {\n                    this.acl = acl;\n                    // Read system configuration\n                    this.socket.emit('getObject', 'system.config', (err, data) => {\n                        this.systemConfig = data;\n                        if (!err && this.systemConfig && this.systemConfig.common) {\n                            this.systemLang = this.systemConfig.common.language;\n                        } else {\n                            this.systemLang = window.navigator.userLanguage || window.navigator.language;\n\n                            if (this.systemLang !== 'en' && this.systemLang !== 'de' && this.systemLang !== 'ru') {\n                                this.systemConfig.common.language = 'en';\n                                this.systemLang = 'en';\n                            }\n                        }\n                        this.props.onLanguage && this.props.onLanguage(this.systemLang);\n\n                        this.getObjects(() => {\n                            this.onProgress(PROGRESS.READY);\n                            this.props.onReady && this.props.onReady(this.objects, this.scripts);\n                        });\n                    });\n                });\n            } else {\n                this.onProgress(PROGRESS.READY);\n            }\n\n            this.subscribe(true);\n\n            if (this.waitForRestart) {\n                window.location.reload();\n            }\n        });\n        this.socket.on('disconnect', () => {\n            this.connected = false;\n            this.subscribed = false;\n            this.onProgress(PROGRESS.CONNECTING)\n        });\n        this.socket.on('reconnect', () => {\n            this.onProgress(PROGRESS.READY);\n            if (this.waitForRestart) {\n                window.location.reload();\n            }\n        });\n        this.socket.on('reauthenticate', () => window.location.reload());\n        this.socket.on('log', message => {\n            this.props.onLog && this.props.onLog(message);\n            this.onLogHandler && this.onLogHandler(message);\n        });\n\n        this.socket.on('permissionError', err =>\n            this.onError({message: 'no permission', operation: err.operation, type: err.type, id: (err.id || '')}));\n\n        this.socket.on('objectChange', (id, obj) => setTimeout(() => this.objectChange(id, obj), 0));\n        this.socket.on('stateChange', (id, state) => setTimeout(() => this.stateChange(id, state), 0));\n    }\n\n    subscribeState(id, cb) {\n        if (!this.statesSubscribes[id]) {\n            const r = id\n                .replace(/\\./g, '\\\\.')\n                .replace(/\\*/g, '.*')\n                .replace(/\\(/g, '\\\\(')\n                .replace(/\\)/g, '\\\\)')\n                .replace(/\\+/g, '\\\\+')\n                .replace(/\\[/g, '\\\\[');\n\n            this.statesSubscribes[id] = {reg: new RegExp(r), cbs: []};\n            this.statesSubscribes[id].cbs.push(cb);\n            if (this.connected) {\n                this.socket.emit('subscribe', id);\n            }\n        } else {\n            this.statesSubscribes[id].cbs.indexOf(cb) === -1 && this.statesSubscribes[id].cbs.push(cb);\n        }\n        this.getState(id, cb);\n    }\n\n    unsubscribeState(id, cb) {\n        if (this.statesSubscribes[id]) {\n            const pos = this.statesSubscribes[id].cbs.indexOf(cb);\n            if (pos !== -1) {\n                this.statesSubscribes[id].cbs.splice(pos, 1);\n            }\n            if (!this.statesSubscribes[id].cbs.length) {\n                delete this.statesSubscribes[id];\n                this.connected && this.socket.emit('unsubscribe', id);\n            }\n        }\n    }\n\n    objectChange(id, obj) {\n        // update main.objects cache\n        if (!this.objects) return;\n\n        let changed = false;\n        if (obj) {\n            if (obj._rev && this.objects[id]) {\n                this.objects[id]._rev = obj._rev;\n            }\n\n            if (!this.objects[id] || JSON.stringify(this.objects[id]) !== JSON.stringify(obj)) {\n                this.objects[id] = obj;\n                changed = true;\n                let pos;\n                if (obj.type === 'instance') {\n                    pos = this.scripts.instances.indexOf(id);\n                    if (pos === -1) this.scripts.instances.push(id);\n                } else\n                if (obj.type === 'script') {\n                    pos = this.scripts.list.indexOf(id);\n                    if (pos === -1) this.scripts.list.push(id);\n                } else\n                if (id.match(/^script\\.js\\./) && obj.type === 'channel') {\n                    pos = this.scripts.groups.indexOf(id);\n                    if (pos === -1) this.scripts.groups.push(id);\n                }\n            }\n        } else if (this.objects[id]) {\n            const oldObj = {_id: id, type: this.objects[id].type};\n            delete this.objects[id];\n            let pos;\n            if (oldObj.type === 'instance') {\n                pos = this.scripts.instances.indexOf(id);\n                if (pos !== -1) this.scripts.instances.splice(pos, 1);\n            } else\n            if (oldObj.type === 'script') {\n                pos = this.scripts.list.indexOf(id);\n                if (pos !== -1) this.scripts.list.splice(pos, 1);\n            } else\n            if (id.match(/^script\\.js\\./) && oldObj.type === 'channel') {\n                pos = this.scripts.groups.indexOf(id);\n                if (pos !== -1) this.scripts.groups.splice(pos, 1);\n            }\n            changed = true;\n        }\n\n        if (id.match(/^system\\.adapter\\.[-\\w\\d]+\\$/)) {\n            if (obj[id].common && obj[id].common.blockly) {\n                this.props.onBlocklyChanges(id);\n            }\n        }\n        if (changed) {\n            this.props.onObjectChange && this.props.onObjectChange(this.objects, this.scripts);\n        }\n    }\n\n    stateChange(id, state) {\n        id = id ? id.replace(/[\\s'\"]/g, '_') : '';\n        for (const task in this.statesSubscribes) {\n            if (this.statesSubscribes.hasOwnProperty(task) && this.statesSubscribes[task].reg.test(id)) {\n                this.statesSubscribes[task].cbs.forEach(cb => cb(null, state, id));\n            }\n        }\n    }\n\n    getStates(cb, disableProgressUdpate) {\n        this.socket.emit('getStates', (err, res) => {\n            this.states = res;\n            !disableProgressUdpate && this.onProgress(PROGRESS.STATES_LOADED);\n            cb && setTimeout(() => cb(this.states), 0);\n        });\n    }\n\n    getState(id, cb) {\n        if (!cb) {\n            return new Promise((resolve, reject) =>\n                this.getState(id, (err, state, id) => err ? reject(err, id) : resolve(state, id)));\n        } else {\n            this.socket.emit('getState', id, (err, state) => cb(err, state, id));\n        }\n    }\n\n    getObjects(refresh, cb, disableProgressUdpate) {\n        if (typeof refresh === 'function') {\n            disableProgressUdpate = cb;\n            cb = refresh;\n            refresh = false;\n        }\n\n        if (!refresh && this.objects) {\n            return setTimeout(() => cb && cb(this.objects), 0);\n        }\n\n        this.socket.emit('getAllObjects', (err, res) => {\n            setTimeout(() => {\n                let obj;\n                this.objects = res;\n                for (const id in this.objects) {\n                    if (!this.objects.hasOwnProperty(id) || id.slice(0, 7) === '_design') continue;\n\n                    obj = res[id];\n                    if (obj.type === 'instance') {\n                        id.startsWith('system.adapter.javascript.') && this.scripts.instances.push(parseInt(id.split('.').pop()));\n                    }\n                    if (obj.type === 'script')   this.scripts.list.push(id);\n                    if (obj.type === 'channel' && id.match(/^script\\.js\\./)) this.scripts.groups.push(id);\n                    if (obj.type === 'host')     this.scripts.hosts.push(id);\n                }\n                disableProgressUdpate && this.onProgress(PROGRESS.OBJECTS_LOADED);\n\n                cb && cb(this.objects);\n            }, 0);\n        });\n    }\n\n    subscribe(isEnable) {\n        if (isEnable && !this.subscribed) {\n            this.subscribed = true;\n            console.log('Subscribe logs');\n            this.autoSubscribes.forEach(id => this.socket.emit('subscribeObjects', id));\n            this.autoSubscribeLog && this.socket.emit('requireLog', true);\n\n            Object.keys(this.statesSubscribes).forEach(id => this.socket.emit('subscribe', id));\n        } else if (!isEnable && this.subscribed) {\n            this.subscribed = false;\n            console.log('Unsubscribe logs');\n            this.autoSubscribes.forEach(id => this.socket.emit('unsubscribeObjects', id));\n            this.autoSubscribeLog && this.socket.emit('requireLog', false);\n\n            Object.keys(this.statesSubscribes).forEach(id => this.socket.emit('unsubscribe', id));\n        }\n    }\n\n    delObject(id) {\n        return new Promise((resolve, reject) => {\n            this.socket.emit('delObject', id, err => {\n                err ? reject(err) : resolve();\n            });\n        });\n    }\n\n    setObject(id, obj) {\n        return new Promise((resolve, reject) => {\n            this.socket.emit('setObject', id, obj, err => {\n                err ? reject(err) : resolve();\n            });\n        });\n    }\n\n    updateScript(oldId, newId, newCommon) {\n        return new Promise((resolve, reject) => {\n            this.socket.emit('getObject', oldId, (err, _obj) => {\n                setTimeout(() => {\n                    const obj = {common: {}};\n\n                    if (newCommon.engine  !== undefined) obj.common.engine  = newCommon.engine;\n                    if (newCommon.enabled !== undefined) obj.common.enabled = newCommon.enabled;\n                    if (newCommon.source  !== undefined) obj.common.source  = newCommon.source;\n                    if (newCommon.debug   !== undefined) obj.common.debug   = newCommon.debug;\n                    if (newCommon.verbose !== undefined) obj.common.verbose = newCommon.verbose;\n\n                    if (oldId === newId && _obj && _obj.common && newCommon.name === _obj.common.name) {\n                        if (!newCommon.engineType || newCommon.engineType !== _obj.common.engineType) {\n                            if (newCommon.engineType !== undefined) obj.common.engineType  = newCommon.engineType || 'Javascript/js';\n\n                            this.socket.emit('extendObject', oldId, obj, err => err ? reject(err) : resolve());\n                        } else {\n                            this.socket.emit('extendObject', oldId, obj, err => err ? reject(err) : resolve());\n                        }\n                    } else {\n                        // let prefix;\n\n                        // let parts = _obj.common.engineType.split('/');\n\n                        // prefix = 'script.' + (parts[1] || parts[0]) + '.';\n\n                        if (_obj && _obj.common) {\n                            _obj.common.engineType = newCommon.engineType || _obj.common.engineType || 'Javascript/js';\n                            this.socket.emit('delObject', oldId, err => {\n                                if (err) {\n                                    reject(err);\n                                } else {\n                                    if (obj.common.engine  !== undefined) _obj.common.engine  = obj.common.engine;\n                                    if (obj.common.enabled !== undefined) _obj.common.enabled = obj.common.enabled;\n                                    if (obj.common.source  !== undefined) _obj.common.source  = obj.common.source;\n                                    if (obj.common.name    !== undefined) _obj.common.name    = obj.common.name;\n                                    if (obj.common.debug   !== undefined) _obj.common.debug   = obj.common.debug;\n                                    if (obj.common.verbose !== undefined) _obj.common.verbose = obj.common.verbose;\n\n                                    delete _obj._rev;\n\n                                    // Name must always exist\n                                    _obj.common.name = newCommon.name;\n\n                                    _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                                    this.socket.emit('setObject', newId, _obj, err => err ? reject(err) : resolve());\n                                }\n                            });\n                            return;\n                        } else {\n                            _obj = obj;\n                        }\n\n                        // Name must always exist\n                        _obj.common.name = newCommon.name;\n\n                        _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                        this.socket.emit('setObject', newId, _obj, err => err ? reject(err) : resolve());\n                    }\n                }, 0);\n            });\n        });\n    }\n\n    _deleteGroup(id, originalGroup, confirmed, deleted) {\n        if (confirmed.indexOf(id) === -1) {\n            confirmed.push(id);\n        }\n\n        return new Promise((resolve, reject) => {\n            // find all elements\n            for (let l = 0; l < this.scripts.list.length; l++) {\n                if (this.scripts.list[l].substring(0, id.length + 1) === id + '.' &&\n                    (!deleted || deleted.indexOf(this.scripts.list[l]) === -1)) {\n                    return this.deleteId(this.scripts.list[l], id, confirmed, deleted);\n                }\n            }\n\n            for (let g = 0; g < this.scripts.groups.length; g++) {\n                if (this.scripts.groups[g].substring(0, id.length + 1) === id + '.') {\n                    return this.deleteId(this.scripts.groups[g], id, confirmed, deleted);\n                }\n            }\n\n            this.socket.emit('delObject', id, err => {\n                if (err) {\n                    reject(err);\n                } else if (originalGroup !== id) {\n                    return this.deleteId(originalGroup, null, confirmed, deleted);\n                } else {\n                    // finish\n                    resolve();\n                }\n            });\n        });\n    }\n\n    deleteId(id, originalGroup, confirmed, deleted) {\n        originalGroup = originalGroup || id;\n        confirmed     = confirmed     || [];\n        deleted       = deleted       || [];\n\n        return new Promise((resolve, reject) => {\n            if (this.objects[id] && this.objects[id].type === 'script') {\n                if (this.props.onConfirmDelete) {\n                    this.props.onConfirmDelete(false, this.objects[id].common.name, result => {\n                        if (result) {\n                            this.socket.emit('delObject', id, err => {\n                                if (err) {\n                                    reject(err);\n                                } else {\n                                    deleted.push(id);\n                                    return this.deleteId(originalGroup, null, confirmed, deleted);\n                                }\n                            });\n                        } else {\n                            // Do nothing\n                            reject('canceled');\n                        }\n                    });\n                } else {\n                    this.socket.emit('delObject', id, err => {\n                        if (err) {\n                            reject(err);\n                        } else {\n                            deleted.push(id);\n                            return this.deleteId(originalGroup, null, confirmed, deleted);\n                        }\n                    });\n                }\n            } else {\n                let name = id;\n                if (confirmed.indexOf(id) === -1) {\n                    if (this.objects[id] && this.objects[id].common && this.objects[id].common.name) {\n                        name = this.objects[id].common.name;\n                    }\n\n                    if (this.props.onConfirmDelete) {\n                        this.props.onConfirmDelete(true, name, result => {\n                            if (result) {\n                                return this._deleteGroup(id, originalGroup, confirmed, deleted);\n                            } else {\n                                reject('canceled');\n                            }\n                        });\n                    } else {\n                        return this._deleteGroup(id, originalGroup, confirmed, deleted);\n                    }\n                } else {\n                    return this._deleteGroup(id, originalGroup, confirmed, deleted);\n                }\n            }\n        });\n    }\n\n    renameGroup(id, newId, newName, _list) {\n        return new Promise((resolve, reject) => {\n            if (!_list) {\n                _list = [];\n\n                // collect all elements to rename\n                // find all elements\n                for (let l = 0; l < this.scripts.list.length; l++) {\n                    if (this.scripts.list[l].substring(0, id.length + 1) === id + '.') {\n                        _list.push(this.scripts.list[l]);\n                    }\n                }\n                for (let g = 0; g < this.scripts.groups.length; g++) {\n                    if (this.scripts.groups[g].substring(0, id.length + 1) === id + '.') {\n                        _list.push(this.scripts.list[g]);\n                    }\n                }\n\n                this.socket.emit('getObject', id, (err, obj) => {\n                    if (err) {\n                        reject(err);\n                    } else {\n                        obj = obj || {common: {}};\n                        obj.common.name = newName;\n                        obj._id = newId;\n\n                        this.socket.emit('delObject', id, err => {\n                            if (err) {\n                                reject(err);\n                            } else {\n                                this.socket.emit('setObject', newId, obj, err => {\n                                    if (err) {\n                                        reject(err);\n                                    } else {\n                                        return this.renameGroup(id, newId, newName, _list);\n                                    }\n                                });\n                            }\n                        });\n                    }\n                });\n            } else {\n                if (_list.length) {\n                    let nId = _list.pop();\n\n                    this.socket.emit('getObject', nId, (err, obj) => {\n                        if (err) {\n                            reject(err);\n                        } else {\n                            this.socket.emit('delObject', nId, err => {\n                                if (err) {\n                                    reject(err);\n                                } else {\n                                    nId = newId + nId.substring(id.length);\n                                    this.socket.emit('setObject', nId, obj, err => {\n                                        if (err) {\n                                            reject(err);\n                                        } else {\n                                            return this.renameGroup(id, newId, newName, _list);\n                                        }\n                                    });\n                                }\n                            });\n                        }\n                    });\n                } else {\n                    resolve();\n                }\n            }\n        });\n    }\n\n    getScripts() {\n        return this.scripts;\n    }\n\n    sendTo(instance, command, data, cb) {\n        this.socket.emit('sendTo', instance, command, data, cb);\n    }\n    extendObject(id, obj, cb) {\n        this.socket.emit('extendObject', id, obj, cb);\n    }\n\n    registerLogHandler(handler) {\n        this.onLogHandler = handler;\n    }\n    unregisterLogHandler(handler) {\n        this.onLogHandler = null;\n    }\n}\n\nConnection.Connection = {\n    onLog: PropTypes.func,\n    onReady: PropTypes.func,\n    onProgress: PropTypes.func,\n};\n\nexport default Connection;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport './loader.css'\n\nconst styles = theme => ({\n\n});\n\nclass Loader extends React.Component {\n    constructor(props) {\n        super(props);\n        this.size = this.props.size || 234;\n    }\n\n    render() {\n        return (\n            <div className={'logo-back logo-background-' + this.props.theme}>\n                <div className=\"logo-div\" style={{width: this.size, height: this.size}}>\n                    <div className={'logo-top logo-background-' + this.props.theme} style={{left: '37%'}}/>\n                    <div className={'logo-top logo-background-' + this.props.theme} style={{left: '57%'}}/>\n                    <div\n                        className={'logo-border logo-background-' + this.props.theme + ' logo-animate-wait'}\n                        style={{borderWidth: this.size * 0.132}}\n                    />\n                    <div className={'logo-i logo-animate-color-inside-' + this.props.theme}/>\n                    <div className={'logo-i-top logo-animate-color-inside-' + this.props.theme} style={{top: '18%'}}/>\n                    <div className={'logo-i-top logo-animate-color-inside-' + this.props.theme} style={{bottom: '18%'}}/>\n                </div>\n                <div className={'logo-animate-grow logo-animate-grow-' + this.props.theme}\n                     style={{width: this.size + 11, height: this.size + 11}}\n                />\n            </div>\n        );\n    }\n}\n\nLoader.propTypes = {\n    size: PropTypes.number,\n    theme: PropTypes.string\n};\n\nexport default withStyles(styles)(Loader);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Dropzone from 'react-dropzone';\nimport DialogError from './Error';\nimport {MdFileUpload as IconUpload} from 'react-icons/md';\nimport {MdCancel as IconNo} from 'react-icons/md';\nimport {MdPlusOne as IconPlus} from 'react-icons/md';\n\nimport I18n from '../i18n';\n\nconst styles = theme => ({\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    dropzone: {\n        marginTop: 20,\n        width: '100%',\n        borderWidth: 5,\n        borderStyle: 'dashed',\n        borderColor: '#d0cccc',\n        textAlign: 'center',\n        boxSizing: 'border-box',\n        paddingTop: 45,\n        borderRadius: 10,\n        height: 'calc(100% - 10px)'\n    },\n    dropzoneDiv: {\n        width: '100%',\n        height: '100%'\n    },\n    dropzoneRejected: {\n        borderColor: '#970000',\n    },\n    dropzoneAccepted: {\n        borderColor: '#17cd02',\n    },\n    icon: {\n        height: '30%',\n        width: '30%',\n        color: '#eeeeee',\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        zIndex: 0,\n    },\n    iconError: {\n        color: '#ffc3c6',\n    },\n    iconOk: {\n        color: '#aaeebc',\n    },\n    text: {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        color: '#868686',\n        position: 'absolute',\n        zIndex: 1,\n    }\n});\nclass DialogImportFile extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: '',\n            imageStatus: ''\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose();\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    static readFileDataUrl(file, cb) {\n        const reader = new FileReader();\n        reader.onload = () => {\n            cb(null, {data: reader.result, name: file.name});\n        };\n        reader.onabort = () => {\n            console.error('file reading was aborted');\n            cb(I18n.t('file reading was aborted'));\n        };\n        reader.onerror = (e) => {\n            console.error('file reading has failed');\n            cb(I18n.t('file reading has failed: %s', e));\n        };\n\n        reader.readAsDataURL(file)\n    }\n\n    handleDropFile(files) {\n        if (files && files.hasOwnProperty('target')) {\n            files = files.target.files;\n        }\n\n        if (!files && !files.length) {\n            return;\n        }\n\n        const file = files[files.length - 1];\n\n        if (!file) {\n            return;\n        }\n        DialogImportFile.readFileDataUrl(file, (err, result) => {\n            if (err) {\n                this.setState({error: err})\n            } else {\n                this.props.onClose(result && result.data);\n            }\n        });\n    }\n\n    render() {\n        const classes = this.props.classes;\n        const className = classes.dropzone + ' ' + (this.state.imageStatus === 'accepted' ? classes.dropzoneAccepted : (this.state.imageStatus === 'rejected' ? classes.dropzoneRejected : ''));\n\n        return (\n            <Dialog\n                disableBackdropClick\n                disableEscapeKeyDown\n                maxWidth=\"lg\"\n                classes={{paper: classes.dialog}}\n                fullWidth={true}\n                open={true}\n                aria-labelledby=\"import-dialog-title\"\n            >\n                <DialogTitle id=\"import-dialog-title\">{I18n.t('Import scripts')}</DialogTitle>\n                <DialogContent className={classes.fullHeight}>\n                    <Dropzone   key='image-drop'\n\n                                maxSize={50000000}\n                                acceptClassName={classes.dropzoneAccepted}\n                                rejectClassName={classes.dropzoneRejected}\n                                onDrop={files => this.handleDropFile(files)}\n                                multiple={false}\n                                accept='application/x-zip-compressed'\n                                className={className}>\n                        {\n                            ({ getRootProps, getInputProps, isDragActive, isDragReject}) => {\n                                if (isDragReject) {\n                                    if (this.state.imageStatus !== 'rejected') {\n                                        this.setState({imageStatus: 'rejected'});\n                                    }\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('Some files will be rejected')}</span>\n                                            <IconNo key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconError}/>\n                                        </div>);\n                                } else if (isDragActive) {\n                                    if (this.state.imageStatus !== 'accepted') {\n                                        this.setState({imageStatus: 'accepted'});\n                                    }\n\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('All files will be accepted')}</span>\n                                            <IconPlus key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconOk}/>\n                                        </div>);\n                                } else {\n                                    if (this.state.imageStatus !== 'wait') {\n                                        this.setState({imageStatus: 'wait'});\n                                    }\n                                    return (\n                                        <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <span key=\"text\" className={this.props.classes.text}>{I18n.t('Drop some files here or click...')}</span>\n                                            <IconUpload key=\"icon\" className={this.props.classes.icon}/>\n                                        </div>);\n                                }\n                            }\n                        }\n                    </Dropzone>\n                    {this.state.error ? (<DialogError text={this.state.error} onClose={() => this.setState({error: ''})}/>) : null}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.handleCancel()} color=\"secondary\">{I18n.t('Close')}</Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nDialogImportFile.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n};\n\nexport default withStyles(styles)(DialogImportFile);\n","import React, {Component} from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport SplitterLayout from 'react-splitter-layout';\nimport {MdMenu as IconMenuClosed} from 'react-icons/md';\nimport {MdArrowBack as IconMenuOpened} from 'react-icons/md';\n\nimport 'react-splitter-layout/lib/index.css';\n\nimport SideMenu from './SideMenu';\nimport Log from './Log';\nimport Editor from './Editor';\nimport Theme from './Theme';\nimport Connection from './Connection';\nimport {PROGRESS} from './Connection';\nimport Loader from './Components/Loader'\nimport I18n from './i18n';\nimport DialogMessage from './Dialogs/Message';\nimport DialogError from './Dialogs/Error';\nimport DialogConfirm from './Dialogs/Confirmation';\nimport DialogImportFile from './Dialogs/ImportFile';\nimport BlocklyEditor from './Components/BlocklyEditor';\n\nconst styles = theme => ({\n    root: Theme.root,\n    menuDiv: {\n        overflow: 'hidden',\n    },\n    splitterDivs: {\n        '&>div': {\n            overflow: 'hidden',\n            width: '100%',\n            height: '100%',\n        },\n        '& .layout-splitter': {\n           background: Theme.type === 'dark' ? '#595858' : '#ccc;'\n        }\n    },\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n    },\n    /*appBarWithMenu: {\n        width: `calc(100% - ${Theme.menu.width}px)`,\n        marginLeft: Theme.menu.width,\n    },\n    appBarWithoutMenu: {\n        width: `100%`,\n        marginLeft: 0,\n    },*/\n    content: {\n        width: '100%',\n        height: '100%',\n        backgroundColor: theme.palette.background.default,\n        position: 'relative'\n    },\n    splitterDivWithMenu: {\n        width: `calc(100% - ${Theme.menu.width}px)`,\n        height: '100%'\n    },\n    menuDivWithoutMenu: {\n        '&>div:first-child': {\n            display: 'none'\n        },\n        '&>.layout-splitter': {\n            display: 'none'\n        },\n    },\n    progress: {\n        margin: 100\n    },\n    menuOpenCloseButton: {\n        position: 'absolute',\n        left: 0,\n        borderRadius: '0 5px 5px 0',\n        top: 6,\n        paddingTop: 8,\n        cursor: 'pointer',\n        zIndex: 1,\n        height: 25,\n        width: 20,\n        background: Theme.colors.secondary,\n        color: Theme.colors.primary,\n        paddingLeft: 3,\n        '&:hover': {\n            color: 'white'\n        }\n    }\n});\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.objects = {};\n        this.state = {\n            connected: false,\n            progress: 0,\n            ready: false,\n            updateScripts: 0,\n            scriptsHash: 0,\n            instances: [],\n            updating: false,\n            resizing: false,\n            selected: null,\n            logMessage: {},\n            editing: [],\n            menuOpened: window.localStorage ? window.localStorage.getItem('App.menuOpened') !== 'false' : true,\n            menuSelectId: '',\n            errorText: '',\n            expertMode: window.localStorage ? window.localStorage.getItem('App.expertMode') === 'true' : false,\n            logHorzLayout: window.localStorage ? window.localStorage.getItem('App.logHorzLayout') === 'true' : false,\n            runningInstances: {},\n            confirm: '',\n            importFile: false,\n            message: '',\n            searchText: '',\n            themeType: window.localStorage ? window.localStorage.getItem('App.theme') || 'light' : 'light',\n        };\n        // this.logIndex = 0;\n        this.logSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.logSize')) || 150 : 150;\n        this.menuSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.menuSize')) || 500 : 500;\n        this.scripts = {};\n        this.hosts = [];\n        this.importFile = null;\n\n        this.socket = new Connection({\n            autoSubscribes: ['script.*', 'system.adapter.javascript.*'],\n            autoSubscribeLog: true,\n            onProgress: progress => {\n                if (progress === PROGRESS.CONNECTING) {\n                    this.setState({connected: false});\n                } else if (progress === PROGRESS.READY) {\n                    this.setState({connected: true, progress: 100});\n                } else {\n                    this.setState({connected: true, progress: Math.round(PROGRESS.READY / progress * 100)});\n                }\n            },\n            onReady: (objects, scripts) => {\n                I18n.setLanguage(this.socket.systemLang);\n                window.systemLang = this.socket.systemLang;\n                this.onObjectChange(objects, scripts, true);\n            },\n            onObjectChange: (objects, scripts) => this.onObjectChange(objects, scripts),\n            onError: err => {\n                console.error(err);\n            },\n            onBlocklyChanges: () => {\n                this.confirmCallback = result => result && window.location.reload();\n                this.setState({confirm: I18n.t('Some blocks were updated. Reload admin?')});\n            },\n            onLog: message => {\n                //this.logIndex++;\n                //this.setState({logMessage: {index: this.logIndex, message}})\n            }\n        });\n\n        this.socket.subscribeState('system.adapter.javascript.*.alive', (err, state, id) => {\n            id = id && id.substring(0, id.length - 6); // - .alive\n            if (this.state.runningInstances[id] !== (state ? state.val : false)) {\n                const runningInstances = JSON.parse(JSON.stringify(this.state.runningInstances));\n                runningInstances[id] = (state ? state.val : false);\n                this.setState({runningInstances});\n            }\n        });\n    }\n\n    onObjectChange(objects, scripts, isReady) {\n        this.objects = objects;\n        // extract scripts and instances\n        const nScripts = {};\n        const newState = {};\n\n        scripts.list.forEach(id => nScripts[id] = objects[id]);\n        scripts.groups.forEach(id => nScripts[id] = objects[id]);\n        this.hosts = scripts.hosts;\n\n        if (window.localStorage && window.localStorage.getItem('App.expertMode') !== 'true' && window.localStorage.getItem('App.expertMode') !== 'false') {\n            // detect if some global scripts exists\n            if (scripts.list.find(id => id.startsWith('script.js.global.'))) {\n                newState.expertMode = true;\n            }\n        }\n\n        let scriptsHash = this.state.scriptsHash;\n        if (this.compareScripts(scripts)) {\n            scriptsHash++;\n        }\n        scripts.instances.sort();\n        this.scripts = nScripts;\n        newState.instances = scripts.instances;\n        newState.scriptsHash = scriptsHash;\n\n        if (isReady !== undefined) {\n            newState.ready = isReady;\n        }\n\n        BlocklyEditor.loadCustomBlockly(objects, () => this.setState(newState));\n    }\n\n    compareScripts(newScripts) {\n        const oldIds = Object.keys(this.scripts);\n        const newIds = Object.keys(newScripts);\n        if (oldIds.length !== newIds.length) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        if (JSON.stringify(oldIds) !== JSON.stringify(newIds)) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        for (let i = 0; i < oldIds.length; i++) {\n            let oldScript = this.scripts[oldIds[i]].common;\n            let newScript = newScripts[oldIds[i]].common;\n            if (oldScript.name !== newScript.name) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engine !== newScript.engine) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engineType !== newScript.engineType) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.enabled !== newScript.enabled) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n        }\n    }\n\n    onRename(oldId, newId, newName, newInstance) {\n        console.log(`Rename ${oldId} => ${newId}`);\n        let promise;\n        this.setState({updating: true});\n        if (this.scripts[oldId] && this.scripts[oldId].type === 'script') {\n            const common = JSON.parse(JSON.stringify(this.scripts[oldId].common));\n            common.name = newName || common.name;\n            if (newInstance !== undefined) {\n                common.engine = 'system.adapter.javascript.' + newInstance;\n            }\n            promise = this.socket.updateScript(oldId, newId, common);\n        } else {\n            promise = this.socket.renameGroup(oldId, newId, newName);\n        }\n\n        promise\n            .then(() => this.setState({updating: false}))\n            .catch(err => err !== 'canceled' && this.showError(err));\n    }\n\n    onUpdateScript(id, common) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            this.socket.updateScript(id, id, common)\n                .then(() => {})\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    onSelect(selected) {\n        if (this.objects[selected] && this.objects[selected].common && this.objects[selected].type === 'script') {\n            this.setState({selected, menuSelectId: selected}, () =>\n                setTimeout(() => this.setState({menuSelectId: ''})), 300);\n        }\n    }\n\n    onExpertModeChange(expertMode) {\n        if (this.state.expertMode !== expertMode) {\n            window.localStorage && window.localStorage.setItem('App.expertMode', expertMode ? 'true' : 'false');\n            this.setState({expertMode});\n        }\n    }\n\n    showError(err) {\n        this.setState({errorText: err});\n    }\n\n    showMessage(message) {\n        this.setState({message});\n    }\n\n    onDelete(id) {\n        this.socket.delObject(id)\n        .then(() => {})\n        .catch(err => {\n            this.showError(err);\n        });\n    }\n\n    onEdit(id) {\n        if (this.state.selected !== id) {\n            this.setState({selected: id});\n        }\n    }\n\n    onAddNew(id, name, isFolder, instance, type, source) {\n        const reg = new RegExp(`^${id}\\\\.`);\n\n        if (Object.keys(this.objects).find(_id => id === _id || reg.test(id))) {\n            this.showError(I18n.t('Yet exists!'));\n            return;\n        }\n\n        if (isFolder) {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true\n                },\n                type: 'channel'\n            }).then(() => {\n                setTimeout(() => this.setState({menuSelectId: id}, () =>\n                    setTimeout(() => this.setState({menuSelectId: ''})), 300), 1000);\n            }).catch(err => {\n                this.showError(err);\n            });\n        } else {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true,\n                    engineType: type,\n                    engine: 'system.adapter.javascript.' + (instance || 0),\n                    source: source || '',\n                    debug: false,\n                    verbose: false\n                },\n                type: 'script'\n            }).then(() => {\n                setTimeout(() => this.onSelect(id), 1000);\n            }).catch(err => {\n                this.showError(err);\n            });\n        }\n    }\n\n    onEnableDisable(id, enabled) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            const common = this.objects[id].common;\n            common.enabled = enabled;\n            common.expert = true;\n            this.socket.updateScript(id, id, common)\n                .then(() => {})\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    getLiveHost(cb, _list) {\n        if (!_list) {\n            _list = JSON.parse(JSON.stringify(this.hosts)) || [];\n        }\n\n        if (_list.length) {\n            const id = _list.shift();\n            this.socket.getState(id + '.alive', (err, state) => {\n                if (!err && state && state.val) {\n                    cb(id);\n                } else {\n                    setTimeout(() => this.getLiveHost(cb, _list));\n                }\n            });\n        } else {\n            cb();\n        }\n    }\n\n    onExport() {\n        this.getLiveHost(host => {\n            if (!host) {\n                this.showError(I18n.t('No active host found'));\n                return;\n            }\n\n            const d = new Date();\n            let date = d.getFullYear();\n            let m = d.getMonth() + 1;\n            if (m < 10) m = '0' + m;\n            date += '-' + m;\n            m = d.getDate();\n            if (m < 10) m = '0' + m;\n            date += '-' + m + '-';\n\n            this.socket.socket.emit('sendToHost', host, 'readObjectsAsZip', {\n                adapter: 'javascript',\n                id: 'script.js',\n                link: date + 'scripts.zip' // request link to file and not the data itself\n            }, data => {\n                if (typeof data === 'string') {\n                    // it is a link to created file\n                    const a = document.createElement('a');\n                    a.href = '/zip/' + date + 'scripts.zip';\n                    document.body.appendChild(a);\n                    a.click();\n                    a.remove();\n                } else {\n                    data.error && this.showError(data.error);\n                    if (data.data) {\n                        const a = document.createElement('a');\n                        a.href = 'data: application/zip;base64,' + data.data;\n                        a.download = date + 'scripts.zip';\n                        document.body.appendChild(a);\n                        a.click();\n                        a.remove();\n                    }\n                }\n            });\n        });\n    }\n\n    onImport(data) {\n        this.importFile = data;\n        if (data) {\n            this.confirmCallback = this.onImportConfirmed.bind(this);\n            this.setState({importFile: false, confirm: I18n.t('Existing scripts will be overwritten.')});\n        } else {\n            this.setState({importFile: false});\n        }\n    }\n\n    onImportConfirmed(ok) {\n        let data = this.importFile;\n        this.importFile = null;\n        if (ok && data) {\n            data = data.split(',')[1];\n            this.getLiveHost(host => {\n                if (!host) {\n                    this.showError(I18n.t('No active host found'));\n                    return;\n                }\n                this.socket.socket.emit('sendToHost', host, 'writeObjectsAsZip', {\n                    data: data,\n                    adapter: 'javascript',\n                    id: 'script.js'\n                }, data => {\n                    if (data === 'permissionError') {\n                        this.showError(I18n.t(data));\n                    } else if (!data || data.error) {\n                        this.showError(data ? I18n.t(data.error) : I18n.t('Unknown error'));\n                    } else {\n                        this.showMessage(I18n.t('Done'));\n                    }\n                });\n            });\n        }\n    }\n\n    toggleLogLayout() {\n        window.localStorage && window.localStorage.setItem('App.logHorzLayout', this.state.logHorzLayout ? 'false' : 'true');\n        this.setState({logHorzLayout: !this.state.logHorzLayout});\n    }\n\n    renderMain() {\n        const {classes} = this.props;\n        const errorDialog = this.state.errorText ? (<DialogError key=\"dialogError\" onClose={() => this.setState({errorText: ''})} text={this.state.errorText}/>) : null;\n        return [\n            this.state.message ? (<DialogMessage key=\"dialogMessage\" onClose={() => this.setState({message: ''})} text={this.state.message}/>) : null,\n            errorDialog,\n            this.state.importFile ? (<DialogImportFile key=\"dialogImportFile\" onClose={data => this.onImport(data)} />) : null,\n            this.state.confirm ? (<DialogConfirm key=\"dialogConfirm\" onClose={() => {\n                // onClose is called directly after onOk\n                this.state.confirm && this.setState({confirm: ''});\n                this.confirmCallback && this.confirmCallback();\n                this.confirmCallback = null;\n            }} onOk={() => {\n                this.setState({confirm: ''});\n                this.confirmCallback(true);\n                this.confirmCallback = null;\n            }} question={this.state.confirm}/>) : null,\n            (<div className={classes.content + ' iobVerticalSplitter'} key=\"main\">\n                <div key=\"closeMenu\" className={classes.menuOpenCloseButton} onClick={() => {\n                    window.localStorage && window.localStorage.setItem('App.menuOpened', this.state.menuOpened ? 'false' : 'true');\n                    this.setState({menuOpened: !this.state.menuOpened, resizing: true});\n                    setTimeout(() => this.setState({resizing: false}), 300);\n                }}>\n                    {this.state.menuOpened ? (<IconMenuOpened />) : (<IconMenuClosed />)}\n                </div>\n                <SplitterLayout\n                    key=\"splitterLayout\"\n                    vertical={!this.state.logHorzLayout}\n                    primaryMinSize={100}\n                    secondaryInitialSize={this.logSize}\n                    //customClassName={classes.menuDiv + ' ' + classes.splitterDivWithoutMenu}\n                    onDragStart={() => this.setState({resizing: true})}\n                    onSecondaryPaneSizeChange={size => this.logSize = parseFloat(size)}\n                    onDragEnd={() => {\n                        this.setState({resizing: false});\n                        window.localStorage && window.localStorage.setItem('App.logSize', this.logSize.toString());\n                    }}\n                >\n                    <Editor\n                        key=\"editor\"\n                        visible={!this.state.resizing}\n                        connection={this.socket}\n\n                        onLocate={menuSelectId => this.setState({menuSelectId})}\n                        runningInstances={this.state.runningInstances}\n                        menuOpened={this.state.menuOpened}\n                        searchText={this.state.searchText}\n                        theme={this.state.themeType}\n                        onChange={(id, common) => this.onUpdateScript(id, common)}\n                        onSelectedChange={(id, editing) => {\n                            const newState = {};\n                            let changed = false;\n                            if (id !== this.state.selected) {\n                                changed = true;\n                                newState.selected = id;\n                            }\n                            if (JSON.stringify(editing) !== JSON.stringify(this.state.editing)) {\n                                changed = true;\n                                newState.editing = JSON.parse(JSON.stringify(editing));\n                            }\n                            changed && this.setState(newState);\n                        }}\n                        onRestart={id => this.socket.extendObject(id, {})}\n                        selected={this.state.selected && this.objects[this.state.selected] && this.objects[this.state.selected].type === 'script' ? this.state.selected : ''}\n                        objects={this.objects}\n                    />\n                    <Log key=\"log\" verticalLayout={!this.state.logHorzLayout} onLayoutChange={() => this.toggleLogLayout()} editing={this.state.editing} connection={this.socket} selected={this.state.selected}/>\n                </SplitterLayout>\n            </div>),\n        ];\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        if (!this.state.ready) {\n            // return (<CircularProgress className={classes.progress} size={50} />);\n            return (<Loader theme={this.state.themeType}/>);\n        }\n\n        return (\n                <div className={classes.root}>\n                    <SplitterLayout\n                        key=\"menuSplitter\"\n                        vertical={false}\n                        primaryMinSize={300}\n                        primaryIndex={1}\n                        secondaryMinSize={300}\n                        secondaryInitialSize={this.menuSize}\n                        customClassName={classes.splitterDivs + ' ' + (!this.state.menuOpened ? classes.menuDivWithoutMenu : '')}\n                        onDragStart={() => this.setState({resizing: true})}\n                        onSecondaryPaneSizeChange={size => this.menuSize = parseFloat(size)}\n                        onDragEnd={() => {\n                            this.setState({resizing: false});\n                            window.localStorage && window.localStorage.setItem('App.menuSize', this.menuSize.toString());\n                        }}\n                    >\n                        <div className={classes.mainDiv} key=\"menu\">\n                            <SideMenu\n                                key=\"sidemenu\"\n                                scripts={this.scripts}\n                                objects={this.objects}\n                                scriptsHash={this.state.scriptsHash}\n                                instances={this.state.instances}\n                                update={this.state.updateScripts}\n                                onRename={this.onRename.bind(this)}\n                                onSelect={this.onSelect.bind(this)}\n                                connection={this.socket}\n                                selectId={this.state.menuSelectId}\n                                onEdit={this.onEdit.bind(this)}\n                                expertMode={this.state.expertMode}\n                                theme={this.state.themeType}\n                                onThemeChange={theme => {\n                                    window.localStorage && window.localStorage.setItem('App.theme', theme);\n                                    this.setState({themeType: theme}, () => this.props.onThemeChange(theme))\n                                }}\n                                runningInstances={this.state.runningInstances}\n                                onExpertModeChange={this.onExpertModeChange.bind(this)}\n                                onDelete={this.onDelete.bind(this)}\n                                onAddNew={this.onAddNew.bind(this)}\n                                onEnableDisable={this.onEnableDisable.bind(this)}\n                                onExport={this.onExport.bind(this)}\n                                width={this.menuSize}\n                                onImport={() => this.setState({importFile: true})}\n                                onSearch={searchText => this.setState({searchText})}\n                            />\n                        </div>\n                        {this.renderMain()}\n                    </SplitterLayout>\n                </div>\n        );\n    }\n}\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { MuiThemeProvider} from '@material-ui/core/styles';\nimport createTheme from './createTheme';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nlet theme = window.localStorage ? window.localStorage.getItem('App.theme') || 'light' : 'light';\n\nfunction build() {\n    if (typeof Map === 'undefined') {\n        console.log('Something is wrong')\n    }\n    return ReactDOM.render(<MuiThemeProvider theme={createTheme(theme)}>\n        <App onThemeChange={_theme => {\n            theme = _theme;\n            build();\n        }}/>\n    </MuiThemeProvider>, document.getElementById('root'));\n\n}\n\nbuild();\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuMWMqnEsAAAe3SURBVGhD7Vl7bFNlFL+bc/hAJxAQg0B8B0TjI6KiUYxKND6jMTECf2A0+GKw0cfaIeDmGAjoeKljooMIDMEpbgPcZDLd2t7bru3Wdd1KH7QbXeno1rXduj7xfN+9jO6ui7RbciHpyS/LTb9zzvf97nfuOd/5RhBixVUJkTxFrJi4Xnl1E5iUp7q6CUzOVycJcIUkAa6RJMA1kgS4RpIA10gS4BpJAlwjSYBrJAlwjSQBrpEkwDUSISCSEzlyQkgRQvibMCjkBFyNdE77Z0+B9WmTaKu4CWDvaQJqAo9M51OJg0eCk5RoDvTKcmDRVAqfuoZPXssn03m0MgXPaXwylU9iJhSjjK3iJMCnMtY1vlSqX1PdyT9mBQiOd8QF2kR0ovPdMuOUL5SEgGI8w4JWy4hsWapYft/Xmtf26j8sN2dVIeXsY9blv515Z79h/q7WW/KUBNAAAHlsFSeBLNndG9UlCke/P+z1h8aA8EmDe94WDZFNoqXz0NIfKGpZX3P2lNFtdwdcvpB78JK+ZzDU5wv1DAS15wb+aO15pVSfJpYj8jlUnARWSe8uVP/Y2H1hzPK3CRNYhZZ+a76y4KRN3z3o7A8GQxFGI7ZEBoPhTXVdU2H3MPm4d+DODaoSuYPxNgapMfTdv7mZ+Kh+zmbND3JHtzfIDFyG7JDYp+epgDksKe4duKdQvU91nvE0Bqm3eOYUqCcJqfxaGwQJ8+vlyTcNXdO+UBGrSVhS3Dtwxwb1Nom9uz/Y5fZjBDD8NrcfAjcSYQcAhLLdE4DRIU34e84bKNf2zMxTvrVXf9rpY1SjBLyAidrWT1q9jZ1efbcPnDNjQKDePjVBAnwSstDLP7Wvre4UVlkRjnUgVFr4FZayJmcwFGYmuShHW3vFkH8qLIwmNhGf6Hhnr/72QvWeWNHY5QmUt/SAw7dK9YtK2l7d07bskGlDre2g2glk+v0hIDAtwRACQBqGfJcpIVZIETIxPpUQH9e/vd/gD7KD4YNyM7FSSnzcwGjSJvDL8voFu1obzngYPSywgb5AOK/27JR1jcSnDcQKCTbBc62UQUV7cmdrqaI7s9KCPmLYgUQqcUxAVuaR7x8xB0bsAOTy63JRAWGbZErfO2DQOgYYPSzhcBhiZtp6JcQqk+lpiPAUkDeBuYBKX6NIA5/wS9xpdDQkQkCWedRicfkZPSywAxVtrulrleCNrT8EtG6oxPiZ2x1YXm42OQcZPSywA1bX4NxvNChgRprQoM8RCR4lRkMCBFZI3tyrV9m8jB4W2IFgOPKXse/54jZUp3Dcsw2jwSWBLNl9W5v/1PcxelESCEU09oGNtWcfgq1ANKTIP8ucBpcEBNR1Qmpznd0/ytkBTj7Vepegyjrnq2b0TcOhA2ahQ38IXBKApayUPv1da53ZzajGEjgdQfpffMA4Ox9XLvi46ehnnHBIACBAB+MlZUbD8E95pDi8gZ2ScwuLdRNz0USXIopjAoBs8kaxfNlhs+G8zxdk27LE1OP78FfzVKhx4I3mkMM5AQCPTOGRC3Zpj2p74eAEWYixjCWRC5HPqztRpcNlmBBxWMiiAebZsjSRHGJdYvH4oCfAwrgYLuHwhc+OWlA7Cn2ZWJ4iuhIIwLsED0IqjUdlrFcuLjPUmfoCsNJRRGr1vLBbh85IcJi7IggAICkBDTjtCKjrhdSMfNXSQ8ZTphhVAsQfDH9Za0uFGie4QkJoCCisMQ0eeUOO/MEtmo2nbO7BGM1aWbNzZmET1IeUXA4J0JHDqk00YIiHzp6zCtRFDXbGV5Qcb3c9XNQCCtwRoF82JHXIJ2DOGqUBn2m27KliHTQxjLuLUnO67/EdWmKlhDsCPHL2pqZHtmtvgxILvRVdntCXEKUjpCBI5m1r6R1gR1H1addj22EHOCSQKXm9VH+kpQei/N5NTRngAX/BSJN+AKwmJ4rlSw+bRhaHCl3v3K0aYhWHIbRCuqikXWnrBx1FhzerwvrotpYpecqMXMXNIuomEZUhVszIV0PPoD/P7vrDkUiJ3DEZd5Uc7oD0hd1tMutQTxwZ8IcaOz1HNM4f5I7dlOOXZmerYwBKGjMeJXZP4P3DJnj9MC93aZRNALUz4TBqaKAfAMADvGlmaLgUU46ZBSp0xubyMJcpfbGknewY1pFdjpzQux7frk2FRgcmBQLjWImXHTaNvFZZVWmZEPsbkLy8p13TNexW4n/lUHPPEzu06agG06fR8arE4HG17JPfzzDzRInweMf1QGDkLQNPNmtjU1altVLXa+4ZHO3oRou111+l6+VXdczb0pyCrtcvvo7xCyFIf+Qb+/T/mj31Zzz/YsCDxOp9t8yYDgojdwCqmJCavK7xsSLNe/sNa2vO/qw+D8mxxtB3yuyuM7lPGt3H2l2Hmp1b/+lactA4v0ibDiZQMaA4DNWKcSMArnPktxWoFn6ve7647TkMeFhU0nZ7oToFj7JNADjwUM+Or6umF6ju36qZv0P7zLe6Z7/TLdjZ+lCRZvYGNfpXAChk4osWcBXt4RIBGBg7YHPpK0f6FpG+FWRK7Ci4uA7UXsLbpckMeYBnSDXgNuqVDwP+d9MteSoCeIwDckcHS5MFlnJMsExoiOSpYkUGEIBduBoxKU81JV991xbNf+HIGKTzOnGeAAAAAElFTkSuQmCC\""],"sourceRoot":""}