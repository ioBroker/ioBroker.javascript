{"version":3,"file":"static/js/409.7547883a.chunk.js","mappings":"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","sources":["Dialogs/Rename.jsx","Dialogs/Delete.jsx","Dialogs/AddNewScript.jsx","Dialogs/New.jsx","Dialogs/Error.jsx","Dialogs/AdapterDebug.jsx","SideMenu.jsx","Log.jsx","assets/blockly2js.svg","assets/rules2js.svg","Components/ScriptEditorVanilaMonaco.jsx","Dialogs/Export.jsx","Dialogs/Import.jsx","Components/BlocklyEditor.jsx","Dialogs/ScriptEditor.jsx","webpack://js/./src/Components/RulesEditor/style.module.scss?d9e3","webpack://js/./src/Components/RulesEditor/components/CardMenu/style.module.scss?24d8","Components/RulesEditor/helpers/MaterialDynamicIcon.jsx","Components/RulesEditor/components/CardMenu/index.jsx","webpack://js/./src/Components/RulesEditor/components/CurrentItem/style.module.scss?3318","Components/RulesEditor/helpers/deepCopy.jsx","Components/RulesEditor/helpers/filterElement.jsx","webpack://js/./src/Components/RulesEditor/components/GenericBlock/style.module.scss?9124","webpack://js/./src/Components/RulesEditor/components/CustomButton/style.module.scss?0052","Components/RulesEditor/components/CustomButton/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomCheckbox/style.module.scss?0cc5","Components/RulesEditor/components/CustomCheckbox/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomInput/style.module.scss?7193","Components/RulesEditor/components/CustomInput/index.jsx","Components/RulesEditor/components/CustomInstance/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomModal/style.module.scss?7408","Components/RulesEditor/components/CustomModal/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomSelect/style.module.scss?40f6","Components/RulesEditor/components/CustomSelect/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomSlider/style.module.scss?f41a","Components/RulesEditor/components/CustomSlider/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomSwitch/style.module.scss?0c1c","Components/RulesEditor/components/CustomSwitch/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomTime/style.module.scss?880f","Components/RulesEditor/components/CustomTime/index.jsx","webpack://js/./src/Components/RulesEditor/components/CustomDate/style.module.scss?8a42","Components/RulesEditor/components/CustomDate/index.jsx","Components/RulesEditor/helpers/utils.jsx","Components/RulesEditor/helpers/Tour.jsx","Components/RulesEditor/components/GenericBlock/index.jsx","Components/RulesEditor/components/Blocks/ActionSayText.jsx","Components/RulesEditor/components/Blocks/ActionSendEmail.jsx","Components/RulesEditor/components/Blocks/ActionTelegram.jsx","Components/RulesEditor/components/Blocks/ActionPushover.jsx","Components/RulesEditor/components/Blocks/ActionWhatsappcmb.jsx","Components/RulesEditor/components/Blocks/ActionPushsafer.jsx","Components/RulesEditor/helpers/Compile.jsx","Components/RulesEditor/components/Blocks/TriggerScriptSave.jsx","Components/RulesEditor/components/Blocks/TriggerSchedule.jsx","Components/RulesEditor/components/Blocks/TriggerState.jsx","Components/RulesEditor/components/Blocks/ConditionState.jsx","Components/RulesEditor/components/Blocks/ConditionTime.jsx","Components/RulesEditor/components/Blocks/ConditionAstronomical.jsx","Components/RulesEditor/components/Blocks/ActionSetState.jsx","Components/RulesEditor/components/StandardBlocks/index.jsx","Components/RulesEditor/components/Blocks/ActionExec.jsx","Components/RulesEditor/components/Blocks/ActionHTTPCall.jsx","Components/RulesEditor/components/Blocks/ActionPrintText.jsx","Components/RulesEditor/components/Blocks/ActionPause.jsx","Components/RulesEditor/components/Blocks/ActionFunction.jsx","Components/RulesEditor/components/Blocks/ActionSetStateDelayed.jsx","Components/RulesEditor/components/Blocks/ActionOperateStates.jsx","Components/RulesEditor/components/ContextWrapper/index.jsx","Components/RulesEditor/components/CurrentItem/index.jsx","Components/RulesEditor/helpers/findElement.jsx","Components/RulesEditor/components/CustomDragLayer/index.jsx","webpack://js/./src/Components/RulesEditor/components/ContentBlockItems/style.module.scss?385e","Components/RulesEditor/hooks/useStateLocal.jsx","Components/RulesEditor/helpers/cardSort.jsx","webpack://js/./src/Components/RulesEditor/components/DragWrapper/style.module.scss?b1b7","Components/RulesEditor/components/DragWrapper/index.jsx","Components/RulesEditor/components/ContentBlockItems/DialogHelp.jsx","Components/RulesEditor/components/ContentBlockItems/DialogCondition.jsx","Components/RulesEditor/components/ContentBlockItems/index.jsx","webpack://js/./src/Components/RulesEditor/components/Menu/style.module.scss?9893","Components/RulesEditor/components/CardMenu/CustomDragItem.jsx","webpack://js/./src/Components/RulesEditor/components/HamburgerMenu/hamburgerMenu.module.scss?ab25","Components/RulesEditor/components/HamburgerMenu/index.jsx","Components/RulesEditor/components/Menu/index.jsx","Components/RulesEditor/index.jsx","Components/Debugger/Editor.jsx","Components/Debugger/Console.jsx","Components/Debugger/Stack.jsx","Components/Debugger/index.jsx","OpenAi/OpenAiPrompt.jsx","OpenAi/OpenAiDialog.jsx","Editor.jsx","Dialogs/ImportFile.jsx","App.jsx","serviceWorker.jsx","bootstrap.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from '@mui/material/Button';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogActions from '@mui/material/DialogActions';\nimport Dialog from '@mui/material/Dialog';\nimport TextField from '@mui/material/TextField';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\n\nimport IconCancel from '@mui/icons-material/Cancel';\nimport IconOk from '@mui/icons-material/Check';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nclass DialogRename extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n            instance: props.instance || 0\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n        this.prefix = this.getPrefix(props.id);\n        this.oldId = props.id;\n    }\n\n    getPrefix(id) {\n        const parts = (id || '').split('.');\n        parts.pop();\n        return parts.join('.');\n    }\n\n    getId(name) {\n        name = (name || '').replace(/[\\\\/\\][*,;'\"`<>?\\s]/g, '_');\n        return this.prefix + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.prefix = this.getPrefix(nextProps.id);\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onRename(this.oldId, this.state.id, this.state.name, this.state.instance);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        this.setState({name, id: this.getId(name)});\n    };\n\n    render() {\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"md\"\n            fullWidth\n            open={!0}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Rename')}</DialogTitle>\n            <DialogContent>\n                <form noValidate autoComplete=\"off\">\n                    <TextField\n                        variant=\"standard\"\n                        style={{width: '100%'}}\n                        id=\"standard-name\"\n                        autoFocus\n                        label={I18n.t('Name')}\n                        value={this.state.name}\n                        onKeyPress={(ev) => {\n                            if (ev.key === 'Enter') {\n                                // Do code here\n                                ev.preventDefault();\n                                setTimeout(() => this.handleOk(), 200);\n                            }\n                        }}\n                        onChange={e => this.handleChange(e.target.value)}\n                        margin=\"normal\"\n                    />\n                    <TextField\n                        variant=\"standard\"\n                        id=\"standard-name-id\"\n                        style={{width: '100%'}}\n                        label={I18n.t('ID')}\n                        value={this.state.id}\n                        disabled\n                        margin=\"normal\"\n                    />\n                    {\n                        this.isShowInstance && (\n                            <FormControl variant=\"standard\">\n                                <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                                <Select\n                                    variant=\"standard\"\n                                    value={this.state.instance}\n                                    onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                    inputProps={{name: 'instance', id: 'instance'}}\n                                >\n                                    {this.props.instances.map(instance => <MenuItem key={instance} value={instance}>{instance || '0'}</MenuItem>)}\n                                </Select>\n                            </FormControl>)\n                    }\n                </form>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={this.handleOk} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Ok')}</Button>\n                <Button color=\"grey\" variant=\"contained\" onClick={this.handleCancel} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogRename.propTypes = {\n    onClose: PropTypes.func,\n    onRename: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    folder: PropTypes.bool,\n};\n\nexport default DialogRename;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@mui/material/Button';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogActions from '@mui/material/DialogActions';\nimport Dialog from '@mui/material/Dialog';\nimport {MdDelete as IconDelete} from 'react-icons/md';\n\nimport IconOk from '@mui/icons-material/Check';\nimport IconCancel from '@mui/icons-material/Cancel';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\nimport withStyles from '@mui/styles/withStyles';\n\nconst styles = theme => ({\n\n});\n\nclass DialogDelete extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name,\n            id: props.id,\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n        if (nextProps.id !== this.props.id) {\n            this.setState({id: nextProps.id});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose(null);\n    };\n\n    handleOk = () => {\n        this.props.onDelete(this.state.id);\n        this.props.onClose(this.props.value);\n    };\n\n    render() {\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"md\"\n            open={!0}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Are you sure?')}</DialogTitle>\n            <DialogContent>\n                <IconDelete/>\n                <span style={{fontSize: 14, fontWeight: 'bold'}}>{I18n.t('Delete %s', this.state.name)}</span>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={this.handleOk} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Ok')}</Button>\n                <Button color=\"grey\" variant=\"contained\" onClick={this.handleCancel} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogDelete.propTypes = {\n    onClose: PropTypes.func,\n    onDelete: PropTypes.func,\n    name: PropTypes.string,\n    id: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogDelete);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\nimport Button from '@mui/material/Button';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogActions from '@mui/material/DialogActions';\nimport Dialog from '@mui/material/Dialog';\nimport Card from '@mui/material/Card';\nimport CardActionArea from '@mui/material/CardActionArea';\nimport CardActions from '@mui/material/CardActions';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\n\nimport ImgJS from '../assets/tileJS.png';\nimport ImgTS from '../assets/tileTS.png';\nimport ImgBlockly from '../assets/tileBlockly.png';\nimport ImgRules from '../assets/tileRules.png';\nimport IconCancel from '@mui/icons-material/Cancel';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst styles = theme => ({\n    card: {\n        maxWidth: 345,\n        minWidth: 250,\n        display: 'inline-block',\n        margin: '0 10px 0 10px',\n    },\n    media: {\n        height: 122,\n    },\n    text: {\n        maxWidth: 218,\n        minHeight: 30,\n    },\n    complexity: {\n        fontWeight: 'bold',\n        fontStyle: 'italic',\n        marginBottom: theme.spacing(1),\n    },\n});\n\nclass DialogAddNew extends React.Component {\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = type => {\n        this.props.onClose(type);\n    };\n\n    openHtml(html) {\n        const lang = I18n.getLanguage();\n        if (!html.includes('javascript.md') && (lang === 'de' || lang === 'ru')) {\n            html = html.replace(/\\/en\\//, '/' + lang + '/');\n        }\n        const win = window.open(html, '_blank');\n        win.focus();\n    }\n\n    getJSCard() {\n        return <Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgJS}\n                    title=\"JavaScript\"\n                />\n                <CardContent>\n                    <h2>JavaScript</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('for programmers')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('JS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" variant=\"contained\" onClick={() => this.props.onClose && this.props.onClose('Javascript/js')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"secondary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>;\n    }\n\n    getTSCard() {\n        return <Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgTS}\n                    title=\"TypeScript\"\n                />\n                <CardContent>\n                    <h2>TypeScript</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('for professionals')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('TS description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" variant=\"contained\" onClick={() => this.props.onClose && this.props.onClose('TypeScript/ts')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"secondary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>;\n    }\n\n    getBlocklyCard() {\n        return <Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Blockly')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgBlockly}\n                    title=\"Blockly\"\n                />\n                <CardContent>\n                    <h2>Blockly</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('normal')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('Blockly description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" variant=\"contained\" onClick={() => this.props.onClose && this.props.onClose('Blockly')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"secondary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/blockly.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>;\n    }\n\n    getRulesCard() {\n        return <Card className={this.props.classes.card}>\n            <CardActionArea onClick={() => this.props.onClose && this.props.onClose('Rules')}>\n                <CardMedia\n                    className={this.props.classes.media}\n                    image={ImgRules}\n                    title=\"Rules\"\n                />\n                <CardContent>\n                    <h2>Rules</h2>\n                    <div className={this.props.classes.complexity}>{I18n.t('easy')}</div>\n                    <div className={this.props.classes.text}>{I18n.t('Rules description')}</div>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button size=\"small\" color=\"primary\" variant=\"contained\" onClick={() => this.props.onClose && this.props.onClose('Rules')}>{I18n.t('Add')}</Button>\n                <Button size=\"small\" color=\"secondary\" onClick={() => this.openHtml('https://github.com/ioBroker/ioBroker.javascript/blob/master/docs/en/javascript.md')}>{I18n.t('Learn More')}</Button>\n            </CardActions>\n        </Card>;\n    }\n\n    render() {\n        return <Dialog\n            onClose={() => false}\n            maxWidth=\"lg\"\n            fullWidth\n            open={!0}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{I18n.t('Add new script')}</DialogTitle>\n            <DialogContent style={{ textAlign: 'center' }}>\n                {this.getRulesCard()}\n                {this.getBlocklyCard()}\n                {this.getJSCard()}\n                {this.getTSCard()}\n            </DialogContent>\n            <DialogActions>\n                <Button color=\"grey\" onClick={this.handleCancel} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogAddNew.propTypes = {\n    onClose: PropTypes.func\n};\n\nexport default withStyles(styles)(DialogAddNew);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\n\nimport Button from '@mui/material/Button';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogActions from '@mui/material/DialogActions';\nimport Dialog from '@mui/material/Dialog';\nimport TextField from '@mui/material/TextField';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\n\nimport IconOk from '@mui/icons-material/Check';\nimport IconCancel from '@mui/icons-material/Cancel';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst styles = theme => ({\n\n});\n\nclass DialogNew extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.name || 'Script',\n            instance: props.instance || 0,\n            parent: props.parent,\n            error: ''\n        };\n        this.isShowInstance = !props.folder && props.instances && (props.instance || props.instances[0] || props.instances.length > 1);\n    }\n\n    getId(name) {\n        name = name || this.state.name || '';\n        name = name.replace(/[\\\\/\\][.*,;'\"`<>?\\s]/g, '_').trim().replace(/\\.$/, '_');\n        return (this.state ? this.state.parent : this.props.parent) + '.' + name;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.name !== this.props.name) {\n            this.setState({name: nextProps.name});\n        }\n    }\n\n    handleCancel = () => {\n        this.props.onClose();\n    };\n\n    handleOk = () => {\n        this.props.onAdd(this.getId(this.state.name), this.state.name, this.state.instance, this.props.type);\n        this.props.onClose();\n    };\n\n    handleChange = name => {\n        const id = this.getId(name);\n        if (!name) {\n            this.setState({name, id, error: I18n.t('Empty name is not allowed')});\n        } else\n        if (this.props.existingItems && this.props.existingItems.indexOf(id) !== -1) {\n            this.setState({name, id, error: I18n.t('Duplicate name')});\n        } else {\n            this.setState({name, id, error: ''});\n        }\n    };\n\n    render() {\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"md\"\n            fullWidth\n            open={!0}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Create new')}</DialogTitle>\n            <DialogContent>\n                <form noValidate autoComplete=\"off\">\n                    <TextField\n                        variant=\"standard\"\n                        style={{width: '100%'}}\n                        id=\"standard-name\"\n                        autoFocus\n                        error={!!this.state.error}\n                        label={I18n.t('Name')}\n                        value={this.state.name}\n                        helperText={this.state.error}\n                        onKeyPress={(ev) => {\n                            if (ev.key === 'Enter') {\n                                // Do code here\n                                ev.preventDefault();\n                                setTimeout(() => this.handleOk(), 200);\n                            }\n                        }}\n                        onChange={e => this.handleChange(e.target.value)}\n                        margin=\"normal\"\n                    />\n                    <FormControl variant=\"standard\" style={{width: '100%'}}>\n                        <InputLabel htmlFor=\"parent\">{I18n.t('Folder')}</InputLabel>\n                        <Select\n                            variant=\"standard\"\n                            style={{width: '100%'}}\n                            value={this.state.parent}\n                            onChange={e => this.setState({parent: e.target.value})}\n                            inputProps={{name: 'parent', id: 'parent'}}\n                        >\n                            {this.props.parents.map(parent => {\n                                const parts = parent.id.split('.');\n                                parts.splice(0, 2); // remove script.js\n                                const names = [];\n                                let id = 'script.js';\n                                parts.forEach((n, i) => {\n                                    id += '.' + n;\n                                    const el = this.props.parents.find(item => item.id === id);\n                                    if (el) {\n                                        names.push(el.name);\n                                    } else {\n                                        names.push(n);\n                                    }\n                                });\n                                if (!names.length) {\n                                    names.push(parent.name);\n                                }\n                                return (<MenuItem key={parent.id} value={parent.id}>{names.join(' / ')}</MenuItem>);\n                            })}\n                        </Select>\n                    </FormControl>\n                    <TextField\n                        variant=\"standard\"\n                        id=\"standard-name-id\"\n                        style={{width: '100%'}}\n                        label={I18n.t('ID')}\n                        value={this.getId()}\n                        disabled\n                        margin=\"normal\"\n                    />\n                    {\n                        this.isShowInstance && (\n                            <FormControl variant=\"standard\">\n                            <InputLabel htmlFor=\"instance\">{I18n.t('Instance')}</InputLabel>\n                            <Select\n                                variant=\"standard\"\n                                value={this.state.instance}\n                                onChange={e => this.setState({instance: parseInt(e.target.value, 10)})}\n                                inputProps={{name: 'instance', id: 'instance'}}\n                            >\n                                {this.props.instances.map(instance => (<MenuItem key={'instance' + instance} value={instance}>{instance || '0'}</MenuItem>))}\n                            </Select>\n                        </FormControl>)\n                    }\n                </form>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={this.handleOk} disabled={!!this.state.error} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Ok')}</Button>\n                <Button color=\"grey\" variant=\"contained\" onClick={this.handleCancel} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogNew.propTypes = {\n    onClose: PropTypes.func,\n    onAdd: PropTypes.func,\n    name: PropTypes.string,\n    title: PropTypes.string,\n    parent: PropTypes.string,\n    instance: PropTypes.number,\n    instances: PropTypes.array,\n    parents: PropTypes.array,\n    existingItems: PropTypes.array,\n    folder: PropTypes.bool,\n    type: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogNew);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\n\nimport IconOk from '@mui/icons-material/Check';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst styles = theme => ({\n    titleBackground: {\n        background: theme.palette.error.main,\n    },\n    titleColor: {\n        color: theme.palette.error.contrastText,\n        '&>h2': {\n            color: theme.palette.error.contrastText,\n        }\n    },\n});\n\nclass DialogError extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log('Error created')\n    }\n    handleOk = () => {\n        this.props.onClose && this.props.onClose();\n    };\n\n    render() {\n        return <Dialog\n            open={!0}\n            maxWidth=\"sm\"\n            fullWidth\n            onClose={() => this.handleOk()}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle className={this.props.classes.titleBackground}\n                         classes={{ root: this.props.classes.titleColor }}\n                         id=\"alert-dialog-title\">{this.props.title || I18n.t('Error')}</DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    {this.props.text || I18n.t('Unknown error!')}\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={() => this.handleOk()} color=\"primary\" autoFocus startIcon={<IconOk/>}>{I18n.t('Ok')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogError.propTypes = {\n    onClose: PropTypes.func,\n    title: PropTypes.string,\n    text: PropTypes.string,\n    icon: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogError);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\n\nimport Button from '@mui/material/Button';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogActions from '@mui/material/DialogActions';\nimport Dialog from '@mui/material/Dialog';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport Grid from '@mui/material/Grid';\nimport ListItemText from '@mui/material/ListItemText';\nimport Input from '@mui/material/Input';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport IconButton from '@mui/material/IconButton';\n\nimport IconOk from '@mui/icons-material/Check';\nimport IconCancel from '@mui/icons-material/Cancel';\nimport IconClose from '@mui/icons-material/Close';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst styles = theme => ({\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n    icon: {\n        width: 24,\n        height: 24,\n    },\n    filter: {\n        width: '100%',\n    },\n    filterWithButton: {\n        width: '100%',\n    },\n    title: {\n        fontWeight: 'bold',\n        marginTop: theme.spacing(2),\n    }\n});\n\n\nclass DialogAdapterDebug extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            instances: [],\n            filter: window.localStorage.getItem('javascript.debug.filter') || '',\n            showAskForStop: false,\n            jsInstance: window.localStorage.getItem('javascript.debug.instance') || '',\n            jsInstanceHost: '',\n            adapterToDebug: window.localStorage.getItem('javascript.debug.adapter') || '',\n        };\n    }\n\n    componentDidMount() {\n        this.props.socket.getAdapterInstances()\n            .then(instances => {\n                instances = instances.filter(i => i && !i.common?.onlyWWW).map(item =>  {\n                    const name = item._id.replace(/^system\\.adapter\\./, '');\n                    const [adapter] = name.split('.');\n                    return {\n                        id: name,\n                        enabled: item.common?.enabled,\n                        host: item.common?.host,\n                        icon: item.common?.icon ? `../../adapter/${adapter}/${item.common.icon}` : '',\n                    };\n                });\n                instances.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0));\n                let jsInstance = this.state.jsInstance || '';\n                let jsInstanceObj = this.state.jsInstance && instances.find(item => item.id === this.state.jsInstance);\n                let jsInstanceHost;\n\n                // check if selected instance is in the list\n                if (!this.state.jsInstance || !jsInstanceObj) {\n                    jsInstance = instances.find(item => item.id.startsWith('javascript.')); // take the first one\n                    jsInstanceHost = jsInstance ? jsInstance.host : '';\n                    jsInstance = jsInstance ? jsInstance.id : '';\n                } else {\n                    jsInstanceHost = jsInstanceObj ? jsInstanceObj.host : '';\n                }\n\n                let adapterToDebug = this.state.adapterToDebug || '';\n                if (adapterToDebug && !instances.find(item => item.id === adapterToDebug)) {\n                    adapterToDebug = '';\n                }\n\n                this.setState({instances, jsInstance, adapterToDebug, jsInstanceHost});\n            });\n    }\n\n    handleOk = () => {\n        // TODO\n        if (this.state.instances.find(item => item.id === this.state.adapterToDebug).enabled) {\n            return this.props.socket.getObject('system.adapter.' + this.state.adapterToDebug)\n                .then(obj => {\n                    obj.common.enabled = false;\n                    this.props.socket.setObject(obj._id, obj)\n                        .then(() =>\n                            this.props.onDebug(this.state.jsInstance, this.state.adapterToDebug));\n                })\n        } else {\n            this.props.onDebug(this.state.jsInstance, this.state.adapterToDebug);\n        }\n    };\n\n\n    renderJavascriptList() {\n        const js = this.state.instances.filter(item => item.id.startsWith('javascript.'));\n        if (js.length < 2) {\n            return null;\n        } else {\n            return <Grid item>\n                <div className={this.props.classes.title}>{I18n.t('Host')}</div>\n                <List component=\"nav\">\n                    {js.map(item => <ListItem\n                        button\n                        selected={this.state.jsInstance === item.id}\n                        onClick={this.setState({jsInstance: item.id, jsInstanceHost: item.host})}\n                    >\n                        <ListItemIcon><img src={item.icon} alt={item.id} className={this.props.classes.icon}/></ListItemIcon>\n                        <ListItemText primary={item.id} />\n                    </ListItem>)}\n                </List>\n            </Grid>;\n        }\n    }\n\n    renderInstances() {\n        if (!this.state.jsInstance) {\n            return <Grid item/>;\n        } else {\n            const instances = this.state.instances.filter(item =>\n                item.id !== this.state.jsInstance && item.host === this.state.jsInstanceHost && (!this.state.filter || item.id.includes(this.state.filter.toLowerCase()) ));\n            return <Grid item>\n                <div className={this.props.classes.title}>{I18n.t('Instances')}</div>\n                <List component=\"nav\">\n                    {instances.map(item => <ListItem\n                        button\n                        selected={this.state.adapterToDebug === item.id}\n                        onDoubleClick={() => this.setState({adapterToDebug: item.id}, () => this.handleOk())}\n                        onClick={() => this.setState({adapterToDebug: item.id})}\n                    >\n                        <ListItemIcon><img src={item.icon} alt={item.id} className={this.props.classes.icon}/></ListItemIcon>\n                        <ListItemText primary={item.id} />\n                    </ListItem>)}\n                </List>\n            </Grid>;\n        }\n    }\n\n    render() {\n        return <Dialog\n            maxWidth=\"md\"\n            fullWidth={false}\n            open={!0}\n            onClose={(event, reason) => false}\n            aria-labelledby=\"confirmation-dialog-title\"\n        >\n            <DialogTitle id=\"confirmation-dialog-title\">{this.props.title || I18n.t('Debug instance')}</DialogTitle>\n            <DialogContent>\n                <Grid container direction=\"column\">\n                    <Grid item>\n                        <Input\n                            classes={{root: this.props.classes.filterWithButton}}\n                            value={this.state.filter}\n                            placeholder={I18n.t('Filter')}\n                            onChange={e => {\n                                this.setState({filter: e.target.value});\n                                window.localStorage.setItem('javascript.debug.filter', e.target.value);\n                            }}\n                            endAdornment={\n                                <InputAdornment position=\"end\">\n                                    {this.state.filter ? <IconButton\n                                        size=\"small\"\n                                        aria-label=\"toggle password visibility\"\n                                        onClick={() => this.setState({filter: ''})}\n                                    >\n                                        <IconClose />\n                                    </IconButton> : ''}\n                                </InputAdornment>\n                            }\n                        />\n                    </Grid>\n                    <Grid item>\n                        <Grid container>\n                            {this.renderJavascriptList()}\n                            {this.renderInstances()}\n                        </Grid>\n                    </Grid>\n                </Grid>\n\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={this.handleOk} disabled={!this.state.jsInstance || !this.state.adapterToDebug} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Start')}</Button>\n                <Button color=\"grey\" variant=\"contained\" onClick={() => this.props.onClose()} startIcon={<IconCancel/>}>{I18n.t('Close')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogAdapterDebug.propTypes = {\n    socket: PropTypes.object.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onDebug: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(DialogAdapterDebug);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\n\nimport Drawer from '@mui/material/Drawer';\nimport Divider from '@mui/material/Divider';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemSecondaryAction from '@mui/material/ListItemSecondaryAction';\nimport ListItemText from '@mui/material/ListItemText';\nimport IconButton from '@mui/material/IconButton';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport Input from '@mui/material/Input';\nimport { useDrag, useDrop, DndProvider as DragDropContext  } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\n\nimport { MdMoreVert as IconMore } from 'react-icons/md';\nimport { FaFolder as IconFolder } from 'react-icons/fa';\nimport { FaFolderOpen as IconFolderOpened } from 'react-icons/fa';\nimport { MdContentCopy as IconCopy } from 'react-icons/md';\nimport { MdDelete as IconDelete } from 'react-icons/md';\nimport { MdInput as IconDoEdit } from 'react-icons/md';\nimport { MdClose as IconClear } from 'react-icons/md';\nimport { MdFormatClear as IconClose } from 'react-icons/md';\nimport { MdPlayArrow as IconPlay } from 'react-icons/md';\nimport { MdAdd as IconAdd } from 'react-icons/md';\nimport { MdCreateNewFolder as IconAddFolder } from 'react-icons/md';\nimport { MdPause as IconPause } from 'react-icons/md';\nimport { MdSwapVert as IconReorder } from 'react-icons/md';\nimport { MdEdit as IconEdit } from 'react-icons/md';\nimport { MdSearch as IconFind } from 'react-icons/md';\nimport { MdPersonPin as IconExpert } from 'react-icons/md';\nimport { FaFileExport as IconExport } from 'react-icons/fa';\nimport { FaFileImport as IconImport } from 'react-icons/fa';\nimport { MdPalette as IconDark } from 'react-icons/md';\nimport { MdUnfoldMore as IconExpandAll } from 'react-icons/md';\nimport { MdUnfoldLess as IconCollapseAll } from 'react-icons/md';\nimport { MdBugReport as IconDebug } from 'react-icons/md';\n\nimport { red, green, yellow } from '@mui/material/colors';\n\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgRules from './assets/rules.png';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport DialogRename from './Dialogs/Rename';\nimport DialogDelete from './Dialogs/Delete';\nimport DialogAddNewScript from './Dialogs/AddNewScript';\nimport DialogNew from './Dialogs/New';\nimport DialogError from './Dialogs/Error';\nimport DialogAdapterDebug from './Dialogs/AdapterDebug';\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_RUN = green[400];\nconst COLOR_PROBLEM = yellow[400];\nconst COLOR_PAUSE = red[400];\nconst ROOT_ID = 'script.js';\nconst COMMON_ID = ROOT_ID + '.common';\nconst GLOBAL_ID = ROOT_ID + '.global';\nconst NARROW_WIDTH = 350;\nconst LEVEL_PADDING = 16;\n\nconst SELECTED_STYLE = {\n    background: '#164477',\n    color: 'white'\n};\n\nconst styles = theme => ({\n    drawerPaper: {\n        position: 'relative',\n        width: '100%', //Theme.menu.width,\n        height: '100%',\n        overflow: 'hidden',\n    },\n    toolbar: {\n        height: theme.toolbar.height,\n    },\n    toolbarButtons: {\n        color: theme.palette.mode === 'dark'? 'white !important' : 'black !important',\n    },\n    iconButtonsDisabled: {\n        filter: 'grayscale(100%)',\n        opacity: 0.5,\n    },\n    toolbarSearch: {\n        width: 'calc(100% - 105px)',\n        lineHeight: '34px',\n        marginLeft: 5,\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 2,\n    },\n    iconDropdownMenu: {\n        paddingRight: 5,\n    },\n    iconOnTheRight: {\n        position: 'absolute',\n        right: 10,\n        top: 'calc(50% - 8px)',\n    },\n    menu: {\n        width: '100%',\n        height: '100%',\n    },\n    innerMenu: {\n        width: '100%',\n        height: 'calc(100% - 76px)',\n        overflowX: 'hidden',\n        overflowY: 'auto',\n    },\n    listItemIcon: {\n        minWidth: 32,\n    },\n    filterIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5,\n    },\n    scriptIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginTop: 4,\n        marginBottom: 4,\n        marginLeft: 8,\n        marginRight: 4,\n    },\n    folder: {\n        //background: theme.palette.mode === 'dark' ? '#6a6a6a' : '#e2e2e2',\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none',\n    },\n    folderReorder: {\n        opacity: 0.3,\n        transitionDuration: '0.5s',\n        transitionProperty: 'opacity',\n    },\n    folderIcon: {\n        width: 20,\n        height: 20,\n    },\n    folderIconReorder: {\n        paddingTop: 4,\n        paddingBottom: 4,\n        paddingLeft: 8,\n        paddingRight: 4,\n    },\n    folderIconNoReorder: {\n        cursor: 'pointer',\n        paddingTop: 4,\n        paddingBottom: 4,\n        paddingLeft: 8,\n        paddingRight: 4,\n    },\n    script: {\n        cursor: 'pointer',\n        padding: 0,\n        userSelect: 'none',\n    },\n    scriptReorder: {\n        opacity: 1,\n        transitionDuration: '0.5s',\n        transitionProperty: 'opacity',\n    },\n    reorder: {\n        //padding: '9px 16px 9px 9px',\n    },\n    expandButton: {\n        width: 37,\n        height: 37,\n    },\n    selected:  SELECTED_STYLE,\n    instances: {\n        color: 'gray',\n        fontSize: 'smaller',\n    },\n    childrenCount: {\n        float: 'right',\n        marginRight: 5,\n        fontSize: 10,\n        opacity: 0.4,\n    },\n    footer: {\n        height: 24,\n    },\n    footerButtons: {\n        '&:hover': {\n            backgroundColor: '#dbdbdb',\n        },\n        color: theme.palette.mode === 'dark' ? '#ffffff' : '#111111',\n        cursor: 'pointer',\n        marginTop: 1,\n        marginRight: 2,\n        height: 22,\n        width: 22,\n    },\n    footerButtonsRight: {\n        float: 'right',\n    },\n\n    mainList: {\n        '& .js-folder-dragover>div>li>.folder-reorder': {\n            background: '#40adff'\n        },\n        '& .js-folder-dragging .folder-reorder': {\n            opacity: 1,\n        },\n        '& .js-folder-dragging .script-reorder': {\n            opacity: 0.3,\n        },\n    },\n});\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    def: ImgJS,\n    'Rules':ImgRules,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst getObjectName = (id, obj, lang) => {\n    lang = lang || I18n.getLanguage();\n    if (obj && obj.common && obj.common.name) {\n        if (typeof obj.common.name === 'object') {\n            return (obj.common.name[lang] || obj.common.name.en || id.replace(/^script\\.js./, '')).toString();\n        } else {\n            return obj.common.name.toString();\n        }\n    } else {\n        return id.replace(/^script\\.js./, '');\n    }\n};\n\nconst prepareList = data => {\n    const result = [{\n        id: ROOT_ID,\n        depth: 0,\n        index: 0,\n        parent: null,\n        title: 'root',\n        type: 'folder',\n    }];\n    const ids = Object.keys(data);\n\n    /*ids.sort((a, b) => {\n        if ((a === 'script.js.common' || a === 'script.js.global') && (b === 'script.js.common' || b === 'script.js.global')) {\n            return a > b ? 1 : -1;\n        } else if (a === 'script.js.common' || a === 'script.js.global' || b === 'script.js.common' || b === 'script.js.global') {\n            return 1;\n        } else {\n            return a > b ? 1 : -1;\n        }\n    });*/\n\n    for (let i = 0; i < ids.length; i++) {\n        const obj = data[ids[i]];\n        const parts = ids[i].split('.');\n        parts.pop();\n        result.push({\n            id: ids[i],\n            title: getObjectName(ids[i], obj),\n            enabled: obj && obj.common && obj.common.enabled,\n            depth: parts.length - 1,\n            type: obj.type === 'script' ? obj.common.engineType : 'folder',\n            parent: parts.length > 1 ? parts.join('.') : null,\n            instance: obj.common.engine ? parseInt(obj.common.engine.split('.').pop(), 10) || 0 : null,\n        });\n    }\n\n    // Place all folder-less scripts at start\n    /*result.sort((a, b) => {\n        // without folders => always at start\n        if (!a.parent && a.type !== 'folder' && !b.parent && b.type !== 'folder') {\n            if (a.id === b.id) {\n                return 0;\n            } else {\n                return a.id > b.id ? 1 : -1;\n            }\n        } else if (!a.parent && a.type !== 'folder') {\n            return -1;\n        } else if (!b.parent && b.type !== 'folder') {\n            return 1;\n        } else {\n            // common and global are always at the end\n            if ((a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) &&\n                (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global'))) {\n                if (a.id === b.id) {\n                    return 0;\n                } else {\n                    return a.id > b.id ? 1 : -1;\n                }\n            } else if (a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) {\n                return 1;\n            } else if (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global')) {\n                return -1;\n            } else {\n                if (a.id === b.id) {\n                    return 0;\n                } else {\n                    return a.id > b.id ? 1 : -1;\n                }\n            }\n        }\n    });*/\n\n    let modified;\n    do {\n        modified = false;\n        // check if all parents exists\n        // eslint-disable-next-line\n        result.forEach(item => {\n            if (item.parent) {\n                const parent = result.find(it => it.id === item.parent);\n                if (!parent) {\n                    const parts = item.parent.split('.');\n                    parts.pop();\n                    result.push({\n                        id: item.parent,\n                        title: item.parent.split('.').pop(),\n                        depth: parts.length - 1,\n                        type: 'folder',\n                        parent: parts.length > 1 ? parts.join('.') : null\n                    });\n                    modified = true;\n                }\n            }\n        });\n    } while (modified);\n\n    // Folders first\n    result.sort((a, b) => {\n        const idA = a.id.toLowerCase();\n        const idB = b.id.toLowerCase();\n        if (a.type === 'folder' && b.type !== 'folder') {\n            return -1;\n        } else if (b.type === 'folder' && a.type !== 'folder') {\n            return 1;\n        }\n\n        if (idA > idB) {\n            return 1;\n        } else if (idA < idB) {\n            return -1;\n        } else {\n            return 0;\n        }\n    });\n\n    // Fill all indexes\n    result.forEach((item, i) => item.index = i);\n\n    // Fill all parentIndex\n    result.forEach(item => {\n        if (item.parent) {\n            const parent = result.find(it => it.id === item.parent);\n            if (parent) {\n                item.parentIndex = parent.index;\n            }\n        }\n    });\n\n    return result;\n};\n\nexport const Droppable = (props) => {\n    const { onDrop} = props;\n\n    const [{ isOver, isOverAny}, drop] = useDrop({\n        accept: ['script'],\n        drop: e => isOver ? onDrop(e) : undefined,\n        collect: monitor => ({\n            isOver: monitor.isOver({ shallow: true }),\n            isOverAny: monitor.isOver(),\n        }),\n    });\n\n    return <div ref={drop} className={Utils.clsx(isOver && 'js-folder-dragover', isOverAny && 'js-folder-dragging')}>\n        {props.children}\n    </div>;\n};\n\nexport const Draggable = props => {\n    const { name } = props;\n    const [{ opacity }, drag] = useDrag({\n        type: 'script',\n        item: () => ({name}),\n        collect: monitor => ({opacity: monitor.isDragging() ? 0.3 : 1,}),\n    });\n    // About transform: https://github.com/react-dnd/react-dnd/issues/832#issuecomment-442071628\n    return <div ref={drag} style={{ opacity, transform: 'translate3d(0, 0, 0)' }}>\n        {props.children}\n    </div>;\n};\n\nclass SideDrawer extends React.Component {\n    constructor(props) {\n        super(props);\n\n        let expanded = window.localStorage ? window.localStorage.getItem('SideMenu.expanded') : '[]';\n        try {\n            expanded = JSON.parse(expanded) || [];\n        } catch (e) {\n            expanded = [];\n        }\n\n        this.inputRef = new React.createRef();\n\n        this.state = {\n            listItems: prepareList(props.scripts || {}),\n            expanded: expanded,\n            problems: [],\n            reorder: false,\n            themeName: this.props.themeName,\n            selected: window.localStorage ? window.localStorage.getItem('SideMenu.selected') || null : null,\n            creatingScript: false,\n            creatingFolder: false,\n            copingScript: '',\n            renaming: null,\n            deleting: null,\n            choosingType: null,\n            errorText: '',\n            instances: props.instances || [],\n            menuOpened: false,\n            menuAnchorEl: null,\n            searchMode: false,\n            expertMode: this.props.expertMode,\n            searchText: '',\n            width: this.props.width || 300,\n            typeFilter: window.localStorage ? window.localStorage.getItem('SideMenu.typeFilter') || '' : '', // blockly, js, ts\n            statusFilter: window.localStorage ? window.localStorage.getItem('SideMenu.statusFilter') || '' : '',\n            runningInstances: this.props.runningInstances || {},\n            scriptsHash: props.scriptsHash,\n            showAdapterDebug: false,\n        };\n\n        const newExp = this.ensureSelectedIsVisible();\n        if (newExp) {\n            this.state.expanded = newExp;\n        }\n\n        // debounce search process\n        this.filterTimer = null;\n\n        this.state.isAllZeroInstances = this.getIsAllZeroInstances();\n\n        this.problems = null; //cache\n        this.problemsTimer = null;\n        this.onProblemUpdatedBound = this.onProblemUpdated.bind(this);\n    }\n\n    readProblems(cb, tasks) {\n        if (!tasks) {\n            tasks = Object.keys(this.props.scripts);\n        }\n        if (!tasks || !tasks.length) {\n            cb && cb();\n        } else {\n            const id = tasks.shift();\n            if (this.props.scripts[id] &&\n                this.props.scripts[id].type === 'script' &&\n                this.props.scripts[id].common &&\n                this.props.scripts[id].common.enabled &&\n                !id.match(/^script\\.js\\.global\\./) // GLOBAL_ID\n            ) {\n                const instance = this.props.scripts[id].common.engine.split('.').pop();\n                const that = this; // sometimes lambda does not work\n                const _id = `javascript.${instance}.scriptProblem.${id.substring(ROOT_ID.length + 1)}`;\n\n                this.props.socket.getState(_id, (err, state) => {\n                    that.onProblemUpdated(_id, state);\n                    setTimeout(() => that.readProblems(cb, tasks), 0);\n                });\n            } else {\n                setTimeout(() => this.readProblems(cb, tasks), 0);\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.readProblems(() =>  {\n            this.props.instances.forEach(instance => {\n                this.props.socket.subscribeState(`javascript.${instance}.scriptProblem.*`, this.onProblemUpdatedBound);\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        this.props.instances.forEach(instance => {\n            this.props.socket.unsubscribeState(`javascript.${instance}.scriptProblem.*`, this.onProblemUpdatedBound);\n        });\n    }\n\n    onProblemUpdated(id, state) {\n        if (!state || !id) return;\n        id = `${ROOT_ID}.${id.replace(/^javascript\\.\\d+\\.scriptProblem\\./, '')}`;\n\n        if (!this.problems) {\n            this.problems = JSON.parse(JSON.stringify(this.state.problems));\n        }\n        let changed = false;\n\n        if (state.val) {\n            if (this.problems.indexOf(id) === -1) {\n                this.problems.push(id);\n                changed = true;\n            }\n        } else {\n            const pos = this.problems.indexOf(id);\n            if (pos !== -1) {\n                this.problems.splice(pos, 1);\n                changed = true;\n            }\n        }\n\n        if (changed && !this.problemsTimer) {\n            this.problemsTimer = setTimeout(() => {\n                this.problemsTimer = null;\n                this.setState({ problems: this.problems });\n                this.problems = null;\n            }, 300);\n        }\n    }\n\n    static filterListStatic(isSearchEnabled, listItems, searchMode, searchText, objects) {\n        listItems = JSON.parse(JSON.stringify(listItems));\n        let changed = false;\n        let newState = {listItems};\n        if (isSearchEnabled !== false && searchMode && searchText) {\n            const text = searchText.toLowerCase();\n            listItems.forEach(item => {\n                const id = item.title.toLowerCase();\n                item.filteredPartly = false;\n                let found = id.includes(text);\n                if (!found && (objects && objects[item.id] && objects[item.id].common && objects[item.id].common.source)) {\n                    if (objects[item.id].common.engineType === 'Blockly') {\n                        const pos = objects[item.id].common.source.lastIndexOf('//');\n                        found = objects[item.id].common.source.substring(0, pos).toLowerCase().includes(text);\n                    } else {\n                        found = objects[item.id].common.source.toLowerCase().includes(text);\n                    }\n                }\n                if (found) {\n                    if (item.filtered) {\n                        item.filtered = false;\n                        changed = true;\n                    }\n                } else if (!item.filtered) {\n                    item.filtered = true;\n                    changed = true;\n                }\n            });\n\n            if (changed) {\n                // check that all parents of every non-filtered item are visible\n                for (let i = listItems.length - 1; i >= 0; i--) {\n                    const item = listItems[i];\n                    if (!item.filtered || item.filteredPartly) {\n                        let it = item;\n                        do {\n                            if (it.parent && listItems[it.parentIndex]) {\n                                changed = true;\n                                listItems[it.parentIndex].filteredPartly = true;\n                            }\n                            it = it.parent && listItems[it.parentIndex] ? listItems[it.parentIndex] : null;\n                        } while(it);\n                    }\n                }\n            }\n        } else {\n            listItems.forEach(item => {\n                if (item.filtered || item.filteredPartly) {\n                    item.filtered = false;\n                    item.filteredPartly = false;\n                    changed = true;\n                }\n            });\n            if (isSearchEnabled === false) {\n                newState.searchText = '';\n                newState.searchMode = false;\n                changed = true;\n            }\n        }\n\n        return changed ? newState : null;\n    }\n\n    filterList(isSearchEnabled, cb) {\n        const newState = SideDrawer.filterListStatic(\n            isSearchEnabled,\n            this.state.listItems,\n            this.state.searchMode,\n            this.state.searchText,\n            this.props.scripts,\n        );\n\n        if (newState) {\n            this.setState(newState, () => cb && cb());\n        } else if (cb) {\n            cb();\n        }\n    }\n\n    static ensureSelectedIsVisibleStatic(selected, expanded, listItems) {\n        expanded = JSON.parse(JSON.stringify(expanded));\n        let changed = false;\n\n        // ensure that the item is visible\n        let el = typeof selected === 'object' ? selected : listItems.find(it => it.id === selected);\n        do {\n            // eslint-disable-next-line\n            el = el && el.parent && listItems.find(it => it.id === el.parent);\n            if (el) {\n                if (expanded.indexOf(el.id) === -1) {\n                    expanded.push(el.id);\n                    changed = true;\n                }\n            }\n        } while(el);\n        return changed && expanded;\n    }\n\n    ensureSelectedIsVisible(selected, expanded) {\n        SideDrawer.ensureSelectedIsVisibleStatic(selected || this.state.selected, expanded || this.state.expanded, this.state.listItems);\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        const newState = {};\n        let changed = false;\n        if (state.expertMode !== props.expertMode) {\n            changed = true;\n            newState.expertMode = props.expertMode;\n        }\n        if (state.scriptsHash !== props.scriptsHash && props.scripts) {\n            const listItems = prepareList(props.scripts || {});\n\n            newState.listItems = listItems;\n\n            if (state.searchText) {\n                const nState = SideDrawer.filterListStatic(true, listItems, state.searchMode, state.searchText, props.scripts);\n                nState && Object.assign(newState, nState);\n            }\n\n            const isAllZeroInstances = SideDrawer.getIsAllZeroInstancesStatic(listItems, props.instances || []);\n\n            const newExp = SideDrawer.ensureSelectedIsVisibleStatic(state.selected, state.expanded, state.listItems);\n\n            newState.isAllZeroInstances = isAllZeroInstances;\n            if (newExp) {\n                newState.expanded = newExp;\n            }\n            changed = true;\n        }\n\n        if (state.width !== props.width) {\n            changed = true;\n            newState.width = props.width;\n        }\n        if (state.themeName !== props.themeName) {\n            changed = true;\n            newState.themeName = props.themeName;\n        }\n\n        if (props.selectId && state.selected !== props.selectId) {\n            const item = state.listItems.find(item => item.id === props.selectId);\n\n            if (!state.reorder && item) {\n                const expanded = SideDrawer.ensureSelectedIsVisibleStatic(item, state.expanded, state.listItems);\n                newState.selected = item.id;\n                if (expanded) {\n                    newState.expanded = expanded;\n                }\n                changed = true;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n            }\n        }\n\n        if (changed) {\n            return newState;\n        } else {\n            return null;\n        }\n    }\n\n    static getIsAllZeroInstancesStatic(listItems, instances) {\n        let isAllZeroInstances = !instances[0] && instances.length <= 1;\n\n        if (isAllZeroInstances) {\n            listItems.forEach(item => {\n                if (item.type !== 'folder' && item.instance !== 0) {\n                    isAllZeroInstances = false;\n                }\n            });\n        }\n        return isAllZeroInstances;\n    }\n\n    getIsAllZeroInstances(listItems, instances) {\n        listItems = listItems || this.state.listItems;\n        instances = instances || this.state.instances;\n        return SideDrawer.getIsAllZeroInstancesStatic(listItems || this.state.listItems, instances || this.state.instances);\n    }\n\n    saveExpanded(expanded) {\n        window.localStorage.setItem('SideMenu.expanded', JSON.stringify(expanded || this.state.expanded));\n    }\n\n    showError(errorText) {\n        this.setState({ errorText });\n    }\n\n    onToggle(id, e) {\n        e && e.stopPropagation();\n        if (id === ROOT_ID) {\n            return;\n        }\n        const expanded = [...this.state.expanded];\n        const newState = {expanded};\n        const pos = expanded.indexOf(id);\n        if (pos !== -1) {\n            expanded.splice(pos, 1);\n            if (this.state.selected && this.state.selected.startsWith(`${id}.`)) {\n                newState.selected = id;\n                window.localStorage && window.localStorage.setItem('SideMenu.selected', id);\n            }\n        } else {\n            expanded.push(id);\n            expanded.sort();\n        }\n        this.setState({ expanded });\n        this.saveExpanded(expanded);\n    }\n\n    renderItemButtonsOnEnd(item, children) {\n        if (this.state.reorder) {\n            return null;\n        }\n        if (item.type !== 'folder') {\n            let color = item.enabled ? COLOR_RUN : COLOR_PAUSE;\n            if (item.enabled && this.state.problems.includes(item.id)) {\n                color = COLOR_PROBLEM;\n            }\n\n            return [\n                <IconButton\n                    className={Utils.clsx(this.props.classes.iconButtons, this.props.debugMode && this.props.classes.iconButtonsDisabled)}\n                    onClick={e => {\n                        e.stopPropagation();\n                        this.props.onEnableDisable && this.props.onEnableDisable(item.id, !item.enabled)\n                    }}\n                    title={item.enabled ? I18n.t('Pause script') : I18n.t('Run script')}\n                    disabled={this.props.debugMode}\n                    key=\"startStop\"\n                    style={{ color }}\n                    size=\"medium\"\n                >\n                    {item.enabled ? <IconPause /> : <IconPlay />}\n                </IconButton>,\n                this.state.width > NARROW_WIDTH ? <IconButton\n                    key=\"delete\"\n                    className={Utils.clsx(this.props.debugMode && this.props.classes.iconButtonsDisabled)}\n                    title={I18n.t('Delete script')}\n                    disabled={item.id === GLOBAL_ID || item.id === COMMON_ID || this.props.debugMode}\n                    onClick={e => this.onDelete(item, e)}\n                    size=\"medium\"\n                >\n                    <IconDelete/>\n                </IconButton> : null,\n                <IconButton\n                    className={Utils.clsx(this.props.debugMode && this.props.classes.iconButtonsDisabled)}\n                    disabled={this.props.debugMode}\n                    key=\"openInEdit\"\n                    title={I18n.t('Edit script or just double click')}\n                    onClick={e => this.onEdit(item, e)}\n                    size=\"medium\">\n                    <IconDoEdit/>\n                </IconButton>,\n            ];\n        } else if (this.state.width > NARROW_WIDTH) {\n            if (item.id !== ROOT_ID && item.id !== COMMON_ID && item.id !== GLOBAL_ID && (!children || !children.length)) {\n                return <IconButton\n                    className={Utils.clsx(this.props.debugMode && this.props.classes.iconButtonsDisabled)}\n                    key=\"delete\"\n                    title={I18n.t('Delete folder')}\n                    disabled={item.id === GLOBAL_ID || item.id === COMMON_ID || this.props.debugMode}\n                    onClick={e => this.onDelete(item, e)}\n                    size=\"medium\"\n                >\n                    <IconDelete/>\n                </IconButton>;\n            } else {\n                return null;\n            }\n        }\n    }\n\n    onDelete(item, e) {\n        e && e.stopPropagation();\n        return new Promise(resolve => {\n            if (typeof item !== 'object') {\n                this.setState({ deleting: item });\n            } else {\n                this.setState({ deleting: item.id });\n            }\n        });\n    }\n\n    onEdit(item, e) {\n        this.onClick(item, e);\n        this.props.onEdit && this.props.onEdit(item.id);\n    }\n\n    getTextStyle(item) {\n        if (!this.state.reorder && item.type !== 'folder') {\n            return {\n                //width: 130,\n                width: `calc(100% - ${this.state.width > NARROW_WIDTH ? 185 : 137}px)`,\n                overflow: 'hidden',\n                whiteSpace: 'nowrap',\n                flex: 'none',\n                padding: '0 16px 0 0',\n            };\n        }\n\n        return {\n            whiteSpace: 'nowrap',\n            padding: '0 16px 0 0',\n        };\n    }\n\n    onClick(item, e) {\n        e && e.stopPropagation();\n        if (!this.state.reorder && item) {\n            const expanded = this.ensureSelectedIsVisible(item);\n            const newState = {selected: item.id};\n            if (expanded) {\n                newState.expanded = expanded;\n            }\n            this.setState(newState);\n            window.localStorage && window.localStorage.setItem('SideMenu.selected', item.id);\n        }\n    }\n\n    onDblClick(item, e) {\n        e && e.stopPropagation();\n        if (this.state.reorder) {\n            return;\n        }\n        if (item.type === 'folder') {\n            this.onToggle(item.id);\n        } else {\n            this.onEdit(item);\n        }\n    }\n\n    isFilteredOut(item) {\n        if (item.filtered && !item.filteredPartly) {\n            return true;\n        }\n\n        if (this.state.typeFilter && item.type !== 'folder' && item.type !== this.state.typeFilter) {\n            return true;\n        }\n\n        if (this.state.statusFilter &&\n            item.type !== 'folder' &&\n            (\n                (this.state.statusFilter === 'running' && !item.enabled) ||\n                (this.state.statusFilter === 'paused' && item.enabled) ||\n                (this.state.statusFilter === 'problems' && (!item.enabled || this.state.problems.indexOf(item.id) === -1)))\n        ) {\n            return true;\n        }\n\n        return item.id === GLOBAL_ID && !this.state.expertMode;\n    }\n\n    renderListItem(item, children, childrenFiltered) {\n        if (item.id === ROOT_ID && !this.state.reorder) {\n            return null;\n        }\n\n        const depthPx = (this.state.reorder ? item.depth : item.depth - 1) * LEVEL_PADDING;\n\n        let title = item.title;\n\n        if (this.state.searchText) {\n            const pos = title.toLowerCase().indexOf(this.state.searchText.toLowerCase());\n            if (pos !== -1) {\n                title = [\n                    <span key=\"first\">{title.substring(0, pos)}</span>,\n                    <span key=\"second\" style={{ color: 'orange' }}>{title.substring(pos, pos + this.state.searchText.length)}</span>,\n                    <span key=\"third\">{title.substring(pos + this.state.searchText.length)}</span>,\n                ];\n            }\n        }\n\n        if (!this.state.isAllZeroInstances && item.type !== 'folder') {\n            title = [\n                <span key=\"instance\" title={I18n.t('Instance')} className={this.props.classes.instances}>[{item.instance}] </span>,\n                <span key=\"title\">{title}</span>,\n            ];\n        }\n        const reorder = this.state.reorder && !this.props.debugMode;\n\n        const style = Object.assign({\n            marginLeft: depthPx,\n            cursor:     item.type === 'folder' && reorder ? 'default' : 'inherit',\n            width:      `calc(100% - ${depthPx}px)`,\n        }, item.id === this.state.selected && !reorder ? SELECTED_STYLE : {});\n\n        if (!reorder) {\n            style.opacity = item.filteredPartly ? 0.5 : 1;\n        }\n\n        if (item.id === GLOBAL_ID && item.id !== this.state.selected) {\n            style.color = '#00a200';\n        }\n\n        let isExpanded = item.id === ROOT_ID;\n        if (!isExpanded && children) {\n            isExpanded = this.state.expanded.includes(item.id);\n        }\n\n        let iconStyle = {};\n        if (item.id === GLOBAL_ID) {\n            iconStyle.color = '#356956';\n        } else if (item.id === COMMON_ID) {\n            iconStyle.color = '#4899e1';\n        }\n        let iconClass;\n        if (item.type === 'folder') {\n            iconClass = Utils.clsx(this.props.classes.folderIcon, reorder ? this.props.classes.folderIconReorder : this.props.classes.folderIconNoReorder);\n        } else {\n            iconClass = Utils.clsx(this.props.classes.scriptIcon, reorder ? this.props.classes.scriptIconReorder : this.props.classes.scriptIconNoReorder);\n        }\n\n        let childrenCount = null;\n        if ((childrenFiltered && childrenFiltered.length) || (children && children.length)) {\n            childrenCount = <span className={this.props.classes.childrenCount}>{childrenFiltered && childrenFiltered.length !== children.length ? `${childrenFiltered.length}(${children.length})` : children.length}</span>;\n        }\n\n        return <ListItem\n            key={item.id}\n            style={style}\n            className={Utils.clsx(\n                item.type === 'folder' ? this.props.classes.folder : this.props.classes.script,\n                reorder && item.type === 'folder' && 'folder-reorder',\n                reorder && item.type !== 'folder' && 'script-reorder',\n                reorder && this.props.classes.reorder,\n                reorder && item.type !== 'folder' &&  this.props.classes.scriptReorder,\n                reorder && item.type === 'folder' && this.props.classes.folderReorder,\n                )}\n            onClick={e => this.onClick(item, e)}\n            onDoubleClick={e => this.onDblClick(item, e)}\n        >\n            <ListItemIcon classes={{ root: this.props.classes.listItemIcon }}>{\n                item.type === 'folder' ? (\n                        reorder || isExpanded ?\n                            <IconFolderOpened className={iconClass} style={iconStyle} onClick={e => !reorder && this.onToggle(item.id, e)} /> :\n                            <IconFolder       className={iconClass} style={iconStyle} onClick={e => !reorder && this.onToggle(item.id, e)} />\n                    )\n                    :\n                    <img className={iconClass} alt={item.type} src={images[item.type] || images.def} />\n            }</ListItemIcon>\n            <ListItemText\n                classes={{ primary: item.id === this.state.selected && !reorder ? this.props.classes.selected : undefined }}\n                style={this.getTextStyle(item)} primary={<span>{title}{childrenCount}</span>} />\n            <ListItemSecondaryAction>{this.renderItemButtonsOnEnd(item, children)}</ListItemSecondaryAction>\n        </ListItem>;\n    }\n\n    onDragFinish(source, target) {\n        let newId = `${target}.${source.split('.').pop()}`;\n        if (newId !== source) {\n            // If target yet exists => add Copy to\n            if (this.state.listItems.find(item => item.id === newId)) {\n                newId += `_${I18n.t('copy')}`;\n            }\n\n            this.props.onRename && this.props.onRename(source, newId);\n        }\n        return undefined;\n    }\n\n    renderOneItem(items, item /* , dragging */) {\n        let childrenFiltered = (this.state.statusFilter || this.state.typeFilter) && items.filter(i => i.parent === item.id ? !this.isFilteredOut(i) : false);\n        let children = items.filter(i => i.parent === item.id);\n\n        if (this.isFilteredOut(item)) {\n            return;\n        }\n\n        if (item.type === 'folder' && (this.state.statusFilter || this.state.typeFilter) && !childrenFiltered.length) {\n            return;\n        }\n        const reorder = this.state.reorder && !this.props.debugMode;\n\n        const element = this.renderListItem(item, children, childrenFiltered);\n        const result = [];\n        let reactChildren;\n        if (children && (reorder || this.state.expanded.includes(item.id) || item.id === ROOT_ID)) {\n            reactChildren = children.map(it => this.renderOneItem(items, it));\n        }\n\n        if (reorder) {\n            if (item.type === 'folder') {\n                result.push(<Droppable key={`droppable_${item.id}`} onDrop={e => this.onDragFinish(e.name, item.id)}>\n                    <Draggable key={`draggable_${item.id}`} name={item.id}>{element}</Draggable>\n                    {reactChildren || null}\n                </Droppable>);\n            } else {\n                result.push(<Draggable key={`draggable_${item.id}`} name={item.id}>\n                    {element}\n                    {reactChildren || null}\n                </Draggable>);\n            }\n        } else {\n            result.push(element);\n            reactChildren && reactChildren.forEach(e => result.push(e));\n        }\n\n        return result;\n    }\n\n    renderAllItems(items) {\n        const result = items\n            .filter(item => !item.parent)\n            .map(item =>\n                this.renderOneItem(items, item));\n\n        return <List\n            dense\n            disablePadding\n            className={this.props.classes.mainList}\n        >\n            {result}\n        </List>;\n    }\n\n    onAddNew(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({ choosingType: true });\n    }\n\n    onCopy(e, id) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === id);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({ copingScript: id });\n    }\n\n    onAddNewFolder(e) {\n        e && e.stopPropagation();\n        let item = this.state.listItems.find(i => i.id === this.state.selected);\n        let parent = ROOT_ID;\n        while (item && item.type !== 'folder') {\n            item = this.state.listItems[item.parentIndex];\n        }\n        if (item) {\n            parent = item.id;\n        }\n\n        this.parent = parent;\n        this.setState({ creatingFolder: true });\n    }\n\n    onRename(e) {\n        e && e.stopPropagation();\n        this.setState({ renaming: this.state.selected });\n    }\n\n    getUniqueName(copyId) {\n        let i = 1;\n        let word = `${I18n.t('Script')} `;\n        if (copyId) {\n            let name = getObjectName(copyId, this.props.scripts[copyId]);\n            const m = name.match(/\\d+$/);\n            if (m) {\n                word = name.replace(/\\d+$/, '');\n                i = parseInt(m[0], 10) + 1;\n            } else {\n                word = name;\n            }\n        }\n\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === `${this.parent}.${word.replace(/\\.\\s/g, '_')}${i}`)) {\n            i++;\n        }\n        /*ignore jslint end*/\n        return word + i;\n    }\n\n    getUniqueFolderName() {\n        let i = 1;\n        // eslint-disable-next-line\n        while (this.state.listItems.find(it => it.id === `${this.parent}.${I18n.t('Folder')}_${i}`)) {\n            i++;\n        }\n        return `${I18n.t('Folder')} ${i}`;\n    }\n\n    onCloseMenu(cb) {\n        this.setState({ menuOpened: false, menuAnchorEl: null, menuAnchorFilterEl: null }, cb);\n    }\n\n    getFilterBadge() {\n        return [\n            this.state.statusFilter === true && <IconPlay className={this.props.classes.filterIcon} style={{ color: COLOR_RUN }}/>,\n            this.state.statusFilter === false && <IconPause className={this.props.classes.filterIcon} style={{ color: COLOR_PAUSE }}/>,\n            this.state.typeFilter === 'Blockly' && 'Bl',\n            this.state.typeFilter === 'Javascript/js' && 'JS',\n            this.state.typeFilter === 'TypeScript/ts' && 'TS',\n        ];\n    }\n\n    getMainMenu(children, selectedItem) {\n        return <Menu\n            key=\"menu\"\n            id=\"long-menu\"\n            anchorEl={this.state.menuAnchorEl}\n            open={this.state.menuOpened}\n            onClose={() => this.setState({ menuOpened: false, menuAnchorEl: null })}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                    // width: 200,\n                },\n            }}\n        >\n            {this.state.width <= NARROW_WIDTH ? <MenuItem\n                key=\"delete\"\n                disabled={this.props.debugMode || !this.state.selected || this.state.selected === GLOBAL_ID || this.state.selected === COMMON_ID || (children && children.length)}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    if (this.state.listItems.find(item => item.parent === this.state.selected)) {\n                        this.showError(I18n.t('Cannot delete non empty item!'));\n                        return;\n                    }\n\n                    this.setState({ menuOpened: false, menuAnchorEl: null }, () =>\n                        this.onDelete(this.state.selected).then(() => {}));\n                }}><IconDelete className={this.props.classes.iconDropdownMenu}  style={{ color: 'red' }}/>{I18n.t('Delete')}\n            </MenuItem> : null}\n            <MenuItem\n                key=\"expertMode\"\n                disabled={this.props.debugMode}\n                selected={this.state.expertMode}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() =>\n                        this.props.onExpertModeChange && this.props.onExpertModeChange(!this.state.expertMode));\n                }}>\n                <IconExpert className={this.props.classes.iconDropdownMenu} style={{ color: this.state.expertMode ? 'orange' : 'inherit' }}/>{I18n.t('Expert mode')}\n            </MenuItem>\n            {this.props.onExport && <MenuItem\n                key=\"exportAll\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() => this.props.onExport());\n                }}>\n                <IconExport className={this.props.classes.iconDropdownMenu} />{I18n.t('Export all scripts')}\n            </MenuItem>}\n            {this.props.onImport && <MenuItem\n                disabled={this.props.debugMode}\n                key=\"import\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() => this.props.onImport());\n                }}>\n                <IconImport className={this.props.classes.iconDropdownMenu} />{I18n.t('Import scripts')}\n            </MenuItem>}\n            {this.props.onThemeChange && <MenuItem\n                key=\"dark\"\n                onClick={() => this.onCloseMenu(() => {\n                    // TODO: use Utils.toggleTheme(themeName)\n                    // newThemeName = Utils.toggleTheme(themeName);\n                    const newThemeName = this.state.themeName === 'dark' ? 'blue' :\n                        this.state.themeName === 'blue' ? 'colored' : this.state.themeName === 'colored' ? 'light' :\n                            this.state.themeName === 'light' ? 'dark' : 'colored';\n                    this.props.onThemeChange(newThemeName);\n                })}\n            >\n                <IconDark className={this.props.classes.iconDropdownMenu} />{I18n.t('Change theme (actual \"%s\")', this.state.themeName)}\n            </MenuItem>}\n            {this.props.onAddNew && <MenuItem\n                key=\"copy\"\n                disabled={!this.state.selected || !selectedItem || selectedItem.type === 'folder'}\n                onClick={event => {\n                    const selected = this.state.selected;\n                    this.onCloseMenu(() => this.onCopy(event, selected));\n                }}\n            >\n                <IconCopy className={this.props.classes.iconDropdownMenu} />\n                {I18n.t('Copy script')}\n            </MenuItem>}\n            {this.state.expertMode && <MenuItem\n                disabled={this.props.debugMode}\n                key=\"debugInstance\"\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.onCloseMenu(() =>\n                        this.setState({ showAdapterDebug: true }));\n                }}\n            >\n                <IconDebug className={this.props.classes.iconDropdownMenu} />\n                {I18n.t('Debug instance')}\n            </MenuItem>}\n        </Menu>;\n    }\n\n    // render menu and toolbar\n    getToolbarButtons() {\n        const result = [];\n        const classes = this.props.classes;\n        const reorder = this.state.reorder && !this.props.debugMode;\n        if (this.state.searchMode && !this.props.debugMode) {\n            result.push(<Input\n                key=\"searchInput\"\n                value={this.state.searchText}\n                className={classes.toolbarSearch}\n                ref={this.inputRef}\n                autoFocus\n                placeholder={I18n.t('Search...')}\n                onChange={e => {\n                    this.setState({ searchText: e.target.value });\n                    this.filterTimer && clearTimeout(this.filterTimer);\n                    this.filterTimer = setTimeout(() => {\n                        this.filterTimer = null;\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    }, 400);\n                }}\n            />);\n\n            result.push(<IconButton\n                key=\"disableSearch\"\n                className={classes.toolbarButtons}\n                style={{ float: 'right' }}\n                title={I18n.t('End search mode')}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.filterList(false, () => this.props.onSearch && this.props.onSearch(this.state.searchText));\n                }}\n                size=\"medium\"><IconClose /></IconButton>);\n\n            this.state.searchText && result.push(<IconButton\n                key=\"cleanSearch\"\n                mini=\"true\"\n                title={I18n.t('Clear search input')}\n                className={classes.toolbarButtons}\n                style={{ marginTop: 7, float: 'right' }}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({ searchText: '' }, () => {\n                        this.filterList(true);\n                        this.props.onSearch && this.props.onSearch(this.state.searchText);\n                    });\n                }}\n                size=\"medium\"\n            >\n                <IconClear fontSize=\"small\"/>\n            </IconButton>);\n        } else {\n            if (!reorder) {\n                // Open Menu\n                result.push(<IconButton\n                    key=\"menuButton\"\n                    aria-label=\"More\"\n                    aria-owns={this.state.menuOpened ? 'long-menu' : undefined}\n                    title={I18n.t('Menu')}\n                    aria-haspopup=\"true\"\n                    onClick={event => {\n                        event.stopPropagation();\n                        event.preventDefault();\n                        this.setState({ menuOpened: true, menuAnchorEl: event.currentTarget });\n                    }}\n                    size=\"medium\"\n                >\n                    {/*<Badge className={classes.margin} badgeContent={this.getFilterBadge()}>*/}\n                    <IconMore />\n                    {/*</Badge>*/}\n                </IconButton>);\n\n                const selectedItem = this.state.listItems.find(it => it.id === this.state.selected);\n                let children;\n                if (selectedItem && this.state.width <= NARROW_WIDTH && selectedItem.type === 'folder') {\n                    children = this.state.listItems.filter(i => i.parent === this.state.selected);\n                }\n\n                // Menu\n                result.push(this.getMainMenu(children, selectedItem));\n\n                // New Script\n                result.push(<IconButton\n                    disabled={this.props.debugMode}\n                    key=\"new-script\"\n                    title={I18n.t('Create new script')}\n                    className={Utils.clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                    style={{ color: reorder ? 'red' : 'inherit' }}\n                    onClick={e => this.onAddNew(e)}\n                    size=\"medium\"\n                >\n                    <IconAdd />\n                </IconButton>);\n\n                // New Folder\n                result.push(<IconButton\n                    disabled={this.props.debugMode}\n                    key=\"new-folder\"\n                    title={I18n.t('Create new folder')}\n                    className={Utils.clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                    style={{ color: reorder ? 'red' : 'inherit' }}\n                    onClick={() => this.onAddNewFolder()}\n                    size=\"medium\"\n                >\n                    <IconAddFolder />\n                </IconButton>);\n            }\n\n            // Search\n            result.push(<IconButton\n                key=\"search\"\n                disabled={reorder || this.props.debugMode}\n                className={Utils.clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                title={I18n.t('Search in scripts')}\n                style={{ float: 'right', opacity: this.props.debugMode ? 0.5 : (reorder ? 0 : 1) }}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({ searchMode: true });\n                }}\n                size=\"medium\"\n            >\n                <IconFind />\n            </IconButton>);\n\n            // Reorder button\n            result.push(<IconButton\n                disabled={this.props.debugMode}\n                key=\"reorder\"\n                title={I18n.t('Reorder scripts in folders')}\n                className={Utils.clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                style={{ color: reorder ? 'red' : 'inherit', float: 'right' }}\n                onClick={e => {\n                    e.stopPropagation();\n                    this.setState({ reorder: !this.state.reorder });\n                }}\n                size=\"medium\"\n            >\n                <IconReorder />\n            </IconButton>);\n\n            if (!reorder && this.state.selected && this.state.selected !== GLOBAL_ID && this.state.selected !== COMMON_ID) {\n                // Rename\n                result.push(<IconButton\n                    className={Utils.clsx(classes.toolbarButtons, this.props.debugMode && classes.iconButtonsDisabled)}\n                    disabled={this.props.debugMode}\n                    title={I18n.t('Rename')}\n                    key=\"rename\"\n                    onClick={e => this.onRename(e)}\n                    size=\"medium\"\n                >\n                    <IconEdit />\n                </IconButton>);\n\n                // const selectedItem = this.state.listItems.find(i => i.id === this.state.selected);\n                // if (selectedItem && selectedItem.type !== 'folder') {\n                //     // Restart\n                //     result.push((<IconButton className={classes.toolbarButtons}\n                //          key=\"restart\"\n                //          onClick={e => {\n                //              e.stopPropagation();\n                //              this.props.onEnableDisable && this.props.onEnableDisable();\n                //          }}\n                //     ><IconRestart/></IconButton>));\n                // }\n            }\n            result.push(<span key=\"version\" style={{ opacity: 0.5, fontSize: 10 }}>v{this.props.version}</span>);\n        }\n        return result;\n    }\n\n    getFolders() {\n        const folders = [{ id: ROOT_ID, name: I18n.t('Root folder') }];\n        this.state.listItems.forEach(item => {\n            if (item.type === 'folder' && item.id !== ROOT_ID) { // root has been added above\n                if (!item.id.startsWith(GLOBAL_ID) || this.state.expertMode) {\n                    folders.push({ id: item.id, name: item.title });\n                }\n            }\n        });\n        return folders;\n    }\n\n    onCollapseAll() {\n        this.setState({ expanded: [] });\n        this.saveExpanded([]);\n    }\n\n    onExpandAll() {\n        const expanded = [];\n        this.state.listItems.forEach(item =>\n            this.state.listItems.find(it => it.parent === item.id) && expanded.push(item.id));\n        this.setState({ expanded });\n        this.saveExpanded(expanded);\n    }\n\n    getBottomButtons() {\n        if (this.state.reorder || this.props.debugMode) {\n            return null;\n        }\n        return [\n            <IconPause\n                key=\"filterByRunning\"\n                className={this.props.classes.footerButtons}\n                style={{ color: COLOR_RUN, opacity: this.state.statusFilter === 'running' ? 1 : 0.3, background: this.state.statusFilter === 'running' ? 'gray' : 'inherit' }}\n                title={I18n.t('Show only running scripts')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    const statusFilter = this.state.statusFilter === 'running' ? '' : 'running';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({ statusFilter });\n                }}\n            />,\n\n            <IconPlay\n                key=\"filterByPaused\"\n                title={I18n.t('Show only paused scripts')}\n                className={this.props.classes.footerButtons}\n                style={{ color: COLOR_PAUSE, opacity: this.state.statusFilter === 'paused' ? 1 : 0.3, background: this.state.statusFilter === 'paused' ? 'gray' : 'inherit' }}\n                onClick={() => {\n                    const statusFilter = this.state.statusFilter === 'paused' ? '' : 'paused';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({ statusFilter });\n                }}\n            />,\n            <IconPause\n                key=\"filterByProblem\"\n                title={I18n.t('Show only scripts with problems')}\n                className={this.props.classes.footerButtons}\n                style={{ color: COLOR_PROBLEM, opacity: this.state.statusFilter === 'problems' ? 1 : 0.3, background: this.state.statusFilter === 'problems' ? 'gray' : 'inherit' }}\n                onClick={() => {\n                    const statusFilter = this.state.statusFilter === 'problems' ? '' : 'problems';\n                    window.localStorage && window.localStorage.setItem('SideMenu.statusFilter', statusFilter);\n                    this.setState({ statusFilter });\n                }}\n            />,\n            <img\n                key=\"filterBlockly\"\n                className={this.props.classes.footerButtons}\n                alt=\"Blockly\"\n                style={{ opacity: this.state.typeFilter === 'Blockly' ? 1 : 0.3, background: this.state.typeFilter === 'Blockly' ? 'gray' : 'inherit' }}\n                src={images.Blockly || images.def}\n                onClick={() => {\n                    const typeFilter = this.state.typeFilter === 'Blockly' ? '' : 'Blockly';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({ typeFilter });\n                }}\n            />,\n            <img\n                key=\"filterJS\"\n                className={this.props.classes.footerButtons}\n                alt=\"Javascript\"\n                style={{ opacity: this.state.typeFilter === 'Javascript/js' ? 1 : 0.3, background: this.state.typeFilter === 'Javascript/js' ? 'gray' : 'inherit' }}\n                src={images['Javascript/js'] || images.def}\n                onClick={() => {\n                    const typeFilter = this.state.typeFilter === 'Javascript/js' ? '' : 'Javascript/js';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                    this.setState({ typeFilter });\n                }}\n            />,\n            <img\n                key=\"filterTS\"\n                className={this.props.classes.footerButtons}\n                alt=\"TypeScript\"\n                style={{ opacity: this.state.typeFilter === 'TypeScript/ts' ? 1 : 0.3, background: this.state.typeFilter === 'TypeScript/ts' ? 'gray' : 'inherit' }}\n                src={images['TypeScript/ts'] || images.def}\n                onClick={() => {\n                    const typeFilter = this.state.typeFilter === 'TypeScript/ts' ? '' : 'TypeScript/ts';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                this.setState({ typeFilter });\n                }}\n            />,\n            <img\n                key=\"filterRules\"\n                className={this.props.classes.footerButtons}\n                alt=\"Rules\"\n                style={{ opacity: this.state.typeFilter === 'Rules' ? 1 : 0.3, background: this.state.typeFilter === 'Rules' ? 'gray' : 'inherit' }}\n                src={images['Rules'] || images.def}\n                onClick={event => {\n                    const typeFilter = this.state.typeFilter === 'Rules' ? '' : 'Rules';\n                    window.localStorage && window.localStorage.setItem('SideMenu.typeFilter', typeFilter);\n                this.setState({ typeFilter });\n                }}\n            />,\n            <IconExpandAll\n                key=\"expandAll\"\n                className={`${this.props.classes.footerButtons} ${this.props.classes.footerButtonsRight}`}\n                title={I18n.t('Expand all')}\n                onClick={() => this.onExpandAll()}\n            />,\n            this.state.expanded.length ? <IconCollapseAll\n                key=\"collapseAll\"\n                className={`${this.props.classes.footerButtons} ${this.props.classes.footerButtonsRight}`}\n                title={I18n.t('Collapse all')}\n                onClick={() => this.onCollapseAll()}\n            /> : null,\n        ];\n    }\n\n    getAdapterDebugDialog() {\n        if (this.state.showAdapterDebug) {\n            return <DialogAdapterDebug\n                key=\"debug\"\n                socket={this.props.socket}\n                onClose={() => this.setState({ showAdapterDebug: false })}\n                onDebug={(instance, adapter) => this.setState({ showAdapterDebug: false }, () => this.props.onDebugInstance({instance, adapter}))}\n            />;\n        }\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        const renamingItem = this.state.renaming && this.state.listItems.find(i => i.id === this.state.renaming);\n        const copingItem = this.state.copingScript && this.props.scripts[this.state.copingScript];\n\n        return [\n            <Drawer\n                key=\"drawer\"\n                variant=\"permanent\"\n                className={classes.menu}\n                classes={{ paper: classes.drawerPaper }}\n                anchor='left'\n                onClick={() => this.onClick({id: ''})}\n            >\n                <div className={classes.toolbar}>\n                    {this.getToolbarButtons()}\n                </div>\n\n                <Divider/>\n\n                <DragDropContext backend={HTML5Backend}>\n                    <div className={classes.innerMenu}>\n                        {this.renderAllItems(this.state.listItems)}\n                    </div>\n                </DragDropContext>\n\n                <Divider/>\n\n                <div className={classes.footer}>{this.getBottomButtons()}</div>\n            </Drawer>,\n\n            renamingItem ? <DialogRename\n                key=\"dialog-rename\"\n                name={renamingItem.title}\n                title={I18n.t('Rename')}\n                id={this.state.renaming}\n                folder={renamingItem.type === 'folder'}\n                instance={renamingItem.instance}\n                instances={this.props.instances}\n                onClose={() => this.setState({ renaming: false })}\n                onRename={(oldId, newName, newId, newInstance) => this.props.onRename && this.props.onRename(oldId, newName, newId, newInstance)}\n            /> : null,\n\n            this.state.deleting ? <DialogDelete\n                key=\"dialog-delete\"\n                name={this.state.listItems.find(i => i.id === this.state.deleting).title}\n                id={this.state.deleting}\n                onClose={() => this.setState({ deleting: false })}\n                onDelete={id => this.props.onDelete && this.props.onDelete(id)}\n            /> : null,\n\n            this.state.choosingType ? <DialogAddNewScript\n                key=\"dialog-script-type\"\n                onClose={type => {\n                    const newState = { choosingType: false };\n                    if (type) {\n                        newState.creatingScript = type;\n                    }\n                    this.setState(newState);\n                }}\n            /> : null,\n\n            this.state.creatingScript ? <DialogNew\n                key=\"dialog-new-script\"\n                onClose={() => this.setState({ creatingScript: false })}\n                title={I18n.t('Create new script')}\n                name={this.getUniqueName()}\n                parents={this.getFolders()}\n                folder={false}\n                existingItems={this.state.listItems.map(item => item.id)}\n                instance={this.props.instances[0] || 0}\n                instances={this.props.instances}\n                type={this.state.creatingScript}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) =>\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type)}\n            /> : null,\n\n            this.state.copingScript ? <DialogNew\n                key=\"dialog-copy-script\"\n                onClose={() => this.setState({ copingScript: '' })}\n                title={I18n.t('Copy script')}\n                name={this.getUniqueName(this.state.copingScript)}\n                parents={this.getFolders()}\n                folder={false}\n                instance={parseInt((copingItem && copingItem.common && copingItem.common.engine && copingItem.common.engine.split('.').pop()) || 0, 10)}\n                instances={this.props.instances}\n                type={(copingItem && copingItem.common && copingItem.common.engineType) || 'Javascript/js'}\n                parent={this.parent}\n                onAdd={(id, name, instance, type) => {\n                    const copingItem = this.state.copingScript && this.props.scripts[this.state.copingScript];\n                    if (copingItem && copingItem.common) {\n                        // disable script by coping\n                        copingItem.common.enabled = false;\n                    }\n                    this.props.onAddNew && this.props.onAddNew(id, name, false, instance, type, copingItem && copingItem.common && copingItem.common.source);\n                }}\n            /> : null,\n\n            this.state.creatingFolder ? <DialogNew\n                key=\"dialog-new-folder\"\n                onClose={() => this.setState({ creatingFolder: false })}\n                title={I18n.t('Create new folder')}\n                parents={this.getFolders()}\n                name={this.getUniqueFolderName()}\n                parent={this.parent}\n                onAdd={(id, name) => this.props.onAddNew && this.props.onAddNew(id, name, true)}\n            /> : null,\n\n            this.state.errorText ? <DialogError key=\"error\" onClose={() => this.setState({ errorText: '' })} text={this.state.errorText} /> : null,\n\n            this.getAdapterDebugDialog(),\n        ];\n    }\n}\n\nSideDrawer.propTypes = {\n    classes: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    scripts: PropTypes.object.isRequired,\n    scriptsHash: PropTypes.number,\n    onEdit: PropTypes.func,\n    selectId: PropTypes.string,\n    expertMode: PropTypes.bool,\n    onExpertModeChange: PropTypes.func,\n    onEnableDisable: PropTypes.func,\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    onSelect: PropTypes.func,\n    onAddNew: PropTypes.func,\n    onRename: PropTypes.func,\n    onDelete: PropTypes.func,\n    onImport: PropTypes.func,\n    onExport: PropTypes.func,\n    onSearch: PropTypes.func,\n    onThemeChange: PropTypes.func,\n    onDebugInstance: PropTypes.func,\n    width: PropTypes.number,\n    debugMode: PropTypes.bool,\n    version: PropTypes.string,\n};\n\nexport default withStyles(styles)(SideDrawer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\n\nimport IconButton from '@mui/material/IconButton';\n\nimport { MdDeleteForever as IconDelete } from 'react-icons/md';\nimport { MdVerticalAlignBottom as IconBottom } from 'react-icons/md';\nimport { MdContentCopy as IconCopy } from 'react-icons/md';\nimport { MdVisibilityOff as IconHide } from 'react-icons/md';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\n// replace later with MdHorizontalSplit and MdVerticalSplit\nconst IconVerticalSplit   = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAACFJREFUeAFjAIJRwP////8PYIKWHCigNQdKj/pn1D+jAABTG16wVQqVpQAAAABJRU5ErkJggg==';\nconst IconHorizontalSplit = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAABtJREFUeAFjAIJRwP8fCj7QkENn/4z6Z5QzCgBjbWaoyx1PqQAAAABJRU5ErkJggg==';\n\nfunction getTimeString(d) {\n    let text;\n    let i = d.getHours();\n    if (i < 10) {\n        i = `0${i.toString()}`;\n    }\n    text = `${i}:`;\n\n    i = d.getMinutes();\n    if (i < 10) {\n        i = `0${i.toString()}`;\n    }\n    text += `${i}:`;\n    i = d.getSeconds();\n    if (i < 10) {\n        i = `0${i.toString()}`;\n    }\n    text += `${i}.`;\n    i = d.getMilliseconds();\n    if (i < 10) {\n        i = `00${i.toString()}`;\n    } else if (i < 100) {\n        i = `0${i.toString()}`;\n    }\n    text += i;\n    return text;\n}\nconst TOOLBOX_WIDTH = 34;\n\nconst styles = theme => ({\n    logBox: {\n        width: '100%',\n        height: '100%',\n        position: 'relative',\n        overflow: 'hidden',\n    },\n    logBoxInner: {\n        display: 'inline-block',\n        color: theme.palette.mode === 'dark' ? 'white' : 'black',\n        width: `calc(100% - ${TOOLBOX_WIDTH}px)`,\n        height: '100%',\n        //marginLeft: TOOLBOX_WIDTH,\n        overflow: 'auto',\n        position: 'relative',\n        verticalAlign: 'top',\n    },\n    info: {\n        background: theme.palette.mode === 'dark' ? 'darkgrey' : 'lightgrey',\n        color: theme.palette.mode === 'dark' ?  'black' : 'black',\n    },\n    error: {\n        background: '#FF0000',\n        color: theme.palette.mode === 'dark' ?  'black' : 'white',\n    },\n    warn: {\n        background: '#FF8000',\n        color: theme.palette.mode === 'dark' ?  'black' : 'white',\n    },\n    debug: {\n        background: 'gray',\n        opacity: 0.8,\n        color: theme.palette.mode === 'dark' ?  'black' : 'white',\n    },\n    silly: {\n        background: 'gray',\n        opacity: 0.6,\n        color: theme.palette.mode === 'dark' ? 'black' : 'white',\n    },\n    table: {\n        fontFamily: 'monospace',\n        width: '100%',\n\n    },\n    toolbox: {\n        width: TOOLBOX_WIDTH,\n        height: '100%',\n        boxShadow: '2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0px rgba(0, 0, 0, 0.14), 1px 0px 10px 0px rgba(0, 0, 0, 0.12)',\n        display: 'inline-block',\n        verticalAlign: 'top',\n        overflow: 'hidden',\n    },\n    trFrom: {\n        width: 90,\n    },\n    trTime: {\n        width: 90,\n    },\n    trSeverity: {\n        width: 40,\n        fontWeight: 'bold',\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 4,\n    },\n    layoutIcon: {\n        width: 24,\n        height: 24,\n        background: theme.palette.mode === 'dark' ? '#9d9d9d' : undefined,\n        borderRadius: theme.palette.mode === 'dark' ? 30 : undefined,\n    },\n});\n\nfunction paddingMs(ms) {\n    if (ms < 10) {\n        return `00${ms}`;\n    }\n    if (ms < 100) {\n        return `0${ms}`;\n    }\n    return ms;\n}\n\nlet gText = {};\n\nclass Log extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            lines: {},\n            goBottom: true,\n            selected: null,\n            editing: this.props.editing || [],\n        };\n        this.lastIndex = null;\n        this.messagesEnd = React.createRef();\n    }\n\n    generateLine(row) {\n        let message = row.message || '';\n\n        if (typeof message !== 'object') {\n            const regExp = new RegExp(`${row.from.replace('.', '\\\\.').replace(')', '\\\\)').replace('(', '\\\\(')} \\\\(\\\\d+\\\\) `, 'g');\n            const matches = message.match(regExp);\n\n            if (matches) {\n                message = message.replace(matches[0], '');\n            } else {\n                message = message.replace(`${row.from} `, '');\n            }\n        }\n\n        return <tr key={`tr_${row.ts}_${row.message.substr(-10)}`} className={this.props.classes[row.severity]}>\n            <td key=\"tdFrom\" className={this.props.classes.trFrom}>{row.from}</td>\n            <td key=\"tdTime\" className={this.props.classes.trTime}>{getTimeString(new Date(row.ts))}</td>\n            <td key=\"tdSeverity\" className={this.props.classes.trSeverity}>{row.severity}</td>\n            <td key=\"tdMessage\">{message}</td>\n        </tr>;\n    }\n\n    scrollToBottom() {\n        this.messagesEnd && this.messagesEnd.current && this.messagesEnd.current.scrollIntoView({ behavior: 'smooth' });\n    }\n\n    logHandler = message => {\n        let allLines = this.state.lines;\n        const scripts = this.state.editing.filter(id => message.message.includes(id));\n        let selected;\n        if (!scripts.length) {\n            return;\n        } else if (scripts.length === 1) {\n            selected = scripts[0];\n        } else {\n            // try to get the script with the longest common substring\n            scripts.sort();\n            selected = scripts[scripts.length - 1];\n        }\n\n        let lines = allLines[selected] || [];\n        let text = gText[selected] || [];\n\n        lines.push(this.generateLine(message));\n        let severity = message.severity;\n        if (severity === 'info' || severity === 'warn') {\n            severity += ' ';\n        }\n        const date = new Date(message.ts);\n        text.push(`${date.toLocaleString()}.${paddingMs(date.getMilliseconds())}\\t[${severity}]: ${message.message}`);\n        if (lines.length > 300) {\n            lines.splice(0, lines.length - 300);\n            text.splice(0, lines.length - 300);\n        }\n        gText[selected] = text;\n        allLines[selected] = lines;\n\n        this.setState({ lines: allLines });\n    };\n\n    componentDidMount() {\n        this.props.socket.registerLogHandler(this.logHandler);\n    }\n\n    componentWillUnmount() {\n        this.props.socket.unregisterLogHandler(this.logHandler);\n    }\n\n    componentDidUpdate() {\n        this.state.goBottom && this.scrollToBottom();\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        let changed = false;\n        let newState = {};\n\n        if (props.selected !== state.selected) {\n            let selected = props.selected;\n            let allLines = state.lines;\n            allLines[selected] = allLines[selected] || [];\n            gText[selected] = gText[selected] || [];\n            newState.selected = selected;\n            changed = true;\n        }\n\n        if (JSON.stringify(props.editing) !== JSON.stringify(state.editing)) {\n            const editing = JSON.parse(JSON.stringify(props.editing));\n            changed = true;\n            let allLines = state.lines;\n\n            for (const id in gText) {\n                if (gText.hasOwnProperty(id)) {\n                    if (!editing.includes(id)) {\n                        delete gText[id];\n                        delete allLines[id];\n                    }\n                }\n            }\n\n            newState.editing = editing;\n        }\n        return changed ? newState : null;\n    }\n\n    onCopy() {\n        Utils.copyToClipboard((gText[this.state.selected] || []).join('\\n'));\n    }\n\n    clearLog() {\n        let allLines = this.state.lines;\n        if (allLines[this.state.selected]) {\n            allLines[this.state.selected] = [];\n        }\n        if (gText[this.state.selected]) {\n            gText[this.state.selected] = [];\n        }\n        this.setState({ lines: allLines });\n    }\n\n    renderLogList(lines) {\n        if (this.state.selected && lines && lines.length) {\n            return <div className={this.props.classes.logBoxInner} key=\"logList\">\n                <table key=\"logTable\" className={this.props.classes.table}><tbody>{lines}</tbody></table>\n                <div key=\"logScrollPoint\" ref={this.messagesEnd} style={{ float: 'left', clear: 'both' }}/>\n            </div>;\n        } else {\n            return <div key=\"logList\" className={this.props.classes.logBoxInner} style={{ paddingLeft: 10 }}>{I18n.t('Log outputs')}</div>;\n        }\n    }\n\n    render() {\n        const lines = this.state.selected && this.state.lines[this.state.selected];\n        return <div className={this.props.classes.logBox}>\n            <div className={this.props.classes.toolbox} key=\"toolbox\">\n                <IconButton\n                    className={this.props.classes.iconButtons}\n                    onClick={() => this.setState({ goBottom: !this.state.goBottom })}\n                    color={this.state.goBottom ? 'secondary' : ''}\n                    size=\"medium\"><IconBottom /></IconButton>\n                {lines && lines.length ? <IconButton\n                    className={this.props.classes.iconButtons}\n                    onClick={() => this.clearLog()}\n                    size=\"medium\"><IconDelete /></IconButton> : null}\n                {lines && lines.length ? <IconButton\n                    className={this.props.classes.iconButtons}\n                    onClick={() => this.onCopy()}\n                    size=\"medium\"><IconCopy /></IconButton> : null}\n                {this.props.onLayoutChange ? <IconButton\n                    className={this.props.classes.iconButtons}\n                    onClick={() => this.props.onLayoutChange()}\n                    title={I18n.t('Change layout')}\n                    size=\"medium\"><img className={this.props.classes.layoutIcon} alt=\"split\" src={this.props.verticalLayout ? IconVerticalSplit : IconHorizontalSplit} /></IconButton> : null}\n                <IconButton\n                    className={this.props.classes.iconButtons}\n                    onClick={() => this.props.onHideLog()}\n                    title={I18n.t('Hide logs')}\n                    size=\"medium\"><IconHide /></IconButton>\n            </div>\n            {this.renderLogList(lines)}\n        </div>;\n    }\n}\n\nLog.propTypes = {\n    selected: PropTypes.string,\n    socket: PropTypes.object,\n    onLayoutChange: PropTypes.func,\n    verticalLayout: PropTypes.bool,\n};\n\nexport default withStyles(styles)(Log);\n","var _defs, _title, _title2, _title3, _title4, _title5;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgBlockly2Js(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 1536 512\",\n    width: \"96px\",\n    height: \"32px\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-2\",\n    d: \"M 82.97724,29.300104 C 82.790583,28.201973 82.006921,27.299698 80.945743,26.961124 79.884564,26.62255 78.723152,26.904241 77.935,27.691354 L 62.465677,43.197917 50.303229,20.042344 C 49.78815,19.063276 48.772957,18.45025 47.666667,18.45025 c -1.106291,0 -2.121484,0.613026 -2.636563,1.592094 L 38.379115,32.703802 21.695781,1.5864062 C 21.090714,0.45617231 19.83044,-0.16023716 18.566804,0.05600004 17.303168,0.27223724 16.319565,1.2726256 16.12474,2.5397396 L 0,105.76042 43.123438,129.93635 c 2.707936,1.51195 6.006125,1.51195 8.714062,0 l 43.495833,-24.17593 z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-4\",\n    d: \"m 106.68711,35.274174 c -0.186,-1.097652 -0.96693,-1.999535 -2.02439,-2.337961 -1.05747,-0.338426 -2.21482,-0.05686 -3.00022,0.729912 L 86.247266,49.165925 74.127344,26.020451 C 73.614066,25.04181 72.602423,24.429052 71.5,24.429052 c -1.102423,0 -2.114066,0.612758 -2.627344,1.591399 L 62.244922,38.676387 45.619922,7.5725628 C 45.01697,6.4428218 43.761103,5.8266812 42.501885,6.0428241 41.242667,6.258967 40.262504,7.2589191 40.068359,8.5254804 L 24,111.70114 66.972656,135.86653 c 2.698469,1.51129 5.985125,1.51129 8.683594,0 L 119,111.70114 Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-1\",\n    d: \"M 82.97724,29.300104 C 82.790583,28.201973 82.006921,27.299698 80.945743,26.961124 79.884564,26.62255 78.723152,26.904241 77.935,27.691354 L 62.465677,43.197917 50.303229,20.042344 C 49.78815,19.063276 48.772957,18.45025 47.666667,18.45025 c -1.106291,0 -2.121484,0.613026 -2.636563,1.592094 L 38.379115,32.703802 21.695781,1.5864062 C 21.090714,0.45617231 19.83044,-0.16023716 18.566804,0.05600004 17.303168,0.27223724 16.319565,1.2726256 16.12474,2.5397396 L 0,105.76042 43.123438,129.93635 c 2.707936,1.51195 6.006125,1.51195 8.714062,0 l 43.495833,-24.17593 z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-3\",\n    d: \"m 106.68711,35.274174 c -0.186,-1.097652 -0.96693,-1.999535 -2.02439,-2.337961 -1.05747,-0.338426 -2.21482,-0.05686 -3.00022,0.729912 L 86.247266,49.165925 74.127344,26.020451 C 73.614066,25.04181 72.602423,24.429052 71.5,24.429052 c -1.102423,0 -2.114066,0.612758 -2.627344,1.591399 L 62.244922,38.676387 45.619922,7.5725628 C 45.01697,6.4428218 43.761103,5.8266812 42.501885,6.0428241 41.242667,6.258967 40.262504,7.2589191 40.068359,8.5254804 L 24,111.70114 66.972656,135.86653 c 2.698469,1.51129 5.985125,1.51129 8.683594,0 L 119,111.70114 Z\"\n  }))), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"blocklyPath\",\n    fill: \"#5b80a5\",\n    d: \"M 125.927 91.541 L 1148.095 91.541 L 1148.095 420.459 L 125.927 420.459 L 125.927 344.559 C 125.927 218.048 24.719 445.762 24.719 249.678 C 24.719 53.584 125.927 281.303 125.927 154.797 L 125.927 91.541 Z\",\n    style: {\n      strokeWidth: 5\n    }\n  }, _title || (_title = /*#__PURE__*/React.createElement(\"title\", null, \"Brick\"))), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 1494.567 91.523 C 1495.672 91.523 1496.567 92.418 1496.567 93.523 L 1496.567 418.433 C 1496.567 419.538 1495.672 420.433 1494.567 420.433 L 1089.542 420.433 C 1088.437 420.433 1087.542 419.538 1087.542 418.433 L 1087.542 392.145 L 1168.093 91.523 Z\",\n    fill: \"#f7df1e\",\n    style: {\n      strokeWidth: 5\n    }\n  }, _title2 || (_title2 = /*#__PURE__*/React.createElement(\"title\", null, \"JS-Rect\"))), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 1355.681 296.404 C 1364.385 310.617 1375.71 321.064 1395.739 321.064 C 1412.565 321.064 1423.314 312.654 1423.314 301.034 C 1423.314 287.11 1412.27 282.178 1393.75 274.077 L 1383.598 269.721 C 1354.295 257.237 1334.828 241.598 1334.828 208.536 C 1334.828 178.08 1358.033 154.896 1394.299 154.896 C 1420.117 154.896 1438.679 163.881 1452.054 187.409 L 1420.433 207.713 C 1413.471 195.229 1405.96 190.311 1394.299 190.311 C 1382.405 190.311 1374.866 197.856 1374.866 207.713 C 1374.866 219.895 1382.411 224.827 1399.834 232.372 L 1409.986 236.721 C 1444.489 251.517 1463.969 266.6 1463.969 300.513 C 1463.969 337.073 1435.249 357.103 1396.679 357.103 C 1358.966 357.103 1334.602 339.131 1322.68 315.576 L 1355.681 296.404 Z M 1212.231 299.923 C 1218.61 311.241 1224.413 320.81 1238.365 320.81 C 1251.706 320.81 1260.123 315.59 1260.123 295.293 L 1260.123 157.214 L 1300.73 157.214 L 1300.73 295.842 C 1300.73 337.89 1276.078 357.027 1240.094 357.027 C 1207.58 357.027 1188.751 340.201 1179.176 319.935 L 1212.231 299.923 Z\",\n    style: {}\n  }, _title3 || (_title3 = /*#__PURE__*/React.createElement(\"title\", null, \"JS\"))), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"blocklyPath\",\n    d: \"M 1168.088 91.541 L 1168.093 91.523 L 1184.595 91.523 L 1096.457 420.459 L 1051.626 420.459 L 1139.759 91.541 Z\",\n    style: {\n      strokeWidth: 5\n    }\n  }, _title4 || (_title4 = /*#__PURE__*/React.createElement(\"title\", null, \"Slash\"))), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 301.727 331.831 L 229.969 331.831 L 229.969 173.491 L 306.883 173.491 C 326.29 173.778 340.04 179.399 348.133 190.356 C 353.003 197.088 355.438 205.145 355.438 214.526 C 355.438 224.194 353.003 231.964 348.133 237.837 C 345.411 241.131 341.401 244.139 336.102 246.86 C 344.194 249.797 350.299 254.452 354.417 260.825 C 358.535 267.199 360.594 274.933 360.594 284.028 C 360.594 293.41 358.23 301.825 353.504 309.272 C 350.496 314.214 346.736 318.368 342.225 321.733 C 337.14 325.6 331.142 328.25 324.232 329.683 C 317.32 331.115 309.819 331.831 301.727 331.831 Z M 300.975 262.114 L 261.551 262.114 L 261.551 304.331 L 300.438 304.331 C 307.384 304.331 312.791 303.4 316.658 301.538 C 323.676 298.101 327.186 291.512 327.186 281.772 C 327.186 273.537 323.784 267.879 316.981 264.8 C 313.185 263.081 307.849 262.186 300.975 262.114 Z M 317.41 231.929 C 321.707 229.35 323.856 224.731 323.856 218.071 C 323.856 210.695 320.991 205.825 315.262 203.462 C 310.32 201.815 304.018 200.991 296.356 200.991 L 261.551 200.991 L 261.551 235.903 L 300.438 235.903 C 307.384 235.903 313.042 234.578 317.41 231.929 Z M 386.477 173.491 L 417.092 173.491 L 417.092 331.831 L 386.477 331.831 L 386.477 173.491 Z M 544.605 229.565 C 554.487 241.954 559.429 256.6 559.429 273.501 C 559.429 290.688 554.487 305.387 544.605 317.598 C 534.722 329.808 519.719 335.913 499.595 335.913 C 479.471 335.913 464.468 329.808 454.585 317.598 C 444.702 305.387 439.761 290.688 439.761 273.501 C 439.761 256.6 444.702 241.954 454.585 229.565 C 464.468 217.176 479.471 210.981 499.595 210.981 C 519.719 210.981 534.722 217.176 544.605 229.565 Z M 499.488 236.87 C 490.536 236.87 483.643 240.039 478.809 246.377 C 473.975 252.715 471.558 261.756 471.558 273.501 C 471.558 285.246 473.975 294.305 478.809 300.679 C 483.643 307.052 490.536 310.239 499.488 310.239 C 508.439 310.239 515.314 307.052 520.113 300.679 C 524.911 294.305 527.31 285.246 527.31 273.501 C 527.31 261.756 524.911 252.715 520.113 246.377 C 515.314 240.039 508.439 236.87 499.488 236.87 Z M 682.638 256.743 L 651.271 256.743 C 650.697 252.374 649.229 248.436 646.867 244.927 C 643.429 240.2 638.093 237.837 630.861 237.837 C 620.548 237.837 613.494 242.957 609.699 253.198 C 607.693 258.641 606.691 265.874 606.691 274.897 C 606.691 283.491 607.693 290.402 609.699 295.63 C 613.351 305.369 620.226 310.239 630.324 310.239 C 637.485 310.239 642.569 308.305 645.577 304.438 C 648.585 300.571 650.411 295.558 651.056 289.399 L 682.316 289.399 C 681.6 298.709 678.234 307.518 672.218 315.825 C 662.622 329.217 648.406 335.913 629.572 335.913 C 610.737 335.913 596.879 330.327 587.999 319.155 C 579.119 307.983 574.679 293.481 574.679 275.649 C 574.679 255.526 579.584 239.878 589.396 228.706 C 599.207 217.534 612.742 211.948 630.001 211.948 C 644.682 211.948 656.695 215.242 666.041 221.831 C 675.387 228.42 680.919 240.057 682.638 256.743 Z M 811.113 331.831 L 774.16 331.831 L 746.123 281.772 L 733.447 294.985 L 733.447 331.831 L 703.369 331.831 L 703.369 174.028 L 733.447 174.028 L 733.447 259.321 L 771.582 215.278 L 809.502 215.278 L 768.574 260.073 L 811.113 331.831 Z M 826.688 173.491 L 857.303 173.491 L 857.303 331.831 L 826.688 331.831 L 826.688 173.491 Z M 934.748 301.108 L 958.918 214.741 L 991.467 214.741 L 951.291 329.897 C 943.557 352.098 937.434 365.866 932.922 371.201 C 928.41 376.536 919.387 379.204 905.852 379.204 C 903.13 379.204 900.946 379.186 899.299 379.15 C 897.651 379.115 895.181 378.989 891.887 378.774 L 891.887 354.282 L 895.754 354.497 C 898.762 354.64 901.626 354.533 904.348 354.175 C 907.069 353.817 909.361 352.993 911.223 351.704 C 913.013 350.487 914.678 347.944 916.218 344.077 C 917.758 340.21 918.384 337.846 918.098 336.987 L 875.129 214.741 L 909.182 214.741 L 934.748 301.108 Z\",\n    style: {\n      fill: \"rgb(255, 255, 255)\"\n    }\n  }, _title5 || (_title5 = /*#__PURE__*/React.createElement(\"title\", null, \"Blockly\"))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBlockly2Js);\nexport default __webpack_public_path__ + \"static/media/blockly2js.8fb8f9319a060341c081277b7b760c74.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _title, _title2, _title3, _title4, _title5;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgRules2Js(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 1536 512\",\n    width: \"96px\",\n    height: \"32px\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-2\",\n    d: \"M 82.97724,29.300104 C 82.790583,28.201973 82.006921,27.299698 80.945743,26.961124 79.884564,26.62255 78.723152,26.904241 77.935,27.691354 L 62.465677,43.197917 50.303229,20.042344 C 49.78815,19.063276 48.772957,18.45025 47.666667,18.45025 c -1.106291,0 -2.121484,0.613026 -2.636563,1.592094 L 38.379115,32.703802 21.695781,1.5864062 C 21.090714,0.45617231 19.83044,-0.16023716 18.566804,0.05600004 17.303168,0.27223724 16.319565,1.2726256 16.12474,2.5397396 L 0,105.76042 43.123438,129.93635 c 2.707936,1.51195 6.006125,1.51195 8.714062,0 l 43.495833,-24.17593 z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-4\",\n    d: \"m 106.68711,35.274174 c -0.186,-1.097652 -0.96693,-1.999535 -2.02439,-2.337961 -1.05747,-0.338426 -2.21482,-0.05686 -3.00022,0.729912 L 86.247266,49.165925 74.127344,26.020451 C 73.614066,25.04181 72.602423,24.429052 71.5,24.429052 c -1.102423,0 -2.114066,0.612758 -2.627344,1.591399 L 62.244922,38.676387 45.619922,7.5725628 C 45.01697,6.4428218 43.761103,5.8266812 42.501885,6.0428241 41.242667,6.258967 40.262504,7.2589191 40.068359,8.5254804 L 24,111.70114 66.972656,135.86653 c 2.698469,1.51129 5.985125,1.51129 8.683594,0 L 119,111.70114 Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-1\",\n    d: \"M 82.97724,29.300104 C 82.790583,28.201973 82.006921,27.299698 80.945743,26.961124 79.884564,26.62255 78.723152,26.904241 77.935,27.691354 L 62.465677,43.197917 50.303229,20.042344 C 49.78815,19.063276 48.772957,18.45025 47.666667,18.45025 c -1.106291,0 -2.121484,0.613026 -2.636563,1.592094 L 38.379115,32.703802 21.695781,1.5864062 C 21.090714,0.45617231 19.83044,-0.16023716 18.566804,0.05600004 17.303168,0.27223724 16.319565,1.2726256 16.12474,2.5397396 L 0,105.76042 43.123438,129.93635 c 2.707936,1.51195 6.006125,1.51195 8.714062,0 l 43.495833,-24.17593 z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"path-3\",\n    d: \"m 106.68711,35.274174 c -0.186,-1.097652 -0.96693,-1.999535 -2.02439,-2.337961 -1.05747,-0.338426 -2.21482,-0.05686 -3.00022,0.729912 L 86.247266,49.165925 74.127344,26.020451 C 73.614066,25.04181 72.602423,24.429052 71.5,24.429052 c -1.102423,0 -2.114066,0.612758 -2.627344,1.591399 L 62.244922,38.676387 45.619922,7.5725628 C 45.01697,6.4428218 43.761103,5.8266812 42.501885,6.0428241 41.242667,6.258967 40.262504,7.2589191 40.068359,8.5254804 L 24,111.70114 66.972656,135.86653 c 2.698469,1.51129 5.985125,1.51129 8.683594,0 L 119,111.70114 Z\"\n  }))), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"blocklyPath\",\n    d: \"M 125.927 91.541 L 1148.095 91.541 L 1148.095 420.459 L 125.927 420.459 L 125.927 344.559 C 125.927 218.048 24.719 445.762 24.719 249.678 C 24.719 53.584 125.927 281.303 125.927 154.797 L 125.927 91.541 Z\",\n    style: {\n      strokeWidth: 5,\n      fill: \"rgb(1, 35, 92)\"\n    }\n  }, _title || (_title = /*#__PURE__*/React.createElement(\"title\", null, \"Brick\"))), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 1494.567 91.523 C 1495.672 91.523 1496.567 92.418 1496.567 93.523 L 1496.567 418.433 C 1496.567 419.538 1495.672 420.433 1494.567 420.433 L 1089.542 420.433 C 1088.437 420.433 1087.542 419.538 1087.542 418.433 L 1087.542 392.145 L 1168.093 91.523 Z\",\n    fill: \"#f7df1e\",\n    style: {\n      strokeWidth: 5\n    }\n  }, _title2 || (_title2 = /*#__PURE__*/React.createElement(\"title\", null, \"JS-Rect\"))), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 1355.681 296.404 C 1364.385 310.617 1375.71 321.064 1395.739 321.064 C 1412.565 321.064 1423.314 312.654 1423.314 301.034 C 1423.314 287.11 1412.27 282.178 1393.75 274.077 L 1383.598 269.721 C 1354.295 257.237 1334.828 241.598 1334.828 208.536 C 1334.828 178.08 1358.033 154.896 1394.299 154.896 C 1420.117 154.896 1438.679 163.881 1452.054 187.409 L 1420.433 207.713 C 1413.471 195.229 1405.96 190.311 1394.299 190.311 C 1382.405 190.311 1374.866 197.856 1374.866 207.713 C 1374.866 219.895 1382.411 224.827 1399.834 232.372 L 1409.986 236.721 C 1444.489 251.517 1463.969 266.6 1463.969 300.513 C 1463.969 337.073 1435.249 357.103 1396.679 357.103 C 1358.966 357.103 1334.602 339.131 1322.68 315.576 L 1355.681 296.404 Z M 1212.231 299.923 C 1218.61 311.241 1224.413 320.81 1238.365 320.81 C 1251.706 320.81 1260.123 315.59 1260.123 295.293 L 1260.123 157.214 L 1300.73 157.214 L 1300.73 295.842 C 1300.73 337.89 1276.078 357.027 1240.094 357.027 C 1207.58 357.027 1188.751 340.201 1179.176 319.935 L 1212.231 299.923 Z\",\n    style: {}\n  }, _title3 || (_title3 = /*#__PURE__*/React.createElement(\"title\", null, \"JS\"))), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"blocklyPath\",\n    d: \"M 1168.088 91.541 L 1168.093 91.523 L 1184.595 91.523 L 1096.457 420.459 L 1051.626 420.459 L 1139.759 91.541 Z\",\n    style: {\n      strokeWidth: 5\n    }\n  }, _title4 || (_title4 = /*#__PURE__*/React.createElement(\"title\", null, \"Slash\"))), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 296.678 269.741 L 262.518 269.741 L 262.518 331.831 L 230.184 331.831 L 230.184 173.491 L 307.85 173.491 Q 324.5 173.813 333.47 177.573 Q 342.44 181.333 348.67 188.638 Q 353.826 194.653 356.834 201.958 Q 359.842 209.263 359.842 218.608 Q 359.842 229.888 354.149 240.791 Q 348.455 251.694 335.35 256.206 Q 346.307 260.61 350.872 268.721 Q 355.438 276.831 355.438 293.481 L 355.438 304.116 Q 355.438 314.966 356.297 318.833 Q 357.586 324.956 362.313 327.856 L 362.313 331.831 L 325.897 331.831 Q 324.393 326.567 323.748 323.345 Q 322.459 316.685 322.352 309.702 L 322.137 294.985 Q 321.922 279.839 316.605 274.79 Q 311.287 269.741 296.678 269.741 Z M 316.766 240.952 Q 326.649 236.44 326.649 223.12 Q 326.649 208.726 317.088 203.784 Q 311.717 200.991 300.975 200.991 L 262.518 200.991 L 262.518 243.53 L 300.008 243.53 Q 311.18 243.53 316.766 240.952 Z M 481.977 270.815 L 481.977 173.491 L 515.6 173.491 L 515.6 270.815 Q 515.6 296.06 507.758 310.132 Q 493.148 335.913 452.006 335.913 Q 410.863 335.913 396.147 310.132 Q 388.305 296.06 388.305 270.815 L 388.305 173.491 L 421.928 173.491 L 421.928 270.815 Q 421.928 287.143 425.795 294.663 Q 431.811 307.983 452.006 307.983 Q 472.094 307.983 478.109 294.663 Q 481.977 287.143 481.977 270.815 Z M 547.184 173.491 L 580.27 173.491 L 580.27 303.364 L 658.688 303.364 L 658.688 331.831 L 547.184 331.831 Z M 791.781 262.651 L 714.867 262.651 L 714.867 303.364 L 802.524 303.364 L 802.524 331.831 L 682.533 331.831 L 682.533 173.491 L 798.656 173.491 L 798.656 201.528 L 714.867 201.528 L 714.867 235.151 L 791.781 235.151 Z M 885.775 308.95 Q 897.484 308.95 904.789 306.372 Q 918.647 301.431 918.647 288.003 Q 918.647 280.161 911.772 275.864 Q 904.897 271.675 890.18 268.452 L 873.422 264.692 Q 848.715 259.106 839.262 252.554 Q 823.256 241.597 823.256 218.286 Q 823.256 197.017 838.725 182.944 Q 854.193 168.872 884.164 168.872 Q 909.193 168.872 926.864 182.139 Q 944.535 195.405 945.395 220.649 L 913.598 220.649 Q 912.738 206.362 901.137 200.347 Q 893.402 196.372 881.908 196.372 Q 869.125 196.372 861.498 201.528 Q 853.871 206.685 853.871 215.923 Q 853.871 224.409 861.391 228.599 Q 866.225 231.392 882.016 235.151 L 909.301 241.704 Q 927.24 246.001 936.371 253.198 Q 950.551 264.37 950.551 285.532 Q 950.551 307.231 933.954 321.572 Q 917.357 335.913 887.065 335.913 Q 856.127 335.913 838.402 321.787 Q 820.678 307.661 820.678 282.954 L 852.26 282.954 Q 853.764 293.804 858.168 299.175 Q 866.225 308.95 885.775 308.95 Z\",\n    style: {\n      fill: \"rgb(255, 255, 255)\"\n    }\n  }, _title5 || (_title5 = /*#__PURE__*/React.createElement(\"title\", null, \"RULES\"))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRules2Js);\nexport default __webpack_public_path__ + \"static/media/rules2js.a3f8ea14eb2673da17e7611b2299af6f.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Fab } from '@mui/material';\n\nimport { MdGTranslate as IconNoCheck } from 'react-icons/md';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nfunction isIdOfGlobalScript(id) {\n    return /^script\\.js\\.global\\./.test(id);\n}\nlet index = 0;\nclass ScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: 'current',\n            isDark: props.isDark || false,\n            language: props.language || 'javascript',\n            readOnly: props.readOnly || false,\n            alive: true,\n            check: false,\n            searchText: this.props.searchText || '',\n            typingsLoaded: false,\n        };\n        this.runningInstancesStr = JSON.stringify(this.props.runningInstances);\n        this.monacoDiv = null; //ref\n        this.editor = null;\n        this.monaco = window.monaco;\n        this.insert = '';\n        this.originalCode = props.code || '';\n        this.typings = {}; // TypeScript declarations\n        this.lastSearch = '';\n    }\n\n    waitForMonaco(cb) {\n        let monacoLoaded = this.monaco?.languages?.typescript?.typescriptDefaults?.getCompilerOptions;\n        if (!monacoLoaded || !this.props.runningInstances) {\n            this.monaco = window.monaco;\n            monacoLoaded = this.monaco?.languages?.typescript?.typescriptDefaults?.getCompilerOptions;\n            this.monacoCounter = this.monacoCounter || 0;\n            this.monacoCounter++;\n            if (!monacoLoaded && this.monacoCounter < 20) {\n                console.log('wait for monaco loaded');\n                setTimeout(() => this.waitForMonaco(cb), 200);\n                return;\n            }\n            if (this.monacoCounter >= 20) {\n                console.error('Cannot load monaco!');\n            }\n        } else {\n            cb && cb();\n        }\n    }\n\n    loadTypings(runningInstances) {\n        if (!this.editor) {\n            return;\n        }\n        runningInstances = runningInstances || this.props.runningInstances;\n\n        const scriptAdapterInstance = runningInstances && Object.keys(runningInstances).find(id => runningInstances[id]);\n        if (scriptAdapterInstance) {\n            this.props.socket.sendTo(scriptAdapterInstance.replace('system.adapter.', ''), 'loadTypings', null)\n                .then(result => {\n                    this.setState({ alive: true, check: true, typingsLoaded: true });\n                    this.setTypeCheck(true);\n                    if (result.typings) {\n                        this.typings = result.typings;\n                        this.setEditorTypings(this.state.name);\n                    } else {\n                        console.error(`failed to load typings: ${result.error}`);\n                    }\n                });\n        }\n    }\n\n    componentDidMount() {\n        const monacoLoaded = this.monaco?.languages?.typescript?.typescriptDefaults?.getCompilerOptions;\n        if (!monacoLoaded || !this.props.runningInstances) {\n            this.monaco = window.monaco;\n            if (!monacoLoaded) {\n                console.log('wait for monaco loaded...');\n                this.waitForMonaco(() => this.componentDidMount());\n\n                return;\n            }\n        }\n        if (!this.editor && monacoLoaded) {\n            console.log('Init editor');\n            this.props.onRegisterSelect && this.props.onRegisterSelect(() => this.editor.getModel().getValueInRange(this.editor.getSelection()));\n            // For some reason, we have to get the original compiler options\n            // and assign new properties one by one\n            const compilerOptions = this.monaco.languages.typescript.typescriptDefaults['getCompilerOptions']();\n            compilerOptions.target = this.monaco.languages.typescript.ScriptTarget.ES2015;\n            compilerOptions.allowJs = true;\n            compilerOptions.checkJs = this.props.checkJs !== false;\n            compilerOptions.noLib = true;\n            compilerOptions.lib = [];\n            compilerOptions.useUnknownInCatchVariables = false;\n            compilerOptions.moduleResolution = this.monaco.languages.typescript.ModuleResolutionKind.NodeJs;\n            this.monaco.languages.typescript.typescriptDefaults.setCompilerOptions(compilerOptions);\n\n            this.setTypeCheck(false);\n\n            // Create the editor instances\n            this.editor = this.monaco.editor.create(this.monacoDiv, {\n                lineNumbers: 'on',\n                scrollBeyondLastLine: false,\n                automaticLayout: true,\n                glyphMargin: !!this.props.breakpoints,\n            });\n\n            this.editor.onDidChangeModelContent(() =>\n                this.onChange(this.editor.getValue()));\n\n            // Load typings for the JS editor\n            /** @type {string} */\n            this.loadTypings();\n\n            this.editor.addCommand(this.monaco.KeyMod.CtrlCmd | this.monaco.KeyCode.KEY_S, () =>\n                this.onForceSave());\n\n            setTimeout(() => {\n                this.highlightText(this.state.searchText);\n                this.location = this.props.location;\n                this.breakpoints = this.props.breakpoints;\n                this.showDecorators();\n            });\n        }\n        const options = {\n            selectOnLineNumbers: true,\n            scrollBeyondLastLine: false,\n            automaticLayout: true,\n            readOnly: this.state.readOnly,\n            language: this.state.language,\n            isDark: this.state.isDark,\n        };\n\n        this.setEditorOptions(options);\n        this.editor.focus();\n        this.editor.setValue(this.originalCode);\n\n        if (this.props.onToggleBreakpoint) {\n            // add onMouseDown listener to toggle breakpoints\n            this.editor.onMouseDown(e => {\n                if (e.target.detail && e.target.detail.glyphMarginLeft !== undefined) {\n                    this.props.onToggleBreakpoint(e.target.position.lineNumber - 1);\n                }\n            });\n        } else {\n            // remove onMouseDown listener\n            this.editor.onMouseDown(() => { /* nop */ });\n        }\n    }\n\n    /**\n     * Sets some options of the code editor\n     * @param {object} options The editor options to change\n     * @param {Partial<{readOnly: boolean, lineWrap: boolean, language: EditorLanguage, typeCheck: boolean}>} options\n     */\n    setEditorOptions(options) {\n        if (options) {\n            if (options.language) {\n                this.setEditorLanguage(options.language);\n            }\n            if (options.readOnly !== undefined) {\n                this.editor.updateOptions({ readOnly: options.readOnly });\n            }\n            if (options.lineWrap !== undefined) {\n                this.editor.updateOptions({ wordWrap: options.lineWrap ? 'on' : 'off' });\n            }\n            if (options.typeCheck !== undefined) {\n                this.setTypeCheck(options.typeCheck);\n            }\n            if (options.isDark !== undefined) {\n                this.monaco.editor.setTheme(options.isDark ? 'vs-dark' : 'vs');\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.editor) {\n            this.props.onRegisterSelect && this.props.onRegisterSelect(null);\n            this.editor.dispose();\n            this.editor = null;\n        }\n    }\n\n    /** @typedef {\"javascript\" | \"typescript\"} EditorLanguage */\n\n    /**\n     * Sets the language of the code editor\n     * @param {EditorLanguage} language\n     */\n    setEditorLanguage(language) {\n        // we need to recreate the model when changing languages,\n        // so remember its settings\n        const model = this.editor.getModel();\n        const code  = model.getValue();\n        const uri   = model.uri.path;\n\n        const filenameWithoutExtension =\n            typeof uri === 'string' && uri.includes('.')\n                ? uri.substr(0, uri.lastIndexOf('.'))\n                : 'index';\n\n        const extension =\n            language === 'javascript' ? 'js'\n                : (language === 'typescript' ? 'ts' : language);\n\n        // get rid of the original model\n        model.dispose();\n\n        // Both JS and TS need the model to work in TypeScript as the script type\n        // is inferred from the file extension\n        const newLanguage = (language === 'javascript' || language === 'typescript') ? 'typescript' : language;\n\n        const newModel = this.monaco.editor.createModel(\n            code,\n            newLanguage,\n            this.monaco.Uri.from({ path: `${filenameWithoutExtension}${index++}.${extension}` }),\n        );\n\n        this.editor.setModel(newModel);\n    }\n\n    /**\n     * Enables or disables the type checking in the editor\n     * @param {boolean} enabled - Whether type checking is enabled or not\n     */\n    setTypeCheck(enabled) {\n        const options = {\n            noSemanticValidation: !this.state.alive || !enabled, // toggle the type checking\n            noSyntaxValidation: !this.state.alive // always check the syntax\n        };\n        this.monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions(options);\n    }\n\n    /**\n     * @param {string} [currentScriptName] The name of the current script\n     */\n    setEditorTypings(currentScriptName = '') {\n        const isGlobalScript = isIdOfGlobalScript(currentScriptName);\n        // The filename of the declarations this script can see if it is a global script\n        const partialDeclarationsPath = `${currentScriptName}.d.ts`;\n        const wantedTypings = [];\n        for (const path of Object.keys(this.typings)) {\n            // global scripts don't get to see all other global scripts\n            // but only a part of them\n            if (isGlobalScript) {\n                if (path === 'global.d.ts') {\n                    continue;\n                }\n                if (path.startsWith('script.js.global') && path !== partialDeclarationsPath) {\n                    continue;\n                }\n            }\n            wantedTypings.push({\n                filePath: path,\n                content: this.typings[path],\n            });\n        }\n\n        // TODO BF: check https://microsoft.github.io/monaco-editor/playground.html#extending-language-services-semantic-tokens-provider-example\n        // to support 0.21.0\n\n        if (this.monaco?.languages?.typescript?.typescriptDefaults?.setExtraLibs) {\n            this.monaco.languages.typescript.typescriptDefaults.setExtraLibs(wantedTypings);\n        } else if (this.monaco?.languages?.typescript?.typescriptDefaults?.addExtraLib) {\n            const existingLibs = this.monaco.languages.typescript.typescriptDefaults.getExtraLibs();\n            wantedTypings.forEach(lib => {\n                if (!existingLibs[lib.filePath]) {\n                    this.monaco.languages.typescript.typescriptDefaults.addExtraLib(lib, lib.filePath);\n                }\n            });\n        }\n    }\n\n    /**\n     * Inserts some text into the given editor\n     * @param {string} text The text to add\n     */\n    insertTextIntoEditor(text) {\n        const selection = this.editor.getSelection();\n        const range = new this.monaco.Range(\n            selection.startLineNumber,\n            selection.startColumn,\n            selection.endLineNumber,\n            selection.endColumn,\n        );\n        this.editor.executeEdits('', [{ range, text, forceMoveMarkers: true }]);\n        this.editor.focus();\n    }\n\n    highlightText(text) {\n        const range = text && this.editor.getModel().findMatches(text);\n        if (range && range.length) {\n            range.forEach(r => this.editor.setSelection(r.range));\n            this.editor.revealLine(range[0].range.startLineNumber);\n        } else if (this.editor) {\n            const row = this.editor.getPosition().lineNumber;\n            const col = this.editor.getPosition().column;\n            this.editor.setSelection(new this.monaco.Range(row, col, row, col));\n        }\n    }\n\n    showDecorators() {\n        this.decorations = this.decorations || [];\n        const decorations = [];\n        if (this.location) {\n            decorations.push({\n                range: new this.monaco.Range(this.location.lineNumber + 1, this.location.columnNumber + 1, this.location.lineNumber + 1, 1000),\n                options: {\n                    isWholeLine: false,\n                    className: this.props.isDark ? 'monacoCurrentLineDark' : 'monacoCurrentLine',\n                },\n            });\n            decorations.push({\n                range: new this.monaco.Range(this.location.lineNumber + 1, 0, this.location.lineNumber + 1, 0),\n                options: {\n                    isWholeLine: true,\n                    className: this.props.isDark ? 'monacoCurrentFullLineDark' : 'monacoCurrentFullLine',\n                },\n            });\n        }\n\n        if (this.breakpoints) {\n            this.breakpoints.forEach(bp => {\n                decorations.push({\n                    range: new this.monaco.Range(bp.location.lineNumber + 1, 0, bp.location.lineNumber + 1, 100),\n                    options: {\n                        isWholeLine: true,\n                        glyphMarginClassName: this.props.isDark ? 'monacoBreakPointDark' : 'monacoBreakPoint',\n                    },\n                });\n            });\n        }\n        this.editor && (this.decorations =\n            this.editor.deltaDecorations(this.decorations, decorations));\n    }\n\n    initNewScript(name, code) {\n        this.setState({ name });\n        this.originalCode = code || '';\n        this.editor && this.editor.setValue(code);\n        this.highlightText(this.lastSearch);\n        this.showDecorators();\n        // this.setEditorLanguage();\n        // Update the typings because global scripts need different typings than normal scripts\n        // and each global script has different typings\n        this.setEditorTypings(name);\n    }\n\n    scrollToLineIfNeeded(lineNumber) {\n        if (this.editor) {\n            const ranges = this.editor.getVisibleRanges();\n            if (!ranges || !ranges[0] || ranges[0].startLineNumber > lineNumber || lineNumber > ranges[0].endLineNumber) {\n                this.editor.revealLineInCenter(lineNumber);\n            }\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const options = {};\n        if (this.state.name !== nextProps.name) {\n            // A different script was selected\n            this.initNewScript(nextProps.name, nextProps.code);\n        }\n\n        // if some running instance is found and\n        if (JSON.stringify(nextProps.runningInstances) !== this.runningInstancesStr) {\n            this.runningInstancesStr = JSON.stringify(nextProps.runningInstances);\n            if (!this.state.typingsLoaded) {\n                this.loadTypings(nextProps.runningInstances);\n            }\n        }\n\n        // if the code not yet changed, update the new code\n        if (this.editor && !nextProps.changed && (nextProps.code !== this.originalCode || nextProps.code !== this.editor.getValue())) {\n            this.originalCode = nextProps.code;\n            this.editor.setValue(this.originalCode);\n            this.showDecorators();\n            this.location && this.scrollToLineIfNeeded(this.location.lineNumber + 1);\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.highlightText(this.lastSearch);\n        }\n\n        if (JSON.stringify(nextProps.location) !== JSON.stringify(this.location) &&\n            JSON.stringify(nextProps.breakpoints) !== JSON.stringify(this.breakpoints)\n        ) {\n            this.location = nextProps.location;\n            this.breakpoints = nextProps.breakpoints;\n            this.showDecorators();\n            this.editor && this.location && this.scrollToLineIfNeeded(this.location.lineNumber + 1);\n            // this.editor && this.location && this.editor.setPosition(this.location.lineNumber + 1, this.location.columnNumber + 1);\n        } else if (JSON.stringify(nextProps.breakpoints) !== JSON.stringify(this.breakpoints)) {\n            this.breakpoints = nextProps.breakpoints;\n            this.showDecorators();\n        } else if (JSON.stringify(nextProps.location) !== JSON.stringify(this.location)) {\n            this.location = nextProps.location;\n            this.showDecorators();\n            this.editor && this.location && this.scrollToLineIfNeeded(this.location.lineNumber + 1);\n            // this.editor && this.location && this.editor.setPosition(this.location.lineNumber + 1, this.location.columnNumber + 1);\n        }\n\n        if (this.state.language !== (nextProps.language || 'javascript')) {\n            this.setState({ language: nextProps.language || 'javascript' });\n            options.language = nextProps.language || 'javascript';\n        } else if (this.state.readOnly !== (nextProps.readOnly || false)) {\n            this.setState({ readOnly: nextProps.readOnly || false });\n            options.readOnly = nextProps.readOnly;\n        } else if (this.state.isDark !== (nextProps.isDark || false)) {\n            this.setState({ isDark: nextProps.isDark || false });\n            options.isDark = nextProps.isDark;\n        }\n\n        this.setEditorOptions(options);\n\n        if (this.insert !== nextProps.insert) {\n            this.insert = nextProps.insert;\n            if (this.insert) {\n                console.log(`Insert text: ${this.insert}`);\n                setTimeout(insert => {\n                    this.insertTextIntoEditor(insert);\n                    setTimeout(() => this.props.onInserted && this.props.onInserted(), 100);\n                }, 100, this.insert);\n            }\n        }\n    }\n\n    onChange(newValue, e) {\n        if (!this.props.readOnly) {\n            this.props.onChange && this.props.onChange(this.editor.getValue());\n        }\n    }\n\n    render() {\n        if (!this.monaco?.languages?.typescript?.typescriptDefaults || !this.props.runningInstances) {\n            setTimeout(() => {\n                this.monaco = window.monaco;\n                this.forceUpdate();\n            }, 200);\n            return null;\n        }\n\n        return <div ref={el => this.monacoDiv = el} style={{width: '100%', height: '100%', overflow: 'hidden', position: 'relative'}}>\n            {!this.state.check && <Fab\n                size=\"small\"\n                title={I18n.t('Check is not active, because javascript adapter is disabled')}\n                style={{ bottom: 10, right: 10, opacity: 0.5, position: 'absolute', zIndex: 1, background: 'red', color: 'white' }}\n                color=\"secondary\"\n            >\n                <IconNoCheck />\n            </Fab>}\n        </div>;\n    }\n}\n\nScriptEditor.propTypes = {\n    adapterName: PropTypes.string.isRequired,\n    socket: PropTypes.object,\n    runningInstances: PropTypes.object,\n    name: PropTypes.string,\n    onChange: PropTypes.func,\n    onForceSave: PropTypes.func,\n    onInserted: PropTypes.func,\n    isDark: PropTypes.bool,\n    readOnly: PropTypes.bool,\n    code: PropTypes.string,\n    language: PropTypes.string,\n    onRegisterSelect: PropTypes.func,\n    searchText: PropTypes.string,\n    checkJs: PropTypes.bool,\n    changed: PropTypes.bool,\n\n    breakpoints: PropTypes.array,\n    location: PropTypes.object,\n    onToggleBreakpoint: PropTypes.func,\n};\n\nexport default ScriptEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\n\nimport Button from '@mui/material/Button';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogActions from '@mui/material/DialogActions';\nimport Dialog from '@mui/material/Dialog';\nimport Popper from '@mui/material/Popper';\nimport Fade from '@mui/material/Fade';\nimport Paper from '@mui/material/Paper';\n\nimport IconCopy from '@mui/icons-material/FileCopy';\nimport { FaFileExport as IconExport } from 'react-icons/fa';\nimport IconCancel from '@mui/icons-material/Cancel';\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nconst styles = theme => ({\n    textArea: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto',\n    },\n    textAreaLight: {\n        background: 'lightgray',\n    },\n    dialog: {\n        height: '95%',\n    },\n    typography: {\n        padding: theme.spacing(2),\n    },\n    overflowY: {\n        overflowY: 'hidden',\n    },\n});\n\nclass DialogExport extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null,\n            popper: '',\n        };\n    }\n\n    handleCancel() {\n        this.props.onClose();\n    }\n\n    onCopy(event) {\n        Utils.copyToClipboard(this.props.text);\n        const anchorEl = event.currentTarget;\n\n        setTimeout(() => {\n            this.setState({ popper: I18n.t('Copied'), anchorEl });\n            setTimeout(() => this.setState({ popper: '', anchorEl: null }), 1000);\n        }, 50);\n    }\n\n    render() {\n        const classes = this.props.classes;\n        const file = new Blob([this.props.text], {type: 'application/xml'});\n        const fileName = this.props.scriptId.substring('scripts.js'.length) + '.xml';\n\n        return <Dialog\n            key=\"export-dialog\"\n            onClose={(event, reason) => false}\n            maxWidth=\"lg\"\n            classes={{ paper: classes.dialog }}\n            fullWidth\n            open={this.props.open}\n            aria-labelledby=\"export-dialog-title\"\n        >\n            <DialogTitle id=\"export-dialog-title\">{I18n.t('Export selected blocks')}</DialogTitle>\n            <DialogContent\n                classes={{ root: classes.overflowY }}>\n                <pre\n                    id=\"export-text\"\n                    className={`${classes.textArea} ${this.props.themeType === 'dark' ? '' : classes.textAreaLight}`}\n                >{this.props.text}</pre>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" color=\"secondary\" startIcon={<IconExport/>}>\n                    <a download={fileName} target=\"_blank\" rel=\"noreferrer\" href={URL.createObjectURL(file)} style={{\n                        textDecoration: \"inherit\",\n                        color: \"inherit\",\n                    }}>{I18n.t('Download as file')}</a>\n                </Button>\n                <Button variant=\"contained\" onClick={event => this.onCopy(event)} color=\"secondary\" startIcon={<IconCopy/>}>{I18n.t('Copy to clipboard')}</Button>\n                <Button variant=\"contained\" onClick={() => this.handleCancel()} color=\"primary\" startIcon={<IconCancel/>}>{I18n.t('Close')}</Button>\n\n                <Popper\n                    id=\"popper\"\n                    style={{ zIndex: 10000 }}\n                    open={!!this.state.popper}\n                    placement=\"top\"\n                    anchorEl={this.state.anchorEl} transition>\n                    {({ TransitionProps }) => (\n                        <Fade {...TransitionProps} timeout={350}>\n                            <Paper>\n                                <p className={classes.typography}>{this.state.popper}</p>\n                            </Paper>\n                        </Fade>\n                    )}\n                </Popper>\n                <textarea id=\"copy_input\" readOnly style={{ position: 'absolute', left: -9999 }} tabIndex={-1} aria-hidden value={this.props.text} />\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogExport.defaultProps = {\n    open: true\n};\n\nDialogExport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n    scriptId: PropTypes.string,\n    themeType: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogExport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\nimport Button from '@mui/material/Button';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogActions from '@mui/material/DialogActions';\nimport Dialog from '@mui/material/Dialog';\nimport Dropzone from 'react-dropzone';\n\nimport IconOk from '@mui/icons-material/Check';\nimport IconCancel from '@mui/icons-material/Cancel';\nimport {MdFileUpload as IconUpload} from 'react-icons/md';\nimport {MdCancel as IconNo} from 'react-icons/md';\nimport {MdPlusOne as IconPlus} from 'react-icons/md';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        height: '80%',\n        resize: 'none',\n        fontFamily: 'monospace',\n        fontSize: '1em',\n    },\n    dropzone: {\n        marginTop: 20,\n        width: '100%',\n        borderWidth: 5,\n        borderStyle: 'dashed',\n        borderColor: '#d0cccc',\n        textAlign: 'center',\n        boxSizing: 'border-box',\n        paddingTop: 45,\n        borderRadius: 10,\n        height: 'calc(100% - 10px)',\n    },\n    dropzoneDiv: {\n        width: '100%',\n        height: '20%',\n        position: 'relative',\n    },\n    dropzoneRejected: {\n        borderColor: '#970000',\n    },\n    dropzoneAccepted: {\n        borderColor: '#17cd02',\n    },\n    icon: {\n        height: '30%',\n        width: '30%',\n        color: '#eeeeee',\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        zIndex: 0,\n    },\n    iconError: {\n        color: '#ffc3c6',\n    },\n    iconOk: {\n        color: '#aaeebc',\n    },\n    text: {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        color: '#868686',\n        position: 'absolute',\n        zIndex: 1,\n    },\n    dialog: {\n        height: '95%',\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden',\n    },\n});\n\nclass DialogImport extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    static readFileDataUrl(file, cb) {\n        const reader = new FileReader();\n        reader.onload = () => {\n            cb(null, {data: reader.result, name: file.name});\n        };\n        reader.onabort = () => {\n            console.error('file reading was aborted');\n            cb(I18n.t('file reading was aborted'));\n        };\n        reader.onerror = (e) => {\n            console.error('file reading has failed');\n            cb(I18n.t('file reading has failed: %s', e));\n        };\n\n        reader.readAsText(file);\n    }\n\n    handleDropFile(files) {\n        if (files && files.hasOwnProperty('target')) {\n            files = files.target.files;\n        }\n\n        if (!files && !files.length) {\n            return;\n        }\n\n        const file = files[files.length - 1];\n\n        if (!file) {\n            return;\n        }\n\n        DialogImport.readFileDataUrl(file, (err, result) => {\n            if (err) {\n                this.setState({ error: err });\n            } else {\n                this.setState({ text: result.data });\n            }\n        });\n    }\n\n    handleCancel() {\n        this.props.onClose();\n    }\n\n    handleOk() {\n        this.props.onClose(this.state.text);\n    }\n\n    onChange(e) {\n        this.setState({ text: e.target.value });\n    }\n\n    render() {\n        const classes = this.props.classes;\n        const className = classes.dropzone + ' ' + (this.state.imageStatus === 'accepted' ? classes.dropzoneAccepted : (this.state.imageStatus === 'rejected' ? classes.dropzoneRejected : ''));\n\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"lg\"\n            classes={{ paper: classes.dialog }}\n            fullWidth\n            open={this.props.open}\n            aria-labelledby=\"import-dialog-title\"\n        >\n            <DialogTitle id=\"import-dialog-title\">{I18n.t('Import blocks')}</DialogTitle>\n            <DialogContent className={classes.fullHeight}>\n                <textarea\n                    autoFocus\n                    id=\"import-text-area\"\n                    className={classes.textArea}\n                    onChange={e => this.onChange(e)}\n                    value={this.state.text}\n                />\n                <Dropzone key='image-drop'\n                    maxSize={50000000}\n                    acceptClassName={classes.dropzoneAccepted}\n                    rejectClassName={classes.dropzoneRejected}\n                    onDrop={files => this.handleDropFile(files)}\n                    multiple={false}\n                    accept='text/plain,text/xml,application/xml'\n                    className={className}>\n                    {\n                        ({ getRootProps, getInputProps, isDragActive, isDragReject}) => {\n                            if (isDragReject) {\n                                if (this.state.imageStatus !== 'rejected') {\n                                    this.setState({imageStatus: 'rejected'});\n                                }\n                                return (\n                                    <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <span key=\"text\" className={this.props.classes.text}>{I18n.t('Some files will be rejected')}</span>\n                                        <IconNo key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconError}/>\n                                    </div>);\n                            } else if (isDragActive) {\n                                if (this.state.imageStatus !== 'accepted') {\n                                    this.setState({imageStatus: 'accepted'});\n                                }\n\n                                return (\n                                    <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <span key=\"text\" className={this.props.classes.text}>{I18n.t('All files will be accepted')}</span>\n                                        <IconPlus key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconOk}/>\n                                    </div>);\n                            } else {\n                                if (this.state.imageStatus !== 'wait') {\n                                    this.setState({imageStatus: 'wait'});\n                                }\n                                return (\n                                    <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <span key=\"text\" className={this.props.classes.text}>{I18n.t('Drop some files here or click...')}</span>\n                                        <IconUpload key=\"icon\" className={this.props.classes.icon}/>\n                                    </div>);\n                            }\n                        }\n                    }\n                </Dropzone>\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" disabled={!this.state.text} onClick={event => this.handleOk()} color=\"primary\" startIcon={<IconOk/>}>{I18n.t('Import')}</Button>\n                <Button color=\"grey\" variant=\"contained\" onClick={() => this.handleCancel()} startIcon={<IconCancel/>}>{I18n.t('Close')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogImport.defaultProps = {\n    open: true\n}\n\nDialogImport.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    text: PropTypes.string,\n};\n\nexport default withStyles(styles)(DialogImport);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\nimport DialogMessage from '@iobroker/adapter-react-v5/Dialogs/Message';\nimport DialogError from '../Dialogs/Error';\nimport DialogExport from '../Dialogs/Export';\nimport DialogImport from '../Dialogs/Import';\n\nlet languageBlocklyLoaded = false;\nlet languageOwnLoaded = false;\nlet toolboxText = null;\nlet toolboxXml;\nlet scriptsLoaded = [];\n\n// BF (2020-10-31) I have no Idea, why it does not work as static in BlocklyEditor, but outside of BlocklyEditor it works\nfunction searchXml(root, text, _id, _result) {\n    _result = _result || [];\n    if (root.tagName === 'BLOCK' || root.tagName === 'block') {\n        _id = root.id;\n    }\n    if (root.tagName === 'FIELD' || root.tagName === 'field') {\n        for (let a = 0; a < root.attributes.length; a++) {\n            const val = (root.attributes[a].value || '').toLowerCase();\n            if (root.attributes[a].nodeName === 'name' && (val === 'oid' || val === 'text' || val === 'var')) {\n                if ((root.innerHTML || root.innerText || '').toLowerCase().includes(text)) {\n                    _result.push(_id);\n                }\n            }\n        }\n    }\n    root.childNodes.forEach(node =>\n        searchXml(node, text, _id, _result));\n\n    return _result;\n}\n\nclass BlocklyEditor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.blockly = null;\n        this.blocklyWorkspace = null;\n        this.toolbox = null;\n        this.Blockly = window.Blockly;\n\n        this.state = {\n            languageOwnLoaded,\n            languageBlocklyLoaded,\n            changed: false,\n            message: '',\n            error: '',\n            themeType: this.props.themeType,\n            exportText: '',\n            importText: false,\n            searchText: this.props.searchText || '',\n        };\n        this.originalCode = props.code || '';\n\n        this.someSelected = null;\n        this.changeTimer = null;\n\n        this.onResizeBind = this.onResize.bind(this);\n\n        this.lastCommand = '';\n        this.lastSearch = this.props.searchText || '';\n        this.blinkBlock = null;\n        this.loadLanguages();\n    }\n\n    static loadJS(url, callback, location) {\n        const scriptTag = document.createElement('script');\n        try {\n            scriptTag.src = url;\n\n            scriptTag.onload = callback;\n            scriptTag.onreadystatechange = callback;\n            scriptTag.onerror = callback;\n\n            (location || window.document.body).appendChild(scriptTag);\n        } catch (e) {\n            console.error(`Cannot load ${url}: ${e}`);\n            callback && callback();\n        }\n    }\n\n    static loadScripts(scripts, callback) {\n        if (!scripts || !scripts.length) {\n            return callback && callback();\n        }\n        const adapter = scripts.pop();\n        if (!scriptsLoaded.includes(adapter)) {\n            scriptsLoaded.push(adapter);\n            BlocklyEditor.loadJS(`../../adapter/${adapter}/blockly.js`, (/*data, textStatus, jqxhr*/) =>\n                setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0));\n        } else {\n            setTimeout(() => BlocklyEditor.loadScripts(scripts, callback), 0);\n        }\n    }\n\n    static loadCustomBlockly(adapters, callback) {\n        // get all adapters, that can have blockly\n        const toLoad = [];\n        for (const id in adapters) {\n            if (!adapters.hasOwnProperty(id) ||\n                !adapters[id] ||\n                !id.match(/^system\\.adapter\\./) ||\n                adapters[id].type !== 'adapter'\n            ) {\n                continue;\n            }\n\n            if (adapters[id].common && adapters[id].common.blockly) {\n                console.log(`Detected custom blockly: ${adapters[id].common.name}`);\n                toLoad.push(adapters[id].common.name);\n            }\n        }\n\n        BlocklyEditor.loadScripts(toLoad, callback);\n    }\n\n    static loadXMLDoc(text) {\n        let parseXml;\n        if (window.DOMParser) {\n            parseXml = xmlStr => (new window.DOMParser()).parseFromString(xmlStr, 'text/xml');\n        } else if (typeof window.ActiveXObject !== 'undefined' && new window.ActiveXObject('Microsoft.XMLDOM')) {\n            parseXml = xmlStr => {\n                const xmlDoc = new window.ActiveXObject('Microsoft.XMLDOM');\n                xmlDoc.async = 'false';\n                xmlDoc.loadXML(xmlStr);\n                return xmlDoc;\n            };\n        } else {\n            parseXml = () => null;\n        }\n        return parseXml(text);\n    }\n\n    searchBlocks(text) {\n        if (this.blocklyWorkspace) {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const ids = searchXml(dom, text.toLowerCase());\n\n            console.log(`Search \"${text}\" found blocks: ${ids.length ? JSON.stringify(ids) : 'none'}`);\n\n            return ids;\n        }\n\n        return [];\n    }\n\n    searchId() {\n        const ids = this.lastSearch && this.searchBlocks(this.lastSearch);\n        if (ids && ids.length) {\n            this.someSelected = ids;\n            this.someSelected.forEach(id => this.blocklyWorkspace.highlightBlock(id, true));\n            this.someSelectedTime = Date.now();\n        } else if (this.someSelected) {\n            // remove selection\n            this.someSelected.forEach(id => this.blocklyWorkspace.highlightBlock(id, false));\n            this.someSelected = null;\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.command && this.lastCommand !== nextProps.command) {\n            this.lastCommand = nextProps.command;\n            setTimeout(() => this.lastCommand = '', 300);\n            if (this.lastCommand === 'check') {\n                this.blocklyCheckBlocks((err, badBlock) => {\n                    if (!err) {\n                        this.setState({ message: I18n.t('Ok') });\n                    } else {\n                        badBlock && this.blocklyBlinkBlock(badBlock);\n                        this.setState({ error: { text: I18n.t(err), title: I18n.t('Error was found') } });\n                        this.blinkBlock = badBlock;\n                    }\n                });\n            } else if (this.lastCommand === 'export') {\n                this.exportBlocks();\n            } else if (this.lastCommand === 'import') {\n                this.importBlocks();\n            }\n        }\n\n        if (nextProps.searchText !== this.lastSearch) {\n            this.lastSearch = nextProps.searchText;\n            this.searchId();\n        }\n\n        if (this.state.themeType !== nextProps.themeType) {\n            this.setState({ themeType: nextProps.themeType }, () => this.updateBackground());\n        }\n\n        if (this.originalCode !== nextProps.code) {\n            this.originalCode = nextProps.code || '';\n            this.loadCode();\n            this.searchId();\n        }\n    }\n\n    loadLanguages() {\n        // load blockly language\n        if (!languageBlocklyLoaded) {\n            const fileLang = window.document.createElement('script');\n            fileLang.setAttribute('type', 'text/javascript');\n            fileLang.setAttribute('src', `google-blockly/msg/js/${I18n.getLanguage()}.js`);\n\n            // most browsers\n            fileLang.onload = () => {\n                languageBlocklyLoaded = true;\n                this.setState({languageBlocklyLoaded});\n            };\n            // IE 6 & 7\n            fileLang.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageBlocklyLoaded = true;\n                    this.setState({ languageBlocklyLoaded });\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileLang);\n        }\n        if (!languageOwnLoaded) {\n            const fileCustom = window.document.createElement('script');\n            fileCustom.setAttribute('type', 'text/javascript');\n            fileCustom.setAttribute('src', `google-blockly/own/msg/${I18n.getLanguage()}.js`);\n            // most browsers\n            fileCustom.onload = () => {\n                languageOwnLoaded = true;\n                this.setState({languageOwnLoaded});\n            };\n            // IE 6 & 7\n            fileCustom.onreadystatechange = () => {\n                if (this.readyState === 'complete') {\n                    languageOwnLoaded = true;\n                    this.setState({ languageOwnLoaded });\n                }\n            };\n            window.document.getElementsByTagName('head')[0].appendChild(fileCustom);\n        }\n    }\n\n    onResize() {\n        this.Blockly.svgResize(this.blocklyWorkspace);\n    }\n\n    jsCode2Blockly(text) {\n        text = text || '';\n        const lines = text.split(/[\\r\\n]+|\\r|\\n/g);\n        let xml = '';\n        for (let l = lines.length - 1; l >= 0; l--) {\n            if (lines[l].substring(0, 2) === '//') {\n                xml = lines[l].substring(2);\n                break;\n            }\n        }\n        if (xml.substring(0, 4) === '<xml') {\n            return xml;\n        }\n\n        let code;\n        try {\n            code = window.decodeURIComponent(window.atob(xml));\n        } catch (e) {\n            code = null;\n            console.error(`cannot decode: ${xml}`);\n            console.error(e);\n        }\n        return code;\n    }\n\n    blocklyBlinkBlock(block) {\n        for (let i = 300; i < 3000; i += 300) {\n            setTimeout(() => block.select(), i);\n            setTimeout(() => block.unselect(), i + 150);\n        }\n    }\n\n    blocklyRemoveOrphanedShadows() {\n        if (this.blocklyWorkspace) {\n            const blocks = this.blocklyWorkspace.getAllBlocks();\n            let block;\n            for (let i = 0; (block = blocks[i]); i++) {\n                if (block.isShadow()) {\n                    const connections = block.getConnections_(true);\n                    let conn;\n                    for (let j = 0; (conn = connections[j]); j++) {\n                        if (!conn.targetConnection) {\n                            // remove it\n                            block.dispose();\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    blocklyCheckBlocks(cb) {\n        let warningText;\n        if (!this.blocklyWorkspace || this.blocklyWorkspace.getAllBlocks().length === 0) {\n            cb && cb('no blocks found');\n            return;\n        }\n        let badBlock = this.blocklyGetUnconnectedBlock();\n        if (badBlock) {\n            warningText = 'not properly connected';\n        } else {\n            badBlock = this.blocklyGetBlockWithWarning();\n            if (badBlock) {\n                warningText = 'warning on this block';\n            }\n        }\n\n        if (badBlock) {\n            if (cb) {\n                cb(warningText, badBlock);\n            } else {\n                this.blocklyBlinkBlock(badBlock);\n            }\n            return false;\n        }\n\n        cb();\n\n        return true;\n    }\n\n    // get unconnected block\n    blocklyGetUnconnectedBlock() {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            const connections = block.getConnections_(true);\n            let conn;\n            for (let j = 0; (conn = connections[j]); j++) {\n                if (!conn.sourceBlock_ || ((conn.type === this.Blockly.INPUT_VALUE || conn.type === this.Blockly.OUTPUT_VALUE) && !conn.targetConnection && !conn._optional)) {\n                    return block;\n                }\n            }\n        }\n        return null;\n    }\n\n    // get block with warning\n    blocklyGetBlockWithWarning() {\n        const blocks = this.blocklyWorkspace.getAllBlocks();\n        let block;\n        for (let i = 0; (block = blocks[i]); i++) {\n            if (block.warning) {\n                return block;\n            }\n        }\n        return null;\n    }\n\n    blocklyCode2JSCode(oneWay) {\n        let code = this.Blockly.JavaScript.workspaceToCode(this.blocklyWorkspace);\n        if (!oneWay) {\n            code += '\\n';\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            const text = this.Blockly.Xml.domToText(dom);\n            code += `//${btoa(encodeURIComponent(text))}`;\n        }\n\n        return code;\n    }\n\n    exportBlocks() {\n        let exportText;\n        const selectedBlocks = this.Blockly.getSelected();\n        if (selectedBlocks) {\n            const xmlBlock = this.Blockly.Xml.blockToDom(selectedBlocks);\n            if (this.Blockly.dragMode_ !== this.Blockly.DRAG_FREE) {\n                this.Blockly.Xml.deleteNext(xmlBlock);\n            }\n            // Encode start position in XML.\n            const xy = selectedBlocks.getRelativeToSurfaceXY();\n            xmlBlock.setAttribute('x', selectedBlocks.RTL ? -xy.x : xy.x);\n            xmlBlock.setAttribute('y', xy.y);\n\n            exportText = this.Blockly.Xml.domToPrettyText(xmlBlock);\n        } else {\n            const dom = this.Blockly.Xml.workspaceToDom(this.blocklyWorkspace);\n            exportText = this.Blockly.Xml.domToPrettyText(dom);\n        }\n        this.setState({ exportText });\n    }\n\n    importBlocks() {\n        this.setState({ importText: true });\n    }\n\n    onImportBlocks(xml) {\n        xml = (xml || '').trim();\n        if (xml) {\n            try {\n                if (!xml.startsWith('<xml')) {\n                    xml = '<xml xmlns=\"https://developers.google.com/blockly/xml\">' + xml + '</xml>';\n                }\n                const variables = xml.replace(/[\\n\\r]/g, '').match(/<variables>(.*)<\\/variables>/);\n                if (variables) {\n                    const vars = this.Blockly.utils.xml.textToDomDocument('<variables>' + variables[1] + '</variables>');\n                    if (vars) {\n                        const nodes = vars.childNodes && vars.childNodes[0] && vars.childNodes[0].childNodes;\n                        if (nodes) {\n                            for (let i = 0; i < nodes.length; i++) {\n                                nodes[i].id && this.blocklyWorkspace.createVariable(nodes[i].id);\n                            }\n                        }\n                    }\n                }\n                xml = xml.replace(/[\\n\\r]/g, '').replace(/<variables>.*<\\/variables>/g, '');\n                window.scripts.loading = true;\n\n                const xmlBlocks = this.Blockly.utils.xml.textToDom(xml);\n                if (xmlBlocks.nodeName === 'xml') {\n                    for (let b = 0; b < xmlBlocks.children.length; b++) {\n                        this.blocklyWorkspace.paste(xmlBlocks.children[b]);\n                    }\n                } else {\n                    this.blocklyWorkspace.paste(xmlBlocks);\n                }\n\n                window.scripts.loading = false;\n\n                this.onBlocklyChanged();\n            } catch (e) {\n                this.setState({ error: { text: e, title: I18n.t('Import error') } });\n            }\n        }\n    }\n\n    loadCode() {\n        if (!this.blocklyWorkspace) {\n            return;\n        }\n\n        this.ignoreChanges = true;\n        this.blocklyWorkspace.clear();\n\n        try {\n            const xml = this.jsCode2Blockly(this.originalCode) || '<xml xmlns=\"https://developers.google.com/blockly/xml\"></xml>';\n            window.scripts.loading = true;\n            const dom = this.Blockly.utils.xml.textToDom(xml);\n            this.Blockly.Xml.domToWorkspace(dom, this.blocklyWorkspace);\n            window.scripts.loading = false;\n        } catch (e) {\n            console.error(e);\n            setTimeout(() => this.setState({ error: I18n.t('Cannot extract Blockly code!') }));\n        }\n        setTimeout(() => this.ignoreChanges = false, 100);\n    }\n\n    onBlocklyChanged() {\n        this.blocklyRemoveOrphanedShadows();\n        this.setState({ changed: true });\n        this.onChange();\n    }\n\n    async componentDidUpdate() {\n        if (!this.blockly) {\n            return;\n        }\n        if (this.didUpdate) {\n            clearTimeout(this.didUpdate);\n            this.didUpdate = null;\n        }\n\n        if (this.blocklyWorkspace) {\n            return;\n        }\n\n        window.addEventListener('resize', this.onResizeBind, false);\n        toolboxText = toolboxText || (await this.getToolbox());\n        toolboxXml  = toolboxXml  || this.Blockly.utils.xml.textToDom(toolboxText);\n\n        this.blocklyWorkspace = this.Blockly.inject(\n            this.blockly,\n            {\n                media: 'google-blockly/media/',\n                toolbox: toolboxXml,\n                zoom: {\n                    controls:   true,\n                    wheel:      false,\n                    startScale: 1.0,\n                    maxScale:   3,\n                    minScale:   0.3,\n                    scaleSpeed: 1.2,\n                },\n                move: {\n                    scrollbars: true,\n                    drag: true,\n                    wheel: true,\n                },\n                trashcan: true,\n                grid: {\n                    spacing:    25,\n                    length:     3,\n                    colour:     '#ccc',\n                    snap:       true,\n                },\n                sounds: false, // disable sounds\n            },\n        );\n        // for blockly itself\n        window.scripts = {\n            blocklyWorkspace: this.blocklyWorkspace,\n        };\n\n        // Workaround: Replace procedure category flyout\n        this.blocklyWorkspace.registerToolboxCategoryCallback('PROCEDURE', this.Blockly.Procedures.flyoutCategoryNew);\n\n        // Listen to events on master workspace.\n        this.blocklyWorkspace.addChangeListener(masterEvent => {\n            if (this.someSelected && Date.now() - this.someSelectedTime > 500) {\n                const allBlocks = this.blocklyWorkspace.getAllBlocks();\n                this.someSelected = null;\n                allBlocks.forEach(b => b.removeSelect());\n            }\n\n            if ([this.Blockly.Events.UI, this.Blockly.Events.CREATE, this.Blockly.Events.VIEWPORT_CHANGE].includes(masterEvent.type)) {\n                return;  // Don't mirror UI events.\n            }\n            if (this.ignoreChanges) {\n                return;\n            }\n\n            this.changeTimer && clearTimeout(this.changeTimer);\n            this.changeTimer = setTimeout(() => {\n                this.changeTimer = null;\n                this.onBlocklyChanged();\n            }, 200);\n        });\n        this.loadCode();\n        this.onResize();\n        // Move toolbar to the valid position\n        const toolbar = document.getElementsByClassName('blocklyToolboxDiv')[0];\n        this.blockly.appendChild(toolbar);\n\n        this.updateBackground();\n        setTimeout(() => this.searchId(), 200); // select found blocks\n    }\n\n    updateBackground() {\n        const background = document.getElementsByClassName('blocklyMainBackground')[0];\n        if (this.state.themeType === 'dark') {\n            if (!background._originalStyle) {\n                background._originalStyle = {\n                    stroke: background.style.stroke,\n                    fill: background.style.fill,\n                };\n            }\n            // add class\n            background.style.stroke = '#3a3a3a';\n            background.style.fill = '#515151';\n        } else if (background._originalStyle) {\n            background.style.stroke = background._originalStyle.stroke;\n            background.style.fill = background._originalStyle.fill;\n        }\n    }\n\n    componentWillUnmount() {\n        if (!this.blocklyWorkspace) {\n            return;\n        }\n        this.blocklyWorkspace.dispose();\n        this.blocklyWorkspace = null;\n        this.changeTimer && clearTimeout(this.changeTimer);\n        this.changeTimer = null;\n        window.removeEventListener('resize', this.onResizeBind);\n    }\n\n    onChange() {\n        this.originalCode = this.blocklyCode2JSCode();\n        this.props.onChange && this.props.onChange(this.originalCode);\n    }\n\n    async getToolbox(retry) {\n        // Interpolate translated messages into toolbox.\n        const el =  window.document.getElementById('toolbox');\n        let toolboxText = el && el.outerHTML;\n        if (!toolboxText) {\n            if (!retry) {\n                return new Promise(resolve => { setTimeout(() => resolve(this.getToolbox(true)), 500); });\n            }\n\n            console.error('Cannot load blocks!');\n            return '';\n        }\n        toolboxText = toolboxText.replace(/{(\\w+)}/g, (m, p1) => window.MSG[p1]);\n\n        if (this.Blockly.CustomBlocks) {\n            let blocks = '';\n            const lang = I18n.getLanguage();\n            for (let cb = 0; cb < this.Blockly.CustomBlocks.length; cb++) {\n                const name = this.Blockly.CustomBlocks[cb];\n                // add blocks\n                blocks += `<category name=\"${this.Blockly.Words[name][lang]}\" colour=\"${this.Blockly[name].HUE}\">`;\n                for (const _b in this.Blockly[name].blocks) {\n                    if (Object.prototype.hasOwnProperty.call(this.Blockly[name].blocks, _b)) {\n                        blocks += this.Blockly[name].blocks[_b];\n                    }\n                }\n                blocks += '</category>';\n            }\n            toolboxText = toolboxText.replace('<category><block>%%CUSTOM_BLOCKS%%</block></category>', blocks);\n        }\n\n        return toolboxText;\n    }\n\n    renderMessageDialog() {\n        return this.state.message ?\n            <DialogMessage\n                key=\"dialogMessage\"\n                text={typeof this.state.message === 'object' ? this.state.message.text : this.state.message}\n                title={typeof this.state.message === 'object' ? this.state.message.title : ''}\n                onClose={() => this.setState({ message: '' })}\n            /> :\n            null;\n    }\n\n    renderErrorDialog() {\n        return this.state.error ?\n            <DialogError\n                key=\"dialogError\"\n                text={typeof this.state.error === 'object' ? this.state.error.text.toString() : this.state.error}\n                title={typeof this.state.error === 'object' ? this.state.error.title : ''}\n                onClose={() => {\n                    if (this.blinkBlock) {\n                        this.blocklyBlinkBlock(this.blinkBlock);\n                        this.blinkBlock = null;\n                    }\n                    this.setState({ error: '' });\n                }}/> :\n            null;\n    }\n\n    renderExportDialog() {\n        return this.state.exportText ? <DialogExport key=\"dialogExport\" theme={this.state.themeType} onClose={() => this.setState({ exportText: '' })} text={this.state.exportText} scriptId={this.props.scriptId} /> : null;\n    }\n\n    renderImportDialog() {\n        return this.state.importText ? <DialogImport\n            key=\"dialogImport\"\n            onClose={text => {\n                this.setState({ importText: false });\n                this.onImportBlocks(text);\n            }}\n        /> : null;\n    }\n\n    render() {\n        if (this.state.languageBlocklyLoaded && this.state.languageOwnLoaded) {\n            this.didUpdate = setTimeout(() => {\n                this.didUpdate = null;\n                this.componentDidUpdate();\n            }, 100);\n\n            return [\n                <div\n                    key=\"blocklyDOM\"\n                    ref={el => this.blockly = el}\n                    style={{\n                        // marginLeft: 180,\n                        width: '100%', // 'calc(100% - 180px)',\n                        height: '100%',\n                        // overflow: 'hidden',\n                        position: 'relative',\n                    }}\n                />,\n\n                this.renderMessageDialog(),\n                this.renderErrorDialog(),\n                this.renderExportDialog(),\n                this.renderImportDialog(),\n            ];\n        }\n\n        return null;\n    }\n}\n\nBlocklyEditor.propTypes = {\n    command: PropTypes.string,\n    onChange: PropTypes.func,\n    searchText: PropTypes.string,\n    scriptId: PropTypes.string,\n    themeType: PropTypes.string,\n};\n\nexport default BlocklyEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\n\nimport Button from '@mui/material/Button';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogActions from '@mui/material/DialogActions';\nimport Dialog from '@mui/material/Dialog';\n\nimport IconSave from '@mui/icons-material/Save';\nimport IconCancel from '@mui/icons-material/Cancel';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nimport ScriptEditorComponent from '../Components/ScriptEditorVanilaMonaco';\n\nconst styles = theme => ({\n    textArea: {\n        width: 'calc(100% - 10px)',\n        resize: 'none'\n    },\n    dialog: {\n        height: '95%'\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden'\n    },\n    args: {\n        color: theme.palette.mode === 'dark' ? 'white' : 'black',\n        height: 30,\n        width: '100%',\n        fontSize: 16\n    },\n    argsTitle: {\n        color: theme.palette.mode === 'dark' ? 'white' : 'black',\n        fontWeight: 'bold'\n    }\n});\n\nclass DialogScriptEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            changed: false,\n            source: this.props.source,\n        };\n        if (!this.state.source && this.props.isReturn) {\n            this.state.source = '\\nreturn false';\n        }\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('source-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose(false);\n    }\n\n    handleOk () {\n        if (this.props.isReturn && !this.state.source.includes('return ')) {\n\n        } else {\n            this.props.onClose(this.state.source);\n        }\n    }\n\n    onChange(value) {\n        this.setState({changed: true, source: value});\n    }\n\n    render() {\n        const classes = this.props.classes;\n\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"lg\"\n            classes={{ paper: classes.dialog }}\n            fullWidth\n            open={!0}\n            aria-labelledby=\"source-dialog-title\"\n        >\n            <DialogTitle id=\"source-dialog-title\">{I18n.t('Function editor')}</DialogTitle>\n            <DialogContent className={classes.fullHeight}>\n                {this.props.args && (<div key=\"arguments\" className={classes.args}>\n                    <span className={classes.argsTitle}>{I18n.t('function (')}</span>\n                    {this.props.args}\n                    <span className={classes.argsTitle}>)</span>\n                </div>)}\n                <ScriptEditorComponent\n                    adapterName={this.props.adapterName}\n                    runningInstances={this.props.runningInstances}\n                    className={classes.textArea}\n                    style={{height: this.props.args ? 'calc(100% - 30px)' : '100%'}}\n                    key=\"scriptEditor\"\n                    name={'blockly'}\n                    socket={this.props.socket}\n                    readOnly={false}\n                    checkJs={false}\n                    changed={this.state.changed}\n                    code={this.state.source}\n                    isDark={this.props.themeType === 'dark'}\n                    onChange={newValue => this.onChange(newValue)}\n                    language={'javascript'}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button variant=\"contained\" onClick={() => this.handleOk()} color=\"primary\" startIcon={<IconSave/>}>{I18n.t('Save')}</Button>\n                <Button color=\"grey\" variant=\"contained\" onClick={() => this.handleCancel()} startIcon={<IconCancel/>}>{I18n.t('Cancel')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogScriptEditor.propTypes = {\n    classes: PropTypes.object.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    runningInstances: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n    source: PropTypes.string,\n    args: PropTypes.string,\n    isReturn: PropTypes.bool,\n    themeType: PropTypes.string,\n    socket: PropTypes.object\n};\n\nexport default withStyles(styles)(DialogScriptEditor);\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapperRules\":\"style_wrapperRules__O-oAU\",\"rootWrapper\":\"style_rootWrapper__rXS-l\",\"addClass\":\"style_addClass__4KLUZ\"};","// extracted by mini-css-extract-plugin\nexport default {\"switchesItem\":\"style_switchesItem__DY9Qy\",\"switchesItemActive\":\"style_switchesItemActive__kglCJ\",\"iconTheme\":\"style_iconTheme__AotSq\"};","import { useState, useEffect } from 'react';\nimport * as Icons from '@mui/icons-material/';\n\nconst ICON_CACHE = {};\n\nconst MaterialDynamicIcon = ({ iconName, className, adapter, socket, onClick }) => {\n    let [url, setUrl] = useState('');\n\n    useEffect(() => {\n        if (adapter && socket) {\n            ICON_CACHE[adapter] = ICON_CACHE[adapter] || socket.getObject(`system.adapter.${adapter}`);\n            ICON_CACHE[adapter].then(obj =>\n                obj?.common?.icon && setUrl(`../../adapter/${adapter}/${obj.common.icon}`));\n        }\n    }, [adapter, socket]);\n\n    if (adapter) {\n        return <img onClick={e => onClick && onClick(e)} src={url || ''} className={className} alt=\"\" />;\n    } else {\n        const Element = Icons[iconName || 'Help'];\n        return <Element\n            className={className}\n            onClick={e => onClick && onClick(e)}\n        />;\n    }\n}\n\nMaterialDynamicIcon.defaultProps = {\n    className: null,\n    iconName: 'Help'\n};\n\nexport default MaterialDynamicIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\n\nconst CardMenu = ({ name, id, active, icon, adapter, socket, onDoubleClick, title, onTouchMove }) => <div\n    onDoubleClick={onDoubleClick}\n    onTouchMove={onTouchMove}\n    key={id}\n    title={I18n.t(title)}\n    className={Utils.clsx(cls.switchesItem, active && cls.switchesItemActive, 'block-' + id)}\n>\n    <MaterialDynamicIcon iconName={icon} className={cls.iconTheme} adapter={adapter} socket={socket} />\n    <span>\n        {name ? I18n.t(name) : ''}\n    </span>\n</div>;\n\nCardMenu.defaultProps = {\n    name: '',\n    active: false,\n    id: '',\n    onDoubleClick: () => { }\n};\n\nCardMenu.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    active: PropTypes.bool\n};\n\nexport default CardMenu;","// extracted by mini-css-extract-plugin\nexport default {\"cardStyle\":\"style_cardStyle__bzAxQ\",\"cardStyleActive\":\"style_cardStyleActive__BaK+z\",\"controlMenu\":\"style_controlMenu__RxkVe\",\"closeBtn\":\"style_closeBtn__-nF+7\",\"isDelete\":\"style_isDelete__u9OAa\",\"drag_mobile\":\"style_drag_mobile__d9hW5\"};","export function deepCopy(name, userRules, additionalParameter) {\n    let newItemsSwitches;\n    switch (name) {\n        case 'actions':\n            newItemsSwitches = {\n                ...userRules,\n                [name]: {\n                    ...userRules[name],\n                    [additionalParameter]: [...userRules[name][additionalParameter]]\n                }\n            };\n            return newItemsSwitches;\n\n        default:\n            newItemsSwitches = {\n                ...userRules,\n                [name]: [...userRules[name]]\n            };\n            return newItemsSwitches;\n    }\n}","export function filterElement(name, userRules, additionalParameter, _id) {\n    switch (name) {\n        case 'actions':\n            userRules[name][additionalParameter] = userRules[name][additionalParameter].filter(el => el._id !== _id);\n            return userRules;\n        case 'conditions':\n            userRules[name][additionalParameter] = userRules[name][additionalParameter].filter(el => el._id !== _id);\n            return userRules;\n        default:\n            userRules[name] = userRules[name].filter(el => el._id !== _id);\n            return userRules;\n    }\n}","// extracted by mini-css-extract-plugin\nexport default {\"cardStyle\":\"style_cardStyle__Qk8PP\",\"nameCard\":\"style_nameCard__eHe3n\",\"cardStyleActive\":\"style_cardStyleActive__UjCy0\",\"iconThemCard\":\"style_iconThemCard__tMl1-\",\"iconThemCardSelectable\":\"style_iconThemCardSelectable__6mEII\",\"iconHelp\":\"style_iconHelp__b28SN\",\"inputCard\":\"style_inputCard__zwn8V\",\"blockName\":\"style_blockName__T-Ud-\",\"controlMenu\":\"style_controlMenu__kR476\",\"closeBtn\":\"style_closeBtn__7c+6X\",\"controlMenuTop\":\"style_controlMenuTop__OayQd\",\"debugInfo\":\"style_debugInfo__kdwsD\",\"fadeIn\":\"style_fadeIn__jT4pd\",\"tagCard\":\"style_tagCard__n9gJP\",\"displayFlex\":\"style_displayFlex__4QnOf\",\"blockMarginTop\":\"style_blockMarginTop__ZM9lX\",\"nameBlock\":\"style_nameBlock__H2Ujc\",\"frontText\":\"style_frontText__yvugL\",\"backText\":\"style_backText__nuybg\",\"iconTag\":\"style_iconTag__x0Rub\",\"displayItalic\":\"style_displayItalic__LY2l3\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__569oE\",\"square\":\"style_square__rf4cS\",\"icon\":\"style_icon__bnClh\"};","import { Button } from '@mui/material';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Utils, Icon as CustomIcon } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nconst CustomButton = ({ fullWidth, size, onClick, style, className, value, square, icon }) => {\n    return <Button\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={onClick}\n        fullWidth={fullWidth}\n        style={style}\n        className={Utils.clsx(cls.root, className, square ? cls.square : '')}\n        margin=\"normal\"\n        size={size}\n    >{icon ? <CustomIcon className={cls.icon} src={icon} /> : value}</Button>;\n}\n\nCustomButton.defaultProps = {\n    value: '',\n    className: null,\n    variant: 'standard',\n    size: 'medium',\n    fullWidth: false,\n    square: false\n};\n\nCustomButton.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n};\n\nexport default CustomButton;","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__HWP9G\"};","import { Checkbox } from '@mui/material';\nimport React, { memo, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nconst CustomCheckbox = ({ size, value, style, title, onChange, className, customValue, disabled }) => {\n    const [switchChecked, setSwitchChecked] = useState(false);\n\n    return <>\n        <Checkbox\n            disabled={disabled}\n            checked={Boolean(customValue ? value : switchChecked)}\n            // style={Object.assign(type ? color[type] : null, style)}\n            className={Utils.clsx(cls.root, className)}\n            onChange={e => {\n                customValue && setSwitchChecked(e.target.checked);\n                onChange(e.target.checked);\n            }}\n            size={size}\n        />\n        {title || null}\n    </>;\n}\n\nCustomCheckbox.defaultProps = {\n    value: false,\n    disabled: false,\n    type: null,\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    label: 'all'\n};\n\nCustomCheckbox.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default memo(CustomCheckbox);","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__Ohc9u\"};","import React, { useState } from 'react';\nimport { TextField } from '@mui/material';\nimport PropTypes from 'prop-types';\n\nimport InputAdornment from '@mui/material/InputAdornment';\n\nimport { Utils, Icon as CustomIcon } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nconst CustomInput = ({ autoFocus, fullWidth, disabled, multiline, rows, autoComplete, label, error, size, variant, value, type, style, onChange, className, customValue, icon }) => {\n    const [inputText, setInputText] = useState('');\n    return <TextField\n        error={!!error}\n        autoFocus={autoFocus}\n        fullWidth={fullWidth}\n        label={label}\n        disabled={disabled}\n        variant={variant}\n        multiline={multiline}\n        rows={rows}\n        value={customValue ? value : inputText}\n        type={type}\n        helperText={error}\n        style={style}\n        className={Utils.clsx(cls.root, className)}\n        autoComplete={autoComplete}\n        onChange={e => {\n            !customValue && setInputText(e.target.value);\n            onChange(e.target.value);\n        }}\n        InputProps={{\n            endAdornment: icon ?\n                <InputAdornment position=\"end\"><CustomIcon className={cls.icon} src={icon} /></InputAdornment>\n                : null\n        }}\n        margin=\"normal\"\n        size={size}\n    />;\n}\n\nCustomInput.defaultProps = {\n    value: '',\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    autoFocus: false,\n    rows: 1\n};\n\nCustomInput.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default CustomInput;","import { FormControl, FormHelperText, Input, MenuItem, Select } from '@mui/material';\nimport withStyles from '@mui/styles/withStyles';\nimport React, { useEffect, useState } from 'react';\nimport { I18n } from '@iobroker/adapter-react-v5';\nimport PropTypes from 'prop-types';\n\nconst SelectMod = withStyles({\n    root: {\n        margin: '10px 0',\n        '& .MuiFormControl-marginNormal': {\n            marginTop: 0,\n            marginBottom: 0,\n        },\n        '& > *': {\n            color: '#2d0440 !important'\n        },\n        '& .MuiSelect-icon': {\n            color: '#81688c'\n        },\n        '& label.Mui-focused': {\n            color: '#81688c',\n        },\n        '& .MuiInput-underline:after': {\n            borderBottomColor: '#510573',\n        },\n        '& .MuiInput-underline:before': {\n            borderBottomColor: '#81688c',\n        },\n        '& .MuiInput-underline:hover:before': {\n            borderBottomColor: '#81688c',\n        },\n    },\n})(FormControl);\n\nconst CustomInstance = ({ multiple, value, customValue, socket, title, attr, adapter, style, onChange, className, onInstanceHide }) => {\n    const [inputText, setInputText] = useState(value || 'test1');\n    const [options, setOptions] = useState([]);\n\n    useEffect(() => {\n        socket && socket.getAdapterInstances(adapter)\n            .then(instances => {\n                const _options = instances.map(obj => ({value: obj._id.replace('system.adapter.', ''), title: obj._id.replace('system.adapter.', '')}));\n                if (_options.length === 1) {\n                    onInstanceHide(_options[0].value);\n                } else {\n                    _options.unshift({value: adapter, title: I18n.t('All')});\n                }\n                setOptions(_options);\n            });\n    }, [socket, adapter, onInstanceHide]);\n\n    return <SelectMod\n        className={className}\n        fullWidth\n        style={style}\n    >\n        <Select\n            variant=\"standard\"\n            value={(customValue ? value : inputText) || '_'}\n            fullWidth\n            multiple={multiple}\n            renderValue={(selected) => multiple && selected.join ? selected.join(', ') : selected}\n            onChange={e => {\n                !customValue && setInputText(e.target.value);\n                onChange(e.target.value);\n            }}\n            input={attr ? <Input name={attr} id={attr + '-helper'} /> : <Input name={attr} />}\n        >\n            {options.map(item =>\n                <MenuItem style={{placeContent:'space-between'}} key={'key-' + item.value} value={item.value || '_'}>{I18n.t(item.title)}{item.title2 && <div>{item.title2}</div>}</MenuItem>)}\n        </Select>\n        <FormHelperText>{I18n.t(title)}</FormHelperText>\n    </SelectMod>;\n}\n\nCustomInstance.defaultProps = {\n    value: '',\n    className: null,\n    table: false,\n    customValue: false\n};\n\nCustomInstance.propTypes = {\n    title: PropTypes.string,\n    socket: PropTypes.object,\n    attr: PropTypes.string,\n    adapter: PropTypes.string,\n    style: PropTypes.object,\n    onChange: PropTypes.func,\n};\n\nexport default CustomInstance;","// extracted by mini-css-extract-plugin\nexport default {\"modalContentWrapper\":\"style_modalContentWrapper__S6fcW\",\"modalButtonBlock\":\"style_modalButtonBlock__xVMKi\",\"modalButtonBlockTwo\":\"style_modalButtonBlockTwo__bJfuc\",\"modalWrapper\":\"style_modalWrapper__mluI5\",\"modalDialog\":\"style_modalDialog__Pki9P\",\"close\":\"style_close__h386v\"};","import React, {useState} from 'react';\nimport Button from '@mui/material/Button';\nimport { Dialog, DialogActions, DialogContent } from '@mui/material';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport i18n from '@iobroker/adapter-react-v5/i18n';\nimport CustomInput from \"../CustomInput\";\n\nconst CustomModal = ({ open, onClose, children, titleButtonApply, titleButtonClose, onApply, className, textInput, defaultValue}) => {\n    let [value, setValue] = useState(defaultValue);\n\n    return <Dialog\n        open={open}\n        maxWidth=\"md\"\n        disableEscapeKeyDown={false}\n        onClose={onClose}\n        classes={{paper: cls.modalDialog, /*paper: classes.background*/}}\n        className={cls.modalWrapper}\n    >\n        <DialogContent>\n            {textInput && <CustomInput\n                className={className}\n                autoComplete=\"off\"\n                fullWidth\n                variant=\"outlined\"\n                size=\"medium\"\n                rows={10}\n                multiline\n                value={value}\n                onChange={setValue}\n                customValue\n            />}\n            {!textInput && children}\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={() => onApply(textInput ? value : null)}  variant=\"contained\" color=\"primary\">\n                {i18n.t(titleButtonApply)}\n            </Button>\n            <Button color=\"grey\" onClick={onClose} variant=\"contained\">\n                {i18n.t(titleButtonClose)}\n            </Button>\n        </DialogActions>\n    </Dialog>;\n}\n\nCustomModal.defaultProps = {\n    open: false,\n    onApply: () => { },\n    onClose: () => { },\n    titleButtonClose: 'Cancel',\n    titleButtonApply: 'Ok'\n};\n\nCustomModal.propTypes = {\n    open: PropTypes.bool,\n    onClose: PropTypes.func,\n    children: PropTypes.any,\n    titleButtonClose: PropTypes.string,\n    titleButtonApply: PropTypes.string,\n    onApply: PropTypes.func\n};\n\nexport default CustomModal;","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__GxGj0\"};","import React, { useState } from 'react';\nimport { FormControl, FormHelperText, Input, MenuItem, Select } from '@mui/material';\nimport PropTypes from 'prop-types';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\nimport CustomCheckbox from '../CustomCheckbox';\n\nconst CustomSelect = ({ multiple, value, customValue, title, attr, options, style, onChange, className, doNotTranslate, doNotTranslate2 }) => {\n    const [inputText, setInputText] = useState(value === undefined ? options[0].value : value);\n\n    const v = customValue ? value : inputText;\n    const text = v === '' || v === null || v === undefined ? '_' : v;\n\n    return <FormControl\n    variant=\"standard\"\n        className={Utils.clsx(cls.root, className)}\n        fullWidth\n        style={style}\n    >\n        <Select\n            variant=\"standard\"\n            value={text}\n            fullWidth\n            multiple={multiple}\n            renderValue={selected => {\n                if (multiple && selected.join) {\n                    // sort\n                    selected.sort();\n                    let pos = selected.indexOf('0');\n                    if (pos !== -1) {\n                        selected.splice(pos, 1);\n                        selected.push('0');\n                    }\n                    pos = selected.indexOf('_');\n                    if (pos !== -1) {\n                        selected.splice(pos, 1);\n                        selected.unshift('_');\n                    }\n\n                    const onlyItem = options.find(el => el.only);\n                    if (selected.includes(onlyItem.value)) {\n                        return onlyItem.titleShort ? (doNotTranslate ? onlyItem.titleShort : I18n.t(onlyItem.titleShort)) : (doNotTranslate ? onlyItem.title : I18n.t(onlyItem.title))\n                    }\n\n                    const titles = selected\n                        .map(sel => options.find(item => item.value === sel || (sel === '_' && item.value === '')) || sel)\n                        .map(item => typeof item === 'object' ? (item.titleShort ? (doNotTranslate ? item.titleShort : I18n.t(item.titleShort)) : (doNotTranslate ? item.title : I18n.t(item.title))) : (doNotTranslate ? item : I18n.t(item)));\n\n                    return titles.join(', ');\n                } else {\n                    const item = options ? options.find(item => item.value === selected || (selected === '_' && item.value === '')) : null;\n                    return item?.title ? (doNotTranslate ? item?.title : I18n.t(item?.title)) : selected;\n                }\n            }}\n            onChange={e => {\n                !customValue && setInputText(e.target.value);\n                if (multiple) {\n                    const onlyItem = options.find(el => el.only);\n                    if (onlyItem) {\n                        const valueOnly = onlyItem.value;\n                        if (e.target.value.length === options.length - 1 && e.target.value.includes(valueOnly)) {\n                            return onChange(e.target.value.filter(el => el !== valueOnly), attr);\n                        }\n                        if (e.target.value.includes(valueOnly)) {\n                            return onChange(options.map(el => el.value), attr);\n                        }\n                    }\n                }\n                onChange(e.target.value, attr);\n            }}\n            input={attr ? <Input name={attr} id={`${attr}-helper`} /> : <Input name={attr} />}\n        >\n            {!multiple && options && options.map(item => <MenuItem style={{ placeContent: 'space-between' }} key={`key-${item.value}`} value={item.value === '' || item.value === null || item.value === undefined ? '_' : item.value}>{doNotTranslate ? item.title : I18n.t(item.title)}{item.title2 && <div>{doNotTranslate2 ? item.title2 : I18n.t(item.title2)}</div>}</MenuItem>)}\n            {multiple && options && options.map(item => <MenuItem style={{ placeContent: 'space-between' }} key={`key-${item.value}`} value={item.value || '_'}>{doNotTranslate ? item.title : I18n.t(item.title)} <CustomCheckbox customValue value={value.includes(item.value)} /></MenuItem>)}\n        </Select>\n        {title ? <FormHelperText>{I18n.t(title)}</FormHelperText> : null}\n    </FormControl>;\n}\n\nCustomSelect.defaultProps = {\n    value: '',\n    className: null,\n    table: false,\n    customValue: false,\n    multiple: false\n};\n\nCustomSelect.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    options: PropTypes.array.isRequired,\n    style: PropTypes.object,\n    onChange: PropTypes.func\n};\n\nexport default CustomSelect;","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__EDdVB\",\"mark\":\"style_mark__oVsRI\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Slider } from '@mui/material';\n\nimport { Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nconst CustomSlider = ({ fullWidth, autoComplete, label, error, size, variant, value, type, style, onChange, className, customValue, min, max, step, unit }) => {\n    const [inputText, setInputText] = useState(0);\n    min = min !== undefined ? min : 0;\n    max = max !== undefined ? max : 0;\n    step = step !== undefined ? step : (max - min) / 100;\n\n    const marks = [\n        {\n            value: min,\n            label: min + (unit || ''),\n        },\n        {\n            value: max,\n            label: max + (unit || ''),\n        },\n    ];\n\n    return <Slider\n        defaultValue={customValue ? value : inputText}\n        // getAriaValueText={customValue ? value : inputText}\n        aria-labelledby=\"discrete-slider\"\n        valueLabelDisplay=\"auto\"\n        classes={{mark: cls.mark}}\n        marks={marks}\n        step={step}\n        min={min}\n        max={max}\n        error={error || ''}\n        //fullWidth={fullWidth}\n        label={label}\n        variant={variant}\n        value={customValue ? value : inputText}\n        type={type}\n        //helperText={error || ''}\n        style={style}\n        className={Utils.clsx(cls.root, className)}\n        autoComplete={autoComplete}\n        onChange={(e, newValue) => {\n            !customValue && setInputText(newValue);\n            onChange(newValue);\n        }}\n        margin=\"normal\"\n        size={size}\n    />;\n}\n\nCustomSlider.defaultProps = {\n    value: '',\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false\n};\n\nCustomSlider.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default CustomSlider;","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__gbUwF\"};","import { FormControlLabel, Switch } from '@mui/material';\nimport React, { memo, useState } from 'react';\n// import { I18n } from '@iobroker/adapter-react-v5';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\n\nconst CustomSwitch = ({ label, size, value, style, onChange, className, customValue }) => {\n    const [switchChecked, setSwitchChecked] = useState(false);\n    return <FormControlLabel\n        className={cls.root}\n        control={<Switch\n            checked={customValue ? value : switchChecked}\n            style={style}\n            className={className}\n            onChange={e => {\n                if (!customValue) setSwitchChecked(e.target.checked);\n                onChange(e.target.checked);\n            }}\n            size={size}\n        />\n        }\n        label={label}\n    />;\n}\n\nCustomSwitch.defaultProps = {\n    value: false,\n    type: 'text',\n    error: '',\n    className: null,\n    table: false,\n    native: {},\n    variant: 'standard',\n    size: 'medium',\n    component: null,\n    styleComponentBlock: null,\n    onChange: () => { },\n    fullWidth: false,\n    autoComplete: '',\n    customValue: false,\n    label: 'all'\n};\n\nCustomSwitch.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    type: PropTypes.string,\n    style: PropTypes.object,\n    native: PropTypes.object,\n    onChange: PropTypes.func,\n    component: PropTypes.object,\n    styleComponentBlock: PropTypes.object\n};\n\nexport default memo(CustomSwitch);","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__K8xdq\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { TextField } from '@mui/material';\n\nimport { Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nconst CustomTime = ({ value, style, onChange, className }) => {\n    return <TextField\n        variant=\"standard\"\n        id=\"time\"\n        type=\"time\"\n        onChange={(e) => onChange(e.currentTarget.value)}\n        value={value}\n        className={Utils.clsx(cls.root, className)}\n        fullWidth\n        style={style}\n        InputLabelProps={{\n            shrink: true,\n        }}\n        inputProps={{\n            step: 300, // 5 min\n        }}\n    />;\n}\n\nCustomTime.defaultProps = {\n    value: '',\n    className: null,\n    table: false\n};\n\nCustomTime.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    style: PropTypes.object,\n    onChange: PropTypes.func\n};\n\nexport default CustomTime;","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"style_root__MKvTE\"};","import React from 'react';\nimport { FormControl, MenuItem, Select } from '@mui/material';\nimport PropTypes from 'prop-types';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nconst DAYS = [\n    31, // 1\n    29, // 2\n    31, // 3\n    30, // 4\n    31, // 5\n    30, // 6\n    31, // 7\n    31, // 8\n    30, // 9\n    31, // 10\n    30, // 11\n    31  // 12\n];\n\nconst CustomDate = ({ value, onChange, className, title, style }) => {\n    let [month, date] = (value || '01.01').toString().split('.');\n    date = parseInt(date, 10) || 0;\n    month = parseInt(month, 10) || 0;\n    if (month > 12) {\n        month = 12;\n    } else if (month < 0) {\n        month = 0;\n    }\n\n    if (date > DAYS[month]) {\n        date = DAYS[month];\n    } else if (date < 0) {\n        date = 0;\n    }\n\n    let days = [];\n    for (let i = 0; i < DAYS[month]; i++) {\n        days.push(i + 1);\n    }\n\n    return <div>\n        <FormControl\n            variant=\"standard\"\n            className={Utils.clsx(cls.root, className)}\n            style={style}\n        >\n            <Select\n                variant=\"standard\"\n                className={Utils.clsx(cls.root, className)}\n                margin=\"dense\"\n                label={I18n.t('Month')}\n                onChange={e =>\n                    onChange(`${e.target.value.toString().padStart(2, '0')}.${date.toString().padStart(2, '0')}`)}\n                value={month}\n            >\n                <MenuItem style={{ placeContent: 'space-between' }} key={0} value={0}>{I18n.t('Any month')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={1} value={1}>{I18n.t('January')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={2} value={2}>{I18n.t('February')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={3} value={3}>{I18n.t('March')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={4} value={4}>{I18n.t('April')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={5} value={5}>{I18n.t('May')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={6} value={6}>{I18n.t('June')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={7} value={7}>{I18n.t('July')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={8} value={8}>{I18n.t('August')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={9} value={9}>{I18n.t('September')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={10} value={10}>{I18n.t('October')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={11} value={11}>{I18n.t('November')}</MenuItem>\n                <MenuItem style={{ placeContent: 'space-between' }} key={12} value={12}>{I18n.t('December')}</MenuItem>\n            </Select>\n        </FormControl>\n        <FormControl\n            variant=\"standard\"\n            className={Utils.clsx(cls.root, className)}\n            style={style}\n        >\n            <Select\n                variant=\"standard\"\n                className={Utils.clsx(cls.root, className)}\n                margin=\"dense\"\n                label={I18n.t('Date')}\n                onChange={e =>\n                    onChange(`${month.toString().padStart(2, '0')}.${e.target.value.toString().padStart(2, '0')}`)}\n                value={date}\n            >\n                <MenuItem style={{ placeContent: 'space-between' }} key={'A'} value={0}>{I18n.t('Any')}</MenuItem>\n                {days.map(i => <MenuItem style={{ placeContent: 'space-between' }} key={i} value={i}>{i}</MenuItem>)}\n            </Select>\n        </FormControl>\n    </div>;\n}\n\nCustomDate.defaultProps = {\n    value: '',\n    className: null,\n};\n\nCustomDate.propTypes = {\n    title: PropTypes.string,\n    attr: PropTypes.string,\n    style: PropTypes.object,\n    onChange: PropTypes.func\n};\n\nexport default CustomDate;","import { I18n } from '@iobroker/adapter-react-v5';\n\nlet lang;\nconst getName = obj => {\n    lang = lang || I18n.getLanguage();\n    if (typeof obj === 'object') {\n        return obj[lang] || obj.en;\n    } else {\n        return obj;\n    }\n};\n\nconst utils = {\n    getName\n};\n\nexport default utils;","const STEPS = {\n    selectTriggers: 0,\n    addScheduleByDoubleClick: 1,\n    openTagsMenu: 2,\n    selectIntervalTag: 3,\n    selectActions: 4,\n    addActionPrintText: 5,\n    showJavascript: 6,\n    switchBackToRules: 7,\n    saveTheScript: 8,\n};\n\nconst steps = [\n    {  // 0\n        selector: '.blocks-triggers',\n        content: 'Select triggers',\n    },\n    {  // 1\n        selector: '.block-TriggerScheduleBlock',\n        content: 'Double click to add the block',\n    },\n    {   // 2\n        selector: '.tag-card',\n        content: 'Open drop down menu',\n    },\n    {   // 3\n        selector: '.tag-card-interval',\n        content: 'Select interval',\n    },\n    {   // 4\n        selector: '.blocks-actions',\n        content: 'Select action blocks',\n    },\n    {  // 5\n        selector: '.block-ActionPrintText',\n        content: 'Double click to add the block',\n    },\n    {  // 6\n        selector: '.button-js-code',\n        content: 'Check the script',\n    },\n    {  // 7\n        selector: '.button-js-code',\n        content: 'Switch back to rules',\n    },\n    {   // 8\n        selector: '.button-save',\n        content: 'Save the script',\n    }\n];\n\nexport {STEPS};\n\nexport default steps;","import React, { PureComponent, Fragment } from 'react';\nimport cls from './style.module.scss';\n\nimport { Menu, MenuItem } from '@mui/material';\nimport IconButton from '@mui/material/IconButton';\nimport IconHelp from '@mui/icons-material/HelpOutline';\n\nimport DialogSelectID from '@iobroker/adapter-react-v5/Dialogs/SelectID';\nimport DialogError from '@iobroker/adapter-react-v5/Dialogs/Error';\nimport DialogMessage from '@iobroker/adapter-react-v5/Dialogs/Message';\nimport { getSelectIdIcon } from '@iobroker/adapter-react-v5/Components/Icon';\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\n\nimport CustomButton from '../CustomButton';\nimport CustomCheckbox from '../CustomCheckbox';\nimport CustomInput from '../CustomInput';\nimport CustomInstance from '../CustomInstance';\nimport CustomModal from '../CustomModal';\nimport CustomSelect from '../CustomSelect';\nimport CustomSlider from '../CustomSlider';\nimport CustomSwitch from '../CustomSwitch';\nimport CustomTime from '../CustomTime';\nimport CustomDate from '../CustomDate';\n\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport utils from '../../helpers/utils';\nimport { STEPS } from '../../helpers/Tour';\n\nclass GenericBlock extends PureComponent {\n    constructor(props, item) {\n        super(props);\n        item = item || {};\n        let settings = props.settings || {\n            tagCard: item.tagCardArray ? typeof item.tagCardArray[0] !== 'string' ? item.tagCardArray[0].title : item.tagCardArray[0] : '',\n        };\n\n        if (!settings.tagCard && item.tagCardArray) {\n            settings.tagCard = typeof item.tagCardArray[0] !== 'string' ? item.tagCardArray[0].title : item.tagCardArray[0];\n        }\n\n        this.state = {\n            inputs: item.inputs || props.inputs || [],\n            name: item.name || props.name || '',\n            icon: item.icon || props.icon || '',\n            adapter: item.adapter || props.adapter || '',\n            helpDialog: item.helpDialog || props.helpDialog || '',\n\n            tagCardArray: item.tagCardArray || [],\n\n            openTagMenu: false,\n            openModal: false,\n            iconTag: false,\n            error: '',\n            helpText: '',\n\n            oid: {},\n            instanceSelectionOptions: [],\n            instanceSelectionDef: '',\n\n            hideAttributes: [], // e.g. instance\n\n            settings,\n            debugMessage: null,\n            enableSimulation: this.props.enableSimulation,\n        };\n\n        this.debugHideTimeout = null;\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (!nextProps || !nextProps.settings) {\n            console.log(JSON.stringify(nextProps));\n            return;\n        }\n\n        const settings = JSON.parse(JSON.stringify(nextProps.settings));\n        if (!settings.tagCard && this.state.tagCardArray && this.state.tagCardArray.length) {\n            settings.tagCard = typeof this.state.tagCardArray[0] !== 'string' ? this.state.tagCardArray[0].title : this.state.tagCardArray[0];\n        }\n\n        let newState = null;\n\n        if (nextProps.onDebugMessage && nextProps.onDebugMessage.blockId === this.props._id) {\n            newState = {};\n            newState.debugMessage = JSON.parse(JSON.stringify(nextProps.onDebugMessage));\n            this.debugHideTimeout && clearTimeout(this.debugHideTimeout);\n            this.debugHideTimeout = setTimeout(() =>\n                this.setState({ debugMessage: null }),\n                nextProps.onDebugMessage.hideTimeout || 5000);\n        }\n\n        if (JSON.stringify(settings) !== JSON.stringify(this.state.settings)) {\n            newState = newState || {};\n            newState.settings = settings;\n        }\n\n        if (this.state.enableSimulation !== nextProps.enableSimulation) {\n            newState = newState || {};\n            newState.enableSimulation = nextProps.enableSimulation;\n        }\n\n        newState && this.setState(newState);\n    }\n\n    componentWillUnmount() {\n        this.debugHideTimeout && clearTimeout(this.debugHideTimeout);\n        this.debugHideTimeout = null;\n    }\n\n    // called every time, the tagCard changes or at start\n    onTagChange(tagCard, cb) {\n        // analyse inputs and fill the attributes with default values\n        let changed = false;\n        let settings = JSON.parse(JSON.stringify(this.state.settings));\n        this.state.inputs.forEach(input => {\n            if (input.attr && input.defaultValue !== undefined) {\n                if (settings[input.attr] === undefined) {\n                    changed = true;\n                    settings[input.attr] = input.defaultValue;\n                }\n            }\n        });\n        if (changed) {\n            this.setState({ settings }, () => cb && cb());\n            this.props.onChange(settings);\n        } else {\n            cb && cb();\n        }\n    }\n\n    // called if trigger added or removed\n    onUpdate() {\n        // do nothing, but blocks can overwrite it\n    }\n\n    // called every time if some attribute changes\n    onValueChanged(value, attr) {\n        // do nothing, but blocks can overwrite it\n    }\n\n    renderText = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, name, doNotTranslate, doNotTranslateBack } = input;\n        return <Fragment key={attr}>\n            <div className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    label={utils.getName(name)}\n                    variant=\"outlined\"\n                    size=\"small\"\n                    fullWidth\n                    value={value}\n                    onChange={onChange}\n                    customValue\n                />\n                {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </Fragment>;\n    }\n\n    renderSwitch = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr}>\n            <div className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomSwitch\n                    className={className}\n                    label=''\n                    customValue\n                    value={value}\n                    onChange={onChange}\n                />\n                {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </div>;\n    }\n\n    renderNameText = ({ attr, signature, doNotTranslate, defaultValue }, value) => <div\n        className={Utils.clsx(!!signature ? cls.displayItalic : cls.displayFlex, cls.blockMarginTop)}\n        key={attr}>\n        {value ? (doNotTranslate ? value : I18n.t(value)) : (doNotTranslate ? defaultValue : I18n.t(defaultValue))}\n    </div>;\n\n    renderNumber = (input, value, onChange) => {\n        const { className } = this.props;\n        const { settings } = this.state;\n        const { attr, backText, frontText, openCheckbox, doNotTranslate, doNotTranslateBack } = input;\n        let visibility = true;\n        if (openCheckbox) {\n            visibility = typeof settings['offset'] === 'boolean' ? settings['offset'] : true;\n        }\n        return visibility ? <div key={attr} className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomInput\n                className={Utils.clsx(className, input.className)}\n                fullWidth\n                autoComplete=\"off\"\n                label={input.noHelperText ? '' : 'number'}\n                variant=\"outlined\"\n                size=\"small\"\n                type=\"number\"\n                value={value}\n                onChange={onChange}\n                customValue\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div> : null;\n    }\n\n    renderColor = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, backText, frontText, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomInput\n                className={className}\n                autoComplete=\"off\"\n                fullWidth\n                variant=\"outlined\"\n                size=\"small\"\n                type=\"color\"\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    renderCheckbox = (input, value, onChange) => {\n        const { className } = this.props;\n        const { settings } = this.state;\n        const { attr, backText, frontText, defaultValue, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={cls.displayFlex}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomCheckbox\n                className={className}\n                size=\"small\"\n                style={{ marginRight: 5 }}\n                value={typeof settings[attr] === 'boolean' ? settings[attr] : defaultValue}\n                customValue\n                onChange={onChange}\n            />\n            {backText && <div onClick={() => onChange(typeof settings[attr] === 'boolean' ? !settings[attr] : !defaultValue)} className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    renderSlider = (input, value, onChange) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, nameBlock, min, max, step, unit, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr}>\n            <div className={cls.displayFlex} style={{ marginRight: 20 }}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomSlider\n                    customValue\n                    min={min}\n                    max={max}\n                    step={step}\n                    unit={unit}\n                    className={className}\n                    autoComplete=\"off\"\n                    label=\"number\"\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    onChange={val => {\n                        console.log(val);\n                        onChange(val);\n                    }}\n                />\n                {backText && <div style={{ marginLeft: 20 }} className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </div>;\n    }\n\n    renderButton = (input, value, onClick) => {\n        const { className } = this.props;\n        const { attr, frontText, backText, buttonText, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomButton\n                label={buttonText}\n                fullWidth\n                value={value}\n                className={className}\n                onClick={onClick}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    findIcon = obj => {\n        if (!obj) {\n            return Promise.resolve(null);\n        } else\n            if (obj.common?.icon) {\n                return Promise.resolve(getSelectIdIcon(obj, '../..'));\n            } else if (obj.type === 'state' || obj.type === 'channel') {\n                const parts = obj._id.split('.');\n                parts.pop();\n                const newId = parts.join('.');\n                return this.props.socket.getObject(newId)\n                    .then(obj => this.findIcon(obj))\n                    .catch(() => null);\n            }\n    }\n\n    renderObjectID = (input, value, onChange) => {\n        const { attr, openCheckbox, checkReadOnly } = input;\n        const { settings } = this.state;\n        const showSelectId = this.state[`showSelectId${attr}`];\n        const { className, socket } = this.props;\n        let visibility = true;\n        if (openCheckbox) {\n            visibility = typeof settings['offset'] === 'boolean' ? settings['offset'] : true;\n        }\n\n        if (settings[attr] && !this.state[settings[attr]]) {\n            setTimeout(() => {\n                socket.getObject(value)\n                    .then(obj => {\n                        this.findIcon(obj)\n                            .then(icon => this.setState({\n                                [settings[attr]]: obj,\n                                [`${settings[attr]}___icon`]: icon,\n                                error: checkReadOnly && this.lastObjectIdChange && Date.now() - this.lastObjectIdChange < 1000 && obj?.common?.write === false ?\n                                    I18n.t('Read only ID selected: %s', settings[attr]) : '',\n                            }))\n                    });\n            }, 0);\n        }\n\n        // return null\n        return visibility ? <div className={cls.blockMarginTop} key={attr}>\n            <div className={cls.displayFlex}>\n                {input.title ? <div>{I18n.t(input.title)}</div> : null}\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    disabled\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    customValue\n                />\n                <CustomButton\n                    icon={this.state[`${this.state.settings[input.attr]}___icon`]}\n                    square\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => {\n                        const settings = {};\n                        settings[`showSelectId${attr}`] = true;\n                        this.setState(settings);\n                    }}\n                />\n            </div>\n            {this.state[this.state.settings[input.attr]] && <div className={Utils.clsx(cls.nameBlock, cls.displayItalic)}>{Utils.getObjectNameFromObj(this.state[settings[attr]], I18n.getLanguage())}</div>}\n            {showSelectId ? <DialogSelectID\n                imagePrefix=\"../..\"\n                dialogName=\"javascript\"\n                themeType={Utils.getThemeName()}\n                socket={socket}\n                statesOnly\n                selected={value}\n                onClose={() => {\n                    const settings = {};\n                    settings[`showSelectId${attr}`] = false;\n                    this.setState(settings);\n                }}\n                onOk={(selected, name, common) => {\n                    const settings = {};\n                    settings[`showSelectId${attr}`] = false;\n                    this.setState(settings, () =>\n                        // read type of object\n                        socket.getObject(selected)\n                            .then(obj => {\n                                this.lastObjectIdChange = Date.now();\n                                onChange({\n                                    [attr]: selected,\n                                    [`${attr}Role`]: obj.common.role,\n                                    [`${attr}Type`]: obj.common.type,\n                                    [`${attr}Unit`]: obj.common.unit,\n                                    [`${attr}States`]: obj.common.states,\n                                    [`${attr}Min`]: obj.common.min,\n                                    [`${attr}Max`]: obj.common.max,\n                                    [`${attr}Step`]: obj.common.step,\n                                    [`${attr}Def`]: obj.common.def,\n                                    [`${attr}Write`]: obj.common.write,\n                                    [`${attr}Read`]: obj.common.read,\n                                }, null, () =>\n                                    this.props.setOnUpdate && this.props.setOnUpdate(true))\n                            }))}\n            }\n            /> : null}\n        </div> : null;\n    }\n\n    renderIconTag = () => {\n        return <div\n            className={cls.iconTag}\n            onClick={e => {\n                if (this.state.settings.tagCard) {\n                    if (this.state.tagCardArray.length < 3) {\n                        this.onChangeTag();\n                    } else {\n                        this.setState({ openTagMenu: e.currentTarget })\n                    }\n                }\n            }}>\n            {this.state.settings.tagCard}\n        </div>;\n    }\n\n    renderTime = (input, value, onChange) => {\n        const { attr, backText, frontText, doNotTranslate, doNotTranslateBack } = input\n        return <div key={attr} className={cls.displayFlex} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomTime\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    renderSelect = (input, value, onChange) => {\n        const { className } = this.props;\n        const { name, options, frontText, backText, attr, multiple, doNotTranslate, doNotTranslate2, doNotTranslateBack } = input;\n        return <div key={attr} className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{I18n.t(frontText)}</div>}\n            <CustomSelect\n                attr={attr}\n                doNotTranslate={doNotTranslate}\n                doNotTranslate2={doNotTranslate2}\n                title={name}\n                className={className}\n                options={options}\n                value={value}\n                onChange={onChange}\n                multiple={multiple}\n                customValue\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    renderInstance = (input, value, onChange) => {\n        const { className, socket } = this.props;\n        const { name, options, frontText, backText, attr, adapter, doNotTranslate, doNotTranslateBack } = input;\n        if (this.state.hideAttributes.includes(attr)) {\n            return null;\n        }\n        return <div key={attr} className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomInstance\n                attr={attr}\n                socket={socket}\n                adapter={adapter}\n                title={name}\n                className={className}\n                options={options}\n                value={value}\n                onChange={onChange}\n                customValue\n                onInstanceHide={value => this.setState({ hideAttributes: [...this.state.hideAttributes, attr] }, () => onChange(value))} // hide instance if only exactly one exists\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    renderDialog = (input, value, onChange) => {\n        const { onShowDialog, frontText, backText, attr, icon, doNotTranslate, doNotTranslateBack } = input;\n        return <div key={attr} className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <MaterialDynamicIcon\n                iconName={icon}\n                className={Utils.clsx(cls.iconDialog)}\n                onClick={e => onShowDialog && onShowDialog()}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    }\n\n    renderModalInput = (input, value, onChange) => {\n        const { openModal } = this.state;\n        const { className } = this.props;\n        const { attr, nameBlock, frontText, backText, noTextEdit, doNotTranslate, doNotTranslateBack} = input;\n        return <div key={attr}>\n            <div className={Utils.clsx(cls.displayFlex, cls.blockMarginTop)}>\n                {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n                <CustomInput\n                    disabled={!!noTextEdit}\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={value}\n                    onChange={onChange}\n                    customValue\n                />\n                <CustomButton\n                    square\n                    // fullWidth\n                    style={{ marginLeft: 5 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openModal: true })}\n                />\n                {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n            </div>\n            {openModal ? <CustomModal\n                open\n                onApply={val =>\n                    this.setState({ openModal: false }, () =>\n                        val !== null && val !== undefined && onChange(val))}\n                onClose={() => this.setState({ openModal: false })}\n                defaultValue={value}\n                textInput\n            /> : null}\n            {nameBlock && <div className={cls.nameBlock}>{I18n.t(nameBlock)}</div>}\n        </div>;\n    };\n\n    renderDate = (input, value, onChange) => {\n        const { attr, backText, frontText, doNotTranslate, doNotTranslateBack } = input\n        return <div key={attr} className={cls.displayFlex} style={{ whiteSpace: 'nowrap' }}>\n            {frontText && <div className={cls.frontText}>{doNotTranslate ? frontText : I18n.t(frontText)}</div>}\n            <CustomDate\n                value={value}\n                onChange={onChange}\n            />\n            {backText && <div className={cls.backText}>{doNotTranslateBack ? backText : I18n.t(backText)}</div>}\n        </div>;\n    };\n\n    static getReplacesInText(context) {\n        let value = '';\n        if (context.trigger?.oidType) {\n            value = '.replace(/%s/g, obj.state.val).replace(/%id/g, obj.id).replace(/%name/g, obj.common && obj.common.name).replace(/%old/g, obj.oldState.val)';\n        } else if (context.conditionsStates.length) {\n            value = `.replace(/%s/g, ${context.conditionsStates[0].name}).replace(/%id/g, \"${context.conditionsStates[0].id}\")`;\n        }\n        return value;\n    }\n\n    /////////////////////////////\n    renderTags = () => {\n        let { tagCardArray, openTagMenu } = this.state;\n        let { tagCard } = this.state.settings;\n        let result = tagCard !== '=' && tagCard !== '<>' && tagCard !== '>=' && tagCard !== '()' && tagCard !== '.' && tagCard !== '<=' && tagCard !== '<' && tagCard !== '>' ? I18n.t(tagCard) : tagCard;\n        if (tagCardArray.length >= 3) {\n            result = <div>\n                <div aria-controls=\"simple-menu\" aria-haspopup=\"true\"\n                    onClick={e => {\n                        this.setState({ openTagMenu: e.currentTarget }, () => {\n                            this.props.isTourOpen &&\n                                this.props.tourStep === STEPS.openTagsMenu &&\n                                setTimeout(() => this.props.setTourStep(STEPS.selectIntervalTag), 300);\n                        });\n                    }}>{result}</div>\n                <Menu\n                    id=\"simple-menu\"\n                    anchorEl={openTagMenu}\n                    keepMounted\n                    open={Boolean(openTagMenu)}\n                    onClose={() => this.setState({ openTagMenu: null })}\n                >\n                    {tagCardArray.map(el => {\n                        let tag = el;\n                        if (typeof el !== 'string') {\n                            tag = el.title;\n                        }\n                        return (\n                            <MenuItem\n                                key={tag}\n                                selected={tag === tagCard}\n                                className={'tag-card-' + tag}\n                                style={{ placeContent: 'space-between' }}\n                                onClick={() => {\n                                    const settings = { ...this.state.settings, tagCard: tag };\n                                    this.setState({ openTagMenu: null, settings }, () => {\n                                        this.props.onChange(settings);\n                                        this.onTagChange(tag);\n                                    });\n                                    (this.props.isTourOpen &&\n                                        (this.props.tourStep === STEPS.openTagsMenu ||\n                                            this.props.tourStep === STEPS.selectIntervalTag) &&\n                                        tag === 'interval' &&\n                                        setTimeout(() => this.props.setTourStep(STEPS.selectActions), 500));\n\n                                }}>{tag.search(/>|<|<>|<=|>=|=/) !== -1 ? tag : I18n.t(tag)}{typeof el !== 'string' && el.title2 && <div style={{ marginLeft: 4 }}>{I18n.t(el.title2)}</div>}\n                            </MenuItem>\n                        );\n                    })}\n                </Menu>\n            </div>;\n        }\n\n        return result;\n    };\n\n    onChangeTag = () => {\n        const { tagCardArray, settings, settings: { tagCard } } = this.state;\n        let newTagCardArray = [...tagCardArray]\n        if (typeof newTagCardArray[0] !== 'string') {\n            newTagCardArray = newTagCardArray.map(el => el.title);\n        }\n\n        if (tagCard && newTagCardArray.length < 3) {\n            const newSettings = { ...settings };\n            const newTagCard = newTagCardArray[(newTagCardArray.indexOf(tagCard) + 1) % newTagCardArray.length]\n            newSettings.tagCard = newTagCard;\n            this.setState({ settings: newSettings }, () => {\n                this.props.onChange(newSettings);\n                this.onTagChange(newTagCard);\n            });\n        }\n    };\n\n    componentDidMount = () => {\n        this.onTagChange();\n        // detect changes\n    };\n\n    componentDidUpdate = prevProps => {\n        if (this.props.acceptedBy !== 'triggers' && this.props.onUpdate) {\n            setTimeout(() => this.onUpdate(), 0);\n        }\n    }\n\n    onChangeInput = attribute => {\n        return (value, attr, cb) => {\n            const settings = JSON.parse(JSON.stringify(this.state.settings));\n\n            if (typeof value === 'object' && (!attr || typeof attr === 'function')) {\n                Object.keys(value).forEach(_attr => settings[_attr] = value[_attr]);\n            } else {\n                settings[attr || attribute] = value;\n            }\n            settings.id = this.getData().id;\n            settings._id = this.props._id;\n\n            this.setState({ settings }, () => {\n                this.onValueChanged(value, attr || attribute);\n                this.props.onChange(settings);\n                cb && cb();\n            });\n        }\n    }\n\n    renderSpecific() {\n        return null; // it can be overloaded\n    }\n\n    renderDebugInfo() {\n        if (this.state.debugMessage) {\n            return <div className={cls.debugInfo} key={this.state.debugMessage.ts} style={{ opacity: 1, height: 22, bottom: -22 }}>\n                {this.renderDebug ? this.renderDebug(this.state.debugMessage) : I18n.t('executed')}\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    render = () => {\n        const { inputs, name, icon, iconTag, settings, adapter, settings: { tagCard }, helpDialog } = this.state;\n        const { socket, notFound } = this.props;\n\n        return <Fragment>\n            {iconTag ? this.renderIconTag() :\n                <MaterialDynamicIcon\n                    iconName={icon}\n                    className={Utils.clsx(cls.iconThemCard, tagCard && this.state.tagCardArray.length && cls.iconThemCardSelectable)}\n                    adapter={adapter}\n                    socket={socket}\n                    onClick={e => {\n                        if (tagCard) {\n                            if (this.state.tagCardArray.length < 3) {\n                                this.onChangeTag();\n                            } else {\n                                this.setState({ openTagMenu: e.currentTarget })\n                            }\n                        }\n                    }}\n                />}\n            <div className={cls.blockName}>\n                <span className={cls.nameCard}>\n                    {I18n.t(name)}\n                    {!!notFound ? I18n.t(`%s not found`, settings.id) : ''}\n                    {helpDialog ? <IconButton className={cls.iconHelp} size=\"small\" onClick={() => this.setState({ helpText: I18n.t(helpDialog) })}><IconHelp /></IconButton> : null}\n                </span>\n                {inputs.filter(({ nameRender }) => this[nameRender])\n                    .map(input => {\n                        const { nameRender, defaultValue, attr, options } = input;\n                        return this[nameRender](\n                            input,\n                            settings[attr] !== undefined ? settings[attr] : defaultValue,\n                            this.onChangeInput(attr),\n                            options || []\n                        );\n                    })}\n            </div>\n            {tagCard && <div className={cls.controlMenuTop} style={{ opacity: 1, height: 22, top: -22 }}>\n                <div onClick={() => this.onChangeTag()} className={Utils.clsx(cls.tagCard, 'tag-card')}>{this.renderTags()}</div>\n            </div>}\n            {this.renderDebugInfo()}\n            {this.state.error ? <DialogError title={I18n.t('Warning')} text={this.state.error} onClose={() => this.setState({ error: '' })} /> : null}\n            {this.state.helpText ? <DialogMessage title={I18n.t('Instructions')} text={this.state.helpText} onClose={() => this.setState({ helpText: '' })} /> : null}\n            {this.renderSpecific()}\n        </Fragment>;\n    };\n}\n\nexport default GenericBlock;","import GenericBlock from '../GenericBlock';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\n// copied from https://github.com/ioBroker/ioBroker.sayit/blob/master/admin/blockly.js#L37\nconst sayitEngines = {\n    'en':       { name: 'Google - English',         engine: 'google',  params: [] },\n    'de':       { name: 'Google - Deutsch',         engine: 'google',  params: [] },\n    'ru':       { name: 'Google - ',         engine: 'google',  params: [] },\n    'it':       { name: 'Google - Italiano',        engine: 'google',  params: [] },\n    'es':       { name: 'Google - Espaniol',        engine: 'google',  params: [] },\n    'fr':       { name: 'Google - Franais',        engine: 'google',  params: [] },\n    'ru_YA':    { name: 'Yandex - ',         engine: 'yandex',  params: ['key', 'voice', 'emotion', 'ill', 'drunk', 'robot'], voice: ['jane', 'zahar'], emotion: ['none', 'good', 'neutral', 'evil', 'mixed'] },\n    'ru_YA_CLOUD': { name: 'Yandex Cloud - ',   engine: 'yandexCloud',  params: ['key', 'folderID', 'voice', 'emotion'], voice: ['alyss', 'oksana', 'jane', 'zahar'], emotion: [ 'good', 'neutral', 'evil'] },\n\n    'en-US':    { name: 'PicoTTS - Englisch US',    engine: 'PicoTTS', params: [] },\n    'en-GB':    { name: 'PicoTTS - Englisch GB',    engine: 'PicoTTS', params: [] },\n    'de-DE':    { name: 'PicoTTS - Deutsch',        engine: 'PicoTTS', params: [] },\n    'it-IT':    { name: 'PicoTTS - Italiano',       engine: 'PicoTTS', params: [] },\n    'es-ES':    { name: 'PicoTTS - Espaniol',       engine: 'PicoTTS', params: [] },\n    'fr-FR':    { name: 'PicoTTS - Franais',       engine: 'PicoTTS', params: [] },\n\n    'ru-RU_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'ru-RU',      ename: 'Tatyana',    ssml: true, name: 'Cloud -  - ' },\n    'ru-RU_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'ru-RU',      ename: 'Maxim',      ssml: true, name: 'Cloud -  - ' },\n    'de-DE_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'de-DE',      ename: 'Marlene',    ssml: true, name: 'Cloud - Deutsch - Marlene' },\n    'de-DE_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'de-DE',      ename: 'Hans',       ssml: true, name: 'Cloud - Deutsch - Hans' },\n    'en-US_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-US',      ename: 'Salli',      ssml: true, name: 'Cloud - en-US - Female - Salli' },\n    'en-US_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'en-US',      ename: 'Joey',       ssml: true, name: 'Cloud - en-US - Male - Joey' },\n    'da-DK_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'da-DK',      ename: 'Naja',       ssml: true, name: 'Cloud - da-DK - Female - Naja' },\n    'da-DK_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'da-DK',      ename: 'Mads',       ssml: true, name: 'Cloud - da-DK - Male - Mads' },\n    'en-AU_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-AU',      ename: 'Nicole',     ssml: true, name: 'Cloud - en-AU - Female - Nicole' },\n    'en-AU_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'en-AU',      ename: 'Russell',    ssml: true, name: 'Cloud - en-AU - Male - Russell' },\n    'en-GB_CLOUD_Female_Amy':   { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-GB',      ename: 'Amy',        ssml: true, name: 'Cloud - en-GB - Female - Amy' },\n    'en-GB_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'en-GB',      ename: 'Brian',      ssml: true, name: 'Cloud - en-GB - Male - Brian' },\n    'en-GB_CLOUD_Female_Emma':  { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-GB',      ename: 'Emma',       ssml: true, name: 'Cloud - en-GB - Female - Emma' },\n    'en-GB-WLS_CLOUD_Female':   { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-GB-WLS',  ename: 'Gwyneth',    ssml: true, name: 'Cloud - en-GB-WLS - Female - Gwyneth' },\n    'en-GB-WLS_CLOUD_Male':     { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'en-GB-WLS',  ename: 'Geraint',    ssml: true, name: 'Cloud - en-GB-WLS - Male - Geraint' },\n    'cy-GB_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'cy-GB',      ename: 'Gwyneth',    ssml: true, name: 'Cloud - cy-GB - Female - Gwyneth' },\n    'cy-GB_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'cy-GB',      ename: 'Geraint',    ssml: true, name: 'Cloud - cy-GB - Male - Geraint' },\n    'en-IN_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-IN',      ename: 'Raveena',    ssml: true, name: 'Cloud - en-IN - Female - Raveena' },\n    'en-US_CLOUD_Male_Chipmunk':{ gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'en-US',      ename: 'Chipmunk',   ssml: true, name: 'Cloud - en-US - Male - Chipmunk' },\n    'en-US_CLOUD_Male_Eric':    { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'en-US',      ename: 'Eric',       ssml: true, name: 'Cloud - en-US - Male - Eric' },\n    'en-US_CLOUD_Female_Ivy':   { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-US',      ename: 'Ivy',        ssml: true, name: 'Cloud - en-US - Female - Ivy' },\n    'en-US_CLOUD_Female_Jennifer': { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-US',   ename: 'Jennifer',   ssml: true, name: 'Cloud - en-US - Female - Jennifer' },\n    'en-US_CLOUD_Male_Justin':  { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'en-US',      ename: 'Justin',     ssml: true, name: 'Cloud - en-US - Male - Justin' },\n    'en-US_CLOUD_Female_Kendra': { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-US',     ename: 'Kendra',     ssml: true, name: 'Cloud - en-US - Female - Kendra' },\n    'en-US_CLOUD_Female_Kimberly': { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'en-US',   ename: 'Kimberly',   ssml: true, name: 'Cloud - en-US - Female - Kimberly' },\n    'es-ES_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'es-ES',      ename: 'Conchita',   ssml: true, name: 'Cloud - es-ES - Female - Conchita' },\n    'es-ES_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'es-ES',      ename: 'Enrique',    ssml: true, name: 'Cloud - es-ES - Male - Enrique' },\n    'es-US_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'es-US',      ename: 'Penelope',   ssml: true, name: 'Cloud - es-US - Female - Penelope' },\n    'es-US_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'es-US',      ename: 'Miguel',     ssml: true, name: 'Cloud - es-US - Male - Miguel' },\n    'fr-CA_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'fr-CA',      ename: 'Chantal',    ssml: true, name: 'Cloud - fr-CA - Female - Chantal' },\n    'fr-FR_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'fr-FR',      ename: 'Celine',     ssml: true, name: 'Cloud - fr-FR - Female - Celine' },\n    'fr-FR_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'fr-FR',      ename: 'Mathieu',    ssml: true, name: 'Cloud - fr-FR - Male - Mathieu' },\n    'is-IS_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'is-IS',      ename: 'Dora',       ssml: true, name: 'Cloud - is-IS - Female - Dora' },\n    'is-IS_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'is-IS',      ename: 'Karl',       ssml: true, name: 'Cloud - is-IS - Male - Karl' },\n    'it-IT_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'it-IT',      ename: 'Carla',      ssml: true, name: 'Cloud - it-IT - Female - Carla' },\n    'it-IT_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'it-IT',      ename: 'Giorgio',    ssml: true, name: 'Cloud - it-IT - Male - Giorgio' },\n    'nb-NO_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'nb-NO',      ename: 'Liv',        ssml: true, name: 'Cloud - nb-NO - Female - Liv' },\n    'nl-NL_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'nl-NL',      ename: 'Lotte',      ssml: true, name: 'Cloud - nl-NL - Female - Lotte' },\n    'nl-NL_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'nl-NL',      ename: 'Ruben',      ssml: true, name: 'Cloud - nl-NL - Male - Ruben' },\n    'pl-PL_CLOUD_Female_Agnieszka': { gender: 'Female', engine: 'cloud',params: ['cloud'], language: 'pl-PL',      ename: 'Agnieszka',  ssml: true, name: 'Cloud - pl-PL - Female - Agnieszka' },\n    'pl-PL_CLOUD_Male_Jacek':   { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'pl-PL',      ename: 'Jacek',      ssml: true, name: 'Cloud - pl-PL - Male - Jacek' },\n    'pl-PL_CLOUD_Female_Ewa':   { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'pl-PL',      ename: 'Ewa',        ssml: true, name: 'Cloud - pl-PL - Female - Ewa' },\n    'pl-PL_CLOUD_Male_Jan':     { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'pl-PL',      ename: 'Jan',        ssml: true, name: 'Cloud - pl-PL - Male - Jan' },\n    'pl-PL_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'pl-PL',      ename: 'Maja',       ssml: true, name: 'Cloud - pl-PL - Female - Maja' },\n    'pt-BR_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'pt-BR',      ename: 'Vitoria',    ssml: true, name: 'Cloud - pt-BR - Female - Vitoria' },\n    'pt-BR_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'pt-BR',      ename: 'Ricardo',    ssml: true, name: 'Cloud - pt-BR - Male - Ricardo' },\n    'pt-PT_CLOUD_Male':         { gender: 'Male',   engine: 'cloud',   params: ['cloud'], language: 'pt-PT',      ename: 'Cristiano',  ssml: true, name: 'Cloud - pt-PT - Male - Cristiano' },\n    'pt-PT_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'pt-PT',      ename: 'Ines',       ssml: true, name: 'Cloud - pt-PT - Female - Ines' },\n    'ro-RO_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'ro-RO',      ename: 'Carmen',     ssml: true, name: 'Cloud - ro-RO - Female - Carmen' },\n    'sv-SE_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'sv-SE',      ename: 'Astrid',     ssml: true, name: 'Cloud - sv-SE - Female - Astrid' },\n    'tr-TR_CLOUD_Female':       { gender: 'Female', engine: 'cloud',   params: ['cloud'], language: 'tr-TR',      ename: 'Filiz',      ssml: true, name: 'Cloud - tr-TR - Female - Filiz' },\n\n    'ru-RU_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'ru-RU',      ename: 'Tatyana',    ssml: true, name: 'AWS Polly -  - ' },\n    'ru-RU_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'ru-RU',      ename: 'Maxim',      ssml: true, name: 'AWS Polly -  - ' },\n    'de-DE_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'de-DE',      ename: 'Marlene',    ssml: true, name: 'AWS Polly - Deutsch - Marlene' },\n    'de-DE_AP_Female_Vicky':    { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'de-DE',      ename: 'Vicky',      ssml: true, name: 'AWS Polly - Deutsch - Vicky' },\n    'de-DE_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'de-DE',      ename: 'Hans',       ssml: true, name: 'AWS Polly - Deutsch - Hans' },\n    'en-US_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Salli',      ssml: true, name: 'AWS Polly - en-US - Female - Salli' },\n    'en-US_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Joey',       ssml: true, name: 'AWS Polly - en-US - Male - Joey' },\n    'da-DK_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'da-DK',      ename: 'Naja',       ssml: true, name: 'AWS Polly - da-DK - Female - Naja' },\n    'da-DK_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'da-DK',      ename: 'Mads',       ssml: true, name: 'AWS Polly - da-DK - Male - Mads' },\n    'en-AU_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-AU',      ename: 'Nicole',     ssml: true, name: 'AWS Polly - en-AU - Female - Nicole' },\n    'en-AU_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-AU',      ename: 'Russell',    ssml: true, name: 'AWS Polly - en-AU - Male - Russell' },\n    'en-GB_AP_Female_Amy':      { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-GB',      ename: 'Amy',        ssml: true, name: 'AWS Polly - en-GB - Female - Amy' },\n    'en-GB_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-GB',      ename: 'Brian',      ssml: true, name: 'AWS Polly - en-GB - Male - Brian' },\n    'en-GB_AP_Female_Emma':     { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-GB',      ename: 'Emma',       ssml: true, name: 'AWS Polly - en-GB - Female - Emma' },\n    'en-GB-WLS_AP_Female':      { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-GB-WLS',  ename: 'Gwyneth',    ssml: true, name: 'AWS Polly - en-GB-WLS - Female - Gwyneth' },\n    'en-GB-WLS_AP_Male':        { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-GB-WLS',  ename: 'Geraint',    ssml: true, name: 'AWS Polly - en-GB-WLS - Male - Geraint' },\n    'cy-GB_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'cy-GB',      ename: 'Gwyneth',    ssml: true, name: 'AWS Polly - cy-GB - Female - Gwyneth' },\n    'cy-GB_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'cy-GB',      ename: 'Geraint',    ssml: true, name: 'AWS Polly - cy-GB - Male - Geraint' },\n    'en-IN_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-IN',      ename: 'Raveena',    ssml: true, name: 'AWS Polly - en-IN - Female - Raveena' },\n    'en-US_AP_Male_Chipmunk':   { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Chipmunk',   ssml: true, name: 'AWS Polly - en-US - Male - Chipmunk' },\n    'en-US_AP_Male_Eric':       { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Eric',       ssml: true, name: 'AWS Polly - en-US - Male - Eric' },\n    'en-US_AP_Female_Ivy':      { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Ivy',        ssml: true, name: 'AWS Polly - en-US - Female - Ivy' },\n    'en-US_AP_Female_Jennifer': { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Jennifer',   ssml: true, name: 'AWS Polly - en-US - Female - Jennifer' },\n    'en-US_AP_Male_Justin':     { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Justin',     ssml: true, name: 'AWS Polly - en-US - Male - Justin' },\n    'en-US_AP_Female_Kendra':   { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Kendra',     ssml: true, name: 'AWS Polly - en-US - Female - Kendra' },\n    'en-US_AP_Female_Kimberly': { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'en-US',      ename: 'Kimberly',   ssml: true, name: 'AWS Polly - en-US - Female - Kimberly' },\n    'es-ES_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'es-ES',      ename: 'Conchita',   ssml: true, name: 'AWS Polly - es-ES - Female - Conchita' },\n    'es-ES_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'es-ES',      ename: 'Enrique',    ssml: true, name: 'AWS Polly - es-ES - Male - Enrique' },\n    'es-US_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'es-US',      ename: 'Penelope',   ssml: true, name: 'AWS Polly - es-US - Female - Penelope' },\n    'es-US_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'es-US',      ename: 'Miguel',     ssml: true, name: 'AWS Polly - es-US - Male - Miguel' },\n    'fr-CA_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'fr-CA',      ename: 'Chantal',    ssml: true, name: 'AWS Polly - fr-CA - Female - Chantal' },\n    'fr-FR_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'fr-FR',      ename: 'Celine',     ssml: true, name: 'AWS Polly - fr-FR - Female - Celine' },\n    'fr-FR_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'fr-FR',      ename: 'Mathieu',    ssml: true, name: 'AWS Polly - fr-FR - Male - Mathieu' },\n    'is-IS_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'is-IS',      ename: 'Dora',       ssml: true, name: 'AWS Polly - is-IS - Female - Dora' },\n    'is-IS_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'is-IS',      ename: 'Karl',       ssml: true, name: 'AWS Polly - is-IS - Male - Karl' },\n    'it-IT_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'it-IT',      ename: 'Carla',      ssml: true, name: 'AWS Polly - it-IT - Female - Carla' },\n    'it-IT_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'it-IT',      ename: 'Giorgio',    ssml: true, name: 'AWS Polly - it-IT - Male - Giorgio' },\n    'nb-NO_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'nb-NO',      ename: 'Liv',        ssml: true, name: 'AWS Polly - nb-NO - Female - Liv' },\n    'nl-NL_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'nl-NL',      ename: 'Lotte',      ssml: true, name: 'AWS Polly - nl-NL - Female - Lotte' },\n    'nl-NL_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'nl-NL',      ename: 'Ruben',      ssml: true, name: 'AWS Polly - nl-NL - Male - Ruben' },\n    'pl-PL_AP_Female_Agnieszka':{ gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pl-PL',      ename: 'Agnieszka',  ssml: true, name: 'AWS Polly - pl-PL - Female - Agnieszka' },\n    'pl-PL_AP_Male_Jacek':      { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pl-PL',      ename: 'Jacek',      ssml: true, name: 'AWS Polly - pl-PL - Male - Jacek' },\n    'pl-PL_AP_Female_Ewa':      { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pl-PL',      ename: 'Ewa',        ssml: true, name: 'AWS Polly - pl-PL - Female - Ewa' },\n    'pl-PL_AP_Male_Jan':        { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pl-PL',      ename: 'Jan',        ssml: true, name: 'AWS Polly - pl-PL - Male - Jan' },\n    'pl-PL_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pl-PL',      ename: 'Maja',       ssml: true, name: 'AWS Polly - pl-PL - Female - Maja' },\n    'pt-BR_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pt-BR',      ename: 'Vitoria',    ssml: true, name: 'AWS Polly - pt-BR - Female - Vitoria' },\n    'pt-BR_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pt-BR',      ename: 'Ricardo',    ssml: true, name: 'AWS Polly - pt-BR - Male - Ricardo' },\n    'pt-PT_AP_Male':            { gender: 'Male',   engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pt-PT',      ename: 'Cristiano',  ssml: true, name: 'AWS Polly - pt-PT - Male - Cristiano' },\n    'pt-PT_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'pt-PT',      ename: 'Ines',       ssml: true, name: 'AWS Polly - pt-PT - Female - Ines' },\n    'ro-RO_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'ro-RO',      ename: 'Carmen',     ssml: true, name: 'AWS Polly - ro-RO - Female - Carmen' },\n    'sv-SE_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'sv-SE',      ename: 'Astrid',     ssml: true, name: 'AWS Polly - sv-SE - Female - Astrid' },\n    'tr-TR_AP_Female':          { gender: 'Female', engine: 'polly',   params: ['accessKey', 'secretKey', 'region'], language: 'tr-TR',      ename: 'Filiz',      ssml: true, name: 'AWS Polly - tr-TR - Female - Filiz' },\n};\n\nclass ActionSayText extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSayText.getStaticData());\n    }\n\n    static compile(config, context) {\n        if (!config.text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        } else {\n            return `// Sayit ${config.text || ''}\n\\t\\tconst subActionVar${config._id} = \"${config.language && config.language !== '_' ? `${config.language};` : ''}${config.volume ? `${config.volume};` : ''}${(config.text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tawait setStateAsync(\"${config.instance}.tts.text\", subActionVar${config._id});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `${I18n.t('Say:')} ${debugMessage.data.text}`;\n    }\n\n    onTagChange(tagCard) {\n        const lang = I18n.getLanguage();\n        const languages = Object.keys(sayitEngines).filter(l => l.startsWith(lang));\n        const options = languages.map(lang => ({title: sayitEngines[lang].name, value: lang}));\n        options.unshift({title: 'Default', value: '_'});\n\n        this.setState({\n            inputs: [\n                {\n                    attr: 'instance',\n                    nameRender: 'renderInstance',\n                    adapter: 'sayit',\n                    defaultValue: 'sayit.0',\n                    frontText: 'Instance:',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    frontText: 'Language:',\n                    options,\n                    defaultValue: '_',\n                    attr: 'language',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Volume',\n                    attr: 'textVol',\n                },\n                {\n                    nameRender: 'renderSlider',\n                    attr: 'volume',\n                    defaultValue: 100,\n                    min: 0,\n                    max: 100\n                },\n                {\n                    attr: 'text',\n                    nameRender: 'renderModalInput',\n                    defaultValue: 'Hallo',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Say It',\n            id: 'ActionSayText',\n            adapter: 'sayit',\n            title: 'Say some text via sayit adapter',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionSayText.getStaticData();\n    }\n}\n\nexport default ActionSayText;\n","import GenericBlock from '../GenericBlock';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nclass ActionSendEmail extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSendEmail.getStaticData());\n    }\n\n    static compile(config, context) {\n        if (!config.recipients) {\n            return `// no recipients defined'\n_sendToFrontEnd(${config._id}, {text: 'No recipients defined'});`;\n        } else {\n            return `// Send Email ${config.text || ''}\n\\t\\tconst subActionVar${config._id} = \"${(config.text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tsendTo(\"${config.instance || 'email.0'}\", {\n\\t\\t    to:      \"${config.recipients || ''}\",\n\\t\\t    subject: \"${(config.subject || 'ioBroker').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)},\n\\t\\t    text:    subActionVar${config._id}\n\\t\\t});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `${I18n.t('Sent:')} ${debugMessage.data.text}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    attr: 'instance',\n                    nameRender: 'renderInstance',\n                    defaultValue: 'email.0',\n                    frontText: 'Instance:',\n                    adapter: 'email',\n                },\n                {\n                    attr: 'recipients',\n                    nameRender: 'renderText',\n                    defaultValue: 'user@mail.ru',\n                    frontText: 'To:',\n                },\n                {\n                    attr: 'subject',\n                    nameRender: 'renderText',\n                    defaultValue: 'Email from iobroker',\n                    nameBlock: '',\n                    frontText: 'Subject:',\n                },\n                {\n                    attr: 'text',\n                    nameRender: 'renderModalInput',\n                    defaultValue: 'Email from iobroker',\n                    nameBlock: '',\n                    frontText: 'Body:',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Send email',\n            id: 'ActionSendEmail',\n            adapter: 'email',\n            title: 'Sends an email',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionSendEmail.getStaticData();\n    }\n}\n\nexport default ActionSendEmail;\n","import GenericBlock from '../GenericBlock';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nclass ActionTelegram extends GenericBlock {\n    constructor(props) {\n        super(props, ActionTelegram.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        } else {\n            return `// Telegram ${text || ''}\n\\t\\tconst subActionVar${config._id} = \"${(text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tsendTo(\"${config.instance}\", \"send\", ${config.user && config.user !== '_' ? `{user: \"${(config.user || '').replace(/\"/g, '\\\\\"')}\", text: subActionVar${config._id}}` : `subActionVar${config._id}`});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `${I18n.t('Sent:')} ${debugMessage.data.text}`;\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'instance') {\n            this._setUsers(value);\n        }\n    }\n\n    _setUsers(instance) {\n        instance = instance || this.state.settings.instance || 'telegram.0';\n        this.cachePromises[instance] = this.cachePromises[instance] || this.props.socket.getState(`${instance}.communicate.users`);\n        if (!this.state.settings._id) {\n            return this.setState({\n                inputs: [\n                    {\n                        nameRender: 'renderSelect',\n                        adapter: 'telegram',\n                        frontText: 'Instance:',\n                        defaultValue: 'telegram.0',\n                        attr: 'instance',\n                    },\n                    {\n                        nameRender: 'renderSelect',\n                        attr: 'user',\n                        options: [{title: 'telegram.0', value: 'telegram.0'}],\n                        defaultValue: '',\n                        frontText: 'User:',\n                    },\n                    {\n                        nameRender: 'renderModalInput',\n                        attr: 'text',\n                        defaultValue: 'Hallo',\n                        nameBlock: '',\n                        frontText: 'Text:',\n                    }\n                ]\n            }, () => super.onTagChange());\n        }\n\n        this.cachePromises[instance]\n            .then(users => {\n                try {\n                    users = users?.val ? JSON.parse(users.val) : null;\n                    users = users && Object.keys(users).map(user => ({title: users[user].userName || users[user].firstName, value: user}));\n                    users = users || [];\n                    users.unshift({ title: 'all', value: '' });\n                } catch (e) {\n                    users = [{ title: 'all', value: '' }];\n                }\n\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderInstance',\n                            adapter: 'telegram',\n                            frontText: 'Instance:',\n                            defaultValue: 'telegram.0',\n                            attr: 'instance',\n                        },\n                        {\n                            nameRender: 'renderSelect',\n                            attr: 'user',\n                            options: users,\n                            defaultValue: '_',\n                            frontText: 'User:',\n                        },\n                        {\n                            nameRender: 'renderModalInput',\n                            attr: 'text',\n                            defaultValue: 'Hallo',\n                            nameBlock: '',\n                            frontText: 'Text:',\n                        },\n                    ]\n                }, () => super.onTagChange());\n            });\n    }\n\n    onTagChange(tagCard) {\n        this._setUsers();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Telegram',\n            id: 'ActionTelegram',\n            adapter: 'telegram',\n            title: 'Sends message via telegram',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionTelegram.getStaticData();\n    }\n}\n\nexport default ActionTelegram;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionPushover extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPushover.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        } else {\n            return `// Pushover ${config.text || ''}\n\\t\\tconst subActionVar${config._id} = \"${text}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});            \n\\t\\tsendTo(\"${config.instance}\", \"send\", {\n\\t\\t    message: subActionVar${config._id},\n\\t\\t    title: \"${(config.title || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)},\n\\t\\t    sound: \"${config.sound}\",\n\\t\\t    priority: ${config.priority}\n\\t\\t});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `Sent: ${debugMessage.data.text}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderInstance',\n                    adapter: 'pushover',\n                    frontText: 'Instance:',\n                    defaultValue: 'pushover.0',\n                    attr: 'instance',\n                },\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'Hello',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                },\n                {\n                    nameRender: 'renderText',\n                    attr: 'title',\n                    defaultValue: 'ioBroker',\n                    frontText: 'Title:',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'sound',\n                    defaultValue: 'magic',\n                    frontText: 'Sound:',\n                    doNotTranslate: true,\n                    options: [\n                        { value: 'pushover', title: 'pushover' },\n                        { value: 'bike', title: 'bike' },\n                        { value: 'bugle', title: 'bugle' },\n                        { value: 'cashregister', title: 'cashregister' },\n                        { value: 'classical', title: 'classical' },\n                        { value: 'cosmic', title: 'cosmic' },\n                        { value: 'falling', title: 'falling' },\n                        { value: 'gamelan', title: 'gamelan' },\n                        { value: 'incoming', title: 'incoming' },\n                        { value: 'intermission', title: 'intermission' },\n                        { value: 'magic', title: 'magic' },\n                        { value: 'mechanical', title: 'mechanical' },\n                        { value: 'pianobar', title: 'pianobar' },\n                        { value: 'siren', title: 'siren' },\n                        { value: 'spacealarm', title: 'spacealarm' },\n                        { value: 'tugboat', title: 'tugboat' },\n                        { value: 'alien', title: 'alien' },\n                        { value: 'climb', title: 'climb' },\n                        { value: 'persistent', title: 'persistent' },\n                        { value: 'echo', title: 'echo' },\n                        { value: 'updown', title: 'updown' },\n                        { value: 'none', title: 'none' },\n                    ]\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'priority',\n                    defaultValue: -1,\n                    frontText: 'Priority:',\n                    options: [\n                        { value: -1, title: 'quiet' },\n                        { value: 0, title: 'normal' },\n                        { value: 1, title: 'high-priority' },\n                        { value: 2, title: 'acknowledgment' },\n                    ]\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Pushover',\n            id: 'ActionPushover',\n            adapter: 'pushover',\n            title: 'Sends message via pushover',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionPushover.getStaticData();\n    }\n}\n\nexport default ActionPushover;\n","import GenericBlock from '../GenericBlock';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nclass ActionWhatsappcmb extends GenericBlock {\n    constructor(props) {\n        super(props, ActionWhatsappcmb.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        } else {\n            return `// whatsapp ${text || ''}\n\\t\\tconst subActionVar${config._id} = \"${(text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tsendTo(\"${config.instance}\", \"send\", {text: subActionVar${config._id}${config.phone ? `, phone: \"${config.phone.replace(/\"/g, '\\\\\"')}\"` : ''}});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `${I18n.t('Sent:')} ${debugMessage.data.text}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderInstance',\n                    adapter: 'whatsapp-cmb',\n                    frontText: 'Instance:',\n                    defaultValue: 'whatsapp-cmb.0',\n                    attr: 'instance',\n                },\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'Hello',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                },\n                {\n                    nameRender: 'renderText',\n                    attr: 'phone',\n                    defaultValue: '',\n                    frontText: 'Phone:',\n                    backText: '(optional)',\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Whatsapp-cmb',\n            id: 'ActionWhatsappcmb',\n            adapter: 'whatsapp-cmb',\n            title: 'Sends message via whatsapp-cmb',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionWhatsappcmb.getStaticData();\n    }\n}\n\nexport default ActionWhatsappcmb;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionPushsafer extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPushsafer.getStaticData());\n        this.cachePromises = {};\n    }\n\n    static compile(config, context) {\n        let text = (config.text || '').replace(/\"/g, '\\\\\"');\n        if (!text) {\n            return `// no text defined\n_sendToFrontEnd(${config._id}, {text: 'No text defined'});`;\n        } else {\n            return `// Pushsafer ${config.text || ''}\n\\t\\tconst subActionVar${config._id} = \"${text}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});            \n\\t\\tsendTo(\"${config.instance}\", \"send\", {\n\\t\\t    message: subActionVar${config._id},\n\\t\\t    title: \"${(config.title || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)},\n\\t\\t    ${config.device ? `device: \"${config.device}\",` : ''}\n\\t\\t    ${config.sound && config.sound !== '_' ? `sound: \"${config.sound}\",` : ''}\n\\t\\t    priority: ${config.priority},\n\\t\\t    ${config.vibration && config.vibration !== '_' ? `vibration: ${config.vibration},` : ''}\n\\t\\t});`;\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return `Sent: ${debugMessage.data.text}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderInstance',\n                    adapter: 'pushsafer',\n                    frontText: 'Instance:',\n                    defaultValue: 'pushsafer.0',\n                    attr: 'instance',\n                },\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'Hello',\n                    nameBlock: '',\n                    frontText: 'Text:',\n                },\n                {\n                    nameRender: 'renderText',\n                    attr: 'title',\n                    defaultValue: 'ioBroker',\n                    frontText: 'Title:',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'sound',\n                    defaultValue: 'magic',\n                    frontText: 'Sound:',\n                    doNotTranslate: true,\n                    options: [\n                        { value: '_', title: 'Device Default' },\n                        { value: '0', title: 'Silent' },\n                        { value: '1', title: 'Ahem (IM)' },\n                        { value: '2', title: 'Applause (Mail)' },\n                        { value: '3', title: 'Arrow (Reminder)' },\n                        { value: '4', title: 'Baby (SMS)' },\n                        { value: '5', title: 'Bell (Alarm)' },\n                        { value: '6', title: 'Bicycle (Alarm2)' },\n                        { value: '7', title: 'Boing (Alarm3)' },\n                        { value: '8', title: 'Buzzer (Alarm4)' },\n                        { value: '9', title: 'Camera (Alarm5)' },\n                        { value: '10', title: 'Car Horn (Alarm6)' },\n                        { value: '11', title: 'Cash Register (Alarm7)' },\n                        { value: '12', title: 'Chime (Alarm8)' },\n                        { value: '13', title: 'Creaky Door (Alarm9)' },\n                        { value: '14', title: 'Cuckoo Clock (Alarm10)' },\n                        { value: '15', title: 'Disconnect (Call)' },\n                        { value: '16', title: 'Dog (Call2)' },\n                        { value: '17', title: 'Doorbell (Call3)' },\n                        { value: '18', title: 'Fanfare (Call4)' },\n                        { value: '19', title: 'Gun Shot (Call5)' },\n                        { value: '20', title: 'Honk (Call6)' },\n                        { value: '21', title: 'Jaw Harp (Call7)' },\n                        { value: '22', title: 'Morse (Call8)' },\n                        { value: '23', title: 'Electricity (Call9)' },\n                        { value: '24', title: 'Radio Tuner (Call10)' },\n                        { value: '25', title: 'Sirens' },\n                        { value: '26', title: 'Military Trumpets' },\n                        { value: '27', title: 'Ufo' },\n                        { value: '28', title: 'Whah Whah Whah' },\n                        { value: '29', title: 'Man Saying Goodbye' },\n                        { value: '30', title: 'Man Saying Hello' },\n                        { value: '31', title: 'Man Saying No' },\n                        { value: '32', title: 'Man Saying Ok' },\n                        { value: '33', title: 'Man Saying Ooohhhweee' },\n                        { value: '34', title: 'Man Saying Warning' },\n                        { value: '35', title: 'Man Saying Welcome' },\n                        { value: '36', title: 'Man Saying Yeah' },\n                        { value: '37', title: 'Man Saying Yes' },\n                        { value: '38', title: 'Beep short' },\n                        { value: '39', title: 'Weeeee short' },\n                        { value: '40', title: 'Cut in and out short' },\n                        { value: '41', title: 'Finger flicking glas short' },\n                        { value: '42', title: 'Wa Wa Waaaa short' },\n                        { value: '43', title: 'Laser short' },\n                        { value: '44', title: 'Wind Chime short' },\n                        { value: '45', title: 'Echo short' },\n                        { value: '46', title: 'Zipper short' },\n                        { value: '47', title: 'HiHat short' },\n                        { value: '48', title: 'Beep 2 short' },\n                        { value: '49', title: 'Beep 3 short' },\n                        { value: '50', title: 'Beep 4 short' },\n                        { value: '51', title: 'The Alarm is armed' },\n                        { value: '52', title: 'The Alarm is disarmed' },\n                        { value: '53', title: 'The Backup is ready' },\n                        { value: '54', title: 'The Door is closed' },\n                        { value: '55', title: 'The Door is opend' },\n                        { value: '56', title: 'The Window is closed' },\n                        { value: '57', title: 'The Window is open' },\n                        { value: '58', title: 'The Light is off' },\n                        { value: '59', title: 'The Light is on' },\n                        { value: '60', title: 'The Doorbell rings' },\n                        { value: '61', title: 'Pager short' },\n                        { value: '62', title: 'Pager long' },\n                    ]\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'priority',\n                    defaultValue: 0,\n                    frontText: 'Priority:',\n                    options: [\n                        { value: -2, title: 'lowest priority' },\n                        { value: -1, title: 'lower priority' },\n                        { value: 0, title: 'normal priority' },\n                        { value: 1, title: 'high priority' },\n                        { value: 2, title: 'highest priority' },\n                    ]\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'vibration',\n                    defaultValue: 0,\n                    frontText: 'Vibration:',\n                    options: [\n                        { value: '_', title: 'default' },\n                        { value: 1, title: '1' },\n                        { value: 2, title: '2' },\n                        { value: 3, title: '3' },\n                    ]\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Pushsafer',\n            id: 'ActionPushsafer',\n            adapter: 'pushsafer',\n            title: 'Sends message via Pushsafer',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionPushsafer.getStaticData();\n    }\n}\n\nexport default ActionPushsafer;\n","// eslint-disable-next-line no-unused-vars\n\nconst STANDARD_FUNCTION_STATE = `async function (obj) {\n    \"__%%DEBUG_TRIGGER%%__\";\n    __%%CONDITIONS_VARS%%__\n    const _cond = __%%CONDITION%%__;\n    \n    \"__%%DEBUG_CONDITIONS%%__\";\n    \n    if (_cond) {\n__%%THEN%%__\n    } else {\n__%%ELSE%%__\n    }\n}`;\nconst STANDARD_FUNCTION_STATE_ONCHANGE = `async function (obj) {\n    \"__%%DEBUG_TRIGGER%%__\";\n    __%%CONDITIONS_VARS%%__\n    const _cond = __%%CONDITION%%__;\n    \n    \"__%%DEBUG_CONDITIONS%%__\";\n    \n    if (__%%STATE%%__ === false && _cond) {\n        __%%STATE%%__ = true;    \n__%%THEN%%__\n    } else if (__%%STATE%%__ === true && !_cond) {\n        __%%STATE%%__ = false;    \n__%%ELSE%%__\n    }\n}`;\nconst STANDARD_FUNCTION =\n`async function () {\n    \"__%%DEBUG_TRIGGER%%__\";\n    __%%CONDITIONS_VARS%%__\n    const _cond = __%%CONDITION%%__;\n    \n    \"__%%DEBUG_CONDITIONS%%__\";\n    \n    if (_cond) {\n__%%THEN%%__\n    } else {\n__%%ELSE%%__\n    }\n}`;\n\nconst STANDARD_FUNCTION_ONCHANGE =\n`async function () {\n    \"__%%DEBUG_TRIGGER%%__\";\n    __%%CONDITIONS_VARS%%__\n    const _cond = __%%CONDITION%%__;\n    \n    \"__%%DEBUG_CONDITIONS%%__\";\n    \n    if (__%%STATE%%__ === false && _cond) {\n        __%%STATE%%__ = true;    \n__%%THEN%%__\n    } else if (__%%STATE%%__ === true && !_cond) {\n        __%%STATE%%__ = false;    \n__%%ELSE%%__\n    }\n}`;\n\nconst NO_FUNCTION = `\"__%%DEBUG_TRIGGER%%__\";\n__%%CONDITIONS_VARS%%__\nconst _cond = __%%CONDITION%%__;\n\n\"__%%DEBUG_CONDITIONS%%__\";\n\nif (_cond) {\n__%%THEN%%__\n} else {\n__%%ELSE%%__\n}`;\n\nconst DEFAULT_RULE = {\n    triggers: [],\n    conditions: [[]],\n    justCheck: false,\n    actions: {\n        then: [],\n        'else': []\n    }\n};\n\nfunction compileTriggers(json, context, blocks) {\n    const triggers = [];\n    let jsonTriggers = json.triggers;\n    if (!jsonTriggers.length) {\n        jsonTriggers = [{id: 'TriggerScriptSave'}];\n    }\n\n    const vars = [];\n    let prelines = [];\n    let hist = json.conditions.find(conds => conds.find(cond => cond.tagCard === '()'));\n\n    jsonTriggers.forEach((trigger, i) => {\n        const found = findBlock(trigger.id, blocks);\n        if (found) {\n            const _context = {\n                trigger,\n                condition: {},\n                justCheck: hist ? false : (json.justCheck || (!json.conditions.length || !json.conditions[0].length)),\n                conditionsDebug: [],\n                conditionsVars: [],\n                conditionsStates: [],\n            };\n            const text = found.compile(trigger, _context);\n            const conditions = compileConditions(json.conditions, _context, blocks);\n            const then = compileActions(json.actions.then, _context, blocks);\n            const _else = compileActions(json.actions.else, _context, blocks);\n\n            // find indent\n            vars.push(`cond${i}`);\n\n            if (_context.prelines && _context.prelines.length) {\n                _context.prelines.forEach(line => prelines.push(line));\n            }\n\n            if (text.includes('    __%%CONDITIONS_VARS%%__')) {\n                _context.conditionsVars = _context.conditionsVars.map((v, i) => i ? `    ${v}` : v);\n                _context.conditionsDebug = _context.conditionsDebug.map((v, i) => i ? `    ${v}` : v);\n            }\n\n            triggers.push(\n                text\n                    .replace('__%%CONDITIONS_VARS%%__', _context.conditionsVars.join('\\n'))\n                    .replace('\"__%%DEBUG_CONDITIONS%%__\";', _context.conditionsDebug.join('\\n'))\n                    .replace('__%%CONDITION%%__', conditions)\n                    .replace('__%%THEN%%__', then || '// ignore')\n                    .replace('__%%ELSE%%__', _else || '// ignore')\n                    .replace(/__%%STATE%%__/g, 'cond' + i)\n            );\n        }\n    });\n\n    let text = triggers.join('\\n\\n');\n\n    if (!json.justCheck || hist) {\n        text = `${vars.map(v => `let ${v} = false;`).join('\\n')}\\n\\n${text}`;\n    }\n    if (prelines) {\n        text = `${prelines.join('\\n')}\\n\\n${text}`;\n    }\n\n    return text;\n}\n\nfunction findBlock(type, blocks) {\n    return blocks.find(block => block.getStaticData && block.getStaticData().id === type);\n}\n\nfunction compileActions(actions, context, blocks) {\n    let result = [];\n    actions && actions.forEach(action => {\n        const found = findBlock(action.id, blocks);\n        if (found) {\n            result.push(found.compile(action, context));\n        }\n    });\n    return `\\t\\t${result.join('\\n\\n\\t\\t')}` || '';\n}\n\nfunction compileConditions(conditions, context, blocks) {\n    let result = [];\n    let i = 0;\n    conditions && conditions.forEach(ors => {\n        if (ors.hasOwnProperty('length') && ors.length) {\n            const _ors = [];\n            _ors && ors.forEach(block => {\n                const found = findBlock(block.id, blocks);\n                if (found) {\n                    context.condition.index = i++;\n                    _ors.push(found.compile(block, context));\n                }\n            });\n            result.push(`(${_ors.join(') &&\\n                  (')})`);\n        } else {\n            const found = findBlock(ors.id, blocks);\n            if (found) {\n                context.condition.index = i++;\n                result.push(found.compile(ors, context));\n            }\n        }\n    });\n\n    if (!result.length) {\n        return 'true';\n    } else\n    if (result.length === 1) {\n        return result[0] || 'true';\n    } else {\n        return `(${result.join(') || (')})`;\n    }\n}\n\nfunction compile(json, blocks) {\n    return compileTriggers(json, null, blocks);\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction code2json(code) {\n    if (!code) {\n        return DEFAULT_RULE;\n    } else {\n        const lines = code.split('\\n');\n        try {\n            let json = lines.pop().replace(/^\\/\\//, '');\n            json = JSON.parse(json);\n            if (!json.triggers) {\n                json = DEFAULT_RULE;\n            }\n            return json;\n        } catch (e) {\n            return DEFAULT_RULE;\n        }\n    }\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction json2code(json, blocks) {\n    let code = '';\n\n    const compiled = compile(json, blocks);\n    code += compiled;\n\n    code += `\\n/*\\nconst demo = ${JSON.stringify(json, null, 2)\n        .replace(/\\*\\//g, '* /')};\\n*/\\n`;\n\n    return `${code}\\n//${JSON.stringify(json)}`;\n}\n\nconst Compile = {\n    code2json,\n    json2code,\n    compile,\n    STANDARD_FUNCTION,\n    STANDARD_FUNCTION_ONCHANGE,\n    STANDARD_FUNCTION_STATE,\n    STANDARD_FUNCTION_STATE_ONCHANGE,\n    NO_FUNCTION,\n};\n\nexport default Compile;","import GenericBlock from '../GenericBlock';\nimport I18n from \"@iobroker/adapter-react-v5/i18n\";\nimport Compile from '../../helpers/Compile';\n\nclass TriggerScriptSave extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerScriptSave.getStaticData());\n    }\n\n    static compile(config /* , context */) {\n        return Compile.NO_FUNCTION.replace('\"__%%DEBUG_TRIGGER%%__\"', `_sendToFrontEnd(${config._id}, {trigger: true})`);\n    }\n\n    renderDebug(/* debugMessage */) {\n        return I18n.t('Triggered');\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'On script save or adapter start',\n                    attr: 'script',\n                },\n            ],\n        }, () => super.onTagChange());\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: 'Start script',\n            id: 'TriggerScriptSave',\n            icon: 'PlayArrow',\n            title: 'Triggers the on script saving or the javascript instance restart',\n        }\n    }\n\n    getData() {\n        return TriggerScriptSave.getStaticData();\n    }\n}\n\nexport default TriggerScriptSave;\n","import React from 'react';\nimport SunCalc from 'suncalc2';\n\nimport GenericBlock from '../GenericBlock';\nimport Compile from '../../helpers/Compile';\nimport CustomInput from '../CustomInput';\nimport CustomButton from '../CustomButton';\nimport CustomModal from '../CustomModal';\n\nimport ComplexCron from '@iobroker/adapter-react-v5/Components/ComplexCron';\nimport Schedule from '@iobroker/adapter-react-v5/Components/Schedule';\nimport convertCronToText from '@iobroker/adapter-react-v5/Components/SimpleCron/cronText';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst DEFAULT_WIZARD = '{\"time\":{\"start\":\"00:00\",\"end\":\"24:00\",\"mode\":\"hours\",\"interval\":1},\"period\":{\"days\":1}}';\n\nclass TriggerScheduleBlock extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerScheduleBlock.getStaticData());\n        this.coordinates = null;\n    }\n\n    static compile(config, context) {\n        let text = '';\n        let func = context.justCheck ? Compile.STANDARD_FUNCTION_STATE : Compile.STANDARD_FUNCTION_STATE_ONCHANGE;\n        func = func.replace('\"__%%DEBUG_TRIGGER%%__\"', `_sendToFrontEnd(${config._id}, {trigger: true})`);\n\n        if (config.tagCard === 'interval') {\n            text = `setInterval(${func}, ${config.interval || 1} * ${config.unit === 's' ? 1000 : (config.unit === 'm' ? 60000 : 3600000)});`;\n        } else if (config.tagCard === 'cron') {\n            text = `schedule(\"${config.cron}\", ${func});`;\n        } else if (config.tagCard === 'at') {\n            const [hours, minutes] = (config.at || '').split(':');\n            let dow = '*';\n            if (config?.dow?.length && !config.dow.includes('_')) {\n                const _dow = [...config.dow].map(item => parseInt(item, 10));\n                _dow.sort();\n\n                let intervals = [];\n                let start = _dow[0];\n                let i = 1\n                for (; i < _dow.length; i++) {\n                    if (_dow[i] - _dow[i - 1] > 1) {\n                        if (start === _dow[i - 1]) {\n                            intervals.push(start);\n                        } else if (_dow[i - 1] - start === 1) {\n                            intervals.push(start + ',' + _dow[i - 1]);\n                        } else {\n                            intervals.push(start + '-' + _dow[i - 1]);\n                        }\n\n                        start = _dow[i];\n                    } else if (i === _dow.length - 1) {\n                        if (start === _dow[i - 1] || _dow[i] - start === 1) {\n                            intervals.push(start + ',' + _dow[i]);\n                        } else {\n                            intervals.push(start + '-' + _dow[i]);\n                        }\n                    }\n                }\n\n                dow = intervals.join(',')\n            }\n            text = `schedule(\"${minutes || '0'} ${hours || '0'} * * ${dow}\", ${func});`;\n        } else if (config.tagCard === 'astro') {\n            text = `schedule({astro: \"${config.astro}\", shift: ${config.offset ? config.offsetValue : 0}}, ${func});`;\n        } else if (config.tagCard === 'wizard') {\n            text = `schedule('${config.wizard}', ${func});`;\n        }\n\n        return text;\n    }\n\n    static _time2String(time) {\n        if (!time) {\n            return '--:--';\n        }\n        return `${time.getHours().toString().padStart(2, '0')}:${time.getMinutes().toString().padStart(2, '0')}`;\n    }\n\n    async _setAstro(astro, offset, offsetValue) {\n        astro = astro || this.state.settings.astro || 'solarNoon';\n        offset = offset === undefined ? this.state.settings.offset : offset;\n        offsetValue = offsetValue === undefined ? this.state.settings.offsetValue : offsetValue;\n\n        offsetValue = parseInt(offsetValue, 10) || 0;\n\n        if (!this.coordinates) {\n            await this.props.socket.getObject('system.adapter.javascript.0')\n                .then(({ native: { latitude, longitude } }) => {\n                    if (!latitude && !longitude) {\n                        return this.props.socket.getObject('system.config')\n                            .then(obj => {\n                                if (obj && (obj.common.latitude || obj.common.longitude)) {\n                                    this.coordinates = {\n                                        latitude: obj.common.latitude,\n                                        longitude: obj.common.longitude\n                                    }\n                                } else {\n                                    this.coordinates = null;\n                                }\n                            });\n                    } else {\n                        this.coordinates = {\n                            latitude,\n                            longitude\n                        }\n                    }\n                });\n        }\n\n        const sunValue = this.coordinates && SunCalc.getTimes(new Date(), this.coordinates.latitude, this.coordinates.longitude);\n        const options = sunValue ? Object.keys(sunValue).map(name => ({\n            value: name,\n            title: name,\n            title2: `[${TriggerScheduleBlock._time2String(sunValue[name])}]`,\n            order: sunValue ? TriggerScheduleBlock._time2String(sunValue[name]) : '??:??',\n        })) : [];\n        options.sort((a, b) => a.order > b.order ? 1 : (a.order < b.order ? -1 : 0));\n\n        // calculate time text\n        let time = '--:--';\n        if (astro && sunValue && sunValue[astro]) {\n            const astroTime = new Date(sunValue[astro]);\n            offset && astroTime.setMinutes(astroTime.getMinutes() + parseInt(offsetValue, 10));\n            time = `(at ${TriggerScheduleBlock._time2String(astroTime)})`; // translate\n        }\n\n        let inputs;\n\n        if (offset) {\n            inputs = [\n                {\n                    frontText: 'at',\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon',\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    backText: offsetValue === 1 ? 'minute' : 'minutes', // translate\n                    frontText: 'offset',\n                    nameRender: 'renderNumber',\n                    defaultValue: 0,\n                    attr: 'offsetValue',\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        } else {\n            inputs = [\n                {\n                    frontText: 'at', // translate\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    defaultValue: 'solarNoon',\n                },\n                {\n                    backText: 'with offset', // translate\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    defaultValue: time,\n                }\n            ];\n        }\n\n        this.setState({ inputs }, () => super.onTagChange());\n    }\n\n    async _setInterval(interval) {\n        interval = parseInt(interval || this.state.settings.interval, 10) || 30;\n        let options;\n        if (interval === 1) {\n            options = [\n                { value: 's', title: 'second' },\n                { value: 'm', title: 'minute' },\n                { value: 'h', title: 'hour' },\n            ];\n        } else {\n            options = [\n                { value: 's', title: 'seconds' },\n                { value: 'm', title: 'minutes' },\n                { value: 'h', title: 'hours' },\n            ];\n        }\n\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNumber',\n                    prefix: {\n                        en: 'every',\n                    },\n                    attr: 'interval',\n                    frontText: 'every',\n                    defaultValue: 30,\n                    className: 'block-input-interval',\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'unit',\n                    defaultValue: 's',\n                    options,\n                }\n            ]\n        }, () => super.onTagChange());\n    }\n\n    renderDebug(debugMessage) {\n        return I18n.t('Triggered');\n    }\n\n    onValueChanged(value, attr) {\n        if (this.state.settings.tagCard === 'astro') {\n            if (attr === 'astro') {\n                this._setAstro(value);\n            } else if (attr === 'offset') {\n                this._setAstro(undefined, value);\n            } else if (attr === 'offsetValue') {\n                this._setAstro(undefined, undefined, value);\n            }\n        } else if (this.state.settings.tagCard === 'interval') {\n            if (attr === 'interval') {\n                this._setInterval(value);\n            }\n        }\n    }\n\n    renderCron(input, value, onChange) {\n        const { className } = this.props;\n        let textCron = '';\n        const { settings } = this.state;\n        const { attr } = input;\n        return <div key={attr}>\n            <div style={{ display: 'flex', alignItems: 'baseline' }}>\n                <div style={{ width: '100%' }}>\n                    {this.renderText({\n                        attr: attr,\n                        defaultValue: value\n                    }, !!settings[attr] ? settings[attr] : value, onChange)}\n                </div>\n                <CustomButton\n                    square\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openDialog: true })}\n                />\n            </div>\n            <CustomModal\n                open={this.state.openDialog}\n                onApply={async () => {\n                    await onChange(textCron, attr);\n                    await onChange(convertCronToText(textCron, I18n.getLanguage()), 'addText');\n                    this.setState({ openDialog: false });\n                }}\n                onClose={() => this.setState({ openDialog: false })}>\n                <ComplexCron\n                    cronExpression={!!settings[attr] ? settings[attr] : ''}\n                    onChange={el => textCron = el}\n                    language={I18n.getLanguage()}\n                />\n            </CustomModal>\n            {this.renderNameText({\n                defaultValue: I18n.t('every hour at 0 minutes'),\n                attr: 'addText',\n                signature: true,\n                doNotTranslate: true,\n            }, !!settings['addText'] ? settings['addText'] : I18n.t('every hour at 0 minutes'), onChange)}\n        </div>;\n    }\n\n    renderWizard(input, value, onChange) {\n        const { className } = this.props;\n        const { attr } = input;\n        let wizardText = '';\n        let wizard = null;\n\n        return <div key={attr}>\n            <div style={{ display: 'flex', alignItems: 'center', marginTop: 7 }}>\n                <CustomInput\n                    className={className}\n                    autoComplete=\"off\"\n                    fullWidth\n                    // disabled\n                    variant=\"outlined\"\n                    size=\"small\"\n                    multiline\n                    rows={2}\n                    value={this.state.settings[`${attr}Text`]}\n                    onChange={(el) => onChange(el)}\n                    customValue\n                />\n                <CustomButton\n                    square\n                    style={{ marginLeft: 7 }}\n                    value='...'\n                    className={className}\n                    onClick={() => this.setState({ openDialog: true })}\n                />\n            </div>\n            <CustomModal\n                open={this.state.openDialog}\n                onApply={() =>\n                    this.setState({ openDialog: false }, () =>\n                        onChange({\n                            [`${attr}Text`]: wizardText,\n                            [attr]: wizard,\n                        }))}\n                onClose={() => this.setState({ openDialog: false })}>\n                <Schedule onChange={(val, text) => {\n                    wizardText = text;\n                    wizard = typeof val === 'object' ? JSON.parse(JSON.stringify(val)) : JSON.parse(val);\n                    wizard.valid = wizard.valid || {};\n                    wizard.valid.from = wizard.valid.from || Schedule.now2string();\n                    wizard = JSON.stringify(wizard);\n                }} />\n            </CustomModal>\n        </div>;\n    }\n\n    onTagChange(tagCard) {\n        tagCard = tagCard || this.state.settings.tagCard;\n        switch (tagCard) {\n            case 'interval':\n                this._setInterval();\n                break;\n\n            case 'cron':\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderCron',\n                            attr: 'cron',\n                            defaultValue: '0 * * * *',\n                        }\n                    ]\n                }, () => super.onTagChange());\n                break;\n\n            case 'wizard':\n                const wizard = JSON.parse(DEFAULT_WIZARD);\n                wizard.valid = wizard.valid || {};\n                wizard.valid.from = wizard.valid.from || Schedule.now2string();\n\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderWizard',\n                            attr: 'wizard',\n                            defaultValue: JSON.stringify(wizard),\n                        },\n                    ],\n                }, () => super.onTagChange(null, () => {\n                    const wizardText = Schedule.state2text(this.state.settings.wizard || wizard);\n                    if (this.state.settings.wizardText !== wizardText) {\n                        const settings = JSON.parse(JSON.stringify(this.state.settings));\n                        settings.wizardText = wizardText;\n                        this.setState({ settings });\n                        this.props.onChange(settings);\n                    }\n                }));\n                break;\n\n            case 'at':\n                this.setState({\n                    inputs: [\n                        {\n                            nameRender: 'renderTime',\n                            prefix: 'at',\n                            attr: 'at',\n                            defaultValue: '07:30',\n                        },\n                        {\n                            nameRender: 'renderSelect',\n                            attr: 'dow',\n                            default: '',\n                            multiple: true,\n                            defaultValue: ['_', '1', '2', '3', '4', '5', '6', '0'],\n                            options: [\n                                { value: '_', title: 'Every day', only: true },\n                                { value: '1', title: 'Monday', titleShort: 'Mo' },\n                                { value: '2', title: 'Tuesday', titleShort: 'Tu' },\n                                { value: '3', title: 'Wednesday', titleShort: 'We' },\n                                { value: '4', title: 'Thursday', titleShort: 'Th' },\n                                { value: '5', title: 'Friday', titleShort: 'Fr' },\n                                { value: '6', title: 'Saturday', titleShort: 'Sa' },\n                                { value: '0', title: 'Sunday', titleShort: 'Su' },\n                            ]\n                        }\n                    ]\n                }, () => super.onTagChange());\n                break;\n\n            case 'astro':\n                this._setAstro();\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: 'Schedule',\n            id: 'TriggerScheduleBlock',\n            icon: 'AccessTime',\n            tagCardArray: ['cron', 'wizard', 'interval', 'at', 'astro'],\n            title: 'Triggers the rule periodically or on some specific time',\n        }\n    }\n\n    getData() {\n        return TriggerScheduleBlock.getStaticData();\n    }\n}\n\nexport default TriggerScheduleBlock;\n","import React from 'react';\nimport withStyles from '@mui/styles/withStyles';\n\nimport GenericBlock from '../GenericBlock';\nimport Compile from '../../helpers/Compile';\nimport Button from '@mui/material/Button';\nimport Switch from '@mui/material/Switch';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport TextField from '@mui/material/TextField';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Slide from '@mui/material/Slide';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\n\nimport { MdCancel as IconCancel } from 'react-icons/md';\nimport { MdCheck as IconCheck } from 'react-icons/md';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst styles = theme => ({\n    valueAck: {\n        color: '#b02323',\n    },\n    valueNotAck: {\n        color: '#12ac15',\n    },\n});\n\nconst Transition = React.forwardRef((props, ref) =>\n    <Slide direction=\"up\" ref={ref} {...props} />);\n\nclass TriggerState extends GenericBlock {\n    constructor(props) {\n        super(props, TriggerState.getStaticData());\n        this.inputRef = React.createRef();\n    }\n\n    static compile(config, context) {\n        let func = context.justCheck ? Compile.STANDARD_FUNCTION_STATE : Compile.STANDARD_FUNCTION_STATE_ONCHANGE;\n        func = func.replace('\"__%%DEBUG_TRIGGER%%__\"', `_sendToFrontEnd(${config._id}, {val: obj.state.val, ack: obj.state.ack, valOld: obj.oldState && obj.oldState.val, ackOld: obj.oldState && obj.oldState.ack})`);\n        return `on({id: \"${config.oid || ''}\", change: \"${config.tagCard === 'on update' ? 'any' : 'ne'}\"}, ${func});`\n    }\n\n    static renderValue(val) {\n        if (val === null) {\n            return 'null';\n        } else if (val === undefined) {\n            return 'undefined';\n        } else if (Array.isArray(val)) {\n            return val.join(', ');\n        } else if (typeof val === 'object') {\n            return JSON.stringify(val);\n        } else {\n            return val.toString();\n        }\n    }\n\n    renderDebug(debugMessage) {\n        if (debugMessage.data.valOld !== undefined) {\n            return <span>{I18n.t('Triggered')} <span className={debugMessage.data.ackOld ? this.props.classes.valueAck : this.props.classes.valueNotAck}>{TriggerState.renderValue(debugMessage.data.valOld)}</span>  <span className={debugMessage.data.ack ? this.props.classes.valueAck : this.props.classes.valueNotAck}>{TriggerState.renderValue(debugMessage.data.val)}</span></span>;\n        } else {\n            return <span>{I18n.t('Triggered')} <span className={debugMessage.data.ack ? this.props.classes.valueAck : this.props.classes.valueNotAck}>{TriggerState.renderValue(debugMessage.data.val)}</span></span>;\n        }\n    }\n\n    onWriteValue() {\n        this.setState({openSimulate: false});\n        let simulateValue = this.state.simulateValue;\n        window.localStorage.setItem(`javascript.app.${this.state.settings.oid}_ack`, this.state.simulateAck);\n\n        if (this.state.settings.oidType === 'boolean') {\n            simulateValue = simulateValue === true || simulateValue === 'true' || simulateValue === '1';\n        } else if (this.state.settings.oidType === 'number') {\n            simulateValue = parseFloat(simulateValue) || 0;\n        }\n\n        window.localStorage.setItem(`javascript.app.${this.state.settings.oid}`, simulateValue);\n        this.props.socket.setState(this.state.settings.oid, { val: simulateValue, ack: !!this.state.simulateAck });\n    }\n\n    renderWriteState() {\n        return <>\n            <Button\n                disabled={!this.state.settings.oid || !this.state.enableSimulation}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                    this.setState({\n                        openSimulate: true,\n                        simulateValue: this.state.settings.oidType === 'boolean' ?\n                            window.localStorage.getItem(`javascript.app.${this.state.settings.oid}`) === 'true' :\n                            (window.localStorage.getItem(`javascript.app.${this.state.settings.oid}`) || ''),\n                        simulateAck: window.localStorage.getItem(`javascript.app.${this.state.settings.oid}_ack`) === 'true'\n                    });\n                    setTimeout(() => this.inputRef.current?.focus(), 200);\n                }}>{I18n.t('Simulate')}</Button>\n            <Dialog\n                open={!!this.state.openSimulate}\n                TransitionComponent={Transition}\n                keepMounted\n                onClose={() => this.setState({ openSimulate: false })}\n                aria-labelledby=\"simulate-dialog-slide-title\"\n                aria-describedby=\"simulate-dialog-slide-description\"\n            >\n                <DialogTitle id=\"simulate-dialog-slide-title\">{I18n.t('Trigger with value')}</DialogTitle>\n                <DialogContent>\n                    {this.state.settings.oidType === 'boolean' ?\n                        <FormControlLabel\n                            control={<Switch\n                                inputRef={this.inputRef}\n                                onKeyUp={e => e.keyCode === 13 && this.onWriteValue()}\n                                value={!!this.state.simulateValue}\n                                onChange={e => this.setState({ simulateValue: e.target.checked })}\n                            />}\n                            label={I18n.t('Value')}\n                        />\n                        : <TextField\n                            variant=\"standard\"\n                            inputRef={this.inputRef}\n                            label={I18n.t('Value')}\n                            fullWidth\n                            onKeyUp={e => e.keyCode === 13 && this.onWriteValue()}\n                            value={this.state.simulateValue}\n                            onChange={e => this.setState({ simulateValue: e.target.value })}\n                        />\n                    }\n                    <br/>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={!!this.state.simulateAck}\n                                onChange={e => this.setState({ simulateAck: e.target.checked })}\n                                color=\"primary\"\n                            />\n                        }\n                        label={I18n.t('Ack')}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        variant=\"contained\"\n                        onClick={() => this.onWriteValue()}\n                        color=\"primary\">\n                        <IconCheck />{I18n.t('Write')}\n                    </Button>\n                    <Button color=\"grey\"\n                        variant=\"contained\"\n                        onClick={() => this.setState({ openSimulate: false })}\n                    >\n                        <IconCancel />{I18n.t('Close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: '',\n                },\n                {\n                    nameRender: 'renderWriteState',\n                },\n            ]\n        }, () => {\n            super.onTagChange();\n        });\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'triggers',\n            name: 'State',\n            id: 'TriggerState',\n            icon: 'FlashOn',\n            tagCardArray: ['on change', 'on update'],\n            title: 'Triggers the rule on update or change of some state', // translate\n        }\n    }\n\n    getData() {\n        return TriggerState.getStaticData();\n    }\n}\nexport default withStyles(styles)(TriggerState);\n","import React from 'react';\n\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogActions from '@mui/material/DialogActions';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nimport GenericBlock from '../GenericBlock';\n\nimport HysteresisImage from '../../../assets/hysteresis.png';\n\nconst HYSTERESIS = `function __hysteresis(val, limit, state, hist, comp) {\n    let cond1, cond2;\n    if (comp === '>') {\n        cond1 = val > limit + hist;\n        cond2 = val <= limit - hist;\n    } else if (comp === '<') {\n        cond1 = val < limit - hist;\n        cond2 = val >= limit + hist;\n    } else if (comp === '>=') {\n        cond1 = val >= limit + hist;\n        cond2 = val < limit - hist;\n    } else if (comp === '<=') {\n        cond1 = val <= limit - hist;\n        cond2 = val > limit + hist;\n    } else if (comp === '=') {\n        cond1 = val <= limit + hist && val > limit - hist;\n        cond2 = val > limit + hist || val <= limit - hist;\n    } else if (comp === '<>') {\n        cond1 = val > limit + hist || val <= limit - hist;\n        cond2 = val <= limit + hist && val > limit - hist;\n    }\n     \n    if (!state && cond1) {\n        return true;\n    } else if (state && cond2) {\n        return false;\n    } else {\n        return state;\n    }\n}`;\n\nclass ConditionState extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionState.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (value === null || value === undefined) {\n            value = false;\n        }\n        let debugValue = '';\n\n        let result;\n        if (config.tagCard === '()') {\n            context.prelines =  context.prelines || [];\n            !context.prelines.find(item => item !== HYSTERESIS) && context.prelines.push(HYSTERESIS);\n            if (config.useTrigger) {\n                debugValue = 'obj.state.val';\n                if (value === '') {\n                    value = 0;\n                }\n                result = `__hysteresis(subCondVar${config._id}, ${value}, __%%STATE%%__, ${config.hist}, \"${config.histComp}\")`;\n            } else {\n                debugValue = `(await getStateAsync(\"${config.oid}\")).val`;\n                if (value === '') {\n                    value = 0;\n                }\n                if (typeof value === 'string' && parseFloat(value.trim()).toString() !== value.trim()) {\n                    value = `\"${value}\"`;\n                }\n\n                result = `__hysteresis(subCondVar${config._id}, ${value}, __%%STATE%%__, ${config.hist}, \"${config.histComp}\")`;\n            }\n        } else\n        if (config.tagCard !== 'includes') {\n            const compare = config.tagCard === '=' ? '==' : (config.tagCard === '<>' ? '!=' : config.tagCard);\n            if (config.useTrigger) {\n                debugValue = 'obj.state.val';\n                if (context?.trigger?.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `subCondVar${config._id} ${compare} \"${value}\"`;\n                } else {\n                    if (value === '') {\n                        value = 0;\n                    }\n                    if (typeof value === 'string' && parseFloat(value.trim()).toString() !== value.trim()) {\n                        value = `\"${value}\"`;\n                    }\n                    result = `subCondVar${config._id} ${compare} ${value}`;\n                }\n            } else {\n                debugValue = `(await getStateAsync(\"${config.oid}\")).val`;\n                if (config.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `subCondVar${config._id} ${compare} \"${value}\"`;\n                } else {\n                    if (value === '') {\n                        value = 0;\n                    }\n                    if (typeof value === 'string' && parseFloat(value.trim()).toString() !== value.trim()) {\n                        value = `\"${value}\"`;\n                    }\n                    result = `subCondVar${config._id} ${compare} ${value}`;\n                }\n            }\n        } else {\n            if (config.useTrigger) {\n                debugValue = 'obj.state.val';\n                if (context?.trigger?.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `obj.state.val.includes(\"${value}\")`;\n                } else {\n                    result = `false`;\n                }\n            } else {\n                debugValue = `(await getStateAsync(\"${config.oid}\")).val`;\n                if (config.oidType === 'string') {\n                    value = value.replace(/\"/g, '\\\\\"');\n                    result = `subCondVar${config._id}.includes(\"${value}\")`;\n                } else {\n                    result = `false`;\n                }\n            }\n        }\n        context.conditionsStates.push({ name: `subCondVar${config._id}`, id: config.oid });\n        context.conditionsVars.push(`const subCondVar${config._id} = ${debugValue};`);\n        context.conditionsVars.push(`const subCond${config._id} = ${result};`);\n        context.conditionsDebug.push(`_sendToFrontEnd(${config._id}, {result: subCond${config._id}, value: subCondVar${config._id}, compareWith: \"${value}\"});`);\n        return `subCond${config._id}`;\n    }\n\n    renderDebug(debugMessage) {\n        const condition = this.state.settings.tagCard;\n        if (condition === '()') {\n            // TODO\n        } else {\n            return `${debugMessage.data.result.toString().toUpperCase()} [${debugMessage.data.value} ${condition} ${debugMessage.data.compareWith}]`;\n        }\n\n        return I18n.t('Triggered');\n    }\n\n    onShowHelp = () => this.setState({showHysteresisHelp: true});\n\n    _setInputs(useTrigger, tagCard, oidType, oidUnit, oidStates) {\n        const isAllTriggersOnState = this.isAllTriggersOnState();\n\n        tagCard   = tagCard   || this.state.settings.tagCard;\n        oidType   = oidType   || this.state.settings.oidType;\n        oidUnit   = oidUnit   || this.state.settings.oidUnit;\n        oidStates = oidStates || this.state.settings.oidStates;\n\n        if (isAllTriggersOnState && useTrigger && this.props.userRules?.triggers?.length === 1) {\n            oidType   = this.props.userRules.triggers[0].oidType;\n            oidUnit   = this.props.userRules.triggers[0].oidUnit;\n            oidStates = this.props.userRules.triggers[0].oidStates;\n        }\n\n        const _tagCardArray = ConditionState.getStaticData().tagCardArray;\n        const tag = _tagCardArray.find(item => item.title === tagCard);\n        let tagCardArray;\n        let options = null;\n\n        if (oidType === 'number') {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to',\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal',\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than',\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal',\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than',\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to',\n                },\n                {\n                    title: '()',\n                    title2: '[hysteresis]',\n                    text: 'hysteresis',\n                },\n            ];\n\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val => ({ value: val, title: oidStates[val] }));\n            }\n        } else if (oidType === 'boolean') {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to',\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to',\n                }\n            ];\n            options = [\n                { title: 'false', value: false },\n                { title: 'true', value: true },\n            ];\n        } else {\n            tagCardArray = [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to',\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal',\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than',\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal',\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than',\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to',\n                },\n                {\n                    title: '.',\n                    title2: '[includes]',\n                    text: 'includes',\n                }\n            ];\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val => ({ value: val, title: oidStates[val] }));\n            }\n        }\n\n        let settings = null;\n        if (!tagCardArray.find(item => item.title === tagCard)) {\n            tagCard = tagCardArray[0].title;\n            settings = settings || { ...this.state.settings };\n            settings.tagCard = tagCard;\n        }\n\n        let inputs;\n        let renderText = {\n            nameRender: 'renderText',\n            defaultValue: '',\n            attr: 'value',\n            frontText: tagCard === '()' ? 'Limit' : (tag?.text || 'compare with'),\n            doNotTranslateBack: true,\n            backText: oidUnit,\n        };\n\n        if (options) {\n            renderText = {\n                nameRender: 'renderSelect',\n                defaultValue: options[0].value,\n                options,\n                attr: 'value',\n                frontText: tag?.text || 'compare with',\n                doNotTranslateBack: true,\n                backText: oidUnit,\n            };\n            if (!options.find(item => item.value === this.state.settings.value)) {\n                settings = settings || { ...this.state.settings };\n                settings.value = options[0].value;\n            }\n            if (options.length <= 2) {\n                tagCardArray = [\n                    {\n                        title: '=',\n                        title2: '[equal]',\n                        text: 'equal to',\n                    },\n                    {\n                        title: '<>',\n                        title2: '[not equal]',\n                        text: 'not equal to',\n                    }\n                ];\n            }\n        }\n\n        if (isAllTriggersOnState && useTrigger) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                    defaultValue: false,\n                },\n                renderText,\n            ];\n        } else if (isAllTriggersOnState) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                },\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: '',\n                },\n                renderText,\n            ];\n        } else {\n            inputs = [\n                {\n                    nameRender: 'renderObjectID',\n                    attr: 'oid',\n                    defaultValue: '',\n                },\n                renderText,\n            ];\n        }\n\n        if (tagCard === '()') {\n            inputs.splice(1, 0, {\n                nameRender: 'renderDialog',\n                icon: 'HelpOutline',\n                frontText: 'Explanation',\n                onShowDialog: this.onShowHelp,\n            });\n            inputs.splice(2, 0, {\n                nameRender: 'renderSelect',\n                attr: 'histComp',\n                defaultValue: '>',\n                frontText: 'Condition',\n                doNotTranslate: true,\n                options: [\n                    { title: '>',  value: '>' },\n                    { title: '>=', value: '>=' },\n                    { title: '<',  value: '<' },\n                    { title: '<=', value: '<=' },\n                    { title: '=',  value: '=' },\n                    { title: '<>', value: '<>' },\n                ]\n            });\n            inputs.push({\n                frontText: '',\n                doNotTranslate: true,\n                nameRender: 'renderNumber',\n                noHelperText: true,\n                attr: 'hist',\n                defaultValue: 1,\n                doNotTranslateBack: true,\n                backText: oidUnit,\n            });\n        }\n\n        const state = {\n            iconTag: true,\n            tagCardArray,\n            inputs,\n        };\n\n        this.setState(state,() =>\n            super.onTagChange(null, () => {\n                if (settings) {\n                    this.setState({settings});\n                    this.props.onChange(settings);\n                }\n            }));\n    }\n\n    onValueChanged(value, attr, context) {\n        if (typeof value === 'object') {\n            this._setInputs(value.useTrigger, value.tagCard, value.oidType, value.states);\n        } else {\n            if (attr === 'useTrigger') {\n                this._setInputs(value);\n            } else if (attr === 'oidType') {\n                this._setInputs(value, undefined, value);\n            } else if (attr === 'oidUnit') {\n                this._setInputs(value, undefined, undefined, value);\n            } else if (attr === 'oidStates') {\n                this._setInputs(value, undefined, undefined, undefined, value);\n            }\n        }\n    }\n\n    onUpdate() {\n        this._setInputs(this.state.settings.useTrigger);\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs(this.state.settings.useTrigger, tagCard);\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: 'State condition',\n            id: 'ConditionState',\n            icon: 'Shuffle',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to',\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal',\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than',\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal',\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than',\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to',\n                },\n                {\n                    title: '.',\n                    title2: '[includes]',\n                    text: 'includes',\n                },\n                {\n                    title: '()',\n                    title2: '[hysteresis]',\n                    text: 'hysteresis',\n                }\n            ],\n            title: 'Compares the state value with user defined value',\n        }\n    }\n\n    getData() {\n        return ConditionState.getStaticData();\n    }\n\n    renderSpecific() {\n        if (this.state.showHysteresisHelp) {\n            return <Dialog\n                open={!0}\n                maxWidth=\"md\"\n                onClose={() => this.setState({ showHysteresisHelp: false })}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        <img src={HysteresisImage} alt=\"Hysteresis\"/>\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => this.setState({ showHysteresisHelp: false })} color=\"primary\" autoFocus>\n                        {I18n.t('OK')}\n                    </Button>\n                </DialogActions>\n            </Dialog>;\n        } else {\n            return null;\n        }\n    }\n}\n\nexport default ConditionState;\n","import GenericBlock from '../GenericBlock';\n\nconst DAYS = [\n    31, // 1\n    29, // 2\n    31, // 3\n    30, // 4\n    31, // 5\n    30, // 6\n    31, // 7\n    31, // 8\n    30, // 9\n    31, // 10\n    30, // 11\n    31, // 12\n];\n\nclass ConditionTime extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionTime.getStaticData());\n    }\n\n    static compile(config, context) {\n        const compare = config.tagCard === '=' ? '===' : (config.tagCard === '<>' ? '!==' : config.tagCard);\n        let cond;\n\n        if (config.withDate) {\n            let [month, date] = (config.date || '01.01').toString().split('.');\n            date = parseInt(date, 10) || 0;\n            month = parseInt(month, 10) || 0;\n            if (month > 12) {\n                month = 12;\n            } else if (month < 0) {\n                month = 0;\n            }\n\n            if (date > DAYS[month]) {\n                date = DAYS[month];\n            } else if (date < 0) {\n                date = 0;\n            }\n            if (date && month) {\n                cond = `formatDate(Date.now(), 'MM.DD-hh:mm') ${compare} \"${config.date}-${config.time}\"`;\n            } else if (date === 0 && month) {\n                cond = `formatDate(Date.now(), 'MM-hh:mm') ${compare} \"${month.toString().padStart(2, '0')}-${config.time}\"`;\n            } else if (month === 0 && date) {\n                cond = `formatDate(Date.now(), 'DD-hh:mm') ${compare} \"${date.toString().padStart(2, '0')}-${config.time}\"`;\n            } else {\n                cond = `formatDate(Date.now(), 'hh:mm') ${compare} \"${config.time}\"`;\n            }\n        } else {\n            cond = `formatDate(Date.now(), 'hh:mm') ${compare} \"${config.time}\"`;\n        }\n        context.conditionsVars.push(`const subCond${config._id} = ${cond};`);\n        context.conditionsDebug.push(`_sendToFrontEnd(${config._id}, {result: subCond${config._id}});`);\n        return `subCond${config._id}`;\n    }\n\n    _setInputs(tagCard, withDate, ) {\n        withDate = withDate === undefined ? this.state.settings.withDate : withDate;\n        tagCard = tagCard || this.state.settings.tagCard;\n        const tagCardArray = ConditionTime.getStaticData().tagCardArray;\n        const tag = tagCardArray.find(item => item.title === tagCard);\n        const inputs = [\n            {\n                nameRender: 'renderNameText',\n                attr: 'interval',\n                defaultValue: 'Actual time of day',\n            },\n            {\n                frontText: tag?.text || tagCard,\n                nameRender: 'renderTime',\n                attr: 'time',\n                defaultValue: '12:00',\n            },\n            {\n                frontText: 'with date',\n                nameRender: 'renderCheckbox',\n                attr: 'withDate',\n                defaultValue: false,\n            }\n        ];\n        if (withDate) {\n            inputs.push({\n                nameRender: 'renderDate',\n                attr: 'date',\n                defaultValue: '01.01',\n            });\n        }\n        this.setState({\n            inputs,\n            iconTag:true\n        }, () => super.onTagChange());\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'withDate') {\n            this._setInputs(undefined, value);\n        }\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs(tagCard);\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: 'Time condition',\n            id: 'ConditionTime',\n            icon: 'Shuffle',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to',\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal',\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than',\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal',\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than',\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to',\n                }\n            ],\n            title: 'Compares current time with the user specific time',\n        }\n    }\n\n    getData() {\n        return ConditionTime.getStaticData();\n    }\n}\n\nexport default ConditionTime;\n","import GenericBlock from '../GenericBlock';\nimport SunCalc from 'suncalc2';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nclass ConditionAstronomical extends GenericBlock {\n    constructor(props) {\n        super(props, ConditionAstronomical.getStaticData());\n        this.coordinates = null;\n    }\n\n    static compile(config, context) {\n        const compare = config.tagCard === '=' ? '===' : (config.tagCard === '<>' ? '!==' : config.tagCard);\n        let offset;\n        if (config.offset) {\n            offset = parseInt(config.offsetValue, 10) || 0;\n        }\n        const cond = `formatDate(Date.now(), 'hh:mm') ${compare} formatDate(getAstroDate(\"${config.astro}\"${offset ? `, undefined, ${offset}` : ''}), 'hh:mm')`;\n        context.conditionsVars.push(`const subCond${config._id} = ${cond};`);\n        context.conditionsDebug.push(`_sendToFrontEnd(${config._id}, {result: ${cond}});`);\n        return cond;\n    }\n\n    static _time2String(time) {\n        if (!time) {\n            return '--:--';\n        }\n        return `${time.getHours().toString().padStart(2, '0')}:${time.getMinutes().toString().padStart(2, '0')}`;\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'astro') {\n            this._setAstro(value);\n        } else if (attr === 'offset') {\n            this._setAstro(undefined, value);\n        } else if (attr === 'offsetValue') {\n            this._setAstro(undefined, undefined, value);\n        }\n    }\n\n    async _setAstro(astro, offset, offsetValue) {\n        astro = astro || this.state.settings.astro || 'solarNoon';\n        offset = offset === undefined ? this.state.settings.offset : offset;\n        offsetValue = offsetValue === undefined ? this.state.settings.offsetValue : offsetValue;\n\n        offsetValue = parseInt(offsetValue, 10) || 0;\n        if (!this.coordinates) {\n            await this.props.socket.getObject('system.adapter.javascript.0')\n                .then(({ native: { latitude, longitude } }) => {\n                    if (!latitude && !longitude) {\n                        return this.props.socket.getObject('system.config')\n                            .then(obj => {\n                                if (obj && (obj.common.latitude || obj.common.longitude)) {\n                                    this.coordinates = {\n                                        latitude: obj.common.latitude,\n                                        longitude: obj.common.longitude,\n                                    }\n                                } else {\n                                    this.coordinates = null;\n                                }\n                            });\n                    } else {\n                        this.coordinates = {\n                            latitude,\n                            longitude,\n                        };\n                    }\n                });\n        }\n        const sunValue = this.coordinates && SunCalc.getTimes(new Date(), this.coordinates.latitude, this.coordinates.longitude);\n        const options = sunValue ? Object.keys(sunValue).map(name => ({\n            value: name,\n            title: name,\n            title2: `[${ConditionAstronomical._time2String(sunValue[name])}]`,\n            order: ConditionAstronomical._time2String(sunValue[name]),\n        })) : [];\n        options.sort((a, b) => a.order > b.order ? 1 : (a.order < b.order ? -1 : 0));\n\n        // calculate time text\n        const tagCardArray = ConditionAstronomical.getStaticData().tagCardArray;\n        const tag = tagCardArray.find(item => item.title === this.state.settings.tagCard);\n\n        let time = '--:--';\n        if (astro && sunValue && sunValue[astro]) {\n            const astroTime = new Date(sunValue[astro]);\n            offset && astroTime.setMinutes(astroTime.getMinutes() + parseInt(offsetValue, 10));\n            time = `(${I18n.t(tag.text)} ${ConditionAstronomical._time2String(astroTime)})`;\n        }\n\n        let inputs;\n\n        if (offset) {\n            inputs = [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Actual time of day',\n                    attr: 'text',\n                },\n                {\n                    frontText: tag.text,\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    doNotTranslate2: true,\n                    defaultValue: 'solarNoon',\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    backText: offsetValue === 1 ? 'minute' : 'minutes',\n                    frontText: 'offset',\n                    nameRender: 'renderNumber',\n                    defaultValue: 0,\n                    attr: 'offsetValue',\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    doNotTranslate: true,\n                    defaultValue: time,\n                },\n            ];\n        } else {\n            inputs = [\n                {\n                    nameRender: 'renderNameText',\n                    defaultValue: 'Actual time of day',\n                    attr: 'text',\n                },\n                {\n                    frontText: tag.text,\n                    attr: 'astro',\n                    nameRender: 'renderSelect',\n                    options,\n                    doNotTranslate2: true,\n                    defaultValue: 'solarNoon',\n                },\n                {\n                    backText: 'with offset',\n                    nameRender: 'renderCheckbox',\n                    attr: 'offset',\n                },\n                {\n                    nameRender: 'renderNameText',\n                    attr: 'textTime',\n                    doNotTranslate: true,\n                    defaultValue: time,\n                },\n            ];\n        }\n\n        this.setState({ inputs }, () => super.onTagChange());\n    }\n\n    onTagChange(tagCard) {\n        this._setAstro();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'conditions',\n            name: 'Astronomical',\n            id: 'ConditionAstronomical',\n            icon: 'Brightness3',\n            tagCardArray: [\n                {\n                    title: '=',\n                    title2: '[equal]',\n                    text: 'equal to',\n                },\n                {\n                    title: '>=',\n                    title2: '[greater or equal]',\n                    text: 'greater or equal to',\n                },\n                {\n                    title: '>',\n                    title2: '[greater]',\n                    text: 'greater than',\n                },\n                {\n                    title: '<=',\n                    title2: '[less or equal]',\n                    text: 'less or equal to',\n                },\n                {\n                    title: '<',\n                    title2: '[less]',\n                    text: 'less than',\n                },\n                {\n                    title: '<>',\n                    title2: '[not equal]',\n                    text: 'not equal to',\n                },\n            ],\n            title: 'Compares current time with astronomical event',\n        }\n    }\n\n    getData() {\n        return ConditionAstronomical.getStaticData();\n    }\n}\n\nexport default ConditionAstronomical;\n","import GenericBlock from '../GenericBlock';\nimport withStyles from '@mui/styles/withStyles';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst styles = theme => ({\n    valueAck: {\n        color: '#b02323',\n    },\n    valueNotAck: {\n        color: '#12ac15',\n    },\n});\n\nclass ActionSetState extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSetState.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (config.useTrigger) {\n            value = config.toggle ? '!obj.state.val' : 'obj.state.val';\n        } else {\n            if (value === undefined || value === null) {\n                value = '';\n            }\n\n            if (typeof config.value === 'string' &&\n                parseFloat(config.value).toString() !== config.value &&\n                config.value !== 'true' &&\n                config.value !== 'false'\n            ) {\n                value = `\"${value.replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)}`;\n            }\n        }\n        let v;\n\n        if (config.toggle && !config.useTrigger) {\n            v = `const subActionVar${config._id} = !(await getStateAsync(\"${config.oid}\")).val`;\n        } else {\n            v = `const subActionVar${config._id} = ${value}`;\n        }\n        return `// set state ${config.oid} to ${config.toggle && !config.useTrigger ? 'toggle' : value} \n\\t\\t${v};\n\\t\\t_sendToFrontEnd(${config._id}, {val: subActionVar${config._id}, ack: ${config.tagCard === 'update'}});\n\\t\\tawait setStateAsync(\"${config.oid}\", subActionVar${config._id}, ${config.tagCard === 'update'});`;\n    }\n\n    static renderValue(val) {\n        if (val === null) {\n            return 'null';\n        } else if (val === undefined) {\n            return 'undefined';\n        } else if (Array.isArray(val)) {\n            return val.join(', ');\n        } else if (typeof val === 'object') {\n            return JSON.stringify(val);\n        } else {\n            return val.toString();\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return <span>{I18n.t('Set:')} <span className={debugMessage.data.ack ? this.props.classes.valueAck : this.props.classes.valueNotAck}>{ActionSetState.renderValue(debugMessage.data.val)}</span></span>;\n    }\n\n    _setInputs(useTrigger, toggle) {\n        const isAllTriggersOnState = this.isAllTriggersOnState();\n\n        toggle     = toggle     === undefined ? this.state.settings.toggle     : toggle;\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        let type = '';\n        let options;\n        const {oidType, oidUnit, oidStates, oidMax, oidMin, oidRole, oidWrite, oidStep} = this.state.settings;\n        let settings;\n\n        if (oidType) {\n            if (oidType === 'number') {\n                type = 'number';\n                if (oidMax !== undefined && oidMin !== undefined) {\n                    type = 'slider';\n                }\n            } else if (oidType === 'boolean') {\n                type = 'boolean';\n                if (oidRole && oidRole.includes('button') && oidWrite) {\n                    type = 'button';\n                }\n            } else {\n                type = '';\n                if (oidRole && oidRole.includes('color')) {\n                    type = 'color';\n                }\n            }\n\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val => ({ value: val, title: oidStates[val] }));\n                type = 'select';\n            }\n        }\n\n        let inputs;\n        if (isAllTriggersOnState && useTrigger) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                    defaultValue: false,\n                },\n            ];\n            if (type === 'boolean') {\n                inputs.push({\n                    backText: 'toggle value',\n                    attr: 'toggle',\n                    nameRender: 'renderCheckbox',\n                    defaultValue: false,\n                });\n            }\n        } else {\n            switch (type) {\n                case 'number':\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderNumber',\n                        defaultValue: oidMax === undefined ? 0 : oidMax,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && isNaN(parseFloat(this.state.settings.value))) {\n                        settings = { value: oidMax === undefined ? 0 : oidMax };\n                    }\n                    break;\n\n                case 'slider':\n                    inputs = [{\n                        nameRender: 'renderSlider',\n                        defaultValue: oidMax,\n                        min: oidMin,\n                        max: oidMax,\n                        unit: oidUnit,\n                        step: oidStep,\n                        attr: 'value'\n                    }];\n                    const f = parseFloat(this.state.settings.value);\n                    if (this.state.settings.value !== undefined &&\n                        (isNaN(f) || f < oidMin || f > oidMax)\n                    ) {\n                        settings = { value: oidMax };\n                    }\n                    break;\n\n                case 'select':\n                    inputs = [{\n                        nameRender: 'renderSelect',\n                        frontText: 'with',\n                        options,\n                        defaultValue: options[0].value,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && !options.find(item => item.value === this.state.settings.value)) {\n                        settings = { value: options[0].value };\n                    }\n                    break;\n\n                case 'boolean':\n                    inputs = [\n                        {\n                            backText: 'toggle value',\n                            attr: 'toggle',\n                            nameRender: 'renderCheckbox',\n                            defaultValue: false,\n                        }\n                    ];\n                    if (!toggle) {\n                        inputs.push({\n                            backText: 'true',\n                            frontText: 'false',\n                            nameRender: 'renderSwitch',\n                            defaultValue: false,\n                            attr: 'value'\n                        });\n                    }\n\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== false && this.state.settings.value !== true) {\n                        settings = { value: false };\n                    }\n                    break;\n\n                case 'button':\n                    inputs = [{\n                        nameRender: 'renderButton',\n                        defaultValue: true,\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== true) {\n                        settings = { value: true };\n                    }\n                    break;\n\n                case 'color':\n                    inputs = [{\n                        nameRender: 'renderColor',\n                        frontText: 'with',\n                        defaultValue: '#FFFFFF',\n                        attr: 'value'\n                    }];\n                    if (this.state.settings.value !== undefined &&\n                        (\n                            typeof this.state.settings.value !== 'string' ||\n                            (typeof this.state.settings.value.startsWith('#') &&\n                                typeof this.state.settings.value.startsWith('rgb'))\n                        )) {\n                        settings = { value: '#FFFFFF' };\n                    }\n                    break;\n\n                default:\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderText',\n                        defaultValue: '',\n                        attr: 'value'\n                    }];\n                    break;\n            }\n\n            if (isAllTriggersOnState) {\n                inputs.unshift({\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                });\n            }\n        }\n\n        return { inputs, newSettings: settings };\n    }\n\n    onTagChange(tagCard, cb, ignore, toggle, useTrigger) {\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        const { inputs, newSettings } = this._setInputs(useTrigger, toggle);\n        inputs.unshift({\n            nameRender: 'renderObjectID',\n            attr: 'oid',\n            defaultValue: '',\n            checkReadOnly: true,\n        });\n\n        this.setState({ inputs }, () =>\n            super.onTagChange(null, () => {\n                if (newSettings) {\n                    const settings = JSON.parse(JSON.stringify(this.state.settings));\n                    Object.assign(settings, newSettings);\n                    this.setState(settings);\n                    this.props.onChange(settings);\n                }\n            }));\n    }\n\n    onValueChanged(value, attr, context) {\n        this.onTagChange(undefined, undefined, undefined, attr === 'toggle' ? value : undefined, attr === 'useTrigger' ? value : undefined);\n    }\n\n    onUpdate() {\n        this.onTagChange();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Set state action',\n            id: 'ActionSetState',\n            icon: 'PlayForWork',\n            tagCardArray: ['control', 'update'],\n            title: 'Control or update some state',\n            helpDialog: 'You can use %s in the value to use the current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionSetState.getStaticData();\n    }\n}\n\nexport default withStyles(styles)(ActionSetState);\n","import TriggerScriptSave from '../Blocks/TriggerScriptSave';\nimport TriggerSchedule from '../Blocks/TriggerSchedule';\nimport TriggerState from '../Blocks/TriggerState';\nimport ConditionState from '../Blocks/ConditionState';\nimport ConditionTime from '../Blocks/ConditionTime';\nimport ConditionAstronomical from '../Blocks/ConditionAstronomical';\nimport ActionSetState from '../Blocks/ActionSetState';\nimport ActionExec from '../Blocks/ActionExec';\nimport ActionHTTPCall from '../Blocks/ActionHTTPCall';\nimport ActionPrintText from '../Blocks/ActionPrintText';\nimport ActionPause from '../Blocks/ActionPause';\nimport ActionFunction from '../Blocks/ActionFunction';\nimport ActionSetStateDelayed from '../Blocks/ActionSetStateDelayed';\nimport ActionOperateStates from '../Blocks/ActionOperateStates';\n\nconst StandardBlocks = [\n    TriggerSchedule,\n    TriggerScriptSave,\n    TriggerState,\n    ConditionState,\n    ConditionTime,\n    ConditionAstronomical,\n    ActionSetState,\n    ActionExec,\n    ActionHTTPCall,\n    ActionPrintText,\n    ActionPause,\n    ActionFunction,\n    ActionSetStateDelayed,\n    ActionOperateStates,\n];\n\nexport default StandardBlocks;","import GenericBlock from '../GenericBlock';\n\nclass ActionExec extends GenericBlock {\n    constructor(props) {\n        super(props, ActionExec.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `// exec \"${config.exec}\"\n\\t\\tconst subActionVar${config._id} = \"${(config.exec || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {exec: subActionVar${config._id}});\n\\t\\tconsole.log(subActionVar${config._id});`;\n    }\n\n    renderDebug(debugMessage) {\n        return `Exec: ${debugMessage.data.exec}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'exec',\n                    defaultValue: 'ls /opt/iobroker',\n                    nameBlock: 'Shell command',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Exec',\n            id: 'ActionExec',\n            icon: 'Apps',\n            title: 'Executes some shell command',\n            helpDialog: 'You can use %s in the command to use current trigger value or %id to use the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionExec.getStaticData();\n    }\n}\n\nexport default ActionExec;\n","import GenericBlock from '../GenericBlock';\n\nclass ActionHTTPCall extends GenericBlock {\n    constructor(props) {\n        super(props, ActionHTTPCall.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `// HTTP request ${config.url}\n\\t\\tconst subActionVar${config._id} = \"${(config.url || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {url: subActionVar${config._id}});\n\\t\\trequest(subActionVar${config._id});`;\n    }\n\n    renderDebug(debugMessage) {\n        return `URL: ${debugMessage.data.url}`;\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'url',\n                    defaultValue: 'http://mydevice.com?...',\n                    nameBlock: 'URL',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'HTTP Call',\n            id: 'ActionHTTPCall',\n            icon: 'Language',\n            title: 'Make a HTTP get request',\n            helpDialog: 'You can use %s in the URL to use current trigger value or %id to use the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionHTTPCall.getStaticData();\n    }\n}\n\nexport default ActionHTTPCall;\n","import GenericBlock from '../GenericBlock';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nclass ActionPrintText extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPrintText.getStaticData());\n    }\n\n    static compile(config, context) {\n        return `// Log ${config.text}\n\\t\\tconst subActionVar${config._id} = \"${(config.text || '').replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)};\n\\t\\t_sendToFrontEnd(${config._id}, {text: subActionVar${config._id}});\n\\t\\tconsole.log(subActionVar${config._id});`;\n    }\n\n    renderDebug(debugMessage) {\n        return I18n.t('Log: %s', debugMessage.data.text);\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'text',\n                    defaultValue: 'My device triggered',\n                    nameBlock: 'Log text',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Log text',\n            id: 'ActionPrintText',\n            icon: 'Subject',\n            title: 'Print some text in log',\n            helpDialog: 'You can use %s in the text to display current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionPrintText.getStaticData();\n    }\n}\n\nexport default ActionPrintText;\n","import GenericBlock from '../GenericBlock';\nimport I18n from \"@iobroker/adapter-react-v5/i18n\";\n\nclass ActionPause extends GenericBlock {\n    constructor(props) {\n        super(props, ActionPause.getStaticData());\n    }\n\n    static compile(config, context) {\n        const ms = config.unit === 'ms' ? 1 : (config.unit === 's' ? 1000 : (config.unit === 'm' ? 60000 : 3600000))\n\n        return `// pause for ${ms}ms\n\\t\\t_sendToFrontEnd(${config._id}, {paused: true});\\n\n\\t\\tawait wait(${config.pause} * ${ms});\\n\n\\t\\t_sendToFrontEnd(${config._id}, {paused: false});`;\n    }\n\n    renderDebug(debugMessage) {\n        return I18n.t('Paused: %s', debugMessage.data.paused);\n    }\n\n    _getOptions(pause) {\n        pause = pause === undefined ? this.state.settings.pause : pause;\n        if (pause === 1 || pause === '1') {\n            return [\n                { value: 'ms', title: 'millisecond' },\n                { value: 's', title: 'second' },\n                { value: 'm', title: 'minute' },\n                { value: 'h', title: 'hour' },\n            ];\n        } else {\n            return [\n                { value: 'ms', title: 'milliseconds' },\n                { value: 's', title: 'seconds' },\n                { value: 'm', title: 'minutes' },\n                { value: 'h', title: 'hours' },\n            ];\n        }\n    }\n\n    _setInputs(pause) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderNumber',\n                    attr: 'pause',\n                    defaultValue: 100,\n                    noHelperText: true,\n                },\n                {\n                    nameRender: 'renderSelect',\n                    attr: 'unit',\n                    defaultValue: 'ms',\n                    options: this._getOptions(pause),\n                },\n            ]\n        }, () => super.onTagChange());\n    }\n\n    onValueChanged(value, attr) {\n        if (attr === 'pause') {\n            this._setInputs(value);\n        }\n    }\n\n    onTagChange(tagCard) {\n        this._setInputs();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Pause',\n            id: 'ActionPause',\n            icon: 'Pause',\n            title: 'Make a pause between actions',\n        }\n    }\n\n    getData() {\n        return ActionPause.getStaticData();\n    }\n}\n\nexport default ActionPause;\n","import GenericBlock from '../GenericBlock';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nclass ActionFunction extends GenericBlock {\n    constructor(props) {\n        super(props, ActionFunction.getStaticData());\n    }\n\n    static compile(config, context) {\n        const lines = (config.func || '')\n            .split('\\n')\n            .map((line, i) => `        ${line}`);\n\n        lines.unshift(`\\t\\t_sendToFrontEnd(${config._id}, {func: 'executed'});`);\n        lines.unshift(`// user function`);\n\n        return lines.join('\\n');\n    }\n\n    renderDebug(debugMessage) {\n        return I18n.t('Function: executed');\n    }\n\n    onTagChange(tagCard) {\n        this.setState({\n            inputs: [\n                {\n                    nameRender: 'renderModalInput',\n                    attr: 'func',\n                    noTextEdit: true,\n                    defaultValue: 'console.log(\"Test\")',\n                    nameBlock: 'Function',\n                }\n            ]\n        }, () => super.onTagChange(tagCard));\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'User function',\n            id: 'ActionFunction',\n            icon: 'Functions',\n            title: 'Write your own code',\n            helpDialog: 'This is advances option. You can write your own code here and it will be executed on trigger',\n        }\n    }\n\n    getData() {\n        return ActionFunction.getStaticData();\n    }\n}\n\nexport default ActionFunction;\n","import GenericBlock from '../GenericBlock';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nclass ActionSetStateDelayed extends GenericBlock {\n    constructor(props) {\n        super(props, ActionSetStateDelayed.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let value = config.value;\n        if (config.useTrigger) {\n            value = config.toggle ? '!obj.state.val' : 'obj.state.val';\n        } else {\n            if (value === undefined || value === null) {\n                value = '';\n            }\n\n            if (typeof config.value === 'string' &&\n                parseFloat(config.value).toString() !== config.value &&\n                config.value !== 'true' &&\n                config.value !== 'false'\n            ) {\n                value = `\"${value.replace(/\"/g, '\\\\\"')}\"${GenericBlock.getReplacesInText(context)}`;\n            }\n        }\n        let v;\n        if (config.toggle && !config.useTrigger) {\n            v = `const subActionVar${config._id} = !(await getStateAsync(\"${config.oid}\")).val`;\n        } else {\n            v = `const subActionVar${config._id} = ${value}`;\n        }\n\n        return `// set delayed state ${config.oid} to ${config.toggle && !config.useTrigger ? 'toggle' : value} with delay of ${config.delay}ms\n\\t\\t${v};\n\\t\\t_sendToFrontEnd(${config._id}, {val: subActionVar${config._id}, ack: ${config.tagCard === 'update'}});\n\\t\\tsetStateDelayed(\"${config.oid}\", subActionVar${config._id}, ${config.tagCard === 'update'}, ${parseInt(config.delay, 10)}, ${config.clearRunning ? 'true' : 'false'});`;\n    }\n\n    static renderValue(val) {\n        if (val === null) {\n            return 'null';\n        } else if (val === undefined) {\n            return 'undefined';\n        } else if (Array.isArray(val)) {\n            return val.join(', ');\n        } else if (typeof val === 'object') {\n            return JSON.stringify(val);\n        } else {\n            return val.toString();\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return <span>{I18n.t('Set:')} <span className={debugMessage.data.ack ? this.props.classes.valueAck : this.props.classes.valueNotAck}>{ActionSetStateDelayed.renderValue(debugMessage.data.val)}</span></span>;\n    }\n\n    _setInputs(useTrigger, toggle) {\n        const isAllTriggersOnState = this.isAllTriggersOnState();\n\n        toggle = toggle === undefined ? this.state.settings.toggle : toggle;\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        let type = '';\n        let options;\n        const { oidType, oidUnit, oidStates, oidMax, oidMin, oidRole, oidWrite, oidStep } = this.state.settings;\n        let settings;\n\n        if (oidType) {\n            if (oidType === 'number') {\n                type = 'number';\n                if (oidMax !== undefined && oidMin !== undefined) {\n                    type = 'slider';\n                }\n            } else if (oidType === 'boolean') {\n                type = 'boolean';\n                if (oidRole && oidRole.includes('button') && oidWrite) {\n                    type = 'button';\n                }\n            } else {\n                type = '';\n                if (oidRole && oidRole.includes('color')) {\n                    type = 'color';\n                }\n            }\n\n            if (oidStates) {\n                options = Object.keys(oidStates).map(val => ({ value: val, title: oidStates[val] }));\n                type = 'select';\n            }\n        }\n        let inputs;\n        if (isAllTriggersOnState && useTrigger) {\n            inputs = [\n                {\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                    defaultValue: false,\n                },\n            ];\n            if (type === 'boolean') {\n                inputs.push({\n                    backText: 'toggle value',\n                    attr: 'toggle',\n                    nameRender: 'renderCheckbox',\n                    defaultValue: false,\n                });\n            }\n        } else {\n            switch (type) {\n                case 'number':\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderNumber',\n                        defaultValue: oidMax === undefined ? 0 : oidMax,\n                        attr: 'value',\n                    }];\n                    if (this.state.settings.value !== undefined && isNaN(parseFloat(this.state.settings.value))) {\n                        settings = { value: oidMax === undefined ? 0 : oidMax };\n                    }\n                    break;\n\n                case 'slider':\n                    inputs = [{\n                        nameRender: 'renderSlider',\n                        defaultValue: oidMax,\n                        min: oidMin,\n                        max: oidMax,\n                        unit: oidUnit,\n                        step: oidStep,\n                        attr: 'value',\n                    }];\n                    const f = parseFloat(this.state.settings.value);\n                    if (this.state.settings.value !== undefined &&\n                        (isNaN(f) || f < oidMin || f > oidMax)\n                    ) {\n                        settings = { value: oidMax };\n                    }\n                    break;\n\n                case 'select':\n                    inputs = [{\n                        nameRender: 'renderSelect',\n                        frontText: 'with',\n                        options,\n                        defaultValue: options[0].value,\n                        attr: 'value',\n                    }];\n                    if (this.state.settings.value !== undefined && !options.find(item => item.value === this.state.settings.value)) {\n                        settings = { value: options[0].value };\n                    }\n                    break;\n\n                case 'boolean':\n                    inputs = [\n                        {\n                            backText: 'toggle value',\n                            attr: 'toggle',\n                            nameRender: 'renderCheckbox',\n                            defaultValue: false,\n                        }\n                    ];\n                    if (!toggle) {\n                        inputs.push({\n                            backText: 'true',\n                            frontText: 'false',\n                            nameRender: 'renderSwitch',\n                            defaultValue: false,\n                            attr: 'value',\n                        });\n                    }\n\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== false && this.state.settings.value !== true) {\n                        settings = { value: false };\n                    }\n                    break;\n\n                case 'button':\n                    inputs = [{\n                        nameRender: 'renderButton',\n                        defaultValue: true,\n                        attr: 'value',\n                    }];\n                    if (this.state.settings.value !== undefined && this.state.settings.value !== true) {\n                        settings = { value: true };\n                    }\n                    break;\n\n                case 'color':\n                    inputs = [{\n                        nameRender: 'renderColor',\n                        frontText: 'with',\n                        defaultValue: '#FFFFFF',\n                        attr: 'value',\n                    }];\n                    if (this.state.settings.value !== undefined &&\n                        (\n                            typeof this.state.settings.value !== 'string' ||\n                            (typeof this.state.settings.value.startsWith('#') &&\n                                typeof this.state.settings.value.startsWith('rgb'))\n                        )) {\n                        settings = { value: '#FFFFFF' };\n                    }\n                    break;\n\n                default:\n                    inputs = [{\n                        backText: oidUnit || '',\n                        frontText: 'with',\n                        nameRender: 'renderText',\n                        defaultValue: '',\n                        attr: 'value',\n                    }];\n                    break;\n            }\n            if (isAllTriggersOnState) {\n                inputs.unshift({\n                    backText: 'use trigger value',\n                    nameRender: 'renderCheckbox',\n                    attr: 'useTrigger',\n                });\n            }\n        }\n\n        inputs.push({\n            backText: 'ms',\n            frontText: 'Delay',\n            nameRender: 'renderNumber',\n            defaultValue: '1000',\n            noHelperText: true,\n            attr: 'delay',\n        });\n        inputs.push({\n            backText: 'clear running',\n            nameRender: 'renderCheckbox',\n            defaultValue: true,\n            attr: 'clearRunning',\n        })\n\n        return { inputs, newSettings: settings };\n    }\n\n    onTagChange(tagCard, cb, ignore, toggle, useTrigger) {\n        useTrigger = useTrigger === undefined ? this.state.settings.useTrigger : useTrigger;\n        const {inputs, newSettings} = this._setInputs(useTrigger, toggle);\n        inputs.unshift({\n            nameRender: 'renderObjectID',\n            attr: 'oid',\n            defaultValue: '',\n            checkReadOnly: true,\n        });\n\n        this.setState({inputs}, () =>\n            super.onTagChange(null, () => {\n                if (newSettings) {\n                    const settings = JSON.parse(JSON.stringify(this.state.settings));\n                    Object.assign(settings, newSettings);\n                    this.setState(settings);\n                    this.props.onChange(settings);\n                }\n            }));\n    }\n\n    onValueChanged(value, attr, context) {\n        this.onTagChange(undefined, undefined, undefined, attr === 'toggle' ? value : undefined, attr === 'useTrigger' ? value : undefined);\n    }\n\n    onUpdate() {\n        this.onTagChange();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Set with delay',\n            id: 'ActionSetStateDelayed',\n            icon: 'PlayForWork',\n            tagCardArray: ['control', 'update'],\n            title: 'Control or update some state with delay',\n            helpDialog: 'You can use %s in the value to use the current trigger value or %id to display the triggered object ID',\n        }\n    }\n\n    getData() {\n        return ActionSetStateDelayed.getStaticData();\n    }\n}\n\nexport default ActionSetStateDelayed;\n","import GenericBlock from '../GenericBlock';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nclass ActionOperateStates extends GenericBlock {\n    constructor(props) {\n        super(props, ActionOperateStates.getStaticData());\n    }\n\n    isAllTriggersOnState() {\n        return this.props.userRules?.triggers?.find(item => item.id === 'TriggerState') &&\n            !this.props.userRules?.triggers?.find(item => item.id !== 'TriggerState');\n    }\n\n    static compile(config, context) {\n        let oid1 = `const val2_${config._id} = (await getStateAsync(\"${config.oid1}\")).val;`;\n        let oid2 = `const val1_${config._id} = (await getStateAsync(\"${config.oid2}\")).val;`;\n\n        return `// ${config.oid1} ${config.operation} ${config.oid2} => ${config.oidResult}\n\\t\\t ${oid1}\n\\t\\t ${oid2}\n\\t\\t_sendToFrontEnd(${config._id}, {val: val1_${config._id} ${config.operation} val2_${config._id}, ack: ${config.tagCard === 'update'}});\n\\t\\tawait setStateAsync(\"${config.oidResult}\", val1_${config._id} ${config.operation} val2_${config._id}, ${config.tagCard === 'update'});`;\n    }\n\n    static renderValue(val) {\n        if (val === null) {\n            return 'null';\n        } else if (val === undefined) {\n            return 'undefined';\n        } else if (Array.isArray(val)) {\n            return val.join(', ');\n        } else if (typeof val === 'object') {\n            return JSON.stringify(val);\n        } else {\n            return val.toString();\n        }\n    }\n\n    renderDebug(debugMessage) {\n        return <span>{I18n.t('Set:')} <span className={debugMessage.data.ack ? this.props.classes.valueAck : this.props.classes.valueNotAck}>{ActionOperateStates.renderValue(debugMessage.data.val)}</span></span>;\n    }\n\n    onTagChange(tagCard, cb, ignore, toggle, useTrigger) {\n        const inputs = [];\n\n        inputs.push({\n            nameRender: 'renderObjectID',\n            title: 'ID1',\n            attr: 'oid1',\n            defaultValue: '',\n            checkReadOnly: false,\n        });\n\n        inputs.push({\n            nameRender: 'renderSelect',\n            //frontText: 'with',\n            options: [\n                {value: '+', title: '+'},\n                {value: '-', title: '-'},\n                {value: '*', title: '*'},\n                {value: '/', title: '/'},\n            ],\n            doNotTranslate: true,\n            defaultValue: '+',\n            attr: 'operation'\n        });\n\n        inputs.push({\n            nameRender: 'renderObjectID',\n            title: 'ID2',\n            attr: 'oid2',\n            defaultValue: '',\n            checkReadOnly: false,\n        });\n\n        inputs.push({\n            nameRender: 'renderNameText',\n            defaultValue: 'store in',\n            attr: 'textEqual',\n        });\n\n        inputs.push({\n            nameRender: 'renderObjectID',\n            attr: 'oidResult',\n            defaultValue: '',\n            checkReadOnly: true,\n        });\n\n        this.setState({inputs}, () => super.onTagChange(null, () => {\n            const settings = JSON.parse(JSON.stringify(this.state.settings));\n            this.props.onChange(settings);\n        }));\n    }\n\n    onValueChanged(value, attr, context) {\n        this.onTagChange(undefined, undefined, undefined, attr === 'toggle' ? value : undefined, attr === 'useTrigger' ? value : undefined);\n    }\n\n    onUpdate() {\n        this.onTagChange();\n    }\n\n    static getStaticData() {\n        return {\n            acceptedBy: 'actions',\n            name: 'Operate two states',\n            id: 'ActionOperateStates',\n            icon: 'AddBox',\n            tagCardArray: ['control', 'update'],\n            title: 'Operations with two states',\n        }\n    }\n\n    getData() {\n        return ActionOperateStates.getStaticData();\n    }\n}\n\nexport default ActionOperateStates;\n","import React, {\n    createContext,\n    useEffect,\n    useState,\n} from 'react';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nimport ActionSayText from '../Blocks/ActionSayText';\nimport ActionSendEmail from '../Blocks/ActionSendEmail';\nimport ActionTelegram from '../Blocks/ActionTelegram';\nimport ActionPushover from '../Blocks/ActionPushover';\nimport ActionWhatsappcmb from '../Blocks/ActionWhatsappcmb';\nimport ActionPushsafer from '../Blocks/ActionPushsafer';\nimport StandardBlocks from '../StandardBlocks';\n\nconst ADAPTERS = {\n    telegram: ActionTelegram,\n    email: ActionSendEmail,\n    sayit: ActionSayText,\n    pushover: ActionPushover,\n    'whatsapp-cmb': ActionWhatsappcmb,\n    pushsafer: ActionPushsafer,\n};\n\nexport const ContextWrapperCreate = createContext();\n\nconst getOrLoadRemote = (remote, shareScope, remoteFallbackUrl = undefined) =>\n    new Promise((resolve, reject) => {\n    // check if remote exists on window\n        if (!window[remote]) {\n            // search dom to see if remote tag exists, but might still be loading (async)\n            const existingRemote = document.querySelector(`[data-webpack=\"${remote}\"]`);\n            // when remote is loaded...\n            const onload = async () => {\n                // check if it was initialized\n                if (!window[remote]) {\n                    return reject(`Cannot load Remote \"${remote}\" to inject`);\n                }\n                if (!window[remote].__initialized) {\n                    // if share scope doesn't exist (like in webpack 4) then expect shareScope to be a manual object\n                    if (typeof __webpack_share_scopes__ === 'undefined') {\n                        // use default share scope object passed in manually\n                        await window[remote].init(shareScope.default);\n                    } else {\n                        // otherwise, init share scope as usual\n                        // eslint-disable-next-line\n                        await window[remote].init(__webpack_share_scopes__[shareScope]);\n                    }\n                    // mark remote as initialized\n                    window[remote].__initialized = true;\n                }\n                // resolve promise so marking remote as loaded\n                resolve();\n            };\n            if (existingRemote) {\n                // if existing remote but not loaded, hook into its onload and wait for it to be ready\n                existingRemote.onload = onload;\n                existingRemote.onerror = reject;\n                // check if remote fallback exists as param passed to function\n                // TODO: should scan public config for a matching key if no override exists\n            } else if (remoteFallbackUrl) {\n                // inject remote if a fallback exists and call the same onload function\n                const d = document;\n                const script = d.createElement('script');\n                script.type = 'text/javascript';\n                // mark as data-webpack so runtime can track it internally\n                script.setAttribute('data-webpack', `${remote}`);\n                script.async = true;\n                script.onerror = reject;\n                script.onload = onload;\n                script.src = remoteFallbackUrl;\n                d.getElementsByTagName('head')[0].appendChild(script);\n            } else {\n                // no remote and no fallback exist, reject\n                reject(`Cannot Find Remote ${remote} to inject`);\n            }\n        } else {\n            // remote already instantiated, resolve\n            resolve();\n        }\n    });\n\nconst loadComponent = (remote, sharedScope, module, url) => async () => {\n    await getOrLoadRemote(remote, sharedScope, url);\n    const container = window[remote];\n    const factory = await container.get(module);\n    const Module = factory();\n    return Module;\n};\n\nexport const ContextWrapper = ({ children, socket }) => {\n    const [blocks, setBlocks] = useState(null);\n    const [onUpdate, setOnUpdate] = useState(false);\n    const [onDebugMessage, setOnDebugMessage] = useState(false);\n    const [enableSimulation, setEnableSimulation] = useState(false);\n\n    useEffect(() => {\n        onUpdate && setOnUpdate(false);\n    }, [onUpdate]);\n\n    useEffect(() => {\n        (async () => {\n            const instances = await socket.getAdapterInstances();\n            const adapters = Object.keys(ADAPTERS).filter(adapter =>\n                instances.find(obj => obj?.common?.name === adapter));\n\n            const adapterDynamicBlocksArray = [];\n\n            // find all adapters, that have custom rule blocks\n            const dynamicRules = instances.filter(obj => obj.common.javascriptRules);\n\n            const alreadyCreated = [];\n            for (let k in dynamicRules) {\n                const obj = dynamicRules[k];\n                if (alreadyCreated.includes(obj.common.name)) {\n                    continue;\n                }\n\n                let url;\n                if (obj.common.javascriptRules.url.startsWith('http:') || obj.common.javascriptRules.url.startsWith('https:')) {\n                    url = obj.common.javascriptRules.url;\n                } else if (obj.common.javascriptRules.url.startsWith('./')) {\n                    url = `${window.location.protocol}//${window.location.host}${obj.common.javascriptRules.url.replace(/^\\./, '')}`;\n                } else {\n                    url = `${window.location.protocol}//${window.location.host}/adapter/${obj.common.name}/${obj.common.javascriptRules.url}`;\n                }\n\n                if (obj.common.javascriptRules.i18n === true) {\n                    // load i18n from files\n                    const pos = url.lastIndexOf('/');\n                    let i18nURL;\n                    if (pos !== -1) {\n                        i18nURL = url.substring(0, pos);\n                    } else {\n                        i18nURL = url;\n                    }\n                    const lang = I18n.getLanguage();\n                    const file = `${i18nURL}/i18n/${lang}.json`;\n\n                    await fetch(file)\n                        .then(data => data.json())\n                        .then(json => I18n.extendTranslations(json, lang))\n                        .catch(error => {\n                            if (lang !== 'en') {\n                                // try to load english\n                                return fetch(`${i18nURL}/i18n/en.json`)\n                                    .then(data => data.json())\n                                    .then(json => I18n.extendTranslations(json, lang))\n                                    .catch(error => console.error(`Cannot load i18n \"${file}\": ${error}`))\n                            } else {\n                                console.log(`Cannot load i18n \"${file}\": ${error}`)\n                            }\n                        });\n                } else if (obj.common.javascriptRules.i18n && typeof obj.common.javascriptRules.i18n === 'object') {\n                    try {\n                        I18n.extendTranslations(obj.common.javascriptRules.i18n);\n                    } catch (error) {\n                        console.error(`Cannot import i18n for \"${obj.common.javascriptRules.name}\": ${error}`);\n                    }\n                }\n\n                try {\n                    const Component = (await loadComponent(obj.common.javascriptRules.name, 'default', `./${obj.common.javascriptRules.name}`, url)()).default;\n\n                    if (Component) {\n                        adapterDynamicBlocksArray.push(Component);\n                        alreadyCreated.push(obj.common.name);\n                        ADAPTERS[obj.common.name] = null;\n                    }\n                } catch (e) {\n                    console.error(`Cannot load component \"${obj.common.javascriptRules.name}\": ${e}`);\n                }\n            }\n\n            const adapterBlocksArray = adapters.filter(adapter => ADAPTERS[adapter]).map(adapter => ADAPTERS[adapter]);\n\n            setBlocks([...StandardBlocks, ...adapterBlocksArray, ...adapterDynamicBlocksArray]);\n        })();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <ContextWrapperCreate.Provider value={{\n        blocks,\n        socket,\n        onUpdate,\n        setOnUpdate,\n        onDebugMessage,\n        setOnDebugMessage,\n        enableSimulation,\n        setEnableSimulation\n    }}>\n        {children}\n    </ContextWrapperCreate.Provider>;\n};","import React, {memo, useCallback, useContext, useEffect, useMemo, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport cls from './style.module.scss';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport { filterElement } from '../../helpers/filterElement';\nimport { ContextWrapperCreate } from '../ContextWrapper';\nimport { findElement } from '../../helpers/findElement';\nimport GenericBlock from '../GenericBlock';\n\n// @iobroker/javascript-block\n\nconst CurrentItem = memo(props => {\n    const { setUserRules, userRules, _id, id, blockValue, active, acceptedBy, isTourOpen, setTourStep, tourStep } = props;\n    const [anchorEl, setAnchorEl] = useState(null);\n    const { blocks, socket, onUpdate, setOnUpdate, onDebugMessage, enableSimulation } = useContext(ContextWrapperCreate);\n\n    useEffect(() => {\n        console.log('New message !!' + JSON.stringify(onDebugMessage));\n    }, [onDebugMessage]);\n\n\n    const findElementBlocks = useCallback(id => blocks.find(el => {\n        const staticData = el.getStaticData();\n        return staticData.id === id;\n    }), [blocks]);\n\n    const onChange = useCallback(settings => {\n        let newUserRules = findElement(settings, userRules, blockValue);\n        newUserRules && setUserRules(newUserRules);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [userRules]);\n\n    const handlePopoverOpen = event =>\n        event.currentTarget !== anchorEl && setAnchorEl(event.currentTarget);\n\n    const handlePopoverClose = () =>\n        setAnchorEl(null);\n\n    const blockInput = useMemo(() => {\n        const CustomBlock = findElementBlocks(id) || GenericBlock;\n        return <CustomBlock\n            isTourOpen={isTourOpen}\n            setTourStep={setTourStep}\n            tourStep={tourStep}\n            notFound={!findElementBlocks(id)}\n            {...props}\n            onUpdate={onUpdate}\n            setOnUpdate={setOnUpdate}\n            enableSimulation={enableSimulation}\n            onDebugMessage={onDebugMessage}\n            onChange={onChange}\n            className={null}\n            socket={socket}\n        />;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [userRules, onUpdate, onDebugMessage, enableSimulation]);\n\n    const [isDelete, setIsDelete] = useState(false);\n\n    return <div\n        onMouseMove={handlePopoverOpen}\n        onMouseEnter={handlePopoverOpen}\n        onMouseLeave={handlePopoverClose}\n        onMouseDown={el => {\n            if (el.ctrlKey) {\n                let newItem;\n                let newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n                if (blockValue !== \"triggers\") {\n                    newItem = newUserRules[acceptedBy][blockValue].find(el => el._id === _id);\n                } else {\n                    newItem = newUserRules[acceptedBy].find(el => el._id === _id);\n                }\n                if (blockValue !== \"triggers\") {\n                    newUserRules[acceptedBy][blockValue].splice(newUserRules[acceptedBy][blockValue].indexOf(newItem), 0, { ...newItem, _id: Date.now() });\n                } else {\n                    newUserRules[acceptedBy].splice(newUserRules[acceptedBy].indexOf(newItem), 0, { ...newItem, _id: Date.now() });\n                }\n                setUserRules(newUserRules);\n            }\n        }}\n        id=\"height\"\n        style={active ? { width: document.getElementById('width').clientWidth - 70 } : null}\n        className={`${cls.cardStyle} ${active ? cls.cardStyleActive : null} ${isDelete ? cls.isDelete : null}`}>\n        <div className={cls.drag_mobile} />\n        {blockInput}\n        {setUserRules && <div className={cls.controlMenu} style={Boolean(anchorEl) ? { opacity: 1 } : { opacity: 0 }}>\n            <div onClick={e => {\n                let newItemsSwitches = deepCopy(acceptedBy, userRules, blockValue);\n                newItemsSwitches = filterElement(acceptedBy, newItemsSwitches, blockValue, _id);\n                setIsDelete(true);\n                setTimeout(() => {\n                    if (acceptedBy === 'triggers') {\n                        setOnUpdate(true);\n                    }\n                    setUserRules(newItemsSwitches);\n                }, 300);\n            }} className={cls.closeBtn} />\n        </div>}\n    </div>;\n});\n\nCurrentItem.defaultProps = {\n    active: false\n};\n\nCurrentItem.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n};\n\nexport default CurrentItem;","export function findElement(settings, userRules, additionalParameter) {\n    const { _id, acceptedBy } = settings;\n    let block;\n\n    if (!acceptedBy || !userRules[acceptedBy]) {\n        console.warn('Cannot find ' + acceptedBy);\n        return userRules;\n    }\n\n    switch (acceptedBy) {\n        case 'actions':\n            block = userRules[acceptedBy][additionalParameter].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][additionalParameter][userRules[acceptedBy][additionalParameter].indexOf(block)] = settings;\n            }\n            return userRules;\n        case 'conditions':\n            block = userRules[acceptedBy][additionalParameter].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][additionalParameter][userRules[acceptedBy][additionalParameter].indexOf(block)] = settings;\n            }\n            return userRules;\n        default:\n            block = userRules[acceptedBy].find(el => el._id === _id);\n            if (!block) {\n                console.warn('Cannot find ' + _id);\n            } else {\n                userRules[acceptedBy][userRules[acceptedBy].indexOf(block)] = settings;\n            }\n            return userRules;\n    }\n}","import React from 'react';\nimport { useDragLayer } from 'react-dnd';\nimport CardMenu from '../CardMenu';\nimport CurrentItem from '../CurrentItem';\n\nconst layerStyles = {\n    position: 'fixed',\n    pointerEvents: 'none',\n    zIndex: 100,\n    left: 0,\n    top: 0,\n    width: '100%',\n    height: '100%'\n};\n\nconst snapToGrid = (x, y) => {\n    const snappedX = Math.round(x / 32) * 32\n    const snappedY = Math.round(y / 32) * 32\n    return [snappedX, snappedY]\n}\n\nconst getItemStyles = (initialOffset, currentOffset, isSnapToGrid) => {\n    if (!initialOffset || !currentOffset) {\n        return {\n            display: 'none'\n        };\n    }\n    let { x, y } = currentOffset;\n    if (isSnapToGrid) {\n        x -= initialOffset.x;\n        y -= initialOffset.y;\n        [x, y] = snapToGrid(x, y);\n        x += initialOffset.x;\n        y += initialOffset.y;\n    }\n    const transform = `translate(${x}px, ${y}px)`;\n    return {\n        transform,\n        WebkitTransform: transform\n    };\n}\n\nexport const CustomDragLayer = props => {\n    const {\n        itemType,\n        isDragging,\n        item,\n        initialOffset,\n        currentOffset,\n        targetIds\n    } = useDragLayer(monitor => ({\n        item: monitor.getItem(),\n        itemType: monitor.getItemType(),\n        initialOffset: monitor.getInitialSourceClientOffset(),\n        currentOffset: monitor.getSourceClientOffset(),\n        isDragging: monitor.isDragging(),\n        targetIds: monitor.getTargetIds()\n    }));\n\n    const renderItem = () => {\n        switch (itemType) {\n            case 'box':\n                return targetIds.length ? <CurrentItem active {...item} allBlocks={props.allBlocks}/> :\n                    <CardMenu active {...item} socket={props.socket}/>;\n            default:\n                return null;\n        }\n    }\n\n    if (!isDragging) {\n        return null;\n    }\n\n    return <div style={layerStyles}>\n        <div style={getItemStyles(initialOffset, currentOffset)}>\n            {renderItem()}\n        </div>\n    </div>;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"border\":\"style_border__FU4EA\",\"emptyBlockStyle\":\"style_emptyBlockStyle__OTKrV\",\"emptyBlock\":\"style_emptyBlock__FtVho\",\"marginTop\":\"style_marginTop__5SZbC\",\"selectOnChange\":\"style_selectOnChange__RqLzt\",\"selectOnChangeHelp\":\"style_selectOnChangeHelp__-Lfd8\",\"selectOnChangeHelpIcon\":\"style_selectOnChangeHelpIcon__338if\",\"emptyBlockNone\":\"style_emptyBlockNone__TbBah\",\"mainBlockItemRules\":\"style_mainBlockItemRules__fZaoi\",\"nameBlockItems\":\"style_nameBlockItems__v7gfd\",\"contentBlockItem\":\"style_contentBlockItem__y6oFK\",\"wrapperMargin\":\"style_wrapperMargin__9vWv4\",\"contentHeightOn\":\"style_contentHeightOn__q69X4\",\"heightBlock\":\"style_heightBlock__zilKy\",\"contentHeightOff\":\"style_contentHeightOff__t7D6a\",\"cardAdd\":\"style_cardAdd__1pX3a\",\"blockCardAdd\":\"style_blockCardAdd__jbFG-\",\"addClassOverflow\":\"style_addClassOverflow__hJlQh\",\"addClassHeight\":\"style_addClassHeight__8Fysj\"};","import * as React from 'react';\n\nexport function useStateLocal(events, nameEvents) {\n    const [state, setState] = React.useState(\n        localStorage.getItem(nameEvents) ? JSON.parse(localStorage.getItem(nameEvents)) : events\n    );\n\n    const eventsToInstall = (newHeadCells) => {\n        localStorage.setItem(nameEvents, JSON.stringify(newHeadCells));\n        setState(newHeadCells);\n    };\n    return [state, eventsToInstall, localStorage.getItem(nameEvents) ? true : false];\n}\n","import _ from \"lodash\";\n\nconst funcSet = _.throttle(\n    (setCards, userRules) => setCards(userRules)\n    , 0);\n\nconst moveCard = (\n    id,\n    atIndex,\n    cards,\n    setCards,\n    userRules,\n    acceptedBy,\n    additionally,\n    hoverClientY,\n    hoverMiddleY) => {\n\n    const { card, index } = findCard(id, cards);\n    if (index < atIndex && hoverClientY < hoverMiddleY) {\n        return;\n    }\n    if (index > atIndex && hoverClientY > hoverMiddleY) {\n        return;\n    }\n    if (card && index !== atIndex) {\n        const copyCard = _.clone(cards);\n        copyCard.splice(index, 1);\n        copyCard.splice(atIndex, 0, card);\n        const newTriggers = _.clone(userRules);\n        switch (acceptedBy) {\n            case 'actions':\n                newTriggers[acceptedBy][additionally] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n            case 'conditions':\n                newTriggers[acceptedBy][additionally] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n            default:\n                newTriggers[acceptedBy] = copyCard;\n                funcSet(setCards, newTriggers);\n                return;\n        }\n    }\n};\nconst findCard = (id, cards) => {\n    const card = cards.find((c) => c._id === id);\n    return {\n        card,\n        index: cards.indexOf(card),\n    };\n};\n\nexport { moveCard, findCard };","// extracted by mini-css-extract-plugin\nexport default {\"drag\":\"style_drag__mJTKg\",\"root\":\"style_root__lrr-F\"};","import React, { useContext, useEffect, useRef } from 'react';\n// import { I18n } from '@iobroker/adapter-react-v5';\nimport PropTypes from 'prop-types';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { getEmptyImage } from 'react-dnd-html5-backend';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport { filterElement } from '../../helpers/filterElement';\nimport { findCard, moveCard } from '../../helpers/cardSort';\nimport { ContextWrapperCreate } from '../ContextWrapper';\nimport cls from './style.module.scss';\n\nconst DragWrapper = ({ typeBlocks, allProperties, id, isActive, setUserRules, userRules, children, _id, blockValue }) => {\n    const { setOnUpdate } = useContext(ContextWrapperCreate);\n    const [{ opacity }, drag, preview] = useDrag({\n        type: 'box',\n        item: () => ({ ...allProperties, id, isActive, _id }),\n        end: (item, monitor) => {\n            let { acceptedBy } = item;\n            let dropResult = monitor.getDropResult();\n            let newUserRules;\n            if (!dropResult) {\n                if (typeof _id === 'number' && !monitor.getTargetIds().length) {\n                    newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n                    newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                    setUserRules(newUserRules);\n                }\n                return null;\n            }\n            if (dropResult.blockValue !== blockValue) {\n                let idNumber = typeof _id === 'number' ? _id : Date.now();\n                newUserRules = deepCopy(acceptedBy, userRules, dropResult.blockValue);\n                const newItem = { id: item.id, acceptedBy: item.acceptedBy }\n                switch (acceptedBy) {\n                    case 'actions':\n                        if (blockValue) {\n                            newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                        }\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy][dropResult.blockValue].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n\n                    case 'conditions':\n                        if (typeof blockValue === 'number') {\n                            newUserRules = filterElement(acceptedBy, newUserRules, blockValue, _id);\n                        }\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy][dropResult.blockValue].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n\n                    default:\n                        setOnUpdate(true);\n                        newUserRules = filterElement(acceptedBy, newUserRules, dropResult.blockValue, _id);\n                        newUserRules[acceptedBy].push({ ...newItem, _id: idNumber });\n                        return setUserRules(newUserRules);\n                }\n            }\n        },\n        collect: monitor => ({\n            opacity: monitor.isDragging() ? 0.4 : 1,\n            isDragging: monitor.isDragging(),\n        }),\n    });\n    const ref = useRef(null)\n    const [, drop] = useDrop({\n        accept: 'box',\n        canDrop: () => false,\n        hover({ _id: draggedId, acceptedBy }, monitor) {\n            if (!ref.current) {\n                return;\n            }\n            if (typeBlocks !== acceptedBy) {\n                return\n            }\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n            const clientOffset = monitor.getClientOffset();\n            const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n\n            if (!!_id && draggedId !== _id) {\n                switch (acceptedBy) {\n                    case 'actions':\n                        if (blockValue === 'then' || blockValue === 'else') {\n                            const { index: overIndexActions } = findCard(_id, userRules[acceptedBy][blockValue]);\n                            if (overIndexActions !== draggedId) {\n                                moveCard(draggedId,\n                                    overIndexActions,\n                                    userRules[acceptedBy][blockValue],\n                                    setUserRules,\n                                    userRules,\n                                    acceptedBy,\n                                    blockValue,\n                                    hoverClientY,\n                                    hoverMiddleY\n                                );\n                            }\n                        }\n                        return;\n                    case 'conditions':\n                        if (typeof blockValue === 'number') {\n                            const { index: overIndexConditions } = findCard(_id, userRules[acceptedBy][blockValue]);\n                            if (overIndexConditions !== draggedId) {\n                                moveCard(draggedId,\n                                    overIndexConditions,\n                                    userRules[acceptedBy][blockValue],\n                                    setUserRules,\n                                    userRules,\n                                    acceptedBy,\n                                    blockValue,\n                                    hoverClientY,\n                                    hoverMiddleY\n                                );\n                            }\n                        }\n                        return;\n                    default:\n                        const { index: overIndex } = findCard(_id, userRules[acceptedBy]);\n                        if (overIndex !== draggedId) {\n                            moveCard(draggedId,\n                                overIndex,\n                                userRules[acceptedBy],\n                                setUserRules,\n                                userRules,\n                                acceptedBy,\n                                null,\n                                hoverClientY,\n                                hoverMiddleY\n                            );\n                        }\n                        return;\n                }\n            }\n        }\n    });\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    drag(drop(ref));\n    const isMobile = window.innerWidth < 600;\n    return <div ref={isMobile && _id ? null : ref} className={cls.root} style={{ opacity }}><div className={_id ? cls.drag : null} ref={_id && isMobile ? ref : null} />{children}</div>;\n}\n\nDragWrapper.defaultProps = {\n    name: '',\n    active: false,\n    id: '',\n    _id: null\n};\n\nDragWrapper.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nexport default DragWrapper;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\n\nimport IconOk from '@mui/icons-material/Check';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst DialogHelp = ({ onClose, open }) => <Dialog\n    open={open}\n    onClose={onClose}\n    aria-labelledby=\"alert-dialog-title\"\n    aria-describedby=\"alert-dialog-description\"\n>\n    <DialogContent>\n        <div style={{\n            fontSize: '1rem',\n            fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n            fontWeight: 400,\n            lineHeight: 1.5,\n            letterSpacing: '0.00938em'\n        }} >\n            <h3>{I18n.t('On condition change')}</h3>\n            <div>{I18n.t('help_on_change')}</div>\n            <h3>{I18n.t('Just check')}</h3>\n            <div>{I18n.t('help_just_check')}</div>\n        </div>\n    </DialogContent>\n    <DialogActions>\n        <Button onClick={onClose} color=\"primary\" autoFocus startIcon={<IconOk/>}>\n            {I18n.t('OK')}\n        </Button>\n    </DialogActions>\n</Dialog >;\n\nDialogHelp.defaultProps = {\n    open: false,\n    onClose: () => { }\n};\n\nDialogHelp.propTypes = {\n    open: PropTypes.bool,\n    onClose: PropTypes.func\n};\n\nexport default DialogHelp;","import React from 'react';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport { I18n } from '@iobroker/adapter-react-v5';\nimport PropTypes from 'prop-types';\n\nconst DialogCondition = ({ onClose, open }) => <Dialog\n    open={open}\n    onClose={onClose}\n    aria-labelledby=\"alert-dialog-title\"\n    aria-describedby=\"alert-dialog-description\"\n>\n    <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n            <h3>{I18n.t('On condition change')}</h3>\n            <div>{I18n.t('help_on_change')}</div>\n            <h3>{I18n.t('Just check')}</h3>\n            <div>{I18n.t('help_just_check')}</div>\n        </DialogContentText>\n    </DialogContent>\n    <DialogActions>\n        <Button onClick={onClose} color=\"primary\" autoFocus>\n            {I18n.t('OK')}\n        </Button>\n    </DialogActions>\n</Dialog>;\n\nDialogCondition.defaultProps = {\n    open: false,\n    onClose: () => { }\n};\n\nDialogCondition.propTypes = {\n    open: PropTypes.bool,\n    onClose: PropTypes.func\n};\n\nexport default DialogCondition;","import React, { Fragment, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDrop } from 'react-dnd';\n\nimport Select from '@mui/material/Select';\nimport MenuItem from '@mui/material/MenuItem';\nimport IconButton from '@mui/material/IconButton';\nimport IconHelp from '@mui/icons-material/HelpOutline';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport CurrentItem from '../CurrentItem';\nimport { useStateLocal } from '../../hooks/useStateLocal';\nimport DragWrapper from '../DragWrapper';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport DialogHelp from './DialogHelp';\nimport DialogCondition from './DialogCondition';\n\nconst AdditionallyContentBlockItems = ({ size, itemsSwitchesRender, blockValue, boolean, typeBlock, userRules, setUserRules, animation, setTourStep, tourStep, isTourOpen }) => {\n    const [checkItem, setCheckItem] = useState(false);\n    const [canDropCheck, setCanDropCheck] = useState(false);\n    const [checkId, setCheckId] = useState(false);\n    const [hoverBlock, setHoverBlock] = useState('');\n\n    const options = useDrop({\n        accept: 'box',\n        drop: () => ({ blockValue }),\n        hover: ({ acceptedBy, _id }, monitor) => {\n            setCheckItem(acceptedBy === typeBlock);\n            setCheckId(!!_id);\n            setHoverBlock(monitor.getHandlerId());\n        },\n        canDrop: ({ acceptedBy }, monitor) => {\n            setCanDropCheck(acceptedBy === typeBlock);\n            return acceptedBy === typeBlock;\n        },\n        collect: monitor => ({\n            isOver: monitor.isOver(),\n            canDrop: monitor.getItem()?.acceptedBy === typeBlock,\n            offset: monitor.getClientOffset(),\n            targetId: monitor.targetId\n        }),\n    });\n\n    const [{ canDrop, isOver, offset, targetId }, drop] = options;\n\n    useEffect(() => { setHoverBlock('') }, [offset]);\n\n    const isActive = canDrop && isOver;\n    let backgroundColor = '';\n    if (isActive) {\n        backgroundColor = checkItem ? '#00fb003d' : '#fb00002e';\n    } else if (canDrop) {\n        backgroundColor = canDropCheck ? '#00fb003d' : '#fb00002e';\n    } else if (offset) {\n        backgroundColor = targetId === hoverBlock ? '#fb00002e' : '';\n    }\n\n    return <div ref={drop} style={{ backgroundColor }} className={`${Utils.clsx(cls.contentBlockItem,size && cls.addClassHeight)} ${boolean ? animation ? cls.contentHeightOn : null : cls.contentHeightOff}`}>\n        <div className={cls.wrapperMargin}>{itemsSwitchesRender[blockValue]?.map(el => (\n            <DragWrapper\n                typeBlocks={typeBlock}\n                key={el._id}\n                {...el}\n                blockValue={blockValue}\n                allProperties={el}\n                userRules={userRules}\n                setUserRules={setUserRules}\n            >\n                <CurrentItem\n                    {...el}\n                    isTourOpen={isTourOpen}\n                    setTourStep={setTourStep}\n                    tourStep={tourStep}\n                    settings={el}\n                    blockValue={blockValue}\n                    userRules={userRules}\n                    setUserRules={setUserRules}\n                />\n            </DragWrapper>))}\n            <div\n                style={isActive && checkItem && !checkId ? { height: document.getElementById('height') ? document.getElementById('height').clientHeight : 200 } : null}\n                className={`${cls.emptyBlockStyle} ${isActive && checkItem && !checkId ? cls.emptyBlock : cls.emptyBlockNone}`}\n            />\n        </div>\n    </div>;\n}\n\nAdditionallyContentBlockItems.defaultProps = {\n    children: null,\n    boolean: true,\n    animation: false\n};\n\nconst ContentBlockItems = ({ size, typeBlock, name, nameAdditionally, additionally, border, userRules, setUserRules, iconName, adapter, socket, setTourStep, tourStep, isTourOpen }) => {\n    const [additionallyClickItems, setAdditionallyClickItems, checkLocal] = useStateLocal(typeBlock === 'actions' ? false : [], `additionallyClickItems_${typeBlock}`);\n    const [showHelp, setShowHelp] = useState(false);\n    const [showConditionDialog, setShowConditionDialog] = useState(false);\n\n    useEffect(() => {\n        if (typeBlock === 'conditions' && additionallyClickItems.length !== userRules['conditions'].length - 1) {\n            let newArray = [];\n            userRules['conditions'].forEach((el, idx) => {\n                if (idx > 0) {\n                    newArray.push({\n                        _id: Date.now(),\n                        open: true,\n                    });\n                }\n            });\n            setAdditionallyClickItems([...additionallyClickItems, ...newArray]);\n        }\n        if (typeBlock === 'actions' && !checkLocal && userRules['actions']['else'].length) {\n            setAdditionallyClickItems(true);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const [animation, setAnimation] = useState(false);\n\n    return <div className={`${Utils.clsx(cls.mainBlockItemRules, size && cls.addClassOverflow)} ${border && !size ? cls.border : null}`}>\n        <span id='width' className={cls.nameBlockItems}>\n            <MaterialDynamicIcon iconName={iconName} className={cls.iconThemCard} adapter={adapter} socket={socket} />{name}\n        </span>\n        {typeBlock === 'conditions' ?\n            <div style={{ width: '100%' }}>\n                <Select\n                    variant=\"standard\"\n                    className={cls.selectOnChange}\n                    value={userRules.justCheck || false}\n                    onChange={e => {\n                        const _userRules = deepCopy('conditions', userRules);\n                        _userRules.justCheck = e.target.value;\n                        setUserRules(_userRules);\n                    }}\n                >\n                    <MenuItem value={false}>{I18n.t('on condition change')}</MenuItem>\n                    <MenuItem value={true}>{I18n.t('just check')}</MenuItem>\n                </Select>\n                <IconButton size=\"small\" title={I18n.t('Explanation')} className={cls.selectOnChangeHelp} onClick={() => setShowHelp(true)}>\n                    <IconHelp className={cls.selectOnChangeHelpIcon} />\n                </IconButton>\n            </div>\n            : null}\n        <AdditionallyContentBlockItems\n            setTourStep={setTourStep}\n            tourStep={tourStep}\n            isTourOpen={isTourOpen}\n            blockValue={typeBlock === 'actions' ? 'then' : typeBlock === 'conditions' ? 0 : typeBlock}\n            typeBlock={typeBlock}\n            setUserRules={setUserRules}\n            userRules={userRules}\n            size={size}\n            itemsSwitchesRender={typeBlock === 'actions' ? userRules['actions'] : typeBlock === 'conditions' ? userRules['conditions'] : userRules}\n        />\n        {additionally && [...Array(typeBlock === 'actions' ? 1 : userRules.conditions.length - 1)].map((e, index) => {\n            const booleanAdditionally = (value = index) => Boolean(typeBlock === 'actions' ? additionallyClickItems : additionallyClickItems.find((el, idx) => idx === value && el.open));\n            return <Fragment key={`${index}_block_${typeBlock}`}>\n                <div\n                    onClick={() => {\n                        if (typeBlock === 'actions') {\n                            setAdditionallyClickItems(!additionallyClickItems);\n                            return null;\n                        }\n                        let newAdditionally = JSON.parse(JSON.stringify(additionallyClickItems));\n                        if (userRules['conditions'][index + 1].length) {\n                            newAdditionally[index].open = !newAdditionally[index].open\n                            setAdditionallyClickItems(newAdditionally);\n                            return null;\n                        }\n                        newAdditionally = newAdditionally.filter((el, idx) => idx !== index);\n                        setAdditionallyClickItems(newAdditionally);\n                        setAnimation(typeBlock === 'actions' ? true : index);\n                        setTimeout(() => {\n                            setAnimation(false);\n                            setUserRules({ ...userRules, conditions: [...userRules.conditions.filter((el, idx) => idx !== index + 1)] });\n                        }, 250);\n\n                    }}\n                    key={index} className={cls.blockCardAdd}>\n                    {booleanAdditionally() ? '-' : '+'}<div className={cls.cardAdd}>\n                        {nameAdditionally}\n                    </div>\n                </div>\n                <AdditionallyContentBlockItems\n                    blockValue={typeBlock === 'actions' ? 'else' : typeBlock === 'conditions' ? index + 1 : typeBlock}\n                    typeBlock={typeBlock}\n                    setUserRules={setUserRules}\n                    itemsSwitchesRender={typeBlock === 'actions' ? userRules['actions'] : typeBlock === 'conditions' ? userRules['conditions'] : userRules}\n                    userRules={userRules}\n                    boolean={booleanAdditionally()}\n                    animation={Boolean(animation === index)}\n                    size={size}\n                />\n            </Fragment>\n        })}\n        {additionally && typeBlock === 'conditions' && <div\n            onClick={() => {\n                setAdditionallyClickItems([...additionallyClickItems, {\n                    _id: Date.now(),\n                    open: true\n                }]);\n                setUserRules({ ...userRules, conditions: [...userRules.conditions, []] });\n                setAnimation(typeBlock === 'actions' ? true : userRules.conditions.length - 1);\n                setTimeout(() => setAnimation(false), 1000);\n            }}\n            className={cls.blockCardAdd}\n        >\n            {'+'}\n            <div className={cls.cardAdd}>\n                {nameAdditionally}\n            </div>\n        </div>}\n        <DialogHelp open={showHelp} onClose={() => setShowHelp(false)} />\n        <DialogCondition open={showConditionDialog} onClose={() => setShowConditionDialog(false)} />\n    </div>;\n}\n\nContentBlockItems.defaultProps = {\n    children: null,\n    name: '',\n    nameAdditionally: '',\n    additionally: false,\n    border: false,\n    typeBlock: '',\n};\n\nContentBlockItems.propTypes = {\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    nameAdditionally: PropTypes.string,\n    border: PropTypes.bool,\n    additionally: PropTypes.bool,\n    children: PropTypes.object,\n    typeBlock: PropTypes.string,\n    blockValue: PropTypes.string,\n    userRules: PropTypes.object,\n    setUserRules: PropTypes.func,\n};\n\nexport default ContentBlockItems;","// extracted by mini-css-extract-plugin\nexport default {\"menuRules\":\"style_menuRules__00nS7\",\"switchesRenderWrapper\":\"style_switchesRenderWrapper__8kuDP\",\"menuOff\":\"style_menuOff__+NzqA\",\"menuTitle\":\"style_menuTitle__ryFpz\",\"marginAuto\":\"style_marginAuto__1fBxI\",\"inputWidth\":\"style_inputWidth__ztv5O\",\"menuWrapper\":\"style_menuWrapper__UQpIH\",\"hamburgerWrapper\":\"style_hamburgerWrapper__E1orU\",\"hamburgerOff\":\"style_hamburgerOff__OegQ1\",\"nothingFound\":\"style_nothingFound__NMV9T\",\"resetSearch\":\"style_resetSearch__xcCMm\",\"controlPanel\":\"style_controlPanel__WMp0-\",\"controlPanelAppBar\":\"style_controlPanelAppBar__3JVH5\",\"addClassMenu\":\"style_addClassMenu__oVnVx\",\"addClassBackground\":\"style_addClassBackground__jAEkn\",\"addClassPosition\":\"style_addClassPosition__Omc3V\"};","import React from 'react';\nimport CardMenu from '.';\nimport { deepCopy } from '../../helpers/deepCopy';\nimport DragWrapper from '../DragWrapper';\nimport { STEPS } from '../../helpers/Tour';\n\nconst CustomDragItem = props => {\n    const { allProperties, allProperties: { acceptedBy, id }, setUserRules, userRules, setTourStep, tourStep, isTourOpen, onTouchMove } = props;\n    return <DragWrapper {...props} {...allProperties}>\n        <CardMenu\n            onTouchMove={onTouchMove}\n            onDoubleClick={() => {\n                (isTourOpen &&\n                    tourStep === STEPS.addScheduleByDoubleClick &&\n                    id === 'TriggerScheduleBlock' &&\n                    setTourStep(STEPS.openTagsMenu)\n                );\n                (isTourOpen &&\n                    tourStep === STEPS.addActionPrintText &&\n                    id === 'ActionPrintText' &&\n                    setTourStep(STEPS.showJavascript)\n                );\n                let _id = Date.now();\n                let blockValue;\n                switch (acceptedBy) {\n                    case 'actions':\n                        blockValue = 'then';\n                        break;\n\n                    case 'conditions':\n                        blockValue = userRules[acceptedBy].length - 1;\n                        break;\n\n                    default:\n                        break;\n                }\n                let newUserRules = deepCopy(acceptedBy, userRules, blockValue);\n                const newItem = { id, _id, acceptedBy };\n                if (blockValue !== undefined) {\n                    newUserRules[acceptedBy][blockValue].push({ ...newItem });\n                } else {\n                    newUserRules[acceptedBy].push({ ...newItem });\n                }\n                setUserRules(newUserRules);\n            }} onDoubl {...props} {...allProperties} />\n    </DragWrapper>;\n}\n\nexport default CustomDragItem;","// extracted by mini-css-extract-plugin\nexport default {\"menu_wrapper\":\"hamburgerMenu_menu_wrapper__eOAoa\",\"hamburgerMenu\":\"hamburgerMenu_hamburgerMenu__85qrF\",\"animate\":\"hamburgerMenu_animate__fu7Hd\",\"menu_conatiner_wrapper\":\"hamburgerMenu_menu_conatiner_wrapper__G3DUT\"};","import React from 'react';\nimport cls from './hamburgerMenu.module.scss';\nimport PropTypes from 'prop-types';\n\nconst HamburgerMenu = ({boolean}) => {\n    return <div className={`${cls.hamburgerMenu} ${boolean ? cls.animate : ''}`}/>\n}\n\nHamburgerMenu.defaultProps = {\n    boolean: false\n};\n\nHamburgerMenu.propTypes = {\n    boolean: PropTypes.bool\n};\n\nexport default HamburgerMenu;","import React, { Fragment, useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { AppBar, ClickAwayListener, Tab, Tabs } from '@mui/material';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nimport CustomInput from '../CustomInput';\nimport CustomDragItem from '../CardMenu/CustomDragItem';\nimport HamburgerMenu from '../HamburgerMenu';\nimport { useStateLocal } from '../../hooks/useStateLocal';\nimport { ContextWrapperCreate } from '../ContextWrapper';\nimport MaterialDynamicIcon from '../../helpers/MaterialDynamicIcon';\nimport { STEPS } from '../../helpers/Tour';\n\nconst Menu = ({ addClass, setAllBlocks, allBlocks, userRules, onChangeBlocks, setTourStep, tourStep, isTourOpen }) => {\n    // eslint-disable-next-line no-unused-vars\n    const { blocks, socket } = useContext(ContextWrapperCreate);\n    const [hamburgerOnOff, setHamburgerOnOff] = useStateLocal(false, 'hamburgerOnOff');\n    const [filter, setFilter] = useStateLocal({\n        text: '',\n        type: 'triggers',\n        index: 0\n    }, 'filterControlPanel');\n\n    const handleChange = (event, newValue) => {\n        isTourOpen && (newValue === 0 && tourStep === STEPS.selectTriggers) && setTourStep(STEPS.addScheduleByDoubleClick);\n        isTourOpen && (newValue === 2 && tourStep === STEPS.selectActions) && setTourStep(STEPS.addActionPrintText);\n        setFilter({\n            ...filter,\n            index: newValue,\n            type: ['triggers', 'conditions', 'actions'][newValue]\n        });\n        setBlocksFunc(filter.text, ['triggers', 'conditions', 'actions'][newValue]);\n    };\n\n    const setBlocksFunc = (text = filter.text, typeFunc = filter.type) => {\n        if (!blocks) {\n            return;\n        }\n        let newAllBlocks = [...blocks];\n        newAllBlocks = newAllBlocks.filter(el => {\n            if (!text) {\n                return true;\n            }\n            const { name } = el.getStaticData();\n            return name && I18n.t(name).toLowerCase().includes(text.toLowerCase());\n        });\n        newAllBlocks = newAllBlocks.filter(el => typeFunc === el.getStaticData().acceptedBy);\n        setAllBlocks(newAllBlocks);\n    };\n\n    const a11yProps = index => ({\n        id: `scrollable-force-tab-${index}`,\n        'aria-controls': `scrollable-force-tabpanel-${index}`\n    });\n\n    useEffect(() => {\n        setBlocksFunc();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [blocks]);\n    return <ClickAwayListener\n        mouseEvent={false}\n        touchEvent=\"onTouchStart\"\n        onClickAway={() => setHamburgerOnOff(true)}\n    >\n        <div className={Utils.clsx(cls.menuWrapper, addClass[1035] && cls.addClassMenu)}>\n            <div className={`${cls.hamburgerWrapper} ${hamburgerOnOff ? cls.hamburgerOff : null}`}\n                onClick={() => setHamburgerOnOff(!hamburgerOnOff)}><HamburgerMenu boolean={!hamburgerOnOff} />\n            </div>\n            <div className={`${Utils.clsx(cls.menuRules, addClass[1035] && cls.addClassBackground, addClass[835] && cls.addClassPosition)} ${hamburgerOnOff ? cls.menuOff : null}`}>\n                <div className={cls.controlPanel}>\n                    <AppBar className={cls.controlPanelAppBar} position=\"static\">\n                        <Tabs\n                            value={filter.index}\n                            onChange={handleChange}\n                        >\n                            <Tab className=\"blocks-triggers\"\n                                title={I18n.t('Triggers')}\n                                icon={<MaterialDynamicIcon iconName='FlashOn' />}\n                                {...a11yProps(0)} />\n                            <Tab title={I18n.t('Conditions')} className=\"blocks-conditions\" icon={<MaterialDynamicIcon iconName='Help' />}\n                                {...a11yProps(1)} />\n                            <Tab title={I18n.t('Actions')} className=\"blocks-actions\" icon={<MaterialDynamicIcon iconName='PlayForWork' />}\n                                {...a11yProps(2)} />\n                        </Tabs>\n                    </AppBar>\n                </div>\n                <div className={cls.switchesRenderWrapper}>\n                    <span>\n                        {allBlocks.map(el => {\n                            const { name, id, icon, adapter } = el.getStaticData();\n                            return <Fragment key={id}>\n                                <CustomDragItem\n                                    onTouchMove={() => setHamburgerOnOff(true)}\n                                    setTourStep={setTourStep}\n                                    tourStep={tourStep}\n                                    isTourOpen={isTourOpen}\n                                    allProperties={el.getStaticData()}\n                                    name={name}\n                                    icon={icon}\n                                    adapter={adapter}\n                                    socket={socket}\n                                    userRules={userRules}\n                                    setUserRules={onChangeBlocks}\n                                    isActive={false}\n                                    id={id}\n                                />\n                            </Fragment>;\n                        })}\n                        {allBlocks.length === 0 && <div className={cls.nothingFound}>\n                            {I18n.t('Nothing found')}...\n                            <div className={cls.resetSearch} onClick={() => {\n                                setFilter({\n                                    ...filter,\n                                    text: ''\n                                });\n                                setBlocksFunc('');\n                            }}>{I18n.t('reset search')}</div>\n                        </div>}\n                    </span>\n                </div>\n                <div className={Utils.clsx(cls.menuTitle, cls.marginAuto)} />\n                <CustomInput\n                    className={cls.inputWidth}\n                    fullWidth\n                    customValue\n                    value={filter.text}\n                    size=\"small\"\n                    autoComplete=\"off\"\n                    label={I18n.t('search')}\n                    variant=\"outlined\"\n                    onChange={(value) => {\n                        setFilter({ ...filter, text: value });\n                        setBlocksFunc(value);\n                    }}\n                />\n            </div>\n        </div>\n    </ClickAwayListener>;\n}\n\nMenu.propTypes = {\n    onChange: PropTypes.func,\n    code: PropTypes.string\n};\n\nexport default Menu;\n","import React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport cls from './style.module.scss';\n\nimport { CustomDragLayer } from './components/CustomDragLayer';\nimport ContentBlockItems from './components/ContentBlockItems';\nimport { ContextWrapperCreate } from './components/ContextWrapper';\nimport Compile from './helpers/Compile';\nimport Menu from './components/Menu';\nimport './helpers/stylesVariables.scss';\n\nimport DialogExport from '../../Dialogs/Export';\nimport DialogImport from '../../Dialogs/Import';\n\nconst RulesEditor = ({ code, onChange, themeName, setTourStep, tourStep, isTourOpen, command, scriptId, changed, running }) => {\n    // eslint-disable-next-line no-unused-vars\n    const { blocks, socket, setOnUpdate, setOnDebugMessage, setEnableSimulation } = useContext(ContextWrapperCreate);\n    const [allBlocks, setAllBlocks] = useState([]);\n    const [userRules, setUserRules] = useState(Compile.code2json(code));\n    const [importExport, setImportExport] = useState('');\n    const [modal, setModal] = useState(false);\n    //const [jsAlive, setJsAlive] = useState(false);\n    //const [jsInstance, setJsInstance] = useState(false);\n\n    useEffect(() => {\n        let _jsInstance;\n        let _jsAlive;\n        const handler = (id, obj) => {\n            if (id === _jsInstance + '.alive') {\n                if (_jsAlive !== obj?.val) {\n                    _jsAlive = obj?.val;\n                    //setJsAlive(_jsAlive);\n                    _jsAlive && socket.sendTo(_jsInstance.replace(/^system\\.adapter\\./, ''), 'rulesOn', scriptId);\n                }\n            } else {\n                if (_jsInstance !== obj?.common?.engine) {\n                    _jsInstance && socket.unsubscribeState(`${_jsInstance}.alive`, handler);\n                    _jsAlive && socket.sendTo(_jsInstance.replace(/^system\\.adapter\\./, ''), 'rulesOn', scriptId);\n                    _jsInstance = obj?.common?.engine;\n                    //setJsInstance(_jsInstance);\n                    _jsInstance && socket.subscribeState(`${_jsInstance}.alive`, handler);\n                }\n            }\n        };\n\n        const handlerStatus = (id, state) => {\n            if (state) {\n                try {\n                    let msg = JSON.parse(state.val);\n                    // if not from previous session\n                    if (msg.ruleId === scriptId && Date.now() - msg.ts < 1000) {\n                        setOnDebugMessage({blockId: msg.blockId, data: msg.data, ts: msg.ts});\n                    }\n                } catch (e) {\n                    console.error('Cannot parse: ' + state.val);\n                }\n            }\n        };\n\n        socket.getObject(scriptId)\n            .then(obj => {\n                _jsInstance = obj?.common?.engine;\n                //setJsInstance(_jsInstance);\n                socket.subscribeObject(scriptId, handler);\n                _jsInstance && socket.subscribeState(`${_jsInstance}.alive`, handler);\n                _jsInstance && socket.subscribeState(_jsInstance.replace(/^system\\.adapter\\./, '') + '.debug.rules', handlerStatus);\n            });\n\n        return function cleanup() {\n            _jsInstance && socket.unsubscribeObject(`${_jsInstance}.alive`, handler);\n            socket.unsubscribeState(scriptId, handler);\n            _jsAlive && _jsInstance && socket.sendTo(_jsInstance.replace(/^system\\.adapter\\./, ''), 'rulesOff', scriptId);\n            _jsInstance && socket.unsubscribeState(_jsInstance.replace(/^system\\.adapter\\./, '') + '.debug.rules', handlerStatus);\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        setEnableSimulation(!changed && running);\n    }, [changed, running, setEnableSimulation]);\n\n    useEffect(() => {\n        if (!!command) {\n            setImportExport(command);\n            if (!modal) {\n                setModal(true);\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [command]);\n\n    useEffect(() => {\n        const newUserRules = Compile.code2json(code);\n        if (JSON.stringify(newUserRules) !== JSON.stringify(userRules)) {\n            setUserRules(newUserRules);\n            setOnUpdate(true);\n        }\n        // eslint-disable-next-line\n    }, [code]);\n\n    useEffect(() => {\n        document.getElementsByTagName('HTML')[0].className = themeName || 'blue';\n    }, [themeName]);\n\n    const onChangeBlocks = useCallback(json => {\n        setUserRules(json);\n        onChange(Compile.json2code(json, blocks));\n    }, [blocks, onChange]);\n\n    const ref = useRef({ clientWidth: 0 });\n    const [addClass, setAddClass] = useState({ 835: false, 1035: false });\n    useEffect(() => {\n        if (ref.current) {\n            if (ref.current.clientWidth <= 1035) {\n                setAddClass({ 835: false, 1035: true });\n            }\n            if (ref.current.clientWidth <= 835) {\n                setAddClass({ 1035: true, 835: true });\n            }\n            if (ref.current.clientWidth > 1035) {\n                setAddClass({ 835: false, 1035: false });\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [ref.current.clientWidth])\n\n    if (!blocks) {\n        return null;\n    }\n\n    return <div key=\"rulesEditor\" className={cls.wrapperRules} ref={ref}>\n        {<CustomDragLayer allBlocks={allBlocks} socket={socket} />}\n        {importExport === \"export\" ?\n            <DialogExport\n                key=\"dialogExport\"\n                onClose={() => setModal(false)}\n                open={modal}\n                text={JSON.stringify(userRules, null, 2)} /> :\n            <DialogImport\n                open={modal}\n                key=\"dialogImport\"\n                onClose={text => {\n                    setModal(false);\n                    if (text) {\n                        onChangeBlocks(JSON.parse(text));\n                    }\n                }} />}\n        {<div className={Utils.clsx(cls.rootWrapper, addClass[835] && cls.addClass)}>\n            <Menu\n                setAllBlocks={setAllBlocks}\n                allBlocks={allBlocks}\n                userRules={userRules}\n                onChangeBlocks={onChangeBlocks}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                addClass={addClass}\n                isTourOpen={isTourOpen}\n            />\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                userRules={userRules}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                name={`${I18n.t('when')}...`}\n                typeBlock=\"triggers\"\n                iconName=\"FlashOn\"\n                size={addClass[835]}\n            />\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                userRules={userRules}\n                name={`...${I18n.t('and')}...`}\n                typeBlock=\"conditions\"\n                iconName=\"Help\"\n                nameAdditionally={I18n.t('or')}\n                additionally\n                border\n                size={addClass[835]}\n            />\n            <ContentBlockItems\n                setUserRules={onChangeBlocks}\n                isTourOpen={isTourOpen}\n                setTourStep={setTourStep}\n                tourStep={tourStep}\n                userRules={userRules}\n                name={`...${I18n.t('then')}`}\n                typeBlock=\"actions\"\n                iconName=\"PlayForWork\"\n                nameAdditionally={I18n.t('else')}\n                additionally\n                size={addClass[835]}\n            />\n        </div>}\n    </div>;\n}\n\nRulesEditor.propTypes = {\n    onChange: PropTypes.func,\n    code: PropTypes.string,\n    scriptId: PropTypes.string,\n    setTourStep: PropTypes.func,\n    tourStep: PropTypes.number,\n    command: PropTypes.string,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    searchText: PropTypes.string,\n    resizing: PropTypes.bool,\n\n};\n\nexport default RulesEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\nimport ScriptEditorComponent from '../ScriptEditorVanilaMonaco';\n\nconst styles = theme => ({\n    editorDiv: {\n        height: '100%',\n        width: '100%',\n        overflow: 'hidden',\n        position: 'relative'\n    },\n    editor: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto',\n    },\n    line: {\n        width: '100%',\n        whiteSpace: 'nowrap',\n    },\n    lineNumber: {\n        width: 40,\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        display: 'inline-block',\n        fontFamily: 'Lucida Console, Courier, monospace',\n        textAlign: 'right',\n        fontSize: 14,\n        marginRight: 1,\n        borderRight: '1px solid #555',\n        cursor: 'pointer'\n    },\n    lineBreakpoint: {\n        background: '#330000',\n        color: 'white',\n    },\n    lineCode: {\n        //whiteSpace: 'nowrap',\n        display: 'inline-block',\n        fontFamily: 'Lucida Console, Courier, monospace',\n        fontSize: 14,\n        margin: 0,\n        whiteSpace: 'pre',\n    },\n    lineCurrentCode: {\n        background: 'red',\n        color: 'white',\n    },\n    lineCurrent: {\n        background: '#880000',\n        color: 'white',\n    },\n});\n\nclass Editor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            lines: (this.props.script || '').split(/\\r\\n|\\n/)\n        };\n    }\n\n    editorDidMount(editor, monaco) {\n        this.monaco = monaco;\n        this.editor = editor;\n        editor.focus();\n    }\n\n    render() {\n        return <div className={this.props.classes.editorDiv} key=\"scriptEditorDiv2\">\n            <ScriptEditorComponent\n                key=\"scriptEditor2\"\n                name={this.props.scriptName}\n                adapterName={this.props.adapterName}\n                readOnly\n                code={this.props.script || ''}\n                isDark={this.props.themeType === 'dark'}\n                socket={this.props.socket}\n                runningInstances={this.props.runningInstances}\n                language={'javascript'}\n\n                breakpoints={this.props.breakpoints}\n                location={this.props.paused ? this.props.location : null}\n                onToggleBreakpoint={i => this.props.onToggleBreakpoint(i)}\n            />\n        </div>;\n    }\n}\n\nEditor.propTypes = {\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    sourceId: PropTypes.string,\n    script: PropTypes.string,\n    scriptName: PropTypes.string,\n    adapterName: PropTypes.string,\n    paused: PropTypes.bool,\n    breakpoints: PropTypes.array,\n    location: PropTypes.object,\n    themeType: PropTypes.string,\n    themeName: PropTypes.string,\n    onToggleBreakpoint: PropTypes.func,\n};\n\nexport default withStyles(styles)(Editor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\n\nimport IconButton from '@mui/material/IconButton';\n\nimport {\n    MdContentCopy as IconCopy,\n    MdDeleteForever as IconDelete,\n    MdVerticalAlignBottom as IconBottom,\n} from 'react-icons/md';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nconst TOOLBOX_WIDTH = 34;\n\nconst styles = theme => ({\n    consoleLine: {\n        fontSize: 14,\n        color: theme.palette.mode === 'dark' ? '#EEE' : '#222',\n    },\n    console_log: {\n\n    },\n    console_warn: {\n        backgroundColor: theme.palette.mode === 'dark' ? '#885900' : '#ffa500',\n    },\n    console_error: {\n        backgroundColor: theme.palette.mode === 'dark' ? '#7a0000' : '#FF0000',\n    },\n    console_debug: {\n        opacity: 0.6,\n    },\n    consoleSeverity: {\n        verticalAlign: 'top',\n        width: 50,\n        textTransform: 'uppercase',\n    },\n    consoleTime: {\n        whiteSpace: 'nowrap',\n        verticalAlign: 'top',\n        width: 170,\n    },\n    consoleText: {\n        fontFamily: 'Lucida Console, Courier, monospace',\n        paddingTop: 4,\n        '&>pre': {\n            margin: 0,\n        },\n    },\n    logBox: {\n        width: '100%',\n        height: '100%',\n        position: 'relative',\n        overflow: 'hidden',\n    },\n    logBoxInner: {\n        display: 'inline-block',\n        color: theme.palette.mode === 'dark' ? 'white' : 'black',\n        width: `calc(100% - ${TOOLBOX_WIDTH}px)`,\n        height: '100%',\n        //marginLeft: TOOLBOX_WIDTH,\n        overflow: 'auto',\n        position: 'relative',\n        verticalAlign: 'top',\n    },\n    info: {\n        background: theme.palette.mode === 'dark' ? 'darkgrey' : 'lightgrey',\n        color: theme.palette.mode === 'dark' ?  'black' : 'black',\n    },\n    error: {\n        background: '#FF0000',\n        color: theme.palette.mode === 'dark' ?  'black' : 'white',\n    },\n    warn: {\n        background: '#FF8000',\n        color: theme.palette.mode === 'dark' ?  'black' : 'white',\n    },\n    debug: {\n        background: 'gray',\n        opacity: 0.8,\n        color: theme.palette.mode === 'dark' ?  'black' : 'white',\n    },\n    silly: {\n        background: 'gray',\n        opacity: 0.6,\n        color: theme.palette.mode === 'dark' ? 'black' : 'white',\n    },\n    table: {\n        fontFamily: 'monospace',\n        width: '100%',\n    },\n    toolbox: {\n        //position: 'absolute',\n        //top: 0,\n        //left: 0,\n        //marginLeft: 2,\n        width: TOOLBOX_WIDTH,\n        height: '100%',\n        boxShadow: '2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0px rgba(0, 0, 0, 0.14), 1px 0px 10px 0px rgba(0, 0, 0, 0.12)',\n        display: 'inline-block',\n        verticalAlign: 'top',\n        overflow: 'hidden',\n    },\n    trTime: {\n        width: 90,\n    },\n    trSeverity: {\n        width: 40,\n        fontWeight: 'bold',\n    },\n    iconButtons: {\n        width: 32,\n        height: 32,\n        padding: 4,\n    },\n});\n\nfunction getTimeString(d) {\n    let text;\n    let i = d.getHours();\n    if (i < 10) {\n        i = '0' + i.toString();\n    }\n    text = i + ':';\n\n    i = d.getMinutes();\n    if (i < 10) {\n        i = '0' + i.toString();\n    }\n    text += i + ':';\n    i = d.getSeconds();\n    if (i < 10) {\n        i = '0' + i.toString();\n    }\n    text += i + '.';\n    i = d.getMilliseconds();\n    if (i < 10) {\n        i = '00' + i.toString();\n    } else if (i < 100) {\n        i = '0' + i.toString();\n    }\n    text += i;\n    return text;\n}\n\nclass Console extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            lines: {},\n            goBottom: true,\n        };\n        this.messagesEnd = React.createRef();\n    }\n    generateLine(message) {\n        return <tr key={`tr_${message.ts}_${message.text.substr(-10)}`} className={this.props.classes[message.severity]}>\n            <td key=\"tdTime\" className={this.props.classes.trTime}>{getTimeString(new Date(message.ts))}</td>\n            <td key=\"tdSeverity\" className={this.props.classes.trSeverity}>{message.severity}</td>\n            <td key=\"tdMessage\">{message.text}</td>\n        </tr>;\n    }\n    renderLogList(lines) {\n        if (lines && lines.length) {\n            return <div className={this.props.classes.logBoxInner} key=\"logList\">\n                <table key=\"logTable\" className={this.props.classes.table}><tbody>\n                {lines.map((line, i) => this.generateLine(line))}</tbody></table>\n                <div key=\"logScrollPoint\" ref={this.messagesEnd} style={{float: 'left', clear: 'both'}}/>\n            </div>;\n        } else {\n            return <div key=\"logList\" className={this.props.classes.logBoxInner} style={{paddingLeft: 10}}>{I18n.t('Log outputs')}</div>;\n        }\n    }\n\n    onCopy() {\n        Utils.copyToClipboard(this.props.console.join('\\n'));\n    }\n\n    scrollToBottom() {\n        this.messagesEnd && this.messagesEnd.current && this.messagesEnd.current.scrollIntoView({behavior: 'smooth'});\n    }\n\n    componentDidUpdate() {\n        this.state.goBottom && this.scrollToBottom();\n    }\n\n    render() {\n        const lines = this.props.console;\n        return (\n            <div className={this.props.classes.logBox}>\n                <div className={this.props.classes.toolbox} key=\"toolbox\">\n                    <IconButton\n                        className={this.props.classes.iconButtons}\n                        onClick={() => this.setState({goBottom: !this.state.goBottom})}\n                        color={this.state.goBottom ? 'secondary' : ''}\n                        size=\"medium\"><IconBottom/></IconButton>\n                    {lines && lines.length ? <IconButton\n                        className={this.props.classes.iconButtons}\n                        onClick={() => this.props.onClearAllLogs()}\n                        size=\"medium\"><IconDelete/></IconButton> : null}\n                    {lines && lines.length ? <IconButton\n                        className={this.props.classes.iconButtons}\n                        onClick={() => this.onCopy()}\n                        size=\"medium\"><IconCopy/></IconButton> : null}\n                </div>\n                {this.renderLogList(lines)}\n            </div>\n        );\n    }\n}\n\nConsole.propTypes = {\n    theme: PropTypes.object,\n    onClearAllLogs: PropTypes.func,\n    console: PropTypes.array,\n};\n\nexport default withStyles(styles)(Console);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\nimport SplitterLayout from 'react-splitter-layout';\nimport ReactJson  from 'react-json-view';\n\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemText from '@mui/material/ListItemText';\nimport Input from '@mui/material/Input';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport IconButton from '@mui/material/IconButton';\nimport List from '@mui/material/List';\n\nimport { MdCheck as CheckIcon } from 'react-icons/md';\nimport { MdAdd as IconAdd } from 'react-icons/md';\nimport { MdDelete as IconDelete } from 'react-icons/md';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nconst styles = theme => ({\n    frameRoot: {\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n    frameTextRoot: {\n        margin: 0,\n    },\n    frameTextPrimary: {\n        color: theme.palette.mode === 'dark' ? '#CCC' : '#333',\n    },\n    frameTextSecondary: {\n        fontStyle: 'italic',\n        fontSize: 12,\n        opacity: 0.6,\n        paddingLeft: theme.spacing(1),\n    },\n\n    listRoot: {\n        padding: 0,\n    },\n\n    scopeType: {\n        verticalAlign: 'top',\n        textTransform: 'uppercase',\n        width: 50,\n    },\n    scopeType_local: {\n        color: '#53a944'\n    },\n    scopeType_closure: {\n        color: '#365b80'\n    },\n    scopeType_user: {\n        color: '#a48a15'\n    },\n    scopeName: {\n        color: '#bc5b5b',\n        width: 'calc(100% - 82px)',\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis',\n    },\n    scopeButton: {\n        width: 32\n    },\n    scopeValueEditable: {\n        cursor: 'pointer'\n    },\n    selectedFrame: {\n        backgroundColor: '#777',\n        color: 'white'\n    },\n    splitter: {\n        width: '100%',\n        height: 'calc(100% - 36px)',\n        overflow: 'hidden',\n        fontSize: 12\n    },\n\n    toolbarScopes: {\n        width: 24,\n        display: 'inline-block',\n        height: '100%',\n        background: theme.palette.mode === 'dark' ? '#222' : '#EEE',\n        verticalAlign: 'top',\n    },\n    scopesAfterToolbar: {\n        width: 'calc(100% - 24px)',\n        display: 'inline-block',\n        height: '100%',\n        verticalAlign: 'top',\n    },\n\n    scopeNameName: {\n        fontWeight: 'bold',\n        display: 'inline-block',\n        verticalAlign: 'top',\n    },\n    scopeNameEqual: {\n        display: 'inline-block',\n        color: theme.palette.mode === 'dark' ? '#EEE' : '#222',\n        verticalAlign: 'top',\n    },\n    scopeNameValue: {\n        verticalAlign: 'top',\n        display: 'inline-block',\n        color: '#3b709f',\n        whiteSpace: 'nowrap',\n    },\n    scopeButtonDel: {\n        padding: 0,\n        float: 'right',\n    },\n\n    valueNull: {\n        color: '#a44a24'\n    },\n    valueUndefined: {\n        color: '#a44a24'\n    },\n    valueString: {\n        color: '#1e8816'\n    },\n    valueNumber: {\n        color: '#163c88'\n    },\n    valueBoolean: {\n        color: '#a44a24'\n    },\n    valueObject: {\n        color: '#721b70'\n    },\n    valueNone: {\n        color: '#8a8a8a'\n    },\n    valueFunc: {\n        color: '#ac4343'\n    }\n});\n\nclass Stack extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.framesSize = parseFloat(window.localStorage.getItem('App.framesSize')) || 300;\n\n        this.state = {\n            editValue: null,\n            callFrames: this.props.callFrames,\n        };\n\n        this.editRef = React.createRef();\n    }\n\n    onExpressionNameUpdate() {\n        this.props.onExpressionNameUpdate(this.state.editValue.index, this.scopeValue, () => {\n            this.setState({editValue: null});\n            this.scopeValue = null;\n        });\n    }\n\n    renderExpression(item, i) {\n        const name = this.state.editValue && this.state.editValue.type === 'expression' && this.state.editValue.index === i ?\n            <Input\n                inputRef={this.editRef}\n                fullWidth\n                margin=\"dense\"\n                onBlur={() => this.state.editValue && this.setState({editValue: null})}\n                defaultValue={item.name}\n                onKeyUp={e => {\n                    if (e.keyCode === 13) {\n                        this.onExpressionNameUpdate();\n                    } else if (e.keyCode === 27) {\n                        this.setState({editValue: null});\n                    }\n                }}\n\n                onChange={e =>\n                    this.scopeValue = e.target.value}\n\n                endAdornment={\n                    <InputAdornment position=\"end\">\n                        <IconButton onClick={() => this.onExpressionNameUpdate()} size=\"medium\">\n                            <CheckIcon/>\n                        </IconButton>\n                    </InputAdornment>\n                }\n            />\n            :\n            [\n                <div key=\"name\" className={this.props.classes.scopeNameName} title={I18n.t('Double click to edit expression')}>{item.name}</div>,\n                <div key=\"=\" className={this.props.classes.scopeNameEqual}> = </div>,\n                <div key=\"val\" className={this.props.classes.scopeNameValue}>{this.formatValue(item.value)}</div>\n            ];\n\n        return <tr key={`user_${i}${item.name}`}>\n            <td className={Utils.clsx(this.props.classes.scopeType, this.props.classes['scopeType_user'])}>user</td>\n            <td className={this.props.classes.scopeName}\n                onDoubleClick={() => {\n                    this.scopeValue = item.name || '';\n                    this.setState({\n                        editValue: {\n                            type: 'expression',\n                            valueType: 'string',\n                            index: i,\n                            name: item.name,\n                            value: item.name || ''\n                        }\n                    });\n                }}\n            >{name}</td>\n            <IconButton\n                className={this.props.classes.scopeButtonDel}\n                size=\"small\"\n                disabled={!!this.state.editValue}\n                onClick={() => this.props.onExpressionDelete(i)}\n            >\n                <IconDelete/>\n            </IconButton>\n        </tr>\n    }\n\n    renderExpressions() {\n        return this.props.expressions.map((item, i) => this.renderExpression(item, i));\n    }\n\n    renderOneFrameTitle(frame, i) {\n        if (this.props.mainScriptId === this.props.currentScriptId && frame.location.scriptId !== this.props.mainScriptId) {\n            return null;\n        }\n        const fileName = frame.url.split('/').pop().replace(/^script\\.js\\./, '');\n        return <ListItemButton\n            key={frame.id}\n            onClick={() => this.props.onChangeCurrentFrame(i)}\n            dense\n            selected={this.props.currentFrame === i}\n            classes={{ root: this.props.classes.frameRoot }}\n        >\n            <ListItemText\n                classes={{root: this.props.classes.frameTextRoot, primary: this.props.classes.frameTextPrimary, secondary: this.props.classes.frameTextSecondary}}\n                title={frame.url}\n                primary={frame.functionName || 'anonymous'}\n                secondary={`${fileName} (${frame.location.lineNumber}:${frame.location.columnNumber})`}\n            />\n        </ListItemButton>;\n    }\n\n    formatValue(value, forEdit) {\n        if (!value) {\n            if (forEdit) {\n                return 'none';\n            } else {\n                return <span className={this.props.classes.valueNone}>none</span>;\n            }\n        } else if (value.type === 'function') {\n            const text = value.description ? (value.description.length > 100 ? value.description.substring(0, 100) + '...' : value.description) : 'function';\n            if (forEdit) {\n                return text;\n            } else {\n                return <span className={this.props.classes.valueFunc} title={value.description}>{text}</span>;\n            }\n        } else if (value.value === undefined) {\n            if (forEdit) {\n                return 'undefined';\n            } else {\n                return <span className={this.props.classes.valueUndefined}>undefined</span>;\n            }\n        } else if (value.value === null) {\n            if (forEdit) {\n                return 'null';\n            } else {\n                return <span className={this.props.classes.valueNull}>null</span>;\n            }\n        } else if (value.type === 'string') {\n            if (forEdit) {\n                return value.value;\n            } else {\n                const text = value.value ? (value.value.length > 100 ? value.value.substring(0, 100) + '...' : value.value) : '';\n                return <span className={this.props.classes.valueString} title={text}>\"{text}\"</span>;\n            }\n        } else if (value.type === 'boolean') {\n            if (forEdit) {\n                return value.value.toString();\n            } else {\n                return <span className={this.props.classes.valueBoolean}>{value.value.toString()}</span>;\n            }\n        } else if (value.type === 'object') {\n            if (forEdit) {\n                return JSON.stringify(value.value);\n            } else {\n                return <ReactJson\n                    enableClipboard={false}\n                    style={{backgroundColor: 'inherit', marginTop: 3}}\n                    src={value.value}\n                    collapsed\n                    theme={this.props.themeType === 'dark' ? 'brewer' : 'rjv-default'}\n                    displayDataTypes={false}\n                />;\n            }\n        } else {\n            return value.value.toString();\n        }\n    }\n\n    onWriteScopeValue() {\n        if (this.scopeValue === 'true') {\n            this.scopeValue = true;\n        } else if (this.scopeValue === 'false') {\n            this.scopeValue = false;\n        } else if (this.scopeValue === 'null') {\n            this.scopeValue = null;\n        } else if (this.scopeValue === 'undefined') {\n            this.scopeValue = undefined;\n        } else\n        if (parseFloat(this.scopeValue).toString() === this.scopeValue) {\n            this.scopeValue = parseFloat(this.scopeValue);\n        }\n\n        this.props.onWriteScopeValue({\n            variableName: this.state.editValue.name,\n            scopeNumber: 0,\n            newValue: {\n                value: this.scopeValue,\n                valueType: typeof this.scopeValue,\n            },\n            callFrameId: this.props.callFrames[this.props.currentFrame].callFrameId\n        });\n\n        this.setState({editValue: null});\n        this.scopeValue = null;\n    }\n\n    componentDidUpdate() {\n        //this.editRef.current?.select();\n        this.editRef.current?.focus();\n    }\n\n    renderScope(scopeId, item, type) {\n        const editable = !this.props.currentFrame && item.value && (item.value.type === 'undefined' || item.value.type === 'string' || item.value.type === 'number' || item.value.type === 'boolean' || item.value?.value === null || item.value?.value === undefined);\n\n        const el = this.state.editValue && this.state.editValue.type === type && this.state.editValue.name === item.name ?\n            [\n                <div key=\"name\" className={this.props.classes.scopeNameName}>{item.name}</div>,\n                <div key=\"=\" className={this.props.classes.scopeNameEqual}> = </div>,\n                <Input\n                    inputRef={this.editRef}\n                    margin=\"dense\"\n                    onBlur={() => this.state.editValue && this.setState({editValue: null})}\n                    defaultValue={this.formatValue(item.value, true)}\n                    onKeyUp={e => {\n                        if (e.keyCode === 13) {\n                            this.onWriteScopeValue()\n                        } else if (e.keyCode === 27) {\n                            this.setState({editValue: null})\n                        }\n                    }}\n                    onChange={e =>\n                        this.scopeValue = e.target.value}\n                    endAdornment={\n                        <InputAdornment position=\"end\">\n                            <IconButton onClick={() => this.onWriteScopeValue()} size=\"medium\">\n                                <CheckIcon/>\n                            </IconButton>\n                        </InputAdornment>\n                    }\n                />\n            ]\n            :\n            [\n                <div key=\"name\" className={this.props.classes.scopeNameName} title={I18n.t('Double click to write value')}>{item.name}</div>,\n                <div key=\"=\" className={this.props.classes.scopeNameEqual}> = </div>,\n                <div key=\"val\" className={this.props.classes.scopeNameValue}>{this.formatValue(item.value)} ({item.value.type})</div>\n            ];\n\n\n        return <tr key={`${type}_${scopeId}_${item.name}`}>\n            <td className={Utils.clsx(this.props.classes.scopeType, this.props.classes['scopeType_' + type])}>{type}</td>\n            <td\n                className={Utils.clsx(this.props.classes.scopeName, !this.props.currentFrame && editable && this.props.classes.scopeValueEditable)}\n                onDoubleClick={() => {\n                    if (editable) {\n                        this.scopeValue = item.value.value;\n                        this.setState({\n                            editValue: {\n                                scopeId,\n                                type,\n                                valueType: item.value.type,\n                                name: item.name,\n                                value: item.value.value\n                            }\n                        });\n                    }\n                }}\n            >{el}</td>\n        </tr>;\n    }\n\n    renderScopes(frame) {\n        if (!frame) {\n            return null;\n        } else {\n            // first local\n            let result = this.renderExpressions();\n\n            let items = this.props.scopes?.local?.properties?.result.map(item => this.renderScope(this.props.scopes.id, item, 'local'));\n            items && items.forEach(item => result.push(item));\n\n            items = this.props.scopes?.closure?.properties?.result.map(item => this.renderScope(this.props.scopes.id, item, 'closure'));\n            items && items.forEach(item => result.push(item));\n\n            return <table style={{width: '100%'}}>\n                <tbody>\n                    {result}\n                </tbody>\n            </table>;\n        }\n    }\n\n    render() {\n        return <SplitterLayout\n            customClassName={this.props.classes.splitter}\n            primaryIndex={1}\n            secondaryMinSize={200}\n            primaryMinSize={200}\n            vertical={false}\n            secondaryInitialSize={this.framesSize}\n            onSecondaryPaneSizeChange={size => this.framesSize = parseFloat(size)}\n            onDragEnd={() => window.localStorage.setItem('App.framesSize', this.framesSize.toString())}\n        >\n            <div style={{width: '100%', height: '100%', overflow: 'auto'}}>\n                <List classes={{root: this.props.classes.listRoot}}>\n                    {this.props.callFrames ? this.props.callFrames.map((frame, i) =>\n                        this.renderOneFrameTitle(frame, i)) : null}\n                </List>\n            </div>\n            <div style={{width: '100%', height: '100%', overflow: 'auto'}}>\n                <div className={this.props.classes.toolbarScopes}>\n                    <IconButton size=\"small\" onClick={() => this.props.onExpressionAdd((i, item) => {\n                        this.scopeValue = item.name || '';\n                        this.setState({\n                            editValue: {\n                                type: 'expression',\n                                valueType: 'string',\n                                index: i,\n                                name: item.name,\n                                value: item.name || ''\n                            }\n                        });\n                    })}><IconAdd/></IconButton>\n                </div>\n                <div className={this.props.classes.scopesAfterToolbar}>\n                    {this.props.callFrames && this.props.callFrames.length && this.renderScopes(this.props.callFrames[this.props.currentFrame])}\n                </div>\n            </div>\n        </SplitterLayout>;\n    }\n}\n\nStack.propTypes = {\n    currentScriptId: PropTypes.string,\n    mainScriptId: PropTypes.string,\n    scopes: PropTypes.object,\n    expressions: PropTypes.array,\n    callFrames: PropTypes.array,\n    currentFrame: PropTypes.number,\n    onChangeCurrentFrame: PropTypes.func,\n    onWriteScopeValue: PropTypes.func,\n    onExpressionDelete: PropTypes.func,\n    onExpressionAdd: PropTypes.func,\n    onExpressionNameUpdate: PropTypes.func,\n    themeType: PropTypes.string,\n};\n\nexport default withStyles(styles)(Stack);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\nimport SplitterLayout from 'react-splitter-layout';\n\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Toolbar from '@mui/material/Toolbar';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport IconButton from '@mui/material/IconButton';\nimport List from '@mui/material/List';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemText from '@mui/material/ListItemText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Dialog from '@mui/material/Dialog';\nimport Badge from '@mui/material/Badge';\n\nimport { MdClose as IconClose, MdPlayArrow as IconRun } from 'react-icons/md';\nimport { MdPause as IconPause } from 'react-icons/md';\nimport { MdArrowForward as IconNext } from 'react-icons/md';\nimport { MdArrowDownward as IconStep } from 'react-icons/md';\nimport { MdArrowUpward as IconOut } from 'react-icons/md';\nimport { MdRefresh as IconRestart } from 'react-icons/md';\nimport { MdWarning as IconException } from 'react-icons/md';\n\nimport { I18n, Utils } from '@iobroker/adapter-react-v5';\n\nimport DialogError from '../../Dialogs/Error';\nimport Editor from './Editor';\nimport Console from './Console';\nimport Stack from './Stack';\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n        height: `calc(100% - ${theme.toolbar.height + 38/*Theme.toolbar.height */ + 5}px)`,\n        overflow: 'hidden',\n        position: 'relative'\n    },\n    toolbar: {\n        minHeight: 38,//Theme.toolbar.height,\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)'\n    },\n    buttonRun: {\n        color: 'green'\n    },\n    buttonPause: {\n        color: 'orange'\n    },\n    buttonRestart: {\n        color: 'darkgreen'\n    },\n    buttonStop: {\n        color: 'red'\n    },\n    buttonNext: {\n        color: 'blue'\n    },\n    buttonStep: {\n        color: 'blue'\n    },\n    buttonOut: {\n        color: 'blue'\n    },\n    buttonException: {\n\n    },\n\n    tabFile: {\n        textTransform: 'inherit',\n        color: theme.palette.mode === 'dark' ? '#DDD' : 'inherit'\n    },\n    tabText: {\n        maxWidth: 130,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    closeButton: {\n        position: 'absolute',\n        top: 8,\n        right: 0,\n        zIndex: 10,\n        padding: 8,\n        cursor: 'pointer'\n    },\n\n    tabsRoot: {\n        minHeight: 24,\n        background: theme.palette.mode === 'dark' ? '#333' : '#e6e6e6',\n        color: theme.palette.mode === 'dark' ? 'white' : 'inherit'\n    },\n    tabRoot: {\n        minHeight: 24,\n    },\n\n    bpListItem: {\n        borderTop: '1px dashed #bfbfbf44',\n    },\n    monospace: {\n        fontFamily: 'Courier New, monospace',\n        whiteSpace: 'pre',\n        fontSize: 12,\n    },\n    arrow: {\n        color: '#fffa4f',\n    },\n    splitter: {\n        height: 'calc(100% - 52px)',\n        '& .layout-pane': {\n            overflow: 'hidden',\n            height: '100%'\n        }\n    }\n});\n\nclass Debugger extends React.Component {\n    constructor(props) {\n        super(props);\n        let breakpoints = window.localStorage.getItem('javascript.tools.bp.' + this.props.src);\n        try {\n            breakpoints = breakpoints ? JSON.parse(breakpoints) : [];\n        } catch (e) {\n            breakpoints = [];\n        }\n\n        let expressions = window.localStorage.getItem('javascript.tools.exps.' + this.props.src);\n        try {\n            expressions = expressions ? JSON.parse(expressions) : [];\n            expressions = expressions.map(name => ({name}));\n        } catch (e) {\n            expressions = [];\n        }\n\n        this.toolSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.toolSize')) || 150 : 150;\n\n        this.state = {\n            starting: true,\n            selected: null,\n            tabs: {},\n            script: '',\n            breakpoints,\n            expressions,\n            running: false,\n            error: '',\n            started: false,\n            paused: true,\n            location: null,\n            toolsTab: window.localStorage.getItem('javascript.tools.tab') || 'console',\n            stopOnException: window.localStorage.getItem('javascript.tools.stopOnException') === 'true',\n            console: [],\n            finished: false,\n            currentFrame: 0,\n            scopes: {},\n            queryBreakpoints: null,\n            logErrors: 0,\n            logWarnings: 0,\n            logs: 0,\n        };\n\n        this.scripts = {};\n        this.mainScriptId = null;\n    }\n\n    componentDidMount() {\n        new Promise(resolve => {\n            if (this.props.debugInstance) {\n                resolve(this.props.debugInstance.instance);\n            } else {\n                this.props.socket.getObject(this.props.src)\n                    .then(obj => resolve(obj?.common?.engine?.replace('system.adapter.', '')));\n            }\n        })\n            .then(instance =>\n                this.setState({ instance }, () => {\n                    if (this.state.instance) {\n                        this.props.socket.setState(`${this.state.instance}.debug.from`, { val: '{\"cmd\": \"subscribed\"}', ack: true });\n                        //.then(() => );\n                        setTimeout(() =>\n                            this.props.socket.subscribeState(`${this.state.instance}.debug.from`, this.fromInstance), 200);\n                    } else {\n                        this.setState({ error: 'Unknown instance' });\n                    }\n                }));\n    }\n\n    componentWillUnmount() {\n        if (this.state.instance) {\n            this.props.socket.unsubscribeState(`${this.state.instance}.debug.from`, this.fromInstance);\n            this.props.socket.sendTo(this.state.instance, 'debugStop');\n        }\n    }\n\n    sendToInstance(cmd) {\n        this.props.socket.setState(`${this.state.instance}.debug.to`, { val: JSON.stringify(cmd), ack: false });\n    }\n\n    reinitBreakpoints(cb) {\n        if (this.state.breakpoints.length) {\n            let breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\n            breakpoints = breakpoints.map(item => item.location);\n            this.setState({breakpoints: []}, () => {\n                this.sendToInstance({breakpoints, cmd: 'sb'});\n                if (this.state.stopOnException) {\n                    this.sendToInstance({cmd: 'stopOnException', state: true});\n                }\n\n                cb && cb();\n            });\n        } else if (this.state.stopOnException) {\n            this.sendToInstance({cmd: 'stopOnException', state: true});\n            cb && cb();\n        } else {\n            cb && cb();\n        }\n    }\n\n    getLocation(context) {\n        if (context.callFrames) {\n            const frame = context.callFrames[0];\n            return frame.location;\n        }\n    }\n\n    readCurrentScope() {\n        const frame = this.state.context?.callFrames && this.state.context.callFrames[this.state.currentFrame];\n        if (frame) {\n            const scopes = frame.scopeChain.filter(scope => scope.type !== 'global');\n            if (scopes.length) {\n                this.sendToInstance({cmd: 'scope', scopes});\n            } else if (this.state.scopes.global || this.state.scopes.local || this.state.scopes.closure) {\n                this.setState({scopes: {}});\n            }\n        }\n    }\n\n    readExpressions(i) {\n        if (this.state.expressions.length && this.state.context?.callFrames && this.state.context.callFrames[this.state.currentFrame]) {\n            if (i !== undefined) {\n                this.sendToInstance({\n                    cmd: 'expressions',\n                    expressions: [this.state.expressions[i]],\n                    callFrameId: this.state.context.callFrames[this.state.currentFrame].callFrameId\n                });\n            } else {\n                this.sendToInstance({\n                    cmd: 'expressions',\n                    expressions: this.state.expressions,\n                    callFrameId: this.state.context.callFrames[this.state.currentFrame].callFrameId\n                });\n            }\n        }\n    }\n\n    fromInstance = (id, state) => {\n        try {\n            const data = JSON.parse(state.val);\n            if (data.cmd === 'subscribed') {\n                this.props.socket.sendTo(this.state.instance, 'debug', this.props.debugInstance || {scriptName: this.props.src});\n            } else\n            if (data.cmd === 'readyToDebug') {\n                this.mainScriptId = data.scriptId;\n                this.scripts[data.scriptId] = data.script;\n                if (data.script.startsWith('(async () => {debugger;\\n')) {\n                    this.scripts[data.scriptId] = `(async () => {\\n${data.script.substring('(async () => {debugger;\\n'.length)}`;\n                } else if (data.script.startsWith('debugger;')) {\n                    this.scripts[data.scriptId] = data.script.substring('debugger;'.length);\n                }\n\n                const tabs = JSON.parse(JSON.stringify(this.state.tabs));\n                tabs[data.scriptId] = this.props.debugInstance ? data.url: this.props.src.replace('script.js.', '');\n\n                const ts = `${Date.now()}.${Math.random() * 10000}`;\n                data.context?.callFrames && data.context.callFrames.forEach((item, i) => item.id = ts + i);\n\n                this.setState({\n                    starting: false,\n                    finished: false,\n                    selected: this.mainScriptId,\n                    script: this.scripts[data.scriptId],\n                    tabs,\n                    currentFrame: 0,\n                    started: true,\n                    paused: true,\n                    location: this.getLocation(data.context),\n                    context: data.context,\n                }, () =>\n                    this.reinitBreakpoints(() => {\n                        this.readCurrentScope();\n                        this.readExpressions();\n                    }));\n            } else if (data.cmd === 'paused') {\n                const ts = `${Date.now()}.${Math.random() * 10000}`;\n                data.context?.callFrames && data.context.callFrames.forEach((item, i) => item.id = ts + i);\n                const location = this.getLocation(data.context);\n                const tabs = JSON.parse(JSON.stringify(this.state.tabs));\n                const parts = data.context.callFrames[0].url.split('iobroker.javascript');\n                tabs[location.scriptId] = (parts[1] || parts[0]).replace('script.js.', '');\n\n                const newState = {\n                    tabs,\n                    paused: true,\n                    location,\n                    currentFrame: 0,\n                    context: data.context,\n                    scope: {id: (data.context?.callFrames && data.context.callFrames[0] && data.context.callFrames[0].id) || 0}\n                };\n\n                newState.script = this.scripts[location.scriptId] === undefined ? I18n.t('loading...') : this.scripts[location.scriptId];\n                newState.selected = location.scriptId;\n\n                this.setState(newState, () => {\n                    this.readCurrentScope();\n                    this.readExpressions();\n                    if (!this.scripts[location.scriptId]) {\n                        this.sendToInstance({cmd: 'source', scriptId: location.scriptId});\n                    }\n                });\n            } else if (data.cmd === 'script') {\n                this.scripts[data.scriptId] = data.text;\n                if (this.state.selected === data.scriptId) {\n                    this.setState({script: this.scripts[data.scriptId]});\n                }\n            } else if (data.cmd === 'resumed') {\n                this.setState({paused: false});\n            } else if (data.cmd === 'log') {\n                if (this.state.toolsTab === 'console') {\n                    this.console = null;\n                    const console = [...this.state.console];\n                    console.push({text: data.text, severity: data.severity, ts: data.ts});\n                    this.setState({console});\n                } else {\n                    if (data.severity === 'error') {\n                        this.setState({logErrors: this.state.logErrors + 1});\n                    } else if (data.severity === 'warn') {\n                        this.setState({logWarnings: this.state.logWarnings + 1});\n                    } else {\n                        this.setState({logs: this.state.logs + 1});\n                    }\n                    this.console = this.console || [...this.state.console];\n                    this.console.push({text: data.text, severity: data.severity, ts: data.ts});\n                }\n            } else if (data.cmd === 'error') {\n                this.setState({error: data.error});\n            } else if (data.cmd === 'finished' || data.cmd === 'debugStopped') {\n                this.setState({\n                    finished: true,\n                    starting: false,\n                    started: true,\n                });\n            } else if (data.cmd === 'sb') {\n                const breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\n                let changed = false;\n                data.breakpoints.filter(bp => bp).forEach(bp => {\n                    const found = breakpoints.find(item =>\n                        item.location.scriptId === bp.location.scriptId && item.location.lineNumber === bp.location.lineNumber);\n                    if (!found) {\n                        changed = true;\n                        breakpoints.push(bp);\n                    }\n                });\n                changed && window.localStorage.setItem('javascript.tools.bp.' + this.props.src, JSON.stringify(breakpoints));\n                changed && this.setState({breakpoints});\n            } else if (data.cmd === 'cb') {\n                const breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\n                let changed = false;\n\n                data.breakpoints.filter(id => id !== undefined && id !== null).forEach(id => {\n                    const found = breakpoints.find(item => item.id === id);\n                    if (found) {\n                        const pos = breakpoints.indexOf(found);\n                        breakpoints.splice(pos, 1);\n                        changed = true;\n                    }\n                });\n                changed && window.localStorage.setItem('javascript.tools.bp.' + this.props.src, JSON.stringify(breakpoints));\n                changed && this.setState({breakpoints});\n            } else if (data.cmd === 'scope') {\n                //const global = data.scopes.find(scope => scope.type === 'global') || null;\n                const local = data.scopes.find(scope => scope.type === 'local') || null;\n                const closure = data.scopes.find(scope => scope.type === 'closure') || null;\n\n                console.log(JSON.stringify(closure));\n\n                this.setState({scopes: {local, closure, id: `${this.state.scope.id}_${this.state.currentFrame}`}});\n            } else if (data.cmd === 'setValue') {\n                const scopes = JSON.parse(JSON.stringify(this.state.scopes));\n                let item;\n                if (data.scopeNumber === 0) {\n                    item = scopes.local && scopes.local.properties && scopes.local.properties.result && scopes.local.properties.result.find(item => item.name === data.variableName);\n                } else {\n                    item = scopes.closure && scopes.closure.properties && scopes.closure.properties.result && scopes.closure.properties.result && scopes.closure.properties.result.find(item => item.name === data.variableName);\n                }\n                if (item) {\n                    item.value.value = data.newValue.value;\n                    this.setState({scopes});\n                }\n            } else if (data.cmd === 'expressions') {\n                // update values\n                let expressions = JSON.parse(JSON.stringify(this.state.expressions));\n                let changed = false;\n                data.expressions.forEach(item => {\n                    const expression = expressions.find(it => it.name === item.name);\n                    if (expression) {\n                        changed = true;\n                        expression.value = item.result;\n                    }\n                });\n                changed && this.setState({expressions});\n\n                console.log('expressions: ' + JSON.stringify(data));\n            } else if (data.cmd === 'getPossibleBreakpoints') {\n                if (data.breakpoints?.locations?.length === 1) {\n                    this.sendToInstance({breakpoints: data.breakpoints.locations, cmd: 'sb'});\n                } else if (!data.breakpoints?.locations?.length) {\n                    window.alert('cannot set');\n                } else {\n                    this.setState({queryBreakpoints: data.breakpoints.locations});\n                }\n            } else {\n                console.error(`Unknown command: ${JSON.stringify(data)}`);\n            }\n        } catch (e) {\n\n        }\n    }\n\n    getTextAtLocation(location) {\n        let line = this.state.script.split(/\\r\\n|\\n/)[location.lineNumber];\n        let arrow = '';\n        if (location.columnNumber >= 10) {\n            line = line.substring(location.columnNumber - 10, location.columnNumber + 20);\n            arrow = ''.padStart(10, ' ') + '';\n        } else {\n            line = line.substring(0, 30 - location.columnNumber);\n            arrow = ''.padStart(location.columnNumber, ' ') + '';\n        }\n        return [\n            <div key=\"line\" className={this.props.classes.monospace}>{line}</div>,\n            <div key=\"arrow\" className={Utils.clsx(this.props.classes.monospace, this.props.classes.arrow)}>{arrow}</div>\n        ];\n    }\n\n    renderQueryBreakpoints() {\n        if (this.state.queryBreakpoints) {\n            return <Dialog onClose={() => this.setState({ queryBreakpoints: null })} aria-labelledby=\"bp-dialog-title\" open={!0}>\n                <DialogTitle id=\"bp-dialog-title\">{I18n.t('Select breakpoint')}</DialogTitle>\n                <List>\n                    {this.state.queryBreakpoints.map((bp, i) => (\n                        <ListItemButton\n                            classes={{root: this.props.classes.bpListItem}}\n                            dense\n                            onClick={() => {\n                                this.sendToInstance({breakpoints: [bp], cmd: 'sb'});\n                                this.setState({queryBreakpoints: null})\n                            }}\n                            key={i}>\n                            <ListItemText\n                                classes={{primary: this.props.classes.bpListPrimary, secondary: this.props.classes.bpListSecondary}}\n                                primary={this.getTextAtLocation(bp)}\n                            />\n                        </ListItemButton>\n                    ))}\n                </List>\n            </Dialog>;\n        } else {\n            return null;\n        }\n    }\n\n    renderError() {\n        if (this.state.error) {\n            return <DialogError key=\"dialogError\" onClose={() => this.setState({ error: '' })} text={this.state.error} />;\n        } else {\n            return null;\n        }\n    }\n\n    closeTab(id, e) {\n        e && e.stopPropagation();\n        const tabs = JSON.parse(JSON.stringify(this.state.tabs));\n        delete tabs[id];\n        const newState = {tabs, script: this.scripts[this.mainScriptId], selected: this.mainScriptId};\n        if (this.state.location && this.state.location.scriptId !== this.mainScriptId) {\n            newState.location = null;\n        }\n        this.setState(newState);\n    }\n\n    renderTabs() {\n        const disabled = !this.state.tabs || !this.state.started;\n        return <Tabs\n            component={'div'}\n            indicatorColor=\"primary\"\n            style={{ position: 'relative', width: 'calc(100% - 300px)', display: 'inline-block' }}\n            value={this.state.selected}\n            onChange={(event, value) => {\n                if (this.scripts[value]) {\n                    this.setState({selected: value, script: this.scripts[value]});\n                } else {\n                    this.setState({selected: value, script: 'loading...'}, () =>\n                        this.sendToInstance({cmd: 'source', scriptId: value}));\n                }\n            }}\n            scrollButtons=\"auto\"\n        >\n            {Object.keys(this.state.tabs || [])\n                .map(id => {\n                    let label = id;\n                    let title = this.state.tabs[id] || '';\n                    if (this.state.tabs[id]) {\n                        label = this.state.tabs[id].split('/').pop();\n                    }\n                    label = [\n                        <div key=\"text\" className={Utils.clsx(this.props.classes.tabText)}>{label}</div>,\n                        id !== this.mainScriptId && <span key=\"icon\" className={this.props.classes.closeButton}>\n                            <IconClose key=\"close\" onClick={e => this.closeTab(id, e)} fontSize=\"small\" /></span>];\n\n                    return <Tab disabled={disabled} classes={{root: this.props.classes.tabFile}} label={label} title={title} key={id} value={id}/>;\n                })}\n        </Tabs>;\n    }\n\n    onResume() {\n        this.sendToInstance({cmd: 'cont'});\n    }\n\n    onPause() {\n        this.sendToInstance({cmd: 'pause'});\n    }\n\n    onNext() {\n        this.sendToInstance({cmd: 'next'});\n    }\n\n    onStepIn() {\n        this.sendToInstance({cmd: 'step'});\n    }\n\n    onStepOut() {\n        this.sendToInstance({cmd: 'out'});\n    }\n\n    onRestart() {\n        this.setState({started: false, starting: true}, () =>\n            this.props.socket.sendTo(this.state.instance, 'debug', this.props.debugInstance || {scriptName: this.props.src}));\n    }\n\n    onToggleException() {\n        const stopOnException = !this.state.stopOnException;\n        window.localStorage.setItem('javascript.tools.stopOnException', stopOnException ? 'true' : 'false');\n        this.setState({stopOnException}, () =>\n            this.sendToInstance({cmd: 'stopOnException', state: stopOnException}));\n    }\n\n    renderToolbar() {\n        const disabled = !this.state.started;\n        return (\n            <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar1\">\n                <IconButton\n                    className={this.props.classes.buttonRestart}\n                    disabled={disabled}\n                    onClick={() => this.onRestart()}\n                    title={I18n.t('Restart')}\n                    size=\"medium\"><IconRestart/></IconButton>\n                {\n                    !this.state.finished && this.state.paused ?\n                        <IconButton\n                            className={this.props.classes.buttonRun}\n                            disabled={disabled}\n                            onClick={() => this.onResume()}\n                            title={I18n.t('Resume execution')}\n                            size=\"medium\"><IconRun/></IconButton>\n                        :\n                        !this.state.finished && <IconButton\n                            disabled={disabled}\n                            className={this.props.classes.buttonPause}\n                            onClick={() => this.onPause()}\n                            title={I18n.t('Pause execution')}\n                            size=\"medium\"><IconPause/></IconButton>\n                }\n                {!this.state.finished && <IconButton\n                    className={this.props.classes.buttonNext}\n                    disabled={disabled || !this.state.paused}\n                    onClick={() => this.onNext()}\n                    title={I18n.t('Go to next line')}\n                    size=\"medium\"><IconNext/></IconButton>}\n                {!this.state.finished && <IconButton\n                    className={this.props.classes.buttonStep}\n                    disabled={disabled || !this.state.paused}\n                    onClick={() => this.onStepIn()}\n                    title={I18n.t('Step into function')}\n                    size=\"medium\"><IconStep/></IconButton>}\n                {!this.state.finished && <IconButton\n                    className={this.props.classes.buttonOut}\n                    disabled={disabled || !this.state.paused}\n                    onClick={() => this.onStepOut()}\n                    title={I18n.t('Step out from function')}\n                    size=\"medium\"><IconOut/></IconButton>}\n                {!this.state.finished && <IconButton\n                    className={this.props.classes.buttonException}\n                    color={this.state.stopOnException ? 'primary' : 'default'}\n                    disabled={disabled || !this.state.paused}\n                    onClick={() => this.onToggleException()}\n                    title={I18n.t('Stop on exception')}\n                    size=\"medium\"><IconException/></IconButton>}\n                {this.renderTabs()}\n            </Toolbar>\n        );\n    }\n\n    getPossibleBreakpoints(bp) {\n        const end = {...bp, columnNumber: 1000};\n        this.sendToInstance({cmd: 'getPossibleBreakpoints', start: bp, end});\n    }\n\n    toggleBreakpoint(lineNumber) {\n        let bp = this.state.breakpoints.find(item => item.location.scriptId === this.state.selected && item.location.lineNumber === lineNumber);\n        if (bp) {\n            const breakpoints = JSON.parse(JSON.stringify(this.state.breakpoints));\n            this.setState({breakpoints}, () =>\n                this.sendToInstance({breakpoints: [bp.id], cmd: 'cb'}));\n        } else {\n            bp = {scriptId: this.state.selected, lineNumber, columnNumber: 0};\n            this.getPossibleBreakpoints(bp);\n        }\n    }\n\n    renderCode() {\n        if (this.state.script && this.state.started) {\n            const breakpoints = this.state.breakpoints.filter(bp => bp.location.scriptId === this.state.selected);\n\n            return <Editor\n                runningInstances={this.props.runningInstances}\n                socket={this.props.socket}\n                adapterName={this.props.adapterName}\n                scriptName={this.state.tabs[this.state.selected]}\n                sourceId={this.state.selected}\n                script={this.state.script}\n                paused={this.state.paused}\n                breakpoints={breakpoints}\n                location={this.state.location}\n                themeType={this.props.themeType}\n                themeName={this.props.themeName}\n                onToggleBreakpoint={i => this.toggleBreakpoint(i)}\n            />\n        }\n    }\n\n    renderFrames() {\n        if (!this.state.paused) {\n            return null;\n        }\n\n        return <Stack\n            currentScriptId={this.state.selected}\n            scopes={this.state.scopes}\n            expressions={this.state.expressions}\n            themeType={this.props.themeType}\n            callFrames={this.state.context?.callFrames}\n            currentFrame={this.state.currentFrame}\n            onChangeCurrentFrame={i => {\n                this.setState({currentFrame: i, scopes: {}}, () => {\n                    this.readCurrentScope();\n                    this.readExpressions();\n                })\n            }}\n            onWriteScopeValue={obj => {\n                this.sendToInstance({\n                    cmd: 'setValue',\n                    variableName: obj.variableName,\n                    scopeNumber: obj.scopeNumber,\n                    newValue: obj.newValue,\n                    callFrameId: obj.callFrameId\n                });\n            }}\n            onExpressionDelete={i => {\n                const expressions = JSON.parse(JSON.stringify(this.state.expressions));\n                expressions.splice(i, 1);\n                this.setState({expressions});\n                window.localStorage.setItem('javascript.tools.exps.' + this.props.src, JSON.stringify(expressions.map(item => item.name)));\n            }}\n            onExpressionAdd={cb => {\n                const expressions = JSON.parse(JSON.stringify(this.state.expressions));\n                expressions.push({name: '', value: {value: ''}});\n                this.setState({expressions}, () => cb && cb(expressions.length - 1, this.state.expressions[expressions.length - 1]));\n            }}\n            onExpressionNameUpdate={(i, name, cb) => {\n                const expressions = JSON.parse(JSON.stringify(this.state.expressions));\n                if (!name) {\n                    expressions.splice(i, 1);\n                } else if (expressions.find(item => item.name === name)) {\n                    return cb && cb(false);\n                } else {\n                    expressions[i].name = name;\n                }\n\n                this.setState({expressions}, () => {\n                    name && this.readExpressions(i);\n                    cb && cb();\n                });\n                window.localStorage.setItem('javascript.tools.exps.' + this.props.src, JSON.stringify(expressions.map(item => item.name)));\n            }}\n        />;\n    }\n\n    renderConsole() {\n        return <Console\n            theme={this.props.theme}\n            console={this.state.console}\n            onClearAllLogs={() => this.setState({console: [], logErrors: 0, logWarning: 0, logs: 0})}\n        />;\n    }\n\n    renderTools() {\n        const disabled = !this.state.tabs || !this.state.started;\n\n        let _console;\n        if (this.state.logErrors) {\n            _console = <Badge badgeContent={this.state.logErrors} color=\"error\">\n                <span>{I18n.t('Console')}</span>\n            </Badge>;\n        } else if (this.state.logWarnings) {\n            _console = <Badge badgeContent={this.state.logWarnings} color=\"secondary\">\n                <span>{I18n.t('Console')}</span>\n            </Badge>;\n        } else if (this.state.logs) {\n            _console = <Badge badgeContent={this.state.logs} color=\"default\">\n                <span>{I18n.t('Console')}</span>\n            </Badge>;\n        } else {\n            _console = I18n.t('Console');\n        }\n\n        return <div style={{width: '100%', height: '100%', overflow: 'hidden'}}>\n            <Tabs\n                classes={{root: this.props.classes.tabsRoot}}\n                component={'div'}\n                indicatorColor=\"primary\"\n                style={{ position: 'relative', width: '100%' }}\n                value={this.state.toolsTab}\n                onChange={(event, value) => {\n                    const newState = {toolsTab: value};\n\n                    // load logs from buffer\n                    if (this.console && value === 'console') {\n                        newState.console = this.console;\n                        this.console = null;\n                        newState.logs = 0;\n                        newState.logWarnings = 0;\n                        newState.logErrors = 0;\n                    }\n\n                    window.localStorage.setItem('javascript.tools.tab', value);\n\n                    this.setState(newState);\n                }}\n                scrollButtons=\"auto\"\n            >\n                <Tab classes={{root: this.props.classes.tabRoot}} disabled={disabled} label={I18n.t('Stack')} value=\"stack\"/>\n                <Tab\n                    classes={{root: this.props.classes.tabRoot}}\n                    disabled={disabled}\n                    label={_console}\n                    value=\"console\"\n                />\n            </Tabs>\n            <div style={{width: '100%', height: 'calc(100% - 36px)', overflow: 'hidden'}}>\n                {this.state.toolsTab === 'stack' && !disabled ? this.renderFrames() : null}\n                {this.state.toolsTab === 'console' && !disabled ? this.renderConsole() : null}\n            </div>\n        </div>;\n    }\n\n    render() {\n        return <div key=\"debugger\" style={this.props.style} className={Utils.clsx(this.props.classes.root, this.props.className)}>\n            {this.state.starting ? <LinearProgress/> : null}\n            {this.renderToolbar()}\n            <SplitterLayout\n                customClassName={this.props.classes.splitter}\n                primaryMinSize={100}\n                vertical\n                secondaryInitialSize={this.toolSize}\n                onSecondaryPaneSizeChange={size => this.toolSize = parseFloat(size)}\n                onDragEnd={() => window.localStorage.setItem('App.toolSize', this.toolSize.toString())}\n                //style={{width: '100%', height: 'calc(100% - 73px)', overflow: 'hidden'}}\n            >\n                <div style={{width: '100%', height: '100%', overflow: 'hidden'}}>\n                    {this.renderCode()}\n                    {this.renderQueryBreakpoints()}\n                </div>\n                <div style={{width: '100%', height: '100%', overflow: 'hidden'}}>\n                    {this.renderTools()}\n                </div>\n            </SplitterLayout>\n            {this.renderError()}\n        </div>;\n    }\n}\n\nDebugger.propTypes = {\n    runningInstances: PropTypes.object,\n    adapterName: PropTypes.string,\n    src: PropTypes.string,\n    socket: PropTypes.object.isRequired,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    themeType: PropTypes.string,\n    theme: PropTypes.object,\n    themeName: PropTypes.string,\n    debugInstance: PropTypes.object,\n};\n\nexport default withStyles(styles)(Debugger);\n","import ChannelDetector from '@iobroker/type-detector';\nimport { I18n } from '@iobroker/adapter-react-v5';\nimport docs from './docs.md';\n\nlet allObjectsCache = null;\n\nconst allObjects = async socket => {\n    if (allObjectsCache) {\n        return allObjectsCache;\n    }\n    const states = await socket.getObjectView('', '\\u9999', 'state');\n    const channels = await socket.getObjectView('', '\\u9999', 'channel');\n    const devices = await socket.getObjectView('', '\\u9999', 'device');\n    const folders = await socket.getObjectView('', '\\u9999', 'folder');\n    const enums = await socket.getObjectView('', '\\u9999', 'enum');\n\n    allObjectsCache = Object.values(states)\n        .concat(Object.values(channels))\n        .concat(Object.values(devices))\n        .concat(Object.values(folders))\n        .concat(Object.values(enums))\n        // eslint-disable-next-line\n        .reduce((obj, item) => (obj[item._id] = item, obj), {});\n\n    return allObjectsCache;\n};\n\nconst getText = (text, lang) => {\n    if (text && typeof text === 'object') {\n        return text[lang] || text.en;\n    }\n    return text || '';\n};\n\nconst detectDevices = async socket => {\n    const lang = I18n.getLanguage();\n    const devicesObject = await allObjects(socket);\n    const keys = Object.keys(devicesObject).sort();\n    const detector = new ChannelDetector();\n\n    const usedIds = [];\n    const ignoreIndicators = ['UNREACH_STICKY'];    // Ignore indicators by name\n    const excludedTypes = ['info'];\n    const enums = [];\n    const rooms = [];\n    const funcs = [];\n    const list = [];\n\n    keys.forEach(id => {\n        if (devicesObject[id]?.type === 'enum') {\n            enums.push(id);\n        } else if (devicesObject[id]?.common?.smartName) {\n            list.push(id);\n        }\n    });\n\n    enums.forEach(id => {\n        if (id.startsWith('enum.rooms.')) {\n            rooms.push(id);\n        } else if (id.startsWith('enum.functions.')) {\n            funcs.push(id);\n        }\n        const members = devicesObject[id].common.members;\n\n        if (members && members.length) {\n            members.forEach(member => {\n                // if an object really exists\n                if (devicesObject[member]) {\n                    if (!list.includes(member)) {\n                        list.push(member);\n                    }\n                }\n            });\n        }\n    });\n\n    const options = {\n        objects: devicesObject,\n        _keysOptional: keys,\n        _usedIdsOptional: usedIds,\n        ignoreIndicators,\n        excludedTypes,\n    };\n\n    const result = [];\n\n    // we are creating a list of devices, where each device has a following structure:\n    // {\n    //     id: 'hm-rpc.0.KEQ0123456.1',\n    //     name: 'HM-RC-4-2',\n    //     role: 'light',\n    //     room: 'Living room',\n    //     'function': 'light'\n    // }\n\n    list.forEach(id => {\n        options.id = id;\n\n        const controls = detector.detect(options);\n\n        if (controls) {\n            controls.forEach(control => {\n                const stateId = control.states.find(state => state.id).id;\n                // if not yet added\n                if (result.find(st => st.id === stateId)) {\n                    return;\n                }\n                const deviceObject = {\n                    id: stateId,\n                    name: getText(devicesObject[stateId].common.name, lang),\n                    role: devicesObject[stateId].type,\n                    deviceType: control.type,\n                    states: control.states\n                        .filter(state => state.id)\n                        .map(state => ({\n                            id: state.id,\n                            name: state.name,\n                            role: state.defaultRole,\n                            type: devicesObject[state.id].common.type,\n                            unit: devicesObject[state.id].common.unit,\n                            read: devicesObject[state.id].common.read === undefined ? true : devicesObject[state.id].common.read,\n                            write: devicesObject[state.id].common.write === undefined ? true : devicesObject[state.id].common.write,\n                        })),\n                };\n\n                const parts = stateId.split('.');\n                let channelId;\n                let deviceId;\n                if (devicesObject[stateId].type === 'channel' || devicesObject[stateId].type === 'state') {\n                    parts.pop();\n                    channelId = parts.join('.');\n                    if (devicesObject[channelId] && (devicesObject[channelId].type === 'channel' || devicesObject[stateId].type === 'folder')) {\n                        parts.pop();\n                        deviceId = parts.join('.');\n                        if (!devicesObject[deviceId] || (devicesObject[deviceId].type !== 'device' && devicesObject[stateId].type !== 'folder')) {\n                            deviceId = null;\n                        }\n                    } else {\n                        channelId = null;\n                    }\n                }\n                // try to detect room\n                const room = rooms.find(roomId => {\n                    if (devicesObject[roomId].common.members.includes(stateId)) {\n                        return true;\n                    }\n                    if (channelId && devicesObject[roomId].common.members.includes(channelId)) {\n                        return true;\n                    }\n                    return deviceId && devicesObject[roomId].common.members.includes(deviceId);\n                });\n                if (room) {\n                    deviceObject.room = getText(devicesObject[room].common.name, lang);\n                }\n\n                // try to detect function\n                const func = funcs.find(funcId => {\n                    if (devicesObject[funcId].common.members.includes(stateId)) {\n                        return true;\n                    }\n                    if (channelId && devicesObject[funcId].common.members.includes(channelId)) {\n                        return true;\n                    }\n                    return deviceId && devicesObject[funcId].common.members.includes(deviceId);\n                });\n                if (func) {\n                    deviceObject.function = getText(devicesObject[func].common.name, lang);\n                }\n                result.push(deviceObject);\n            });\n        }\n    });\n\n    // find names and icons for devices\n    for (const k in result) {\n        const deviceObj = result[k];\n        if (deviceObj.type === 'state' || deviceObj.type === 'channel') {\n            const idArray = deviceObj._id.split('.');\n            idArray.pop();\n\n            // read channel\n            const parentObject = devicesObject[idArray.join('.')];\n            if (parentObject && (parentObject.type === 'channel' || parentObject.type === 'device' || parentObject.type === 'folder')) {\n                deviceObj.common.name = getText(parentObject.common?.name || deviceObj.common.name, lang);\n                idArray.pop();\n                // read device\n                const grandParentObject = devicesObject[idArray.join('.')];\n                if (grandParentObject?.type === 'device' && grandParentObject.common?.icon) {\n                    deviceObj.common.name = getText(grandParentObject.common?.name || deviceObj.common.name, lang);\n                }\n            } else {\n                deviceObj.common.name = getText(parentObject?.common?.name || deviceObj.common.name, lang);\n            }\n        }\n    }\n\n    return result;\n};\n\nconst systemPrompt = async () => (await fetch(docs)).text();\nexport { systemPrompt, detectDevices };\n","import React, { useCallback, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport OpenAI from 'openai';\n\nimport {\n    Button, CircularProgress, Dialog,\n    DialogActions, DialogContent, DialogTitle,\n    IconButton, TextField, MenuItem, Select,\n    FormControl, InputLabel,\n} from '@mui/material';\n\nimport {\n    Check, Close,\n    QuestionMark as Question,\n    FileCopy as Copy,\n} from '@mui/icons-material';\n\nimport { Utils, I18n } from '@iobroker/adapter-react-v5';\n\nimport { detectDevices, systemPrompt } from './OpenAiPrompt';\nimport ScriptEditorComponent from '../Components/ScriptEditorVanilaMonaco';\n\nconst LANGUAGES = {\n    ru: 'Russian',\n    en: 'English',\n    de: 'German',\n    es: 'Spanish',\n    fr: 'French',\n    it: 'Italian',\n    pl: 'Polish',\n    nl: 'Dutch',\n    pt: 'Portuguese',\n    uk: 'Ukrainian',\n    'zh-cn': 'Chinese',\n};\n\nconst ChatIcon = () => <svg width=\"24\" height=\"24\" viewBox=\"0 0 2406 2406\">\n    <path\n        d=\"M1 578.4C1 259.5 259.5 1 578.4 1h1249.1c319 0 577.5 258.5 577.5 577.4V2406H578.4C259.5 2406 1 2147.5 1 1828.6V578.4z\"\n        fill=\"#74aa9c\"\n    />\n    <path\n        d=\"M1107.3 299.1c-198 0-373.9 127.3-435.2 315.3C544.8 640.6 434.9 720.2 370.5 833c-99.3 171.4-76.6 386.9 56.4 533.8-41.1 123.1-27 257.7 38.6 369.2 98.7 172 297.3 260.2 491.6 219.2 86.1 97 209.8 152.3 339.6 151.8 198 0 373.9-127.3 435.3-315.3 127.5-26.3 237.2-105.9 301-218.5 99.9-171.4 77.2-386.9-55.8-533.9v-.6c41.1-123.1 27-257.8-38.6-369.8-98.7-171.4-297.3-259.6-491-218.6-86.6-96.8-210.5-151.8-340.3-151.2zm0 117.5-.6.6c79.7 0 156.3 27.5 217.6 78.4-2.5 1.2-7.4 4.3-11 6.1L952.8 709.3c-18.4 10.4-29.4 30-29.4 51.4V1248l-155.1-89.4V755.8c-.1-187.1 151.6-338.9 339-339.2zm434.2 141.9c121.6-.2 234 64.5 294.7 169.8 39.2 68.6 53.9 148.8 40.4 226.5-2.5-1.8-7.3-4.3-10.4-6.1l-360.4-208.2c-18.4-10.4-41-10.4-59.4 0L1024 984.2V805.4L1372.7 604c51.3-29.7 109.5-45.4 168.8-45.5zM650 743.5v427.9c0 21.4 11 40.4 29.4 51.4l421.7 243-155.7 90L597.2 1355c-162-93.8-217.4-300.9-123.8-462.8C513.1 823.6 575.5 771 650 743.5zm807.9 106 348.8 200.8c162.5 93.7 217.6 300.6 123.8 462.8l.6.6c-39.8 68.6-102.4 121.2-176.5 148.2v-428c0-21.4-11-41-29.4-51.4l-422.3-243.7 155-89.3zM1201.7 997l177.8 102.8v205.1l-177.8 102.8-177.8-102.8v-205.1L1201.7 997zm279.5 161.6 155.1 89.4v402.2c0 187.3-152 339.2-339 339.2v-.6c-79.1 0-156.3-27.6-217-78.4 2.5-1.2 8-4.3 11-6.1l360.4-207.5c18.4-10.4 30-30 29.4-51.4l.1-486.8zM1380 1421.9v178.8l-348.8 200.8c-162.5 93.1-369.6 38-463.4-123.7h.6c-39.8-68-54-148.8-40.5-226.5 2.5 1.8 7.4 4.3 10.4 6.1l360.4 208.2c18.4 10.4 41 10.4 59.4 0l421.9-243.7z\"\n        fill=\"white\"\n    />\n</svg>;\n\nconst OpenAiDialog = props => {\n    const [question, setQuestion] = useState(window.localStorage.getItem('openai-question') || '');\n    const [answer, setAnswer] = useState('');\n    const [open, setOpen] = useState(false);\n    const [working, setWorking] = useState(false);\n    const [error, setError] = useState(false);\n    const [model, setModel] = useState(window.localStorage.getItem('openai-model') || 'gpt-4o');\n    const [showKeyWarning, setShowKeyWarning] = useState(false);\n    const devicesCache = useRef(null);\n    const gptKeyCache = useRef(null);\n    const docsCache = useRef(null);\n\n    const ask = useCallback(async () => {\n        let devices;\n        if (!devicesCache.current) {\n            devices = await detectDevices(props.socket);\n            devicesCache.current = devices;\n            console.log(`devices: ${JSON.stringify(devices, 2, null)}`);\n        } else {\n            devices = devicesCache.current;\n        }\n        let apiKey;\n        if (!gptKeyCache.current) {\n            const ids = Object.keys(props.runningInstances);\n            for (let i = 0; i < ids.length; i++) {\n                const config = await props.socket.getObject(ids[i]);\n                apiKey = config.native.gptKey;\n                if (apiKey) {\n                    break;\n                }\n            }\n            gptKeyCache.current = apiKey;\n        } else {\n            apiKey = gptKeyCache.current;\n        }\n\n        let docs;\n        if (!docsCache.current) {\n            docs = await systemPrompt();\n            docsCache.current = docs;\n        } else {\n            docs = docsCache.current;\n        }\n        if (!apiKey) {\n            setShowKeyWarning(true);\n            return;\n        }\n\n        setWorking(true);\n        setError(false);\n\n        try {\n            const openai = new OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\n            const chatCompletionPhase1 = await openai.chat.completions.create({\n                model,\n                messages: [\n                    {\n                        role: 'system',\n                        content: `You are programmer. Here is a documentation:\\n\\n${docs}`,\n                    },\n                    {\n                        role: 'system',\n                        content: `Here is list of devices:\\n\\n${JSON.stringify(devices, null, 2)}`\n                    },\n                    {\n                        role: 'user',\n                        content: `Write JavaScript code that does:\\n\\n${question}\nReturn only code.\nWrite comments in ${LANGUAGES[I18n.getLanguage()] || 'English'}.\nYou can call async function directly in the code without encapsulate them in async function as this code will be already executed in async function.\nDo not import any libraries as all functions are already imported.`,\n                    }],\n            });\n            const message = chatCompletionPhase1.choices[0].message;\n            const m = message.content.match(/```(javascript|js|typescript)\\n?(.*)```(.*)/ms);\n            let code;\n            if (!m) {\n                code = message.content;\n                if (code.startsWith('`')) {\n                    code = code.substring(1);\n                }\n                if (code.endsWith('`')) {\n                    code = code.substring(0, code.length - 1);\n                }\n            } else {\n                code = m[2];\n                if (m[3]) {\n                    const comments = m[3].split('\\n').map(line => line.trim());\n                    // skip empty lines on start and end\n                    while (comments[0] === '') {\n                        comments.shift();\n                    }\n                    code = `${comments.map(line => `// ${line}`).join('\\n')}\\n${code}`;\n                }\n            }\n            console.log(message);\n            setAnswer(code);\n        } catch (err) {\n            console.log(JSON.stringify(err));\n            if (err.error) {\n                setError(err.error.error.message);\n            }\n            console.error(`Cannot request: ${err}, ${JSON.stringify(err.error || err, null, 2)}`);\n        }\n\n        setWorking(false);\n    }, [question, model]);\n\n    return <>\n        <IconButton\n            key=\"ai\"\n            aria-label=\"AI\"\n            title={I18n.t('AI code generator')}\n            className={props.classes.toolbarButtons}\n            size=\"medium\"\n            onClick={() => setOpen(true)}\n        >\n            <ChatIcon />\n        </IconButton>\n        {showKeyWarning && <Dialog\n            maxWidth=\"lg\"\n            open={!0}\n            onClose={() => setShowKeyWarning(false)}\n            fullWidth\n        >\n            <DialogTitle>{I18n.t('No Chat GPT Key found')}</DialogTitle>\n            <DialogContent\n                style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: 8,\n                }}\n            >\n                <div>\n                    {I18n.t('You have to enter OpenAI API key in the configuration of javascript adapter.')}\n                </div>\n                <Button\n                    variant=\"contained\"\n                    onClick={() => {\n                        const ids = Object.keys(props.runningInstances);\n\n                        window.open(`../../#tab-instances/config/${ids[0] || 'system.adapter.javascript.0'}`, '_blank');\n                        setShowKeyWarning(false);\n                    }}\n                >\n                    {I18n.t('Open configuration')}\n                </Button>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    variant=\"contained\"\n                    startIcon={<Close />}\n                    onClick={() => setShowKeyWarning(false)}\n                >\n                    {I18n.t('Close')}\n                </Button>\n            </DialogActions>\n        </Dialog>}\n        {open && <Dialog\n            maxWidth=\"lg\"\n            classes={{ paper: props.classes.fullHeightDialog }}\n            open={!0}\n            onClose={() => setOpen(false)}\n            fullWidth\n        >\n            <DialogTitle>{I18n.t('AI code generator')}</DialogTitle>\n            <DialogContent\n                style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: 8,\n                    height: '100%',\n                }}\n            >\n                <div>\n                    <TextField\n                        variant=\"standard\"\n                        multiline\n                        autoFocus\n                        disabled={working}\n                        fullWidth\n                        onKeyUp={e => {\n                            if (e.key === 'Enter' && e.ctrlKey) {\n                                ask();\n                            }\n                        }}\n                        label={I18n.t('Enter your question')}\n                        helperText={I18n.t('Press Ctrl+Enter to get the answer')}\n                        value={question}\n                        onChange={e => {\n                            window.localStorage.setItem('openai-question', e.target.value);\n                            setQuestion(e.target.value);\n                        }}\n                    />\n                </div>\n                <div style={{ display: 'flex', alignItems: 'baseline' }}>\n                    <Button\n                        variant=\"contained\"\n                        disabled={working || !question}\n                        startIcon={<Question/>}\n                        onClick={async () => ask()}\n                    >\n                        {working ? <CircularProgress size={24} /> : I18n.t('Ask')}\n                    </Button>\n                    <FormControl style={{ width: 150, marginLeft: 20 }} variant=\"standard\">\n                        <InputLabel>{I18n.t('Model')}</InputLabel>\n                        <Select\n                            value={model}\n                            onChange={e => {\n                                window.localStorage.setItem('openai-model', e.target.value);\n                                setModel(e.target.value);\n                            }}\n                        >\n                            <MenuItem value=\"gpt-4o\">GPT-4o</MenuItem>\n                            <MenuItem value=\"gpt-4-turbo\">GPT-4 Turbo</MenuItem>\n                            <MenuItem value=\"gpt-4-32k\">GPT-4 32k</MenuItem>\n                            <MenuItem value=\"gpt-4\">GPT-4</MenuItem>\n                            <MenuItem value=\"gpt-3.5-turbo-16k\">GPT-3.5 Turbo</MenuItem>\n                        </Select>\n                    </FormControl>\n                </div>\n                <div>\n                    {I18n.t('Result')}\n                </div>\n                <div style={{height: 'calc(100% - 155px)'}}>\n                    {error ?\n                        <div style={{color: '#bb0000'}}>{error}</div>\n                        :\n                        <ScriptEditorComponent\n                            adapterName={props.adapterName}\n                            runningInstances={props.runningInstances}\n                            style={{\n                                height: '100%',\n                                width: '100%',\n                                resize: 'none',\n                            }}\n                            name=\"ai\"\n                            socket={props.socket}\n                            readOnly\n                            checkJs\n                            code={answer}\n                            isDark={props.themeType === 'dark'}\n                            language={props.language}\n                        />}\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    color=\"grey\"\n                    variant=\"outlined\"\n                    disabled={!answer}\n                    startIcon={<Copy/>}\n                    onClick={() => {\n                        Utils.copyToClipboard(answer);\n                        window.alert(I18n.t('Copied'));\n                    }}\n                >\n                    {I18n.t('Copy to clipboard')}\n                </Button>\n                <Button\n                    color=\"primary\"\n                    variant=\"contained\"\n                    disabled={!answer || error}\n                    startIcon={<Check />}\n                    onClick={() => {\n                        props.onAddCode(answer);\n                        setOpen(false);\n                    }}\n                >\n                    {I18n.t('Use generated code')}\n                </Button>\n                <Button\n                    color=\"grey\"\n                    variant=\"contained\"\n                    startIcon={<Close />}\n                    onClick={() => setOpen(false)}\n                >\n                    {I18n.t('Close')}\n                </Button>\n            </DialogActions>\n        </Dialog>}\n    </>;\n};\n\nOpenAiDialog.propTypes = {\n    adapterName: PropTypes.string.isRequired,\n    socket: PropTypes.object,\n    runningInstances: PropTypes.object,\n    themeType: PropTypes.string,\n    language: PropTypes.string,\n    onAddCode: PropTypes.func.isRequired,\n};\n\nexport default OpenAiDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Tour from 'reactour';\n\nimport Toolbar from '@mui/material/Toolbar';\nimport withStyles from '@mui/styles/withStyles';\nimport Button from '@mui/material/Button';\nimport IconButton from '@mui/material/IconButton';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Badge from '@mui/material/Badge';\nimport Snackbar from '@mui/material/Snackbar';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport Checkbox from '@mui/material/Checkbox';\nimport Dialog from '@mui/material/Dialog';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogActions from '@mui/material/DialogActions';\nimport LinearProgress from '@mui/material/LinearProgress';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Tooltip from '@mui/material/Tooltip';\nimport Paper from '@mui/material/Paper';\n\nimport { red, green } from '@mui/material/colors';\n\nimport { MdSave as IconSave } from 'react-icons/md';\nimport { MdCancel as IconCancel } from 'react-icons/md';\nimport { MdClose as IconClose } from 'react-icons/md';\nimport { MdRefresh as IconRestart } from 'react-icons/md';\nimport { MdInput as IconDoEdit } from 'react-icons/md';\nimport { FaClock as IconCron } from 'react-icons/fa';\nimport { FaClipboardList as IconSelectId } from 'react-icons/fa';\nimport { FaFileExport as IconExport } from 'react-icons/fa';\nimport { FaFileImport as IconImport } from 'react-icons/fa';\nimport { FaFlagCheckered as IconCheck } from 'react-icons/fa';\nimport { MdGpsFixed as IconLocate } from 'react-icons/md';\nimport { MdClearAll as IconCloseAll } from 'react-icons/md';\nimport { MdBuild as IconDebugMenu } from 'react-icons/md';\nimport { MdBugReport as IconDebug } from 'react-icons/md';\nimport { MdPlaylistAddCheck as IconVerbose } from 'react-icons/md';\nimport { MdBugReport as IconDebugMode } from 'react-icons/md';\nimport { MdPlayArrow as IconPlay } from 'react-icons/md';\nimport { MdPause as IconPause } from 'react-icons/md';\nimport { MdAutoAwesome as IconAstro } from 'react-icons/md';\nimport ImgJS from './assets/js.png';\nimport ImgBlockly from './assets/blockly.png';\nimport ImgTypeScript from './assets/typescript.png';\nimport ImgBlockly2Js from './assets/blockly2js.svg';\nimport ImgRules2Js from './assets/rules2js.svg';\nimport ImgRules from './assets/rules.png';\n\nimport {\n    I18n, Utils, Cron as DialogCron, Confirm as DialogConfirm, SelectID as DialogSelectID,\n} from '@iobroker/adapter-react-v5';\n\nimport ScriptEditorComponent from './Components/ScriptEditorVanilaMonaco';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport DialogScriptEditor from './Dialogs/ScriptEditor';\nimport RulesEditor from './Components/RulesEditor';\nimport Debugger from './Components/Debugger';\nimport steps, { STEPS } from './Components/RulesEditor/helpers/Tour';\nimport OpenAiDialog from './OpenAi/OpenAiDialog';\n\nconst images = {\n    'Blockly': ImgBlockly,\n    'Javascript/js': ImgJS,\n    'Rules': ImgRules,\n    def: ImgJS,\n    'TypeScript/ts': ImgTypeScript,\n};\n\nconst MENU_ITEM_HEIGHT = 48;\nconst COLOR_DEBUG = '#02a102';\nconst COLOR_VERBOSE = '#70aae9';\nconst COLOR_RUN = green[400];\nconst COLOR_PAUSE = red[400];\n\nconst styles = theme => ({\n\n    toolbar: {\n        minHeight: 38, // Theme.toolbar.height,\n        boxShadow: '0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12)',\n    },\n    toolbarButtons: {\n        padding: 4,\n        marginLeft: 4,\n    },\n    toolbarButtonsDisabled: {\n        filter: 'grayscale(100%)',\n        opacity: 0.5,\n    },\n    editorDiv: {\n        height: `calc(100% - ${theme.toolbar.height + 38/*Theme.toolbar.height */ + 10}px)`,\n        width: '100%',\n        overflow: 'hidden',\n        position: 'relative',\n    },\n    textButton: {\n        marginRight: 10,\n        minHeight: 24,\n        padding: '6px 16px',\n    },\n    saveButton: {\n        background: '#ff9900',\n    },\n    textIcon: {\n        marginLeft: theme.spacing(1),\n    },\n    tabIcon: {\n        width: 24,\n        height: 24,\n        verticalAlign: 'middle',\n        marginBottom: 2,\n        marginRight: 2,\n        borderRadius: 3,\n    },\n    hintIcon: {\n        // fontSize: 32,\n        padding: '0 8px 0 8px',\n    },\n    hintText: {\n        // fontSize: 18\n    },\n    hintButton: {\n        marginTop: 8,\n        marginLeft: 20,\n    },\n    tabMenuButton: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n    },\n    tabChanged: {\n        color: theme.palette.secondary.main,\n    },\n    tabText: {\n        maxWidth: 130,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    tabChangedIcon: {\n        color: '#FF0000',\n        fontSize: 16,\n        marginLeft: 5,\n    },\n    closeButton: {\n        marginLeft: 5,\n    },\n    notRunning: {\n        color: '#ffbc00',\n        marginRight: theme.spacing(1),\n        marginLeft: theme.spacing(1),\n    },\n    tabButton: {\n        minHeight: 48,\n    },\n    tabButtonWrapper: {\n        display: 'inline-block',\n    },\n    menuIcon: {\n        width: 18,\n        height: 18,\n        borderRadius: 2,\n        marginRight: 5,\n    },\n    fullHeightDialog: {\n        height: 'calc(100% - 100px)',\n    },\n});\n\nclass Editor extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const selected = window.localStorage.getItem('Editor.selected') || '';\n        let editing = window.localStorage.getItem('Editor.editing') || '[]';\n        try {\n            editing = JSON.parse(editing);\n        } catch (e) {\n            editing = [];\n        }\n        if (selected && !editing.includes(selected)) {\n            editing.push(selected);\n        }\n\n        this.tabsRef = React.createRef();\n\n        this.state = {\n            selected,\n            editing, // array of opened scripts\n            changed: {}, // for every script\n            blockly: null,\n            rules: null,\n            debugEnabled: false,\n            verboseEnabled: false,\n            showCompiledCode: false,\n            showSelectId: false,\n            showCron: false,\n            showScript: false,\n            showAstro: false,\n            astroEvents: null,\n            insert: '',\n            searchText: '',\n            themeType: this.props.themeType,\n            visible: props.visible,\n            cmdToBlockly: '',\n            cmdToRules: '',\n            menuOpened: !!this.props.menuOpened,\n            menuTabsOpened: false,\n            menuTabsAnchorEl: null,\n            runningInstances: this.props.runningInstances || {},\n            showDebugMenu: false,\n            toast: '',\n            instancesLoaded: false,\n            isTourOpen: window.localStorage.getItem('tour') !== 'true',\n            tourStep: STEPS.selectTriggers,\n            showAdapterDebug: false,\n        };\n\n        this.setChangedInAdmin();\n\n        /* ----------------------- */\n        // required by selectIdDialog in Blockly\n        this.selectId = {\n            initValue: null,\n            callback: null,\n        };\n        this.cron = {\n            initValue: null,\n            callback: null,\n        };\n        this.scriptDialog = {\n            initValue: null,\n            callback: null,\n            args: null,\n            isReturn: false,\n        };\n\n        window.systemLang = I18n.getLanguage();\n        window.main = {\n            objects: {},\n            getObject: (id, cb) => this.props.socket.getObject(id).then(obj => cb && cb(null, obj)).catch(err => cb && cb(err)),\n            instances: [],\n            selectIdDialog: (initValue, type, cb) => {\n                if (typeof type === 'function') {\n                    cb = type;\n                    type = null;\n                }\n                this.selectId.callback = cb;\n                this.selectId.initValue = initValue;\n                this.selectId.type = type;\n                this.setState({ showSelectId: true });\n            },\n            cronDialog: (initValue, cb) => {\n                this.cron.callback = cb;\n                this.cron.initValue = initValue;\n                this.setState({ showCron: true });\n            },\n            showScriptDialog: (value, args, isReturn, cb) => {\n                this.scriptDialog.callback = cb;\n                this.scriptDialog.initValue = value;\n                this.scriptDialog.args = args;\n                this.scriptDialog.isReturn = isReturn || false;\n                this.setState({ showScript: true });\n            }\n        };\n\n        this.objects = props.objects;\n        /* ----------------------- */\n\n        this.scripts = {};\n\n        if (!this.state.selected && this.state.editing.length) {\n            this.state.selected = this.state.editing[0];\n        }\n\n        this.getAllAdapterInstances()\n            .then(() => {\n                // to enable logging\n                if (this.props.onSelectedChange && this.state.selected) {\n                    setTimeout(() => this.props.onSelectedChange(this.state.selected, this.state.editing), 100);\n                }\n            });\n    }\n\n    getAllAdapterInstances() {\n        return this.props.socket.getAdapterInstances(true)\n            .then(instanceObjects => {\n                const objects = {};\n                const instances = instanceObjects.map(obj => {\n                    objects[obj._id] = obj;\n                    return obj._id;\n                });\n                window.main.objects = objects;\n                window.main.instances = instances;\n                this.setState({ instancesLoaded: true });\n            });\n    }\n\n    onInstanceChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n\n        if (!obj && window.main.instances.includes[id]) {\n            delete window.main.objects[id];\n            const pos = window.main.instances.indexOf(id);\n            window.main.instances.splice(pos, 1);\n        } else\n            if (obj && obj.type === 'instance') {\n                // update instances\n                if (!window.main.instances.includes(id)) {\n                    window.main.instances.push(id);\n                    window.main.instances.sort();\n                }\n                window.main.objects[id] = obj;\n            }\n    };\n\n    setChangedInAdmin() {\n        const isChanged = Object.keys(this.state.changed).find(id => this.state.changed[id]);\n\n        if (typeof window.parent !== 'undefined' && window.parent) {\n            window.parent.configNotSaved = !!isChanged;\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener('beforeunload', this.onBrowserClose, false);\n        this.props.socket.subscribeObject('system.adapter.*', this.onInstanceChanged);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('beforeunload', this.onBrowserClose);\n        this.props.socket.unsubscribeObject('system.adapter.*', this.onInstanceChanged);\n    }\n\n    onBrowserClose = e => {\n        const isChanged = Object.keys(this.scripts).find(id =>\n            JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common));\n\n        if (!!isChanged) {\n            console.log('Script ' + JSON.stringify(this.scripts[isChanged]));\n            const message = I18n.t('Configuration not saved.');\n            e = e || window.event;\n            // For IE and Firefox\n            if (e) {\n                e.returnValue = message;\n            }\n\n            // For Safari\n            return message;\n        }\n    };\n\n    removeNonExistingScripts(nextProps, newState) {\n        nextProps = nextProps || this.props;\n        newState = newState || {};\n\n        let _changed = false;\n        if (this.state.editing) {\n            const isAnyNonExists = this.state.editing.find(id => !nextProps.objects[id]);\n\n            if (isAnyNonExists) {\n                // remove non-existing scripts\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                for (let i = editing.length - 1; i >= 0; i--) {\n                    if (!this.objects[editing[i]]) {\n                        _changed = true;\n                        editing.splice(i, 1);\n                    }\n                }\n                if (_changed) {\n                    newState.editing = editing;\n                }\n                if (this.state.selected && !this.objects[this.state.selected]) {\n                    _changed = true;\n                    newState.selected = editing[0] || '';\n                    if (this.scripts[newState.selected]) {\n                        if (this.state.blockly !== (this.scripts[newState.selected].engineType === 'Blockly')) {\n                            newState.blockly = this.scripts[newState.selected].engineType === 'Blockly';\n                            _changed = true;\n                        }\n                        if (this.state.rules !== (this.scripts[newState.selected].engineType === 'Rules')) {\n                            newState.rules = this.scripts[newState.selected].engineType === 'Rules';\n                            _changed = true;\n                        }\n                        if (this.state.verboseEnabled !== this.scripts[newState.selected].verbose) {\n                            newState.verboseEnabled = this.scripts[newState.selected].verbose;\n                            _changed = true;\n                        }\n                        if (this.state.debugEnabled !== this.scripts[newState.selected].debug) {\n                            newState.debugEnabled = this.scripts[newState.selected].debug;\n                            _changed = true;\n                        }\n                    }\n                }\n            }\n        }\n        return _changed;\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const newState = {};\n        let _changed = false;\n\n        if (JSON.stringify(nextProps.runningInstances) !== JSON.stringify(this.state.runningInstances)) {\n            _changed = true;\n            newState.runningInstances = nextProps.runningInstances;\n        }\n\n        if (this.state.menuOpened !== nextProps.menuOpened) {\n            newState.menuOpened = nextProps.menuOpened;\n            _changed = true;\n        }\n\n        if (this.state.themeType !== nextProps.themeType) {\n            newState.themeType = nextProps.themeType;\n            _changed = true;\n        }\n\n        // check if all opened files still exists\n        if (this.removeNonExistingScripts(nextProps, newState)) {\n            _changed = true;\n        }\n\n        // update search text\n        if (this.state.searchText !== nextProps.searchText) {\n            newState.searchText = nextProps.searchText;\n            _changed = true;\n        }\n\n        // if objects read\n        if (this.objects !== nextProps.objects) {\n            this.objects = nextProps.objects;\n            window.main.objects = nextProps.objects;\n\n            // update all scripts\n            Object.keys(this.scripts).forEach(id => {\n                const source = this.scripts[id].source;\n                this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                this.scripts[id].source = source;\n            });\n\n            // if a script is blockly\n            if (this.state.selected && this.objects[this.state.selected]) {\n                this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.objects[this.state.selected].common));\n                if (this.state.blockly !== (this.scripts[this.state.selected].engineType === 'Blockly')) {\n                    newState.blockly = this.scripts[this.state.selected].engineType === 'Blockly';\n                    _changed = true;\n                }\n                if (this.state.rules !== (this.scripts[this.state.selected].engineType === 'Rules')) {\n                    newState.rules = this.scripts[this.state.selected].engineType === 'Rules';\n                    _changed = true;\n                }\n                if (this.state.verboseEnabled !== this.scripts[this.state.selected].verbose) {\n                    newState.verboseEnabled = this.scripts[this.state.selected].verbose;\n                    _changed = true;\n                }\n                if (this.state.debugEnabled !== this.scripts[this.state.selected].debug) {\n                    newState.debugEnabled = this.scripts[this.state.selected].debug;\n                    _changed = true;\n                }\n            }\n\n            // remove non-existing scripts\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            for (let i = editing.length - 1; i >= 0; i--) {\n                if (!this.objects[editing[i]]) {\n                    _changed = true;\n                    editing.splice(i, 1);\n                    if (this.state.changed[editing[i]] !== undefined) {\n                        newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                        delete newState.changed[editing[i]];\n                    }\n                }\n            }\n            if (this.state.selected && !this.objects[this.state.selected]) {\n                newState.selected = editing[0] || '';\n            }\n            if (_changed) {\n                newState.editing = editing;\n            }\n        } else {\n            // update all scripts\n            for (const id in this.scripts) {\n                if (!this.scripts.hasOwnProperty(id)) continue;\n                if (this.objects[id] && this.objects[id].common) {\n                    const oldSource = this.scripts[id].source;\n                    const commonLocal = JSON.parse(JSON.stringify(this.scripts[id]));\n                    commonLocal.source = this.objects[id].common.source;\n                    // if anything except source was changed\n                    if (JSON.stringify(commonLocal) !== JSON.stringify(this.objects[id].common)) {\n                        this.scripts[id] = JSON.parse(JSON.stringify(this.objects[id].common));\n                        this.scripts[id].source = oldSource;\n                    }\n\n                    if (oldSource !== this.objects[id].common.source) {\n                        // take new script if it not yet changed\n                        if (!this.state.changed[id]) {\n                            // just use new value\n                            this.scripts[id].source = this.objects[id].common.source;\n                        } else {\n                            if (this.objects[id].from && this.objects[id].from.startsWith('system.adapter.javascript.')) {\n                                this.objects[id].from = 'system.adapter.admin.0';\n                                // show that script was changed from outside\n                                this.setState({ toast: I18n.t('Script %s was modified on disk.', id.split('.').pop()) });\n                            }\n                        }\n                    } else {\n                        if (this.state.changed[id]) {\n                            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                            newState.changed[id] = false;\n                            _changed = true;\n                        }\n                    }\n                } else {\n                    delete this.scripts[id];\n                    if (this.state.selected === id) {\n                        if (this.state.editing.indexOf(id) !== -1) {\n                            const editing = JSON.parse(JSON.stringify(this.state.editing));\n                            const pos = editing.indexOf(id);\n                            if (pos !== -1) {\n                                editing.splice(pos, 1);\n                                newState.editing = editing;\n                                _changed = true;\n                            }\n                        }\n                        newState.selected = this.state.editing[0] || '';\n                        _changed = true;\n                    }\n                }\n            }\n        }\n\n        if (this.state.selected !== nextProps.selected && nextProps.selected) {\n            if (nextProps.selected) {\n                this.scripts[nextProps.selected] = this.scripts[nextProps.selected] || JSON.parse(JSON.stringify(this.props.objects[nextProps.selected].common));\n            }\n\n            const nextCommon = this.props.objects[nextProps.selected] && this.props.objects[nextProps.selected].common;\n\n            const changed = nextCommon && JSON.stringify(this.scripts[nextProps.selected]) !== JSON.stringify(nextCommon);\n\n            const editing = JSON.parse(JSON.stringify(this.state.editing));\n            if (nextProps.selected && editing.indexOf(nextProps.selected) === -1) {\n                editing.push(nextProps.selected);\n                this.props.onSelectedChange(nextProps.selected, editing);\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n            }\n\n            _changed = true;\n            newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n            newState.changed[nextProps.selected] = changed;\n            newState.editing = editing;\n            newState.selected = nextProps.selected;\n            newState.blockly = this.scripts[nextProps.selected].engineType === 'Blockly';\n            newState.rules = this.scripts[nextProps.selected].engineType === 'Rules';\n            newState.verboseEnabled = this.scripts[nextProps.selected].verbose;\n            newState.debugEnabled = this.scripts[nextProps.selected].debug;\n            newState.showCompiledCode = false;\n        } else {\n\n        }\n\n        if (this.state.visible !== nextProps.visible) {\n            _changed = true;\n            newState.visible = nextProps.visible;\n        }\n\n        _changed && this.setState(newState, () => this.setChangedInAdmin());\n    }\n\n    onRestart() {\n        this.props.onRestart && this.props.onRestart(this.state.selected);\n    }\n\n    onStartStop() {\n        const common = JSON.parse(JSON.stringify(this.scripts[this.state.selected]));\n        common.enabled = !common.enabled;\n        this.props.onChange && this.props.onChange(this.state.selected, common);\n    }\n\n    onSave() {\n        if (this.state.isTourOpen && this.state.tourStep === STEPS.saveTheScript) {\n            this.setState({ isTourOpen: false });\n            window.localStorage.setItem('tour', 'true');\n        }\n\n        if (this.state.changed[this.state.selected]) {\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = false;\n            this.setState({ changed }, () => {\n                this.setChangedInAdmin();\n                this.props.onChange && this.props.onChange(this.state.selected, this.scripts[this.state.selected]);\n            });\n        }\n    }\n\n    onSaveAll() {\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        Object.keys(changed)\n            .forEach(id => {\n                if (changed[id]) {\n                    changed[id] = false;\n                    this.props.onChange && this.props.onChange(id, this.scripts[id]);\n                }\n            });\n\n        this.setState({ changed }, () =>\n            this.setChangedInAdmin());\n    }\n\n    onCancel() {\n        this.scripts[this.state.selected] = JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\n        changed[this.state.selected] = false;\n\n        this.setState({ changed }, () => this.setChangedInAdmin());\n    }\n\n    onRegisterSelect(func) {\n        this.getSelect = func;\n    }\n\n    onConvertBlockly2JS() {\n        this.showConfirmDialog(I18n.t('It will not be possible to revert this operation.'), result => {\n            if (result) {\n                this.scripts[this.state.selected].engineType = 'Javascript/js';\n                let source = this.scripts[this.state.selected].source;\n                const lines = source.split('\\n');\n                lines.pop();\n                this.scripts[this.state.selected].source = lines.join('\\n');\n                const nowSelected = this.state.selected;\n\n                const changed = JSON.parse(JSON.stringify(this.state.changed));\n                changed[this.state.selected] = true;\n\n                this.setState({ changed, blockly: false, selected: '' }, () => {\n                    this.setChangedInAdmin();\n                    // force update of the editor\n                    setTimeout(() => this.setState({ selected: nowSelected }), 100);\n                });\n            }\n        });\n    }\n\n    onChange(options) {\n        options = options || {};\n        if (options.script !== undefined) {\n            this.scripts[this.state.selected].source = options.script;\n        }\n        if (options.debug !== undefined) {\n            this.scripts[this.state.selected].debug = options.debug;\n        }\n        if (options.verbose !== undefined) {\n            this.scripts[this.state.selected].verbose = options.verbose;\n        }\n        const _changed = JSON.stringify(this.scripts[this.state.selected]) !== JSON.stringify(this.props.objects[this.state.selected].common);\n        if (_changed !== (this.state.changed[this.state.selected] || false)) {\n            const changed = JSON.parse(JSON.stringify(this.state.changed));\n            changed[this.state.selected] = _changed;\n            this.objects[this.state.selected].from = 'system.adapter.admin.0';\n            this.setState({ changed }, () => this.setChangedInAdmin());\n        }\n    }\n\n    onTabChange(event, selected) {\n        if (this.props.debugMode) {\n            return;\n        }\n        window.localStorage && window.localStorage.setItem('Editor.selected', selected);\n        const common = this.scripts[selected] || (this.props.objects[selected] && this.props.objects[selected].common);\n        this.setState({\n            selected,\n            rules: common.engineType === 'Rules',\n            blockly: common.engineType === 'Blockly',\n            showCompiledCode: false,\n            verboseEnabled: common.verbose,\n            debugEnabled: common.debug\n        });\n        this.props.onSelectedChange && this.props.onSelectedChange(selected, this.state.editing);\n    }\n\n    isScriptChanged(id) {\n        return this.scripts[id] && this.props.objects[id] && JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common);\n    }\n\n    onTabClose(id, e) {\n        e && e.stopPropagation();\n\n        const pos = this.state.editing.indexOf(id);\n        if (this.state.editing.includes(id)) {\n            if (this.isScriptChanged(id)) {\n                this.showConfirmDialog(I18n.t('Discard changes for %s', this.props.objects[id].common.name), ok => {\n                    if (ok) {\n                        delete this.scripts[id];\n                        this.onTabClose(id);\n                    }\n                });\n            } else {\n                const editing = JSON.parse(JSON.stringify(this.state.editing));\n                editing.splice(pos, 1);\n                const newState = { editing };\n                if (id === this.state.selected) {\n                    if (editing.length) {\n                        if (pos === 0 || editing.length === 1) {\n                            newState.selected = editing[0];\n                        } else {\n                            newState.selected = editing[pos - 1];\n                        }\n                    } else {\n                        newState.selected = '';\n                    }\n                } else if (this.state.selected && !editing.length) {\n                    newState.selected = '';\n                }\n                window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                if (newState.selected !== undefined) {\n                    newState.changed = newState.changed || JSON.parse(JSON.stringify(this.state.changed));\n                    newState.changed[newState.selected] = this.isScriptChanged(newState.selected);\n                    const common = newState.selected && (this.scripts[newState.selected] || (this.props.objects[newState.selected] && this.props.objects[newState.selected].common));\n                    newState.blockly = common ? common.engineType === 'Blockly' : false;\n                    newState.rules = common ? common.engineType === 'Rules' : false;\n                    newState.verboseEnabled = common ? common.verbose : false;\n                    newState.debugEnabled = common ? common.debug : false;\n                    newState.showCompiledCode = false;\n                }\n\n                this.setState(newState, () => {\n                    this.setChangedInAdmin();\n\n                    if (newState.selected !== undefined) {\n                        this.props.onSelectedChange && this.props.onSelectedChange(newState.selected, this.state.editing);\n                        window.localStorage && window.localStorage.setItem('Editor.selected', newState.selected);\n                    } else {\n                        this.props.onSelectedChange && this.props.onSelectedChange(this.state.selected, this.state.editing);\n                    }\n                });\n            }\n        }\n    }\n\n    showConfirmDialog(question, cb) {\n        this.confirmCallback = cb;\n        this.setState({ confirm: question });\n    }\n\n    sendCommandToBlockly(cmd) {\n        this.setState({ cmdToBlockly: cmd }, () =>\n            setTimeout(() =>\n                this.setState({ cmdToBlockly: '' }), 200));\n    }\n\n    sendCommandToRules(cmd) {\n        this.setState({ cmdToRules: cmd }, () =>\n            setTimeout(() =>\n                this.setState({ cmdToRules: '' }), 200));\n    }\n\n    static getText(text) {\n        if (typeof text === 'object') {\n            return text[I18n.getLanguage()] || text.en;\n        }\n        return text;\n    }\n\n    getScriptFullName(id) {\n        const parts = id.split('.');\n        parts.shift(); // remove \"script.\"\n        parts.shift(); // remove \"js.\"\n        const result = [];\n        let _id = 'script.js';\n        for (let i = 0; i < parts.length; i++) {\n            _id += `.${parts[i]}`;\n            if (this.props.objects[_id] && this.props.objects[_id].common) {\n                result.push(Editor.getText(this.props.objects[_id].common.name));\n            } else {\n                result.push(parts[i]);\n            }\n        }\n        return `/ ${result.join(' / ')}`;\n    }\n\n    getTabs() {\n        if (this.state.editing.length) {\n            return [<Tabs\n                component={'div'}\n                key=\"tabs1\"\n                value={this.props.debugInstance ? this.props.debugInstance.adapter : this.state.selected}\n                onChange={(event, value) => this.onTabChange(event, value)}\n                indicatorColor=\"primary\"\n                style={{ position: 'relative', marginLeft: 10, width: this.state.editing.length > 1 ? 'calc(100% - 50px)' : '100%', display: 'inline-block' }}\n                textColor=\"primary\"\n                variant=\"scrollable\"\n                scrollButtons=\"auto\"\n            >\n                {this.state.editing.map(id => {\n                    if (!this.props.objects[id]) {\n                        const label = [\n                            <div key=\"text\" className={Utils.clsx(this.props.classes.tabText, this.isScriptChanged(id) && this.props.classes.tabChanged)}>{id.split('.').pop()}</div>,\n                            <IconButton onClick={e => this.onTabClose(id, e)} className={this.props.classes.closeButton} key=\"icon\" size=\"small\" component=\"span\">\n                                <IconClose />\n                            </IconButton>];\n                        return <Tab\n                            wrapped\n                            component={'div'}\n                            href={'#' + id}\n                            key={id}\n                            label={label}\n                            value={id}\n                            classes={{ wrapper: this.props.classes.tabButtonWrapper }}\n                        />;\n                    } else {\n                        let text = Editor.getText(this.props.objects[id].common.name) || '';\n                        let title = this.getScriptFullName(id);\n                        if (text.length > 18) {\n                            text = `${text.substring(0, 15)}...`;\n                        }\n                        const changed = this.props.objects[id].common && this.scripts[id] && this.props.objects[id].common.source !== this.scripts[id].source;\n                        const label = [\n                            <div key=\"text\" className={Utils.clsx(this.props.classes.tabText, this.isScriptChanged(id) && this.props.classes.tabChanged)}>{text}</div>,\n                            changed ? <span key=\"changedSign\" className={this.props.classes.tabChangedIcon}></span> : null,\n                            (!this.props.debugInstance && (!this.props.debugMode || this.state.selected !== id)) &&\n                            <IconButton onClick={e => this.onTabClose(id, e)} className={this.props.classes.closeButton} key=\"icon\" size=\"small\" component=\"span\">\n                                <IconClose />\n                            </IconButton>,\n                        ];\n\n                        return <Tab\n                            disabled={this.props.debugInstance || (this.state.selected !== id && this.props.debugMode)}\n                            wrapped\n                            component=\"div\"\n                            iconPosition=\"start\"\n                            icon={<img key=\"icon\" alt=\"\" src={images[this.props.objects[id].common.engineType] || images.def} className={this.props.classes.tabIcon} />}\n                            href={`#${id}`}\n                            key={id}\n                            label={label}\n                            className={this.props.classes.tabButton}\n                            value={id}\n                            title={title}\n                            classes={{ wrapper: this.props.classes.tabButtonWrapper }}\n                        />;\n                    }\n                })}\n                {this.props.debugInstance ? <Tab\n                    disabled={false}\n                    wrapped\n                    component=\"div\"\n                    href={`#${this.props.debugInstance.adapter}`}\n                    key={this.props.debugInstance.adapter}\n                    label={this.props.debugInstance.adapter}\n                    className={this.props.classes.tabButton}\n                    value={this.props.debugInstance.adapter}\n                    title={this.props.debugInstance.adapter}\n                    classes={{ wrapper: this.props.classes.tabButtonWrapper }}\n                /> : ''}\n            </Tabs>,\n            this.state.editing.length > 1 ? <IconButton\n                key=\"menuButton\"\n                href=\"#\"\n                aria-label=\"Close all but current\"\n                className={this.props.classes.tabMenuButton}\n                title={I18n.t('Close all but current')}\n                aria-haspopup=\"false\"\n                onClick={_event => {\n                    const editing = [this.state.selected];\n                    // Do not close not saved tabs\n                    Object.keys(this.scripts).forEach(id =>\n                        id !== this.state.selected &&\n                        JSON.stringify(this.scripts[id]) !== JSON.stringify(this.props.objects[id].common) &&\n                        editing.push(id)\n                    );\n\n                    window.localStorage && window.localStorage.setItem('Editor.editing', JSON.stringify(editing));\n                    this.setState({ menuTabsOpened: false, menuTabsAnchorEl: null, editing: editing });\n                }}\n                size=\"medium\">\n                <IconCloseAll />\n            </IconButton> : null\n            ];\n        } else {\n            return <div key=\"tabs2\" className={this.props.classes.toolbar}>\n                <Button color=\"grey\" key=\"select1\" disabled className={this.props.classes.hintButton} href=\"\">\n                    <span key=\"select2\">{I18n.t('Click on this icon')}</span>\n                    <IconDoEdit key=\"select3\" className={this.props.classes.hintIcon} />\n                    <span key=\"select4\">{I18n.t('for edit or create script')}</span>\n                </Button>\n            </div>;\n        }\n    }\n\n    getDebugMenu() {\n        if (!this.state.showDebugMenu) {\n            return null;\n        }\n\n        return <Menu\n            key=\"menuDebug\"\n            id=\"menu-debug\"\n            anchorEl={this.state.menuDebugAnchorEl}\n            open={this.state.showDebugMenu}\n            onClose={() => this.setState({ showDebugMenu: false, menuDebugAnchorEl: null })}\n            PaperProps={{\n                style: {\n                    maxHeight: MENU_ITEM_HEIGHT * 7.5,\n                },\n            }}\n        >\n            <MenuItem key=\"debugEnabled\"\n                title={I18n.t('debug_help')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.setState({ showDebugMenu: false, menuDebugAnchorEl: null, debugEnabled: !this.state.debugEnabled }, () => this.onChange({ debug: this.state.debugEnabled }));\n                }}>\n                <Checkbox checked={this.state.debugEnabled} />\n                <IconDebug className={this.props.classes.menuIcon} style={{ color: COLOR_DEBUG }} />\n                {I18n.t('debug_label')}\n            </MenuItem>\n            <MenuItem key=\"verboseEnabled\"\n                title={I18n.t('verbose_help')}\n                onClick={event => {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this.setState({ showDebugMenu: false, menuDebugAnchorEl: null, verboseEnabled: !this.state.verboseEnabled }, () => this.onChange({ verbose: this.state.verboseEnabled }));\n                }}>\n                <Checkbox checked={this.state.verboseEnabled} />\n                <IconVerbose className={this.props.classes.menuIcon} style={{ color: COLOR_VERBOSE }} />\n                {I18n.t('verbose_label')}\n            </MenuItem>\n        </Menu>;\n    }\n\n    getDebugBadge() {\n        return [\n            this.state.debugEnabled && this.state.verboseEnabled && <IconDebug key=\"DebugVerbose\" className={this.props.classes.menuIcon} style={{ color: COLOR_VERBOSE }} />,\n            this.state.debugEnabled && !this.state.verboseEnabled && <IconDebug key=\"DebugNoVerbose\" className={this.props.classes.menuIcon} style={{ color: COLOR_DEBUG }} />,\n            !this.state.debugEnabled && this.state.verboseEnabled && <IconVerbose key=\"noDebugVerbose\" className={this.props.classes.menuIcon} style={{ color: COLOR_VERBOSE }} />,\n        ]\n    }\n\n    getAskAboutDebug() {\n        if (this.state.askAboutDebug) {\n            return <DialogConfirm\n                onClose={() => {\n                    this.setState({ askAboutDebug: false }, () =>\n                        this.props.onDebugModeChange(true));\n                }}\n                ok={I18n.t('Yes')}\n                cancel={I18n.t('Cancel')}\n                text={I18n.t('The script will be stopped and must be activated manually after debugging. Continue?')}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getToolbar() {\n        const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n        const isScriptRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].enabled;\n\n        if (this.state.selected) {\n            const changedAll = Object.keys(this.state.changed).filter(id => this.state.changed[id]).length;\n            const changed = this.state.changed[this.state.selected];\n            return (\n                <Toolbar variant=\"dense\" className={this.props.classes.toolbar} key=\"toolbar1\">\n                    {!this.props.debugInstance && this.state.menuOpened && this.props.onLocate && <IconButton\n                        className={this.props.classes.toolbarButtons}\n                        key=\"locate\"\n                        title={I18n.t('Locate file')}\n                        onClick={() => this.props.onLocate(this.state.selected)}\n                        size=\"medium\"\n                    >\n                        <IconLocate />\n                    </IconButton>}\n                    {!this.props.debugInstance && !changed && isInstanceRunning && <IconButton\n                        key=\"restart\"\n                        disabled={this.props.debugMode}\n                        variant=\"contained\"\n                        className={this.props.classes.toolbarButtons}\n                        onClick={() => this.onRestart()}\n                        title={I18n.t('Restart')}\n                        size=\"medium\"\n                    >\n                        <IconRestart />\n                    </IconButton>}\n                    {!this.props.debugInstance && !changed && <IconButton\n                        key=\"start-stop\"\n                        disabled={this.props.debugMode}\n                        variant=\"contained\"\n                        className={this.props.classes.toolbarButtons}\n                        onClick={() => this.onStartStop()}\n                        title={isScriptRunning ? I18n.t('Pause script') : I18n.t('Run script')}\n                        size=\"medium\"\n                        style={{ color: isScriptRunning ? COLOR_RUN : COLOR_PAUSE }}\n                    >\n                        {isScriptRunning ? <IconPause /> : <IconPlay />}\n                    </IconButton>}\n                    {!this.props.debugInstance && !changed && !isScriptRunning && <span className={this.props.classes.notRunning}>{I18n.t('Script is not running')}</span>}\n                    {!changed && isScriptRunning && !isInstanceRunning && <span className={this.props.classes.notRunning}>{I18n.t('Instance is disabled')}</span>}\n                    {changed && <Button color=\"grey\" key=\"save\" variant=\"contained\" className={Utils.clsx(this.props.classes.textButton, this.props.classes.saveButton, 'button-save')} onClick={() => this.onSave()}>{I18n.t('Save')}<IconSave className={this.props.classes.textIcon} /></Button>}\n                    {(changedAll > 1 || (changedAll === 1 && !changed)) && <Button color=\"grey\" key=\"saveall\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onSaveAll()}>{I18n.t('Save all')}<IconSave className={this.props.classes.textIcon} /></Button>}\n                    {changed && <Button color=\"grey\" key=\"cancel\" variant=\"contained\" className={this.props.classes.textButton} onClick={() => this.onCancel()}>{I18n.t('Cancel')}<IconCancel className={this.props.classes.textIcon} /></Button>}\n                    <div style={{ flex: 2 }} />\n\n                    {this.state.blockly && !this.state.showCompiledCode &&\n                        <IconButton\n                            key=\"export\"\n                            aria-label=\"Export Blocks\"\n                            title={I18n.t('Export blocks')}\n                            className={this.props.classes.toolbarButtons}\n                            onClick={() => this.sendCommandToBlockly('export')}\n                            size=\"medium\"\n                        >\n                            <IconExport />\n                        </IconButton>}\n\n                    {this.state.blockly && !this.state.showCompiledCode &&\n                        <IconButton\n                            key=\"import\"\n                            aria-label=\"Import Blocks\"\n                            title={I18n.t('Import blocks')}\n                            className={this.props.classes.toolbarButtons}\n                            onClick={() => this.sendCommandToBlockly('import')}\n                            size=\"medium\"\n                        >\n                            <IconImport />\n                        </IconButton>}\n\n                    {this.state.blockly && !this.state.showCompiledCode &&\n                        <IconButton\n                            key=\"check\"\n                            aria-label=\"Check code\"\n                            title={I18n.t('Check blocks')}\n                            className={this.props.classes.toolbarButtons}\n                            onClick={() => this.sendCommandToBlockly('check')}\n                            size=\"medium\"\n                        >\n                            <IconCheck />\n                        </IconButton>}\n\n                    {!this.props.debugMode && !this.state.blockly && !this.state.rules && !this.state.showCompiledCode && <IconButton\n                        key=\"select-cron\"\n                        aria-label=\"create CRON\"\n                        title={I18n.t('Create or edit CRON or time wizard')}\n                        className={this.props.classes.toolbarButtons}\n                        onClick={() => this.setState({ showCron: true })}\n                        size=\"medium\"\n                    >\n                        <IconCron />\n                    </IconButton>}\n                    {\n                        this.scripts[this.state.selected] &&\n                        this.scripts[this.state.selected].engineType !== 'Blockly' &&\n                        this.scripts[this.state.selected].engineType !== 'Rules' ?\n                        <OpenAiDialog\n                            adapterName={this.props.adapterName}\n                            socket={this.props.socket}\n                            runningInstances={this.state.runningInstances}\n                            classes={this.props.classes}\n                            themeType={this.state.themeType}\n                            language={this.scripts[this.state.selected].engineType === 'TypeScript/ts' ? 'typescript' : 'javascript'}\n                            onAddCode={code => this.setState({ insert: code })}\n                        /> : null}\n                    <IconButton\n                        key=\"show-astro\"\n                        aria-label=\"Show astronomical events\"\n                        title={I18n.t('Show astronomical events')}\n                        className={this.props.classes.toolbarButtons}\n                        disabled={!isInstanceRunning}\n                        onClick={() => {\n                            this.setState({ showAstro: true, astroEvents: null });\n\n                            this.props.socket.sendTo(this.scripts[this.state.selected].engine.replace('system.adapter.', ''), 'calcAstroAll', {})\n                                .then(astroEvents => this.setState({ astroEvents }));\n                        }}\n                        size=\"medium\"\n                    >\n                        <IconAstro />\n                    </IconButton>\n\n                    {!this.props.debugMode && !this.state.blockly && !this.state.rules && !this.state.showCompiledCode && <IconButton\n                        key=\"select-id\"\n                        aria-label=\"select ID\"\n                        title={I18n.t('Insert object ID')}\n                        className={this.props.classes.toolbarButtons}\n                        onClick={() => this.setState({ showSelectId: true })}\n                        size=\"medium\"\n                    >\n                        <IconSelectId />\n                    </IconButton>}\n\n                    {this.state.blockly && !this.state.rules && this.state.showCompiledCode && <Button color=\"grey\" key=\"convert2js\" aria-label=\"convert to javascript\"\n                        title={I18n.t('Convert blockly to javascript for ever.')}\n                        onClick={() => this.onConvertBlockly2JS()}\n                    >Blockly=>JS</Button>}\n                    {this.state.rules && !this.state.showCompiledCode &&\n                        <IconButton\n                            key=\"export\"\n                            aria-label=\"Export Blocks\"\n                            title={I18n.t('Export blocks')}\n                            className={this.props.classes.toolbarButtons}\n                            onClick={() => this.sendCommandToRules('export')}\n                            size=\"medium\"\n                        >\n                            <IconExport />\n                        </IconButton>}\n                    {this.state.rules && !this.state.showCompiledCode &&\n                        <IconButton\n                            key=\"import\"\n                            aria-label=\"Import Blocks\"\n                            title={I18n.t('Import blocks')}\n                            className={this.props.classes.toolbarButtons}\n                            onClick={() => this.sendCommandToRules('import')}\n                            size=\"medium\"\n                        >\n                            <IconImport />\n                        </IconButton>}\n\n                    {this.props.expertMode && !changed && (this.props.debugMode || (!this.state.blockly && !this.state.rules) || ((this.state.blockly || this.state.rules) && this.state.showCompiledCode)) && <IconButton\n                        className={this.props.classes.toolbarButtons}\n                        color={this.props.debugMode ? 'primary' : 'default'}\n                        disabled={!this.props.debugMode && !isInstanceRunning}\n                        onClick={() => {\n                            if (!this.props.debugMode && isScriptRunning) {\n                                this.setState({ askAboutDebug: true })\n                            } else {\n                                this.props.onDebugModeChange(!this.props.debugMode);\n                            }\n                        }}\n                        size=\"medium\"\n                    >\n                        <IconDebugMode style={{ fontSize: 32 }} />\n                    </IconButton>}\n\n                    {(this.state.blockly || this.state.rules) && <Button\n                        key=\"blockly-code\"\n                        aria-label=\"blockly\"\n                        title={I18n.t('Show javascript code')}\n                        className={Utils.clsx(this.props.classes.toolbarButtons, 'button-js-code', this.props.debugMode && this.props.classes.toolbarButtonsDisabled)}\n                        color={this.state.showCompiledCode ? 'secondary' : 'inherit'}\n                        disabled={this.props.debugMode}\n                        style={{ padding: '0 5px' }}\n                        onClick={() => {\n                            if (this.props.debugMode) {\n                                return;\n                            }\n                            this.setState({ showCompiledCode: !this.state.showCompiledCode });\n                            this.state.isTourOpen && this.state.tourStep === STEPS.showJavascript && this.setState({ tourStep: STEPS.switchBackToRules });\n                            this.state.isTourOpen && this.state.tourStep === STEPS.switchBackToRules && this.setState({ tourStep: STEPS.saveTheScript });\n                        }}\n                    >\n                        <img alt={this.state.blockly ? \"blockly2js\" : \"rules2js\"} src={this.state.blockly ? ImgBlockly2Js : ImgRules2Js} />\n                    </Button>}\n                    <IconButton\n                        key=\"debug\"\n                        disabled={this.props.debugMode}\n                        aria-label=\"Debug menu\"\n                        title={I18n.t('Debug options')}\n                        className={this.props.classes.toolbarButtons}\n                        onClick={e => this.setState({ showDebugMenu: true, menuDebugAnchorEl: e.currentTarget })}\n                        size=\"medium\"\n                    >\n                        <Badge className={this.props.classes.badgeMargin} badgeContent={this.getDebugBadge()}>\n                            <IconDebugMenu />\n                        </Badge>\n                    </IconButton>\n                </Toolbar>\n            );\n        } else {\n            return null;\n        }\n    }\n\n    getScriptEditor() {\n        if (!this.props.debugMode &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.blockly !== null &&\n            (!this.state.blockly || this.state.showCompiledCode) &&\n            (!this.state.rules || this.state.showCompiledCode)\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <div className={this.props.classes.editorDiv} key=\"scriptEditorDiv\">\n                <ScriptEditorComponent\n                    key=\"scriptEditor1\"\n                    name={this.state.selected}\n                    adapterName={this.props.adapterName}\n                    insert={this.state.insert}\n                    onInserted={() => this.setState({ insert: '' })}\n                    onForceSave={() => this.onSave()}\n                    searchText={this.state.searchText}\n                    onRegisterSelect={func => this.onRegisterSelect(func)}\n                    readOnly={this.state.showCompiledCode}\n                    changed={this.state.changed[this.state.selected]}\n                    code={this.scripts[this.state.selected].source || ''}\n                    isDark={this.state.themeType === 'dark'}\n                    socket={this.props.socket}\n                    runningInstances={this.state.runningInstances}\n                    onChange={newValue => this.onChange({ script: newValue })}\n                    language={this.scripts[this.state.selected].engineType === 'TypeScript/ts' ? 'typescript' : 'javascript'}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getBlocklyEditor() {\n        if (!this.props.debugMode &&\n            this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.blockly &&\n            !this.state.showCompiledCode &&\n            this.state.visible\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n\n            return <div className={this.props.classes.editorDiv} key=\"blocklyEditorDiv\">\n                <BlocklyEditor\n                    command={this.state.cmdToBlockly}\n                    key=\"BlocklyEditor\"\n                    themeType={this.state.themeType}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    scriptId={this.state.selected}\n                    onChange={newValue => this.onChange({ script: newValue })}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getRulesEditor() {\n        if (!this.props.debugMode &&\n            this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.objects[this.state.selected] &&\n            this.state.rules &&\n            !this.state.showCompiledCode &&\n            this.state.visible\n        ) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n            const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n            const isScriptRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].enabled;\n\n            return <div className={Utils.clsx(this.props.classes.editorDiv)} key=\"flowEditorDiv\">\n                <RulesEditor\n                    scriptId={this.state.selected}\n                    setTourStep={this.setTourStep}\n                    tourStep={this.state.tourStep}\n                    isTourOpen={this.state.isTourOpen}\n                    changed={this.state.changed[this.state.selected]}\n                    running={isInstanceRunning && isScriptRunning}\n                    command={this.state.cmdToRules}\n                    key=\"flowEditor\"\n                    themeType={this.state.themeType}\n                    themeName={this.props.themeName}\n                    searchText={this.state.searchText}\n                    resizing={this.props.resizing}\n                    code={this.scripts[this.state.selected].source || ''}\n                    onChange={newValue => this.onChange({ script: newValue })}\n                />\n            </div>;\n        } else {\n            return null;\n        }\n    }\n\n    getConfirmDialog() {\n        if (this.state.confirm) {\n            return <DialogConfirm\n                key=\"dialogConfirm1\"\n                text={this.state.confirm}\n                onClose={result => {\n                    if (this.confirmCallback) {\n                        const cb = this.confirmCallback;\n                        this.confirmCallback = null;\n                        cb(result);\n                    }\n                    this.setState({ confirm: '' });\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getSelectIdDialog() {\n        if (this.state.showSelectId) {\n            const allObjektTypes = [\n                'state',\n                'channel',\n                'device',\n                'adapter',\n                'instance',\n                'enum',\n                'host',\n                //'meta',\n                'config',\n                'script',\n                'user',\n                'group',\n                //'chart',\n                //'folder',\n                //'schedule',\n                //'design',\n            ];\n\n            let selectedId = this.selectId.callback ? this.selectId.initValue || '' : this.getSelect ? this.getSelect() : '';\n            // it could be:\n            // - 'id.xx'/* aksjdhsdf*/\n            // - \"id.xx\"/* aksjdhsdf*/\n            // - \"id.xx\"//\n            let pos = selectedId.indexOf('/*');\n            if (pos !== -1) {\n                selectedId = selectedId.substring(0, pos);\n            }\n            pos = selectedId.indexOf('//');\n            if (pos !== -1) {\n                selectedId = selectedId.substring(0, pos);\n            }\n            let m = selectedId.match(/\"([^\"]+)\"/);\n            if (m) {\n                selectedId = m[1];\n            }\n            m = selectedId.match(/'([^']+)'/);\n            if (m) {\n                selectedId = m[1];\n            }\n\n            return <DialogSelectID\n                key=\"dialogSelectID1\"\n                imagePrefix=\"../..\"\n                themeName={this.props.themeName}\n                themeType={this.state.themeType}\n                socket={this.props.socket}\n                selected={selectedId}\n                expertMode={this.selectId.type === 'script' ? true : undefined}\n                // statesOnly={!this.selectId.type || this.selectId.type === 'state'}\n                types={this.selectId?.type === 'all' ? allObjektTypes : [this.selectId.type || 'state']}\n                onClose={() => {\n                    this.setState({ showSelectId: false });\n                    if (this.selectId.callback) {\n                        this.selectId.callback = null;\n                    }\n                }}\n                onOk={(selected, name) => {\n                    this.selectId.initValue = null;\n                    if (this.selectId.callback) {\n                        this.selectId.callback(selected);\n                        this.selectId.callback = null;\n                    } else {\n                        this.setState({ insert: `'${selected}'/*${name}*/` });\n                    }\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getCronDialog() {\n        if (this.state.showCron) {\n            return <DialogCron\n                key=\"dialogCron1\"\n                cron={this.cron.callback ? this.cron.initValue || '' : this.getSelect ? this.getSelect() : '* * * * *'}\n                onClose={() => this.setState({ showCron: false })}\n                onOk={cron => {\n                    this.cron.initValue = null;\n                    if (this.cron.callback) {\n                        this.cron.callback(cron);\n                        this.cron.callback = null;\n                    } else {\n                        this.setState({ insert: `'${cron}'` });\n                    }\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getAstroDialog() {\n        if (this.state.showAstro) {\n            return <Dialog\n                open={!0}\n                onClose={() => this.setState({ showAstro: false })}\n                key=\"dialogAstro\"\n            >\n                <DialogTitle>{I18n.t('Astronomical events today')}</DialogTitle>\n                <DialogContent>\n                    {!this.state.astroEvents ? <LinearProgress /> : <TableContainer component={Paper}>\n                        <Table size=\"small\">\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell>{I18n.t('Name')}</TableCell>\n                                    <TableCell>{I18n.t('Server time')}</TableCell>\n                                    <TableCell>{I18n.t('Description')}</TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {Object.keys(this.state.astroEvents).map(id =>\n                                    <TableRow key={id}>\n                                        <TableCell component=\"th\" scope=\"row\">{id.startsWith('next') ? '' : id}</TableCell>\n                                        <Tooltip title={I18n.t('Local time') + ': ' + (this.state.astroEvents[id].isValidDate ? new Date(this.state.astroEvents[id].date).toLocaleTimeString() : 'n/a')}><TableCell align=\"right\">{this.state.astroEvents[id].isValidDate ? this.state.astroEvents[id].serverTime : 'n/a'}</TableCell></Tooltip>\n                                        <TableCell>{I18n.t(id)}</TableCell>\n                                    </TableRow>)}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>}\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        variant=\"contained\"\n                        onClick={() => this.setState({ showAstro: false })}\n                        color=\"primary\"\n                        startIcon={<IconClose />}\n                    >\n                        {I18n.t('Close')}\n                    </Button>\n                </DialogActions>\n            </Dialog>;\n        } else {\n            return null;\n        }\n    }\n\n    getEditorDialog() {\n        if (this.state.showScript) {\n            return <DialogScriptEditor\n                key=\"scriptEditorDialog\"\n                adapterName={this.props.adapterName}\n                source={this.scriptDialog.initValue}\n                args={this.scriptDialog.args ? this.scriptDialog.args.join(', ') : ''}\n                isReturn={this.scriptDialog.isReturn}\n                socket={this.props.socket}\n                runningInstances={this.state.runningInstances}\n                themeType={this.state.themeType}\n                onClose={result => {\n                    this.scriptDialog.initValue = null;\n                    if (this.scriptDialog.callback) {\n                        result !== false && this.scriptDialog.callback(result || '');\n                        this.scriptDialog.callback = null;\n                    }\n                    this.setState({ showScript: false });\n                }}\n            />;\n        } else {\n            return null;\n        }\n    }\n\n    getToast() {\n        return <Snackbar\n            key=\"toast\"\n            anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left',\n            }}\n            open={!!this.state.toast}\n            autoHideDuration={6000}\n            onClose={() => this.setState({ toast: '' })}\n            ContentProps={{ 'aria-describedby': 'message-id' }}\n            message={<span id=\"message-id\">{this.state.toast}</span>}\n            action={[\n                <IconButton\n                    key=\"close\"\n                    aria-label=\"close\"\n                    color=\"inherit\"\n                    className={this.props.classes.closeToast}\n                    onClick={() => this.setState({ toast: '' })}\n                    size=\"medium\"\n                >\n                    <IconClose />\n                </IconButton>,\n            ]}\n        />;\n    }\n\n    setTourStep = tourStep => this.setState({ tourStep });\n\n    getTour() {\n        if (this.state.instancesLoaded &&\n            this.state.selected &&\n            this.props.isAnyRulesExists === 1 &&\n            this.props.objects[this.state.selected] &&\n            this.state.rules &&\n            this.state.visible) {\n            return <Tour\n                key=\"tour\"\n                steps={steps}\n                isOpen={this.state.isTourOpen}\n                onRequestClose={() => {\n                    this.setState({ isTourOpen: false });\n                    window.localStorage.setItem('tour', 'true');\n                    this.props.socket.setState('javascript.0.variables.rulesTour', { val: true, ack: true });\n                }}\n                //getCurrentStep={tourStep => this.setTourStep(tourStep)}\n                goToStep={this.state.tourStep}\n            />;\n        }\n    }\n\n    getDebug() {\n        if (this.props.debugMode) {\n            const isInstanceRunning = this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].engine && this.state.runningInstances[this.scripts[this.state.selected].engine];\n            if (isInstanceRunning) {\n                return <Debugger\n                    key=\"debugger\"\n                    runningInstances={this.state.runningInstances}\n                    adapterName={this.props.adapterName}\n                    socket={this.props.socket}\n                    theme={this.props.theme}\n                    themeName={this.props.themeName}\n                    themeType={this.props.themeType}\n                    src={this.props.debugInstance ? this.props.debugInstance.adapter : this.state.selected}\n                    debugInstance={this.props.debugInstance}\n                />;\n            } else {\n                setTimeout(() => this.props.onDebugModeChange(false));\n                return null;\n            }\n        } else {\n            return null;\n        }\n    }\n\n    render() {\n        if (this.state.selected && this.props.objects[this.state.selected] && this.state.blockly === null && this.state.rules === null) {\n            this.scripts[this.state.selected] = this.scripts[this.state.selected] || JSON.parse(JSON.stringify(this.props.objects[this.state.selected].common));\n            setTimeout(() => {\n                const newState = {\n                    blockly: this.scripts[this.state.selected].engineType === 'Blockly',\n                    rules: this.scripts[this.state.selected].engineType === 'Rules',\n                    showCompiledCode: false,\n                    debugEnabled: this.scripts[this.state.selected].debug,\n                    verboseEnabled: this.scripts[this.state.selected].verbose,\n                };\n\n                // check if all opened files still exists\n                this.removeNonExistingScripts(null, newState);\n                this.setState(newState);\n            }, 100);\n        }\n\n        return [\n            this.getTabs(),\n            this.getToolbar(),\n            this.getScriptEditor(),\n            this.getAskAboutDebug(),\n            this.getBlocklyEditor(),\n            this.getRulesEditor(),\n            this.getDebug(),\n            this.getConfirmDialog(),\n            this.getSelectIdDialog(),\n            this.getCronDialog(),\n            this.getEditorDialog(),\n            this.getAstroDialog(),\n            this.getDebugMenu(),\n            this.getToast(),\n            this.getTour(),\n        ];\n    }\n}\n\nEditor.propTypes = {\n    objects: PropTypes.object.isRequired,\n    instances: PropTypes.array.isRequired,\n    adapterName: PropTypes.string.isRequired,\n    selected: PropTypes.string.isRequired,\n    onSelectedChange: PropTypes.func.isRequired,\n    onRestart: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    visible: PropTypes.bool,\n    menuOpened: PropTypes.bool,\n    onLocate: PropTypes.func,\n    runningInstances: PropTypes.object,\n    socket: PropTypes.object,\n    searchText: PropTypes.string,\n    themeName: PropTypes.string,\n    themeType: PropTypes.string,\n    onDebugModeChange: PropTypes.func,\n    debugMode: PropTypes.bool,\n    debugInstance: PropTypes.object,\n    expertMode: PropTypes.bool,\n};\n\nexport default withStyles(styles)(Editor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\nimport Button from '@mui/material/Button';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogActions from '@mui/material/DialogActions';\nimport Dialog from '@mui/material/Dialog';\nimport Dropzone from 'react-dropzone';\nimport DialogError from './Error';\nimport {MdFileUpload as IconUpload} from 'react-icons/md';\nimport {MdCancel as IconNo} from 'react-icons/md';\nimport {MdPlusOne as IconPlus} from 'react-icons/md';\n\nimport IconCancel from '@mui/icons-material/Cancel';\n\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nconst styles = theme => ({\n    dialog: {\n        height: '95%',\n    },\n    fullHeight: {\n        height: '100%',\n        overflow: 'hidden',\n    },\n    dropzone: {\n        marginTop: 20,\n        width: '100%',\n        borderWidth: 5,\n        borderStyle: 'dashed',\n        borderColor: '#d0cccc',\n        textAlign: 'center',\n        boxSizing: 'border-box',\n        paddingTop: 45,\n        borderRadius: 10,\n        height: 'calc(100% - 10px)',\n    },\n    dropzoneDiv: {\n        width: '100%',\n        height: '100%',\n    },\n    dropzoneRejected: {\n        borderColor: '#970000',\n    },\n    dropzoneAccepted: {\n        borderColor: '#17cd02',\n    },\n    icon: {\n        height: '30%',\n        width: '30%',\n        color: '#eeeeee',\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        zIndex: 0,\n    },\n    iconError: {\n        color: '#ffc3c6',\n    },\n    iconOk: {\n        color: '#aaeebc',\n    },\n    text: {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%,-50%)',\n        color: '#868686',\n        position: 'absolute',\n        zIndex: 1,\n    },\n});\n\nclass DialogImportFile extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: '',\n            imageStatus: ''\n        };\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            try {\n                window.document.getElementById('import-text-area').focus();\n            } catch (e) {\n\n            }\n        }, 100);\n    }\n\n    handleCancel () {\n        this.props.onClose();\n    }\n\n    onChange(e) {\n        this.setState({text: e.target.value});\n    }\n\n    static readFileDataUrl(file, cb) {\n        const reader = new FileReader();\n        reader.onload = () => {\n            cb(null, {data: reader.result, name: file.name});\n        };\n        reader.onabort = () => {\n            console.error('file reading was aborted');\n            cb(I18n.t('file reading was aborted'));\n        };\n        reader.onerror = (e) => {\n            console.error('file reading has failed');\n            cb(I18n.t('file reading has failed: %s', e));\n        };\n\n        reader.readAsDataURL(file);\n    }\n\n    handleDropFile(files) {\n        if (files && files.hasOwnProperty('target')) {\n            files = files.target.files;\n        }\n\n        if (!files && !files.length) {\n            return;\n        }\n\n        const file = files[files.length - 1];\n\n        if (!file) {\n            return;\n        }\n        DialogImportFile.readFileDataUrl(file, (err, result) => {\n            if (err) {\n                this.setState({error: err});\n            } else {\n                this.props.onClose(result && result.data);\n            }\n        });\n    }\n\n    render() {\n        const classes = this.props.classes;\n        const className = classes.dropzone + ' ' + (this.state.imageStatus === 'accepted' ? classes.dropzoneAccepted : (this.state.imageStatus === 'rejected' ? classes.dropzoneRejected : ''));\n\n        return <Dialog\n            onClose={(event, reason) => false}\n            maxWidth=\"lg\"\n            classes={{ paper: classes.dialog }}\n            fullWidth\n            open={!0}\n            aria-labelledby=\"import-dialog-title\"\n        >\n            <DialogTitle id=\"import-dialog-title\">{I18n.t('Import scripts')}</DialogTitle>\n            <DialogContent className={classes.fullHeight}>\n                <Dropzone key='image-drop'\n                    maxSize={50000000}\n                    acceptClassName={classes.dropzoneAccepted}\n                    rejectClassName={classes.dropzoneRejected}\n                    onDrop={files => this.handleDropFile(files)}\n                    multiple={false}\n                    accept='application/zip,application/x-zip-compressed'\n                    className={className}>\n                    {\n                        ({ getRootProps, getInputProps, isDragActive, isDragReject}) => {\n                            if (isDragReject) {\n                                if (this.state.imageStatus !== 'rejected') {\n                                    this.setState({imageStatus: 'rejected'});\n                                }\n                                return (\n                                    <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <span key=\"text\" className={this.props.classes.text}>{I18n.t('Some files will be rejected')}</span>\n                                        <IconNo key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconError}/>\n                                    </div>);\n                            } else if (isDragActive) {\n                                if (this.state.imageStatus !== 'accepted') {\n                                    this.setState({imageStatus: 'accepted'});\n                                }\n\n                                return (\n                                    <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <span key=\"text\" className={this.props.classes.text}>{I18n.t('All files will be accepted')}</span>\n                                        <IconPlus key=\"icon\" className={this.props.classes.icon + ' ' + this.props.classes.iconOk}/>\n                                    </div>);\n                            } else {\n                                if (this.state.imageStatus !== 'wait') {\n                                    this.setState({imageStatus: 'wait'});\n                                }\n                                return (\n                                    <div className={this.props.classes.dropzoneDiv} {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <span key=\"text\" className={this.props.classes.text}>{I18n.t('Drop some files here or click...')}</span>\n                                        <IconUpload key=\"icon\" className={this.props.classes.icon}/>\n                                    </div>);\n                            }\n                        }\n                    }\n                </Dropzone>\n                {this.state.error ? (<DialogError text={this.state.error} onClose={() => this.setState({error: ''})}/>) : null}\n            </DialogContent>\n            <DialogActions>\n                <Button color=\"grey\" variant=\"contained\" onClick={() => this.handleCancel()} startIcon={<IconCancel/>}>{I18n.t('Close')}</Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nDialogImportFile.propTypes = {\n    classes: PropTypes.object.isRequired,\n    onClose: PropTypes.func,\n};\n\nexport default withStyles(styles)(DialogImportFile);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@mui/styles/withStyles';\nimport SplitterLayout from 'react-splitter-layout';\n\nimport 'react-splitter-layout/lib/index.css';\n\nimport GenericApp from '@iobroker/adapter-react-v5/GenericApp';\nimport DialogMessage from '@iobroker/adapter-react-v5/Dialogs/Message';\nimport DialogConfirm from '@iobroker/adapter-react-v5/Dialogs/Confirm';\nimport { I18n, Utils, AdminConnection, Loader } from '@iobroker/adapter-react-v5';\n\nimport { MdMenu as IconMenuClosed } from 'react-icons/md';\nimport { MdArrowBack as IconMenuOpened } from 'react-icons/md';\nimport { MdVisibility as IconShowLog } from 'react-icons/md';\n\nimport SideMenu from './SideMenu';\nimport Log from './Log';\nimport Editor from './Editor';\nimport DialogError from './Dialogs/Error';\nimport DialogImportFile from './Dialogs/ImportFile';\nimport BlocklyEditor from './Components/BlocklyEditor';\nimport { ContextWrapper } from './Components/RulesEditor/components/ContextWrapper';\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        display: 'flex',\n        width: '100%',\n        height: '100%',\n    },\n    menuDiv: {\n        overflow: 'hidden',\n    },\n    splitterDivs: {\n        '&>div': {\n            overflow: 'hidden',\n            width: '100%',\n            height: '100%',\n        },\n        '& .layout-splitter': {\n            background: theme.palette.mode === 'dark' ? '#595858' : '#ccc;',\n        },\n    },\n    mainDiv: {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n    },\n    /*\n    appBarWithMenu: {\n        width: `calc(100% - ${Theme.menu.width}px)`,\n        marginLeft: Theme.menu.width,\n    },\n    appBarWithoutMenu: {\n        width: `100%`,\n        marginLeft: 0,\n    },\n    */\n    content: {\n        width: '100%',\n        height: '100%',\n        backgroundColor: theme.palette.background && theme.palette.background.default,\n        position: 'relative',\n    },\n    splitterDivWithMenu: {\n        width: `calc(100% - 300px)`,\n        height: '100%',\n    },\n    menuDivWithoutMenu: {\n        '&>div:first-child': {\n            display: 'none',\n        },\n        '&>.layout-splitter': {\n            display: 'none',\n        },\n    },\n    progress: {\n        margin: 100,\n    },\n    menuOpenCloseButton: {\n        position: 'absolute',\n        left: 0,\n        borderRadius: '0 5px 5px 0',\n        top: 6,\n        paddingTop: 8,\n        cursor: 'pointer',\n        zIndex: 1,\n        height: 25,\n        width: 20,\n        background: theme.palette.secondary.main,\n        color: theme.palette.primary.main,\n        paddingLeft: 3,\n        '&:hover': {\n            color: 'white',\n        },\n    },\n    showLogButton: {\n        position: 'absolute',\n        right: 3,\n        borderRadius: '5px 5px 0 0',\n        bottom: 0,\n        paddingTop: 3,\n        cursor: 'pointer',\n        zIndex: 10,\n        height: 20,\n        width: 25,\n        background: theme.palette.secondary.main,\n        color: theme.palette.primary.main,\n        paddingLeft: 8,\n        '&:hover': {\n            color: 'white',\n        },\n    },\n});\n\nclass App extends GenericApp {\n    constructor(props) {\n        super(props, {\n            Connection: AdminConnection,\n            translations: {\n                en: require('./i18n/en'),\n                de: require('./i18n/de'),\n                es: require('./i18n/es'),\n                fr: require('./i18n/fr'),\n                it: require('./i18n/it'),\n                nl: require('./i18n/nl'),\n                pl: require('./i18n/pl'),\n                pt: require('./i18n/pt'),\n                ru: require('./i18n/ru'),\n                uk: require('./i18n/uk'),\n                'zh-cn': require('./i18n/zh-cn'),\n            },\n            bottomButtons: false,\n            socket: {\n                autoSubscribeLog: true,\n            },\n            sentryDSN: window.sentryDSN,\n        });\n\n        // this.logIndex = 0;\n        this.logSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.logSize')) || 150 : 150;\n        this.menuSize = window.localStorage ? parseFloat(window.localStorage.getItem('App.menuSize')) || 500 : 500;\n        this.hosts = [];\n        this.importFile = null;\n        this.scripts = {};\n\n        window.alert = message => {\n            console.error(message);\n            this.showError(message.toString());\n        };\n    }\n\n    onScriptsChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n        if (id.startsWith('script.js.')) {\n            if (obj) {\n                if (JSON.stringify(this.scripts[id]) !== JSON.stringify(obj)) {\n                    this.scripts[id] = obj;\n                    changed = true;\n                    newState.scriptsHash = this.state.scriptsHash + 1;\n                }\n            } else if (this.scripts[id]) {\n                delete this.scripts[id];\n                changed = true;\n                newState.scriptsHash = this.state.scriptsHash + 1;\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onInstanceChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n\n        if (id.match(/^system\\.adapter\\.[-_\\w\\d]+\\$/)) {\n            // update instances\n            if (id.startsWith(`system.adapter.${this.adapterName}.`)) {\n                if (obj && obj.type === 'instance') {\n                    if (!this.state.instances.includes(id)) {\n                        newState.instances = [...this.state.instances];\n                        newState.instances.push(id);\n                        newState.instances.sort();\n                        changed = true;\n                        // request alive\n                        this.socket.subscribeState(`${obj._id}.alive`, this.onInstanceAliveChange);\n                    }\n                } else if (!obj && this.state.instances.includes(id)) {\n                    this.socket.unsubscribeState(`${id}.alive`, this.onInstanceAliveChange);\n                    newState.instances = [...this.state.instances];\n                    const pos = newState.instances.indexOf(id);\n                    newState.instances.splice(pos, 1);\n                    changed = true;\n                }\n            }\n\n            if (obj && obj[id].common && obj[id].common.blockly) {\n                this.confirmCallback = result => result && window.location.reload();\n                newState.confirm = I18n.t('Some blocks were updated. Reload admin?');\n                changed = true;\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onHostChanged = (id, obj) => {\n        if (!id) {\n            return;\n        }\n        let changed = false;\n        const newState = {};\n\n        if (id.startsWith('system.host.')) {\n            if (obj && obj.type === 'host') {\n                if (!this.hosts.includes(id)) {\n                    this.hosts.push(id);\n                    this.hosts.sort();\n                }\n            } else if (!obj && this.hosts.includes(id)) {\n                const pos = this.hosts.indexOf(id);\n                this.hosts.splice(pos, 1);\n            }\n        }\n\n        changed && this.setState(newState);\n    };\n\n    onConnectionReady() {\n        window.systemLang = this.socket.systemLang;\n        this.setState({\n            ready: false,\n            updateScripts: 0,\n            scriptsHash: 0,\n            instances: [],\n            updating: false,\n            resizing: false,\n            selected: null,\n            logMessage: {},\n            editing: [],\n            menuOpened: window.localStorage.getItem('App.menuOpened') !== 'false',\n            menuSelectId: '',\n            expertMode: window.localStorage.getItem('App.expertMode') === 'true',\n            logHorzLayout: window.localStorage.getItem('App.logHorzLayout') === 'true',\n            runningInstances: {},\n            confirm: '',\n            importFile: false,\n            message: '',\n            searchText: '',\n            hideLog: window.localStorage.getItem('App.hideLog') === 'true',\n            debugMode: false,\n            debugInstance: null,\n        });\n\n        const newState = {};\n\n        // load instances & scripts\n        // Read all instances\n        this.subscribeOnInstances()\n            .then(result => {\n                newState.instances = result.instances;\n                newState.runningInstances = result.runningInstances;\n\n                return this.readAdaptersWithBlockly();\n            })\n            .then(() => this.socket.getHosts())\n            .then(hosts => {\n                this.hosts = hosts.map(obj => obj._id);\n                // load all scripts\n                return this.readAllScripts();\n            })\n            .then(scripts => {\n                if (window.localStorage && window.localStorage.getItem('App.expertMode') !== 'true' && window.localStorage.getItem('App.expertMode') !== 'false') {\n                    // detect if some global scripts exists\n                    if (Object.keys(scripts).find(id => id.startsWith('script.js.global.') && scripts.type === 'script')) {\n                        newState.expertMode = true;\n                    }\n                }\n                this.scripts = scripts;\n\n                let scriptsHash = this.state.scriptsHash;\n                if (this.compareScripts(scripts)) {\n                    scriptsHash++;\n                }\n                newState.scriptsHash = scriptsHash;\n                newState.ready = true;\n                this.socket.subscribeObject('script.*', this.onScriptsChanged);\n                this.socket.subscribeObject('system.adapter.*', this.onInstanceChanged);\n                this.socket.subscribeObject('system.host.*', this.onHostChanged);\n\n                this.setState(newState);\n            });\n    }\n\n    subscribeOnInstances() {\n        return this.socket.getAdapterInstances(this.adapterName)\n            .then(instancesArray => {\n                const instances = instancesArray.map(obj => parseInt(obj._id.split('.').pop())).sort();\n                const runningInstances = {};\n                instances.forEach(id => runningInstances[`system.adapter.${this.adapterName}.${id}`] = false);\n\n                const promises = [];\n\n                // subscribe on instances\n                instances.forEach(instance => {\n                    const instanceId = `system.adapter.${this.adapterName}.${instance}`;\n                    const id = `${instanceId}.alive`;\n                    promises.push(this.socket.getState(id)\n                        .then(state => {\n                            runningInstances[instanceId] = state ? state.val : false;\n                            this.socket.subscribeState(id, this.onInstanceAliveChange);\n                        }));\n                });\n\n                return Promise.all(promises)\n                    .then(() => ({ instances, runningInstances }));\n            })\n    }\n\n    readAllScripts() {\n        return this.socket.getObjectView('script.js.', 'script.js.\\u9999', 'channel')\n            .then(folders =>\n                this.socket.getObjectView('script.js.', 'script.js.\\u9999', 'script')\n                    .then(scripts => {\n                        Object.keys(scripts).forEach(id => folders[id] = scripts[id]);\n                        return folders;\n                    }));\n    }\n\n    readAdaptersWithBlockly() {\n        return this.socket.getObjectView('system.adapter.', 'system.adapter.\\u9999', 'adapter')\n            .then(adapters =>\n                new Promise(resolve =>\n                    BlocklyEditor.loadCustomBlockly(adapters, () => resolve())));\n    }\n\n    onInstanceAliveChange = (id, state) => {\n        if (id) {\n            id = id && id.substring(0, id.length - 6); // - .alive\n\n            if (this.state.runningInstances[id] !== (state ? state.val : false)) {\n                const runningInstances = JSON.parse(JSON.stringify(this.state.runningInstances));\n                runningInstances[id] = state ? state.val : false;\n                this.setState({ runningInstances });\n            }\n        }\n    };\n\n    onToggleExpertMode(expertMode) {\n        this.onExpertModeChange(expertMode);\n    }\n\n    compareScripts(newScripts) {\n        const oldIds = Object.keys(this.scripts);\n        const newIds = Object.keys(newScripts);\n        if (oldIds.length !== newIds.length) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        if (JSON.stringify(oldIds) !== JSON.stringify(newIds)) {\n            this.scripts = this.newScripts;\n            return true;\n        }\n        for (let i = 0; i < oldIds.length; i++) {\n            let oldScript = this.scripts[oldIds[i]].common;\n            let newScript = newScripts[oldIds[i]].common;\n            if (oldScript.name !== newScript.name) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engine !== newScript.engine) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.engineType !== newScript.engineType) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n            if (oldScript.enabled !== newScript.enabled) {\n                this.scripts = this.newScripts;\n                return true;\n            }\n        }\n    }\n\n    onRename(oldId, newId, newName, newInstance) {\n        if (newId.trim().endsWith('.')) {\n            newId = newId.replace(/\\.\\s*$/, '_');\n        }\n        console.log(`Rename ${oldId} => ${newId}`);\n        let promise;\n        this.setState({ updating: true });\n\n        // Rename script.js.common.Skript_1 => script.js.common.New folder.Skript_1\n\n        if (this.scripts[oldId] && this.scripts[oldId].type === 'script') {\n            const common = JSON.parse(JSON.stringify(this.scripts[oldId].common));\n            common.name = newName || common.name;\n            if (newInstance !== undefined) {\n                common.engine = `system.adapter.javascript.${newInstance}`;\n            }\n            // Check if the script is not a children of other script\n            const parts = newId.split('.');\n            parts.pop();\n            const parentID = parts.join('.');\n\n            if (this.scripts[parentID] && this.scripts[parentID].type === 'script') {\n                parts.pop();\n                newId = `${parts.join('.')}.${newId.split('.').pop()}`;\n            }\n\n            promise = this.updateScript(oldId, newId, common);\n        } else {\n            promise = this.renameGroup(oldId, newId, newName);\n        }\n\n        promise\n            .then(() => this.setState({ updating: false }))\n            .catch(err => err !== 'canceled' && this.showError(err));\n    }\n\n    renameGroup(id, newId, newName, _list) {\n        if (!_list) {\n            _list = [];\n\n            // collect all elements to rename\n            // find all elements\n            _list = Object.keys(this.scripts).filter(_id => _id.startsWith(`${id}.`));\n\n            return this.socket.getObject(id)\n                .then(obj => {\n                    obj = obj || { common: {} };\n                    obj.common.name = newName || obj.common.name || id.split('.').pop();\n                    obj._id = newId;\n\n                    this.socket.delObject(id)\n                        .catch(() => { })\n                        .then(() => this.socket.setObject(newId, obj))\n                        .then(() => this.renameGroup(id, newId, newName, _list))\n                        .catch(e => console.log(e));\n                })\n                .catch(e => {\n                    console.log(e);\n                    const obj = {\n                        _id: newId,\n                        type: 'channel',\n                        common: {\n                            name: newName || id.split('.').pop(),\n                            expert: true,\n                        },\n                        native: {},\n                    };\n                    // may be it is virtual folder\n                    return this.socket.setObject(newId, obj)\n                        .then(() => this.renameGroup(id, newId, newName, _list));\n                });\n        } else if (_list.length) {\n            let nId = _list.pop();\n\n            return this.socket.getObject(nId)\n                .then(obj =>\n                    this.socket.delObject(nId)\n                        .catch(() => { })\n                        .then(() => {\n                            nId = newId + nId.substring(id.length);\n                            obj._id = nId;\n                            obj.common = obj.common || {};\n                            obj.common.expert = true;\n                            return this.socket.setObject(nId, obj);\n                        })\n                        .then(() => this.renameGroup(id, newId, newName, _list))\n                );\n        } else {\n            return Promise.resolve();\n        }\n    }\n\n    onUpdateScript(id, common) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            this.updateScript(id, id, common)\n                .then(() => { })\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    onSelect(selected) {\n        if (this.scripts[selected] && this.scripts[selected].common && this.scripts[selected].type === 'script') {\n            this.setState({ selected, menuSelectId: selected }, () =>\n                setTimeout(() => this.setState({ menuSelectId: '' })), 300);\n        }\n    }\n\n    onExpertModeChange(expertMode) {\n        if (this.state.expertMode !== expertMode) {\n            window.localStorage && window.localStorage.setItem('App.expertMode', expertMode ? 'true' : 'false');\n            this.setState({ expertMode });\n        }\n    }\n\n    showError(err) {\n        this.setState({ errorText: err ? err.toString() : '' });\n    }\n\n    showMessage(message) {\n        this.setState({ message: message ? message.toString() : '' });\n    }\n\n    onDelete(id) {\n        this.socket.delObject(id)\n            .then(() => { })\n            .catch(err =>\n                this.showError(err));\n    }\n\n    onEdit(id) {\n        if (this.state.selected !== id) {\n            this.setState({ selected: id });\n        }\n    }\n\n    onAddNew(id, name, isFolder, instance, type, source) {\n        const reg = new RegExp(`^${id}\\\\.`);\n\n        if (Object.keys(this.scripts).find(_id => id === _id || reg.test(id))) {\n            return this.showError(I18n.t('Yet exists!'));\n        }\n\n        if (isFolder) {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true,\n                },\n                type: 'channel',\n            })\n                .then(() =>\n                    setTimeout(() => this.setState({ menuSelectId: id }, () =>\n                        setTimeout(() => this.setState({ menuSelectId: '' })), 300), 1000))\n                .catch(err => this.showError(err));\n        } else {\n            this.socket.setObject(id, {\n                common: {\n                    name,\n                    expert: true,\n                    engineType: type,\n                    engine: `system.adapter.javascript.${instance || 0}`,\n                    source: source || '',\n                    debug: false,\n                    verbose: false,\n                },\n                type: 'script',\n            })\n                .then(() => setTimeout(() => this.onSelect(id), 1000))\n                .catch(err => this.showError(err));\n        }\n    }\n\n    updateScript(oldId, newId, newCommon) {\n        return this.socket.getObject(oldId)\n            .then(_obj => {\n                const obj = { common: {} };\n\n                if (newCommon.engine !== undefined) obj.common.engine = newCommon.engine;\n                if (newCommon.enabled !== undefined) obj.common.enabled = newCommon.enabled;\n                if (newCommon.source !== undefined) obj.common.source = newCommon.source;\n                if (newCommon.debug !== undefined) obj.common.debug = newCommon.debug;\n                if (newCommon.verbose !== undefined) obj.common.verbose = newCommon.verbose;\n\n                obj.from = 'system.adapter.admin.0'; // we must distinguish between GUI(admin.0) and disk(javascript.0)\n\n                if (oldId === newId && _obj && _obj.common && newCommon.name === _obj.common.name) {\n                    if (!newCommon.engineType || newCommon.engineType !== _obj.common.engineType) {\n                        if (newCommon.engineType !== undefined) {\n                            obj.common.engineType = newCommon.engineType || 'Javascript/js';\n                        }\n                    }\n                    obj.type = 'script';\n                    return this.socket.extendObject(oldId, obj);\n                } else {\n                    // let prefix;\n\n                    // let parts = _obj.common.engineType.split('/');\n\n                    // prefix = 'script.' + (parts[1] || parts[0]) + '.';\n\n                    if (_obj && _obj.common) {\n                        _obj.common.engineType = newCommon.engineType || _obj.common.engineType || 'Javascript/js';\n                        return this.socket.delObject(oldId)\n                            .then(() => {\n                                if (obj.common.engine !== undefined) _obj.common.engine = obj.common.engine;\n                                if (obj.common.enabled !== undefined) _obj.common.enabled = obj.common.enabled;\n                                if (obj.common.source !== undefined) _obj.common.source = obj.common.source;\n                                if (obj.common.name !== undefined) _obj.common.name = obj.common.name;\n                                if (obj.common.debug !== undefined) _obj.common.debug = obj.common.debug;\n                                if (obj.common.verbose !== undefined) _obj.common.verbose = obj.common.verbose;\n\n                                delete _obj._rev;\n\n                                // Name must always exist\n                                _obj.common.name = newCommon.name;\n                                _obj.common.expert = true;\n                                _obj.type = 'script';\n\n                                _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                                this.socket.setObject(newId, _obj);\n                            });\n                    } else {\n                        _obj = obj;\n                    }\n\n                    // Name must always exist\n                    _obj.common.name = newCommon.name;\n                    _obj.common.expert = true;\n                    _obj.type = 'script';\n                    _obj._id = newId; // prefix + newCommon.name.replace(/[\\s\"']/g, '_');\n\n                    return this.socket.setObject(newId, _obj);\n                }\n            });\n    }\n\n    onEnableDisable(id, enabled) {\n        if (this.scripts[id] && this.scripts[id].type === 'script') {\n            const common = this.scripts[id].common;\n            common.enabled = enabled;\n            common.expert = true;\n            this.updateScript(id, id, common)\n                .catch(err => err !== 'canceled' && this.showError(err));\n        }\n    }\n\n    getLiveHost(cb, _list) {\n        if (!_list) {\n            _list = this.hosts ? [...this.hosts] : [];\n        }\n\n        if (_list.length) {\n            const id = _list.shift();\n            this.socket.getState(`${id}.alive`)\n                .then(state => {\n                    if (state && state.val) {\n                        cb(id);\n                    } else {\n                        setTimeout(() => this.getLiveHost(cb, _list));\n                    }\n                });\n        } else {\n            cb();\n        }\n    }\n\n    onExport() {\n        this.getLiveHost(host => {\n            if (!host) {\n                return this.showError(I18n.t('No active host found'));\n            }\n\n            const d = new Date();\n            let date = d.getFullYear();\n            let m = d.getMonth() + 1;\n            if (m < 10) {\n                m = `0${m}`;\n            }\n            date += `-${m}`;\n            m = d.getDate();\n            if (m < 10) {\n                m = `0${m}`;\n            }\n            date += `-${m}-`;\n\n            this.socket.getRawSocket().emit('sendToHost', host, 'readObjectsAsZip', {\n                adapter: 'javascript',\n                id: 'script.js',\n                link: `${date}scripts.zip`, // request link to file and not the data itself\n                fileStorageNamespace: `admin.${this.instance}`, // new controller 5.x understands this and saves ZIP in the file store\n            }, data => {\n                if (typeof data === 'string') {\n                    // it is a link to the created file\n                    const a = document.createElement('a');\n                    if (data.startsWith('admin.')) {\n                        // new controller\n                        // actual position is http://IP:8081/adapter/javascript/index.html\n                        // we need http://IP:8081/files/admin.0/zip/2023-06-20-scripts.zip\n                        a.href = `../../files/${data}`;\n                    } else {\n                        // the data is \"system.host.HOST.zip.2020-01-26-scripts.zip\"\n                        const parts = data.split('.zip.');\n                        a.href = `./zip/${parts[0]}/${parts[1]}`;\n                    }\n                    document.body.appendChild(a);\n                    a.click();\n                    a.remove();\n                } else {\n                    data.error && this.showError(data.error);\n                    if (data.data) {\n                        const a = document.createElement('a');\n                        a.href = `data: application/zip;base64,${data.data}`;\n                        a.download = `${date}scripts.zip`;\n                        document.body.appendChild(a);\n                        a.click();\n                        a.remove();\n                    }\n                }\n            });\n        });\n    }\n\n    onImport(data) {\n        this.importFile = data;\n        if (data) {\n            this.confirmCallback = this.onImportConfirmed.bind(this);\n            this.setState({ importFile: false, confirm: I18n.t('Existing scripts will be overwritten.') });\n        } else {\n            this.setState({ importFile: false });\n        }\n    }\n\n    onImportConfirmed(ok) {\n        let data = this.importFile;\n        this.importFile = null;\n        if (ok && data) {\n            data = data.split(',')[1];\n            this.getLiveHost(host => {\n                if (!host) {\n                    this.showError(I18n.t('No active host found'));\n                    return;\n                }\n                this.socket.getRawSocket().emit('sendToHost', host, 'writeObjectsAsZip', {\n                    data: data,\n                    adapter: 'javascript',\n                    id: 'script.js'\n                }, data => {\n                    if (data === 'permissionError') {\n                        this.showError(I18n.t(data));\n                    } else if (!data || data.error) {\n                        this.showError(data ? I18n.t(data.error) : I18n.t('Unknown error'));\n                    } else {\n                        this.showMessage(I18n.t('Done'));\n                    }\n                });\n            });\n        }\n    }\n\n    toggleLogLayout() {\n        window.localStorage && window.localStorage.setItem('App.logHorzLayout', this.state.logHorzLayout ? 'false' : 'true');\n        this.setState({ logHorzLayout: !this.state.logHorzLayout });\n    }\n\n    renderEditor() {\n        const isAnyRulesExists = Object.keys(this.scripts).reduce((sum, id) =>\n            sum + (this.scripts[id].common.engineType === 'Rules' ? 1 : 0), 0);\n\n        return <Editor\n            key=\"editor\"\n            debugMode={this.state.debugMode}\n            onDebugModeChange={value => {\n                if (!value) {\n                    this.setState({debugMode: false, debugInstance: null});\n                } else {\n                    this.setState({debugMode: true});\n                }\n            }}\n            visible={!this.state.resizing}\n            socket={this.socket}\n            adapterName={this.adapterName}\n            onLocate={menuSelectId => this.setState({ menuSelectId })}\n            runningInstances={this.state.runningInstances}\n            menuOpened={this.state.menuOpened}\n            searchText={this.state.searchText}\n            themeType={this.state.themeType}\n            themeName={this.state.themeName}\n            theme={this.state.theme}\n            expertMode={this.state.expertMode}\n            onChange={(id, common) => this.onUpdateScript(id, common)}\n            isAnyRulesExists={isAnyRulesExists}\n            debugInstance={this.state.debugInstance}\n            onSelectedChange={(id, editing) => {\n                const newState = {};\n                let changed = false;\n                if (id !== this.state.selected) {\n                    changed = true;\n                    newState.selected = id;\n                }\n                if (JSON.stringify(editing) !== JSON.stringify(this.state.editing)) {\n                    changed = true;\n                    newState.editing = JSON.parse(JSON.stringify(editing));\n                }\n                changed && this.setState(newState);\n            }}\n            onRestart={id => this.socket.extendObject(id, { common: { enabled: true } })}\n            selected={this.state.selected && this.scripts[this.state.selected] && this.scripts[this.state.selected].type === 'script' ? this.state.selected : ''}\n            objects={this.scripts}\n            instances={this.state.instances}\n        />;\n    }\n\n    showLogButton() {\n        return <div\n            key=\"showLog\"\n            title={I18n.t('Show logs')}\n            className={this.props.classes.showLogButton}\n            onClick={() => {\n                window.localStorage.setItem('App.hideLog', 'false');\n                this.setState({ hideLog: false, resizing: true });\n                setTimeout(() => this.setState({ resizing: false }), 300);\n            }}\n        >\n            <IconShowLog />\n        </div>;\n    }\n\n    renderErrorDialog() {\n        return this.state.errorText ?\n            <DialogError\n                key=\"dialogError\"\n                onClose={() => this.setState({ errorText: '' })}\n                text={this.state.errorText}\n            /> :\n            null;\n    }\n\n    renderMain() {\n        const { classes } = this.props;\n        return [\n            this.state.message ? <DialogMessage key=\"dialogMessage\" onClose={() => this.setState({ message: '' })} text={this.state.message} /> : null,\n            this.renderErrorDialog(),\n            this.state.importFile ? <DialogImportFile key=\"dialogImportFile\" onClose={data => this.onImport(data)} /> : null,\n            this.state.confirm ? <DialogConfirm\n                key=\"dialogConfirm\"\n                onClose={result => {\n                    this.state.confirm && this.setState({ confirm: '' });\n                    this.confirmCallback && this.confirmCallback(result);\n                    this.confirmCallback = null;\n                }}\n                text={this.state.confirm} /> : null,\n            <div className={classes.content + ' iobVerticalSplitter'} key=\"main\">\n                <div key=\"closeMenu\" className={classes.menuOpenCloseButton} onClick={() => {\n                    window.localStorage.setItem('App.menuOpened', this.state.menuOpened ? 'false' : 'true');\n                    this.setState({ menuOpened: !this.state.menuOpened, resizing: true });\n                    setTimeout(() => this.setState({ resizing: false }), 300);\n                }}>\n                    {this.state.menuOpened ? <IconMenuOpened /> : <IconMenuClosed />}\n                </div>\n                <SplitterLayout\n                    key=\"splitterLayout\"\n                    vertical={!this.state.logHorzLayout}\n                    primaryMinSize={100}\n                    secondaryInitialSize={this.state.hideLog ? 0 : this.logSize}\n                    // customClassName={classes.menuDiv + ' ' + classes.splitterDivWithoutMenu}\n                    onDragStart={() => this.setState({ resizing: true })}\n                    onSecondaryPaneSizeChange={size => this.state.hideLog ? 0 : this.logSize = parseFloat(size)}\n                    onDragEnd={() => {\n                        this.setState({ resizing: false });\n                        window.localStorage.setItem('App.logSize', this.logSize.toString());\n                    }}\n                >\n                    <>\n                        {this.renderEditor()}\n                        {!this.state.debugMode && this.state.hideLog && this.showLogButton()}\n                    </>\n                    {!this.state.debugMode && !this.state.hideLog && <Log\n                        key=\"log\"\n                        verticalLayout={!this.state.logHorzLayout}\n                        onLayoutChange={() => this.toggleLogLayout()}\n                        editing={this.state.editing}\n                        socket={this.socket}\n                        selected={this.state.selected}\n                        onHideLog={() => {\n                            window.localStorage.setItem('App.hideLog', 'true');\n                            this.setState({ hideLog: true, resizing: true });\n                            setTimeout(() => this.setState({ resizing: false }), 300);\n                        }}\n                    />}\n                </SplitterLayout>\n            </div>,\n        ];\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        if (!this.state.ready) {\n            // return (<CircularProgress className={classes.progress} size={50} />);\n            return <Loader theme={this.state.themeType} />;\n        }\n\n        return <div className={classes.root}>\n            <ContextWrapper socket={this.socket}>\n                <SplitterLayout\n                    key=\"menuSplitter\"\n                    vertical={false}\n                    primaryMinSize={300}\n                    primaryIndex={1}\n                    secondaryMinSize={300}\n                    secondaryInitialSize={this.menuSize}\n                    customClassName={`${classes.splitterDivs} ${!this.state.menuOpened ? classes.menuDivWithoutMenu : ''}`}\n                    onDragStart={() => this.setState({ resizing: true })}\n                    onSecondaryPaneSizeChange={size => this.menuSize = parseFloat(size)}\n                    onDragEnd={() => {\n                        this.setState({ resizing: false });\n                        window.localStorage.setItem('App.menuSize', this.menuSize.toString());\n                    }}\n                >\n                    <div className={classes.mainDiv} key=\"menu\">\n                        <SideMenu\n                            debugMode={this.state.debugMode}\n                            onDebugInstance={data => {\n                                this.setState({ debugInstance: data, debugMode: !!data });\n                            }}\n                            key=\"sidemenu\"\n                            scripts={this.scripts}\n                            scriptsHash={this.state.scriptsHash}\n                            instances={this.state.instances}\n                            update={this.state.updateScripts}\n                            onRename={this.onRename.bind(this)}\n                            onSelect={this.onSelect.bind(this)}\n                            socket={this.socket}\n                            selectId={this.state.menuSelectId}\n                            onEdit={this.onEdit.bind(this)}\n                            expertMode={this.state.expertMode}\n                            themeType={this.state.themeType}\n                            themeName={this.state.themeName}\n                            onThemeChange={themeName => {\n                                Utils.setThemeName(themeName);\n                                const themeType = Utils.getThemeType(themeName);\n                                this.setState({ themeName, themeType }, () => this.props.onThemeChange(themeName));\n                            }}\n                            runningInstances={this.state.runningInstances}\n                            onExpertModeChange={this.onExpertModeChange.bind(this)}\n                            onDelete={this.onDelete.bind(this)}\n                            onAddNew={this.onAddNew.bind(this)}\n                            onEnableDisable={this.onEnableDisable.bind(this)}\n                            onExport={this.onExport.bind(this)}\n                            width={this.menuSize}\n                            onImport={() => this.setState({ importFile: true })}\n                            onSearch={searchText => this.setState({ searchText })}\n                            version={this.props.version}\n                        />\n                    </div>\n                    {this.renderMain()}\n                </SplitterLayout>\n            </ContextWrapper>\n        </div>;\n    }\n}\n\nApp.propTypes = {\n    version: PropTypes.string,\n    onThemeChange: PropTypes.func,\n};\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { ThemeProvider, StyledEngineProvider } from '@mui/material/styles';\nimport { StylesProvider, createGenerateClassName } from '@mui/styles';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport pgk from '../package.json';\nimport theme from '@iobroker/adapter-react-v5/Theme';\n// import Utils from '@iobroker/adapter-react-v5/Components/Utils';\nimport { Utils } from '@iobroker/adapter-react-v5';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { TouchBackend } from 'react-dnd-touch-backend';\n\nimport GenericBlock from './Components/RulesEditor/components/GenericBlock/index.jsx'\n\nwindow.GenericBlock = GenericBlock;\n\nwindow.adapterName = 'javascript';\nwindow.sentryDSN = 'https://504499a725eb4898930d3b9e9da95740@sentry.iobroker.net/56';\n\nlet themeName = Utils.getThemeName();\n\nconsole.log(`iobroker.${window.adapterName}@${pgk.version} using theme \"${themeName}\"`);\n\nconst generateClassName = createGenerateClassName({\n    productionPrefix: 'iob',\n});\n\nfunction build() {\n    const isMobile = window.innerWidth < 600;\n    const container = document.getElementById('root');\n    const root = createRoot(container);\n    return root.render(<StylesProvider generateClassName={generateClassName}>\n        <StyledEngineProvider injectFirst>\n            <ThemeProvider theme={theme(themeName)}>\n                <DndProvider backend={isMobile ? TouchBackend : HTML5Backend}>\n                    <App\n                        version={pgk.version}\n                        onThemeChange={_theme => {\n                            themeName = _theme;\n                            build();\n                        }}\n                    />\n                </DndProvider>\n            </ThemeProvider>\n        </StyledEngineProvider>\n    </StylesProvider>);\n}\n\nbuild();\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n/*\n    improved VSCode editor. This has to be down here, or we get conflicts\n    between loader.js and require calls in jQuery and other loaded modules\n*/\n// loader must be after socket.io, elsewise there is no window.io\nconst loadDynamicScript = window.loadDynamicScript;\nloadDynamicScript && loadDynamicScript(window.location.port === '3000' ? window.location.protocol + '//' + window.location.hostname + ':8081/lib/js/socket.io.js' : './../../lib/js/socket.io.js', function () {\n    loadDynamicScript('vs/loader.js', function () {\n        loadDynamicScript('vs/configure.js', function () {\n            typeof window.socketLoadedHandler === 'function' && window.socketLoadedHandler();\n        });\n    });\n});"],"names":["_React$Component","_inherits","DialogRename","_super","_createSuper","props","_this","_classCallCheck","call","handleCancel","onClose","handleOk","onRename","oldId","state","id","name","instance","handleChange","setState","getId","isShowInstance","folder","instances","length","prefix","getPrefix","_createClass","key","value","parts","split","pop","join","replace","this","nextProps","_this2","_jsxs","Dialog","event","reason","maxWidth","fullWidth","open","children","_jsx","DialogTitle","I18n","DialogContent","noValidate","autoComplete","TextField","variant","style","width","autoFocus","label","onKeyPress","ev","preventDefault","setTimeout","onChange","e","target","margin","disabled","FormControl","InputLabel","htmlFor","Select","parseInt","inputProps","map","MenuItem","DialogActions","Button","onClick","color","startIcon","IconOk","IconCancel","React","DialogDelete","onDelete","IconDelete","fontSize","fontWeight","withStyles","theme","DialogAddNew","_len","arguments","args","Array","_key","apply","concat","type","html","lang","includes","window","focus","Card","className","classes","card","CardActionArea","CardMedia","media","image","ImgJS","title","CardContent","complexity","text","CardActions","size","openHtml","_this3","ImgTS","_this4","ImgBlockly","_this5","ImgRules","textAlign","getRulesCard","getBlocklyCard","getJSCard","getTSCard","minWidth","display","height","minHeight","fontStyle","marginBottom","spacing","DialogNew","onAdd","existingItems","indexOf","error","parent","trim","helperText","parents","splice","names","forEach","n","i","el","find","item","push","DialogError","console","log","titleBackground","root","titleColor","DialogContentText","background","palette","main","contrastText","DialogAdapterDebug","adapterToDebug","enabled","socket","getObject","then","obj","common","setObject","_id","onDebug","jsInstance","filter","localStorage","getItem","showAskForStop","jsInstanceHost","getAdapterInstances","_i$common","onlyWWW","_item$common","_item$common2","_item$common3","_name$split","adapter","_slicedToArray","host","icon","sort","a","b","jsInstanceObj","startsWith","js","Grid","List","component","ListItem","button","selected","ListItemIcon","src","alt","ListItemText","primary","toLowerCase","onDoubleClick","container","direction","Input","filterWithButton","placeholder","setItem","endAdornment","InputAdornment","position","IconButton","IconClose","renderJavascriptList","renderInstances","buttonIcon","marginRight","marginTop","COLOR_RUN","green","COLOR_PROBLEM","yellow","COLOR_PAUSE","red","ROOT_ID","COMMON_ID","GLOBAL_ID","NARROW_WIDTH","SELECTED_STYLE","images","def","ImgTypeScript","getObjectName","en","toString","prepareList","data","modified","result","depth","index","ids","Object","keys","engineType","engine","it","idA","idB","parentIndex","Droppable","onDrop","_useDrop","useDrop","accept","drop","isOver","undefined","collect","monitor","shallow","isOverAny","_useDrop2","_useDrop2$","ref","Utils","Draggable","_useDrag","useDrag","opacity","isDragging","_useDrag2","drag","transform","SideDrawer","expanded","JSON","parse","inputRef","listItems","scripts","problems","reorder","themeName","creatingScript","creatingFolder","copingScript","renaming","deleting","choosingType","errorText","menuOpened","menuAnchorEl","searchMode","expertMode","searchText","typeFilter","statusFilter","runningInstances","scriptsHash","showAdapterDebug","newExp","ensureSelectedIsVisible","filterTimer","isAllZeroInstances","getIsAllZeroInstances","problemsTimer","onProblemUpdatedBound","onProblemUpdated","bind","_assertThisInitialized","cb","tasks","shift","match","that","substring","getState","err","readProblems","subscribeState","unsubscribeState","stringify","changed","val","pos","isSearchEnabled","newState","filterListStatic","ensureSelectedIsVisibleStatic","getIsAllZeroInstancesStatic","stopPropagation","_toConsumableArray","saveExpanded","_this6","iconButtons","debugMode","iconButtonsDisabled","onEnableDisable","IconPause","IconPlay","onEdit","IconDoEdit","_this7","Promise","resolve","whiteSpace","padding","overflow","flex","onToggle","filtered","filteredPartly","childrenFiltered","_this8","depthPx","assign","marginLeft","cursor","isExpanded","iconClass","iconStyle","folderIcon","folderIconReorder","folderIconNoReorder","scriptIcon","scriptIconReorder","scriptIconNoReorder","childrenCount","script","scriptReorder","folderReorder","onDblClick","listItemIcon","IconFolderOpened","IconFolder","getTextStyle","ListItemSecondaryAction","renderItemButtonsOnEnd","source","newId","items","_this9","isFilteredOut","reactChildren","element","renderListItem","renderOneItem","onDragFinish","_this10","dense","disablePadding","mainList","_this11","_this12","copyId","_this13","word","m","_this14","menuAnchorFilterEl","filterIcon","selectedItem","_this15","Menu","anchorEl","PaperProps","maxHeight","MENU_ITEM_HEIGHT","showError","iconDropdownMenu","onCloseMenu","onExpertModeChange","IconExpert","onExport","IconExport","onImport","IconImport","onThemeChange","newThemeName","IconDark","onAddNew","onCopy","IconCopy","IconDebug","_this16","toolbarSearch","clearTimeout","filterList","onSearch","toolbarButtons","float","mini","IconClear","currentTarget","IconMore","getMainMenu","IconAdd","onAddNewFolder","IconAddFolder","IconFind","IconReorder","IconEdit","version","_this17","folders","_this18","_this19","footerButtons","Blockly","IconExpandAll","footerButtonsRight","onExpandAll","IconCollapseAll","onCollapseAll","_this20","onDebugInstance","_this21","renamingItem","copingItem","Drawer","menu","paper","drawerPaper","anchor","toolbar","getToolbarButtons","Divider","DragDropContext","backend","HTML5Backend","innerMenu","renderAllItems","footer","getBottomButtons","newName","newInstance","DialogAddNewScript","getUniqueName","getFolders","getUniqueFolderName","getAdapterDebugDialog","objects","found","lastIndexOf","nState","selectId","mode","lineHeight","paddingRight","iconOnTheRight","right","top","overflowX","overflowY","borderRadius","userSelect","transitionDuration","transitionProperty","paddingTop","paddingBottom","paddingLeft","expandButton","backgroundColor","getTimeString","d","getHours","getMinutes","getSeconds","getMilliseconds","gText","Log","logHandler","message","allLines","lines","editing","generateLine","severity","ms","date","Date","ts","toLocaleString","goBottom","lastIndex","messagesEnd","row","regExp","RegExp","from","matches","trFrom","trTime","trSeverity","substr","current","scrollIntoView","behavior","registerLogHandler","unregisterLogHandler","scrollToBottom","logBoxInner","table","clear","logBox","toolbox","IconBottom","clearLog","onLayoutChange","layoutIcon","verticalLayout","onHideLog","IconHide","renderLogList","hasOwnProperty","verticalAlign","info","warn","debug","silly","fontFamily","boxShadow","ScriptEditor","isDark","language","readOnly","alive","check","typingsLoaded","runningInstancesStr","monacoDiv","editor","monaco","insert","originalCode","code","typings","lastSearch","_this$monaco","_this$monaco$language","_this$monaco$language2","_this$monaco$language3","monacoLoaded","languages","typescript","typescriptDefaults","getCompilerOptions","_this$monaco2","_this$monaco2$languag","_this$monaco2$languag2","_this$monaco2$languag3","monacoCounter","waitForMonaco","scriptAdapterInstance","sendTo","setTypeCheck","setEditorTypings","_this$monaco3","_this$monaco3$languag","_this$monaco3$languag2","_this$monaco3$languag3","componentDidMount","onRegisterSelect","getModel","getValueInRange","getSelection","compilerOptions","ScriptTarget","ES2015","allowJs","checkJs","noLib","lib","useUnknownInCatchVariables","moduleResolution","ModuleResolutionKind","NodeJs","setCompilerOptions","create","lineNumbers","scrollBeyondLastLine","automaticLayout","glyphMargin","breakpoints","onDidChangeModelContent","getValue","loadTypings","addCommand","KeyMod","CtrlCmd","KeyCode","KEY_S","onForceSave","highlightText","location","showDecorators","options","selectOnLineNumbers","setEditorOptions","setValue","onToggleBreakpoint","onMouseDown","detail","glyphMarginLeft","lineNumber","setEditorLanguage","updateOptions","lineWrap","wordWrap","typeCheck","setTheme","dispose","model","uri","path","filenameWithoutExtension","extension","newLanguage","newModel","createModel","Uri","setModel","noSemanticValidation","noSyntaxValidation","setDiagnosticsOptions","_this$monaco4","_this$monaco4$languag","_this$monaco4$languag2","_this$monaco4$languag3","_this$monaco5","_this$monaco5$languag","_this$monaco5$languag2","_this$monaco5$languag3","currentScriptName","isGlobalScript","test","partialDeclarationsPath","wantedTypings","_i","_Object$keys","filePath","content","setExtraLibs","addExtraLib","existingLibs","getExtraLibs","selection","range","Range","startLineNumber","startColumn","endLineNumber","endColumn","executeEdits","forceMoveMarkers","findMatches","r","setSelection","revealLine","getPosition","col","column","decorations","columnNumber","isWholeLine","bp","glyphMarginClassName","deltaDecorations","ranges","getVisibleRanges","revealLineInCenter","initNewScript","scrollToLineIfNeeded","insertTextIntoEditor","onInserted","newValue","_this$monaco6","_this$monaco6$languag","_this$monaco6$languag2","Fab","bottom","zIndex","IconNoCheck","forceUpdate","DialogExport","popper","file","Blob","fileName","scriptId","dialog","textArea","themeType","textAreaLight","download","rel","href","URL","createObjectURL","textDecoration","Popper","placement","transition","_ref","TransitionProps","Fade","_objectSpread","timeout","Paper","typography","left","tabIndex","defaultProps","DialogImport","document","getElementById","files","readFileDataUrl","dropzone","imageStatus","dropzoneAccepted","dropzoneRejected","fullHeight","Dropzone","maxSize","acceptClassName","rejectClassName","handleDropFile","multiple","getRootProps","getInputProps","isDragActive","isDragReject","dropzoneDiv","IconNo","iconError","IconPlus","iconOk","IconUpload","reader","FileReader","onload","onabort","onerror","readAsText","toolboxXml","resize","borderWidth","borderStyle","borderColor","boxSizing","languageBlocklyLoaded","languageOwnLoaded","toolboxText","scriptsLoaded","searchXml","_result","tagName","attributes","nodeName","innerHTML","innerText","childNodes","node","BlocklyEditor","blockly","blocklyWorkspace","exportText","importText","someSelected","changeTimer","onResizeBind","onResize","lastCommand","blinkBlock","loadLanguages","Xml","workspaceToDom","searchBlocks","highlightBlock","someSelectedTime","now","command","blocklyCheckBlocks","badBlock","blocklyBlinkBlock","exportBlocks","importBlocks","searchId","updateBackground","loadCode","fileLang","createElement","setAttribute","onreadystatechange","readyState","getElementsByTagName","appendChild","fileCustom","svgResize","xml","l","decodeURIComponent","atob","block","select","unselect","blocks","getAllBlocks","isShadow","connections","getConnections_","conn","j","targetConnection","warningText","blocklyGetUnconnectedBlock","blocklyGetBlockWithWarning","sourceBlock_","INPUT_VALUE","OUTPUT_VALUE","_optional","warning","oneWay","JavaScript","workspaceToCode","dom","domToText","btoa","encodeURIComponent","selectedBlocks","getSelected","xmlBlock","blockToDom","dragMode_","DRAG_FREE","deleteNext","xy","getRelativeToSurfaceXY","RTL","x","y","domToPrettyText","variables","vars","utils","textToDomDocument","nodes","createVariable","loading","xmlBlocks","textToDom","paste","onBlocklyChanged","ignoreChanges","jsCode2Blockly","domToWorkspace","blocklyRemoveOrphanedShadows","_componentDidUpdate","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","didUpdate","addEventListener","t0","getToolbox","sent","inject","zoom","controls","wheel","startScale","maxScale","minScale","scaleSpeed","move","scrollbars","trashcan","grid","colour","snap","sounds","registerToolboxCategoryCallback","Procedures","flyoutCategoryNew","addChangeListener","masterEvent","allBlocks","removeSelect","Events","UI","CREATE","VIEWPORT_CHANGE","getElementsByClassName","stop","_originalStyle","stroke","fill","removeEventListener","blocklyCode2JSCode","_getToolbox","_callee2","retry","_b","_context2","outerHTML","p1","MSG","CustomBlocks","Words","HUE","prototype","_x","DialogMessage","onImportBlocks","componentDidUpdate","renderMessageDialog","renderErrorDialog","renderExportDialog","renderImportDialog","url","callback","scriptTag","body","loadScripts","loadJS","adapters","toLoad","DOMParser","xmlStr","parseFromString","ActiveXObject","xmlDoc","async","loadXML","DialogScriptEditor","isReturn","argsTitle","ScriptEditorComponent","adapterName","IconSave","ICON_CACHE","MaterialDynamicIcon","iconName","_useState","useState","_useState2","setUrl","useEffect","_obj$common","Element","Icons","CardMenu","active","onTouchMove","cls","deepCopy","userRules","additionalParameter","_defineProperty","filterElement","CustomButton","square","CustomIcon","CustomCheckbox","customValue","switchChecked","setSwitchChecked","_Fragment","Checkbox","checked","Boolean","native","styleComponentBlock","memo","CustomInput","multiline","rows","inputText","setInputText","InputProps","SelectMod","borderBottomColor","CustomInstance","attr","onInstanceHide","_useState3","_useState4","setOptions","_options","unshift","renderValue","input","placeContent","title2","FormHelperText","CustomModal","titleButtonApply","titleButtonClose","onApply","textInput","defaultValue","disableEscapeKeyDown","i18n","CustomSelect","doNotTranslate","doNotTranslate2","v","onlyItem","only","titleShort","titles","sel","valueOnly","CustomSlider","min","max","step","unit","marks","Slider","valueLabelDisplay","CustomSwitch","FormControlLabel","control","Switch","CustomTime","InputLabelProps","shrink","DAYS","CustomDate","_toString$split","_toString$split2","month","days","padStart","getName","STEPS","selector","_PureComponent","GenericBlock","renderText","frontText","backText","nameBlock","doNotTranslateBack","Fragment","renderSwitch","renderNameText","signature","renderNumber","settings","openCheckbox","visibility","noHelperText","renderColor","renderCheckbox","renderSlider","renderButton","buttonText","findIcon","getSelectIdIcon","catch","renderObjectID","checkReadOnly","showSelectId","_this$props","_obj$common2","_this$setState","lastObjectIdChange","write","DialogSelectID","imagePrefix","dialogName","statesOnly","onOk","_onChange2","role","states","read","setOnUpdate","renderIconTag","tagCard","tagCardArray","onChangeTag","openTagMenu","renderTime","renderSelect","renderInstance","_this$props2","hideAttributes","renderDialog","onShowDialog","renderModalInput","openModal","noTextEdit","renderDate","renderTags","_this$state","isTourOpen","tourStep","setTourStep","keepMounted","tag","onTagChange","search","_this$state2","newTagCardArray","newSettings","newTagCard","prevProps","acceptedBy","onUpdate","onChangeInput","attribute","_attr","getData","onValueChanged","render","_this$state3","inputs","iconTag","helpDialog","_this$props3","notFound","helpText","IconHelp","_ref2","nameRender","renderDebugInfo","renderSpecific","oid","instanceSelectionOptions","instanceSelectionDef","debugMessage","enableSimulation","debugHideTimeout","onDebugMessage","blockId","hideTimeout","renderDebug","context","_context$trigger","trigger","oidType","conditionsStates","PureComponent","sayitEngines","params","voice","emotion","gender","ename","ssml","ActionSayText","_GenericBlock","getStaticData","_get","_getPrototypeOf","config","volume","ActionSendEmail","recipients","subject","ActionTelegram","cachePromises","_setUsers","users","_users","user","userName","firstName","ActionPushover","sound","priority","ActionWhatsappcmb","phone","ActionPushsafer","device","vibration","DEFAULT_RULE","triggers","conditions","justCheck","actions","compileTriggers","json","jsonTriggers","prelines","hist","conds","cond","findBlock","condition","conditionsDebug","conditionsVars","compile","ors","_ors","compileConditions","compileActions","_else","else","line","action","code2json","json2code","STANDARD_FUNCTION","STANDARD_FUNCTION_ONCHANGE","STANDARD_FUNCTION_STATE","STANDARD_FUNCTION_STATE_ONCHANGE","NO_FUNCTION","TriggerScriptSave","Compile","TriggerScheduleBlock","coordinates","_setAstro2","astro","offset","offsetValue","sunValue","time","astroTime","_ref$native","latitude","longitude","SunCalc","_time2String","order","setMinutes","_x2","_x3","_setInterval2","interval","_x4","_setAstro","_setInterval","textCron","alignItems","openDialog","_callee3","_context3","convertCronToText","ComplexCron","cronExpression","wizardText","wizard","Schedule","valid","default","func","cron","_config$dow","_split","at","_split2","hours","minutes","dow","_dow","intervals","start","Transition","Slide","TriggerState","valOld","ackOld","valueAck","valueNotAck","ack","openSimulate","simulateValue","simulateAck","parseFloat","_this2$inputRef$curre","TransitionComponent","onKeyUp","keyCode","onWriteValue","IconCheck","isArray","HYSTERESIS","ConditionState","onShowHelp","showHysteresisHelp","_this$props$userRules","_this$props$userRules2","_this$props$userRules3","_this$props$userRules4","toUpperCase","compareWith","useTrigger","oidUnit","oidStates","_this$props$userRules5","_this$props$userRules6","isAllTriggersOnState","_setInputs","HysteresisImage","debugValue","histComp","compare","_context$trigger2","ConditionTime","withDate","ConditionAstronomical","ActionSetState","toggle","_this$state$settings","oidMax","oidMin","oidRole","oidWrite","oidStep","isNaN","f","ignore","_this$_setInputs","TriggerSchedule","ActionExec","exec","ActionHTTPCall","ActionPrintText","ActionPause","paused","pause","_getOptions","ActionFunction","ActionSetStateDelayed","delay","clearRunning","ActionOperateStates","oid1","oid2","operation","oidResult","ADAPTERS","telegram","email","sayit","pushover","pushsafer","ContextWrapperCreate","createContext","getOrLoadRemote","remote","shareScope","remoteFallbackUrl","reject","existingRemote","querySelector","__initialized","init","__webpack_share_scopes__","loadComponent","sharedScope","module","factory","Module","get","ContextWrapper","_ref3","setBlocks","_useState5","_useState6","setOnDebugMessage","_useState7","_useState8","setEnableSimulation","adapterDynamicBlocksArray","dynamicRules","alreadyCreated","_loop","k","adapterBlocksArray","_context4","javascriptRules","i18nURL","Component","protocol","fetch","t1","done","delegateYield","t2","StandardBlocks","Provider","CurrentItem","setUserRules","blockValue","setAnchorEl","_useContext","useContext","findElementBlocks","useCallback","newUserRules","findElement","handlePopoverOpen","blockInput","useMemo","CustomBlock","isDelete","setIsDelete","onMouseMove","onMouseEnter","onMouseLeave","ctrlKey","newItem","clientWidth","newItemsSwitches","layerStyles","pointerEvents","getItemStyles","initialOffset","currentOffset","isSnapToGrid","_snapToGrid","Math","round","snapToGrid","_snapToGrid2","WebkitTransform","CustomDragLayer","_useDragLayer","useDragLayer","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","targetIds","getTargetIds","useStateLocal","events","nameEvents","_React$useState","_React$useState2","newHeadCells","funcSet","_","setCards","moveCard","atIndex","cards","additionally","hoverClientY","hoverMiddleY","_findCard","findCard","copyCard","newTriggers","c","DragWrapper","typeBlocks","allProperties","isActive","end","dropResult","getDropResult","idNumber","preview","useRef","canDrop","hover","_ref$current","draggedId","hoverBoundingRect","getBoundingClientRect","getClientOffset","overIndexActions","overIndexConditions","overIndex","getEmptyImage","captureDraggingState","isMobile","innerWidth","DialogHelp","letterSpacing","DialogCondition","AdditionallyContentBlockItems","_itemsSwitchesRender$","itemsSwitchesRender","boolean","typeBlock","animation","checkItem","setCheckItem","canDropCheck","setCanDropCheck","checkId","setCheckId","hoverBlock","setHoverBlock","getHandlerId","_monitor$getItem","targetId","_options$","clientHeight","ContentBlockItems","_ref4","nameAdditionally","border","_useStateLocal","_useStateLocal2","additionallyClickItems","setAdditionallyClickItems","checkLocal","_useState9","_useState10","showHelp","setShowHelp","_useState11","_useState12","showConditionDialog","setShowConditionDialog","newArray","idx","_useState13","_useState14","setAnimation","_userRules","booleanAdditionally","newAdditionally","_props$allProperties","onDoubl","HamburgerMenu","addClass","setAllBlocks","onChangeBlocks","hamburgerOnOff","setHamburgerOnOff","_useStateLocal3","_useStateLocal4","setFilter","setBlocksFunc","typeFunc","newAllBlocks","a11yProps","ClickAwayListener","mouseEvent","touchEvent","onClickAway","AppBar","Tabs","Tab","_el$getStaticData2","CustomDragItem","running","importExport","setImportExport","modal","setModal","_jsInstance","_jsAlive","handler","handlerStatus","msg","ruleId","_obj$common3","subscribeObject","unsubscribeObject","setAddClass","Editor","editorDiv","scriptName","borderRight","lineBreakpoint","lineCode","lineCurrentCode","lineCurrent","Console","onClearAllLogs","consoleLine","console_log","console_warn","console_error","console_debug","consoleSeverity","textTransform","consoleTime","consoleText","Stack","framesSize","editValue","callFrames","editRef","onExpressionNameUpdate","scopeValue","onBlur","CheckIcon","scopeNameName","scopeNameEqual","scopeNameValue","formatValue","scopeType","scopeName","valueType","scopeButtonDel","onExpressionDelete","expressions","renderExpression","frame","mainScriptId","currentScriptId","ListItemButton","onChangeCurrentFrame","currentFrame","frameRoot","frameTextRoot","frameTextPrimary","secondary","frameTextSecondary","functionName","forEdit","description","valueFunc","valueUndefined","valueNull","valueString","valueBoolean","ReactJson","enableClipboard","collapsed","displayDataTypes","valueNone","onWriteScopeValue","variableName","scopeNumber","callFrameId","_this$editRef$current","scopeId","_item$value","_item$value2","editable","scopeValueEditable","_this$props$scopes","_this$props$scopes$lo","_this$props$scopes$lo2","_this$props$scopes2","_this$props$scopes2$c","_this$props$scopes2$c2","renderExpressions","scopes","local","properties","renderScope","closure","SplitterLayout","customClassName","splitter","primaryIndex","secondaryMinSize","primaryMinSize","vertical","secondaryInitialSize","onSecondaryPaneSizeChange","onDragEnd","listRoot","renderOneFrameTitle","toolbarScopes","onExpressionAdd","scopesAfterToolbar","renderScopes","scopeType_local","scopeType_closure","scopeType_user","textOverflow","scopeButton","selectedFrame","valueNumber","valueObject","Debugger","fromInstance","cmd","debugInstance","_data$context","tabs","random","starting","finished","started","getLocation","reinitBreakpoints","readCurrentScope","readExpressions","_data$context2","_data$context3","scope","sendToInstance","toolsTab","logErrors","logWarnings","logs","expression","_data$breakpoints","_data$breakpoints$loc","_data$breakpoints2","_data$breakpoints2$lo","locations","queryBreakpoints","alert","toolSize","stopOnException","_obj$common$engine","_this$state$context","scopeChain","global","_this$state$context2","arrow","monospace","bpListItem","bpListPrimary","bpListSecondary","getTextAtLocation","indicatorColor","scrollButtons","tabText","closeButton","closeTab","tabFile","Toolbar","buttonRestart","onRestart","IconRestart","buttonRun","onResume","IconRun","buttonPause","onPause","buttonNext","onNext","IconNext","buttonStep","onStepIn","IconStep","buttonOut","onStepOut","IconOut","buttonException","onToggleException","IconException","renderTabs","getPossibleBreakpoints","sourceId","toggleBreakpoint","_this$state$context3","logWarning","_console","Badge","badgeContent","tabsRoot","tabRoot","renderFrames","renderConsole","LinearProgress","renderToolbar","renderCode","renderQueryBreakpoints","renderTools","renderError","buttonStop","borderTop","allObjectsCache","allObjects","channels","devices","enums","getObjectView","values","reduce","getText","detectDevices","devicesObject","detector","usedIds","ignoreIndicators","excludedTypes","rooms","funcs","list","deviceObj","idArray","parentObject","_parentObject$common","_grandParentObject$co","grandParentObject","_grandParentObject$co2","_parentObject$common2","ChannelDetector","_devicesObject$id","_devicesObject$id2","_devicesObject$id2$co","smartName","members","member","_keysOptional","_usedIdsOptional","detect","stateId","st","channelId","deviceId","deviceObject","deviceType","defaultRole","room","roomId","funcId","function","systemPrompt","docs","LANGUAGES","ru","de","es","fr","pl","nl","pt","uk","ChatIcon","viewBox","question","setQuestion","answer","setAnswer","setOpen","working","setWorking","setError","showKeyWarning","setShowKeyWarning","devicesCache","gptKeyCache","docsCache","ask","apiKey","openai","chatCompletionPhase1","comments","gptKey","OpenAI","dangerouslyAllowBrowser","chat","completions","messages","choices","endsWith","flexDirection","gap","Close","fullHeightDialog","Question","CircularProgress","Copy","Check","onAddCode","COLOR_DEBUG","COLOR_VERBOSE","onInstanceChanged","onBrowserClose","isChanged","returnValue","tabsRef","rules","debugEnabled","verboseEnabled","showCompiledCode","showCron","showScript","showAstro","astroEvents","visible","cmdToBlockly","cmdToRules","menuTabsOpened","menuTabsAnchorEl","showDebugMenu","toast","instancesLoaded","setChangedInAdmin","initValue","scriptDialog","systemLang","selectIdDialog","cronDialog","showScriptDialog","getAllAdapterInstances","onSelectedChange","instanceObjects","configNotSaved","_changed","verbose","removeNonExistingScripts","oldSource","commonLocal","nextCommon","getSelect","showConfirmDialog","nowSelected","isScriptChanged","ok","onTabClose","confirmCallback","confirm","onTabChange","textColor","getScriptFullName","tabChanged","tabChangedIcon","wrapped","iconPosition","tabIcon","tabButton","wrapper","tabButtonWrapper","tabMenuButton","_event","IconCloseAll","hintButton","hintIcon","menuDebugAnchorEl","menuIcon","IconVerbose","askAboutDebug","DialogConfirm","onDebugModeChange","cancel","isInstanceRunning","isScriptRunning","changedAll","onLocate","IconLocate","onStartStop","notRunning","textButton","saveButton","onSave","textIcon","onSaveAll","onCancel","sendCommandToBlockly","IconCron","OpenAiDialog","IconAstro","IconSelectId","onConvertBlockly2JS","sendCommandToRules","IconDebugMode","toolbarButtonsDisabled","ImgBlockly2Js","ImgRules2Js","badgeMargin","getDebugBadge","IconDebugMenu","resizing","RulesEditor","_this$selectId","selectedId","types","_this22","DialogCron","_this23","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","Tooltip","isValidDate","toLocaleTimeString","align","serverTime","_this24","_this25","Snackbar","anchorOrigin","horizontal","autoHideDuration","ContentProps","closeToast","_this26","isAnyRulesExists","Tour","steps","isOpen","onRequestClose","goToStep","_this27","_this28","getTabs","getToolbar","getScriptEditor","getAskAboutDebug","getBlocklyEditor","getRulesEditor","getDebug","getConfirmDialog","getSelectIdDialog","getCronDialog","getEditorDialog","getAstroDialog","getDebugMenu","getToast","getTour","hintText","DialogImportFile","readAsDataURL","App","_GenericApp","Connection","AdminConnection","translations","require","bottomButtons","autoSubscribeLog","sentryDSN","onScriptsChanged","onInstanceAliveChange","reload","onHostChanged","hosts","logSize","menuSize","importFile","ready","updateScripts","updating","logMessage","menuSelectId","logHorzLayout","hideLog","subscribeOnInstances","readAdaptersWithBlockly","getHosts","readAllScripts","compareScripts","instancesArray","promises","instanceId","all","newScripts","oldIds","newIds","oldScript","newScript","promise","parentID","updateScript","renameGroup","_list","nId","delObject","expert","isFolder","reg","onSelect","newCommon","_obj","extendObject","_rev","getLiveHost","getFullYear","getMonth","getDate","getRawSocket","emit","link","fileStorageNamespace","click","remove","onImportConfirmed","showMessage","sum","onUpdateScript","showLogButton","IconShowLog","menuOpenCloseButton","IconMenuOpened","IconMenuClosed","onDragStart","renderEditor","toggleLogLayout","splitterDivs","menuDivWithoutMenu","mainDiv","SideMenu","update","renderMain","Loader","GenericApp","propTypes","PropTypes","flexGrow","menuDiv","splitterDivWithMenu","progress","hostname","pgk","generateClassName","createGenerateClassName","productionPrefix","build","createRoot","StylesProvider","StyledEngineProvider","injectFirst","ThemeProvider","DndProvider","TouchBackend","_theme","navigator","serviceWorker","registration","unregister","loadDynamicScript","port","socketLoadedHandler"],"sourceRoot":""}